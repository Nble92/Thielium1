const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./embedded-wallet-CQPJo2ab.js","./if-defined-C3qlV4Mx.js","./index-CH3apzvg.js","./index-DMCyx_0d.js","./ref-CKhps9Iw.js","./index-Dxbna2F_.js","./index-CBFfCF4m.js","./index-CKFUOb3U.js","./index-ClzmPFD5.js","./index-DbT8jNXu.js","./index-B_IqGAoH.js","./index-C9N9umkf.js","./email-CLOyHB71.js","./index-DPgDTDQM.js","./socials-DQxDaDOo.js","./index-rFtFMAkS.js","./ConstantsUtil-Dmg8YACJ.js","./index-Ck33hE5e.js","./index-CLN381_w.js","./index-DaLx0w4n.js","./index-BbYFSjHi.js","./swaps-B-BTXhDo.js","./index-v4EUYh6F.js","./index-xG3iDKD6.js","./index-DMc7rKSc.js","./send-B49gzd-x.js","./index-B-0fMEoz.js","./index-DyxSjsd3.js","./receive-DOm7DpD5.js","./index-BY0rvP2p.js","./onramp-CkI1El5_.js","./index-CPa_nEfk.js","./index-Dj0GQi6h.js","./index-C09l_VvF.js","./transactions-D-wt-aO8.js","./index-BO-Lk0uh.js","./index-haSQ9rri.js","./index-Ckev8Q40.js","./index-BSEhNfdm.js","./index-nYuvfUOi.js","./w3m-modal-g_-O_JSc.js"])))=>i.map(i=>d[i]);
var mL=r=>{throw TypeError(r)};var k2=(r,e,n)=>e.has(r)||mL("Cannot "+n);var ue=(r,e,n)=>(k2(r,e,"read from private field"),n?n.call(r):e.get(r)),qt=(r,e,n)=>e.has(r)?mL("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,n),xt=(r,e,n,i)=>(k2(r,e,"write to private field"),i?i.call(r,n):e.set(r,n),n),un=(r,e,n)=>(k2(r,e,"access private method"),n);var s1=(r,e,n,i)=>({set _(a){xt(r,e,a,n)},get _(){return ue(r,e,i)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();var ca=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jt(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function W3(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(r).forEach(function(i){var a=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:function(){return r[i]}})}),n}var P2={exports:{}},Rm={},O2={exports:{}},Lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yL;function Tle(){if(yL)return Lt;yL=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function p(F){return F===null||typeof F!="object"?null:(F=f&&F[f]||F["@@iterator"],typeof F=="function"?F:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,v={};function b(F,G,Q){this.props=F,this.context=G,this.refs=v,this.updater=Q||m}b.prototype.isReactComponent={},b.prototype.setState=function(F,G){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,G,"setState")},b.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function w(){}w.prototype=b.prototype;function x(F,G,Q){this.props=F,this.context=G,this.refs=v,this.updater=Q||m}var E=x.prototype=new w;E.constructor=x,y(E,b.prototype),E.isPureReactComponent=!0;var A=Array.isArray,S=Object.prototype.hasOwnProperty,C={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function O(F,G,Q){var te,ae={},fe=null,xe=null;if(G!=null)for(te in G.ref!==void 0&&(xe=G.ref),G.key!==void 0&&(fe=""+G.key),G)S.call(G,te)&&!P.hasOwnProperty(te)&&(ae[te]=G[te]);var Ee=arguments.length-2;if(Ee===1)ae.children=Q;else if(1<Ee){for(var le=Array(Ee),Ce=0;Ce<Ee;Ce++)le[Ce]=arguments[Ce+2];ae.children=le}if(F&&F.defaultProps)for(te in Ee=F.defaultProps,Ee)ae[te]===void 0&&(ae[te]=Ee[te]);return{$$typeof:r,type:F,key:fe,ref:xe,props:ae,_owner:C.current}}function I(F,G){return{$$typeof:r,type:F.type,key:G,ref:F.ref,props:F.props,_owner:F._owner}}function M(F){return typeof F=="object"&&F!==null&&F.$$typeof===r}function D(F){var G={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(Q){return G[Q]})}var q=/\/+/g;function K(F,G){return typeof F=="object"&&F!==null&&F.key!=null?D(""+F.key):G.toString(36)}function L(F,G,Q,te,ae){var fe=typeof F;(fe==="undefined"||fe==="boolean")&&(F=null);var xe=!1;if(F===null)xe=!0;else switch(fe){case"string":case"number":xe=!0;break;case"object":switch(F.$$typeof){case r:case e:xe=!0}}if(xe)return xe=F,ae=ae(xe),F=te===""?"."+K(xe,0):te,A(ae)?(Q="",F!=null&&(Q=F.replace(q,"$&/")+"/"),L(ae,G,Q,"",function(Ce){return Ce})):ae!=null&&(M(ae)&&(ae=I(ae,Q+(!ae.key||xe&&xe.key===ae.key?"":(""+ae.key).replace(q,"$&/")+"/")+F)),G.push(ae)),1;if(xe=0,te=te===""?".":te+":",A(F))for(var Ee=0;Ee<F.length;Ee++){fe=F[Ee];var le=te+K(fe,Ee);xe+=L(fe,G,Q,le,ae)}else if(le=p(F),typeof le=="function")for(F=le.call(F),Ee=0;!(fe=F.next()).done;)fe=fe.value,le=te+K(fe,Ee++),xe+=L(fe,G,Q,le,ae);else if(fe==="object")throw G=String(F),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return xe}function R(F,G,Q){if(F==null)return F;var te=[],ae=0;return L(F,te,"","",function(fe){return G.call(Q,fe,ae++)}),te}function j(F){if(F._status===-1){var G=F._result;G=G(),G.then(function(Q){(F._status===0||F._status===-1)&&(F._status=1,F._result=Q)},function(Q){(F._status===0||F._status===-1)&&(F._status=2,F._result=Q)}),F._status===-1&&(F._status=0,F._result=G)}if(F._status===1)return F._result.default;throw F._result}var W={current:null},H={transition:null},z={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:H,ReactCurrentOwner:C};function B(){throw Error("act(...) is not supported in production builds of React.")}return Lt.Children={map:R,forEach:function(F,G,Q){R(F,function(){G.apply(this,arguments)},Q)},count:function(F){var G=0;return R(F,function(){G++}),G},toArray:function(F){return R(F,function(G){return G})||[]},only:function(F){if(!M(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Lt.Component=b,Lt.Fragment=n,Lt.Profiler=a,Lt.PureComponent=x,Lt.StrictMode=i,Lt.Suspense=l,Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,Lt.act=B,Lt.cloneElement=function(F,G,Q){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var te=y({},F.props),ae=F.key,fe=F.ref,xe=F._owner;if(G!=null){if(G.ref!==void 0&&(fe=G.ref,xe=C.current),G.key!==void 0&&(ae=""+G.key),F.type&&F.type.defaultProps)var Ee=F.type.defaultProps;for(le in G)S.call(G,le)&&!P.hasOwnProperty(le)&&(te[le]=G[le]===void 0&&Ee!==void 0?Ee[le]:G[le])}var le=arguments.length-2;if(le===1)te.children=Q;else if(1<le){Ee=Array(le);for(var Ce=0;Ce<le;Ce++)Ee[Ce]=arguments[Ce+2];te.children=Ee}return{$$typeof:r,type:F.type,key:ae,ref:fe,props:te,_owner:xe}},Lt.createContext=function(F){return F={$$typeof:o,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:s,_context:F},F.Consumer=F},Lt.createElement=O,Lt.createFactory=function(F){var G=O.bind(null,F);return G.type=F,G},Lt.createRef=function(){return{current:null}},Lt.forwardRef=function(F){return{$$typeof:c,render:F}},Lt.isValidElement=M,Lt.lazy=function(F){return{$$typeof:d,_payload:{_status:-1,_result:F},_init:j}},Lt.memo=function(F,G){return{$$typeof:u,type:F,compare:G===void 0?null:G}},Lt.startTransition=function(F){var G=H.transition;H.transition={};try{F()}finally{H.transition=G}},Lt.unstable_act=B,Lt.useCallback=function(F,G){return W.current.useCallback(F,G)},Lt.useContext=function(F){return W.current.useContext(F)},Lt.useDebugValue=function(){},Lt.useDeferredValue=function(F){return W.current.useDeferredValue(F)},Lt.useEffect=function(F,G){return W.current.useEffect(F,G)},Lt.useId=function(){return W.current.useId()},Lt.useImperativeHandle=function(F,G,Q){return W.current.useImperativeHandle(F,G,Q)},Lt.useInsertionEffect=function(F,G){return W.current.useInsertionEffect(F,G)},Lt.useLayoutEffect=function(F,G){return W.current.useLayoutEffect(F,G)},Lt.useMemo=function(F,G){return W.current.useMemo(F,G)},Lt.useReducer=function(F,G,Q){return W.current.useReducer(F,G,Q)},Lt.useRef=function(F){return W.current.useRef(F)},Lt.useState=function(F){return W.current.useState(F)},Lt.useSyncExternalStore=function(F,G,Q){return W.current.useSyncExternalStore(F,G,Q)},Lt.useTransition=function(){return W.current.useTransition()},Lt.version="18.3.1",Lt}var vL;function Rf(){return vL||(vL=1,O2.exports=Tle()),O2.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bL;function kle(){if(bL)return Rm;bL=1;var r=Rf(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(c,l,u){var d,f={},p=null,m=null;u!==void 0&&(p=""+u),l.key!==void 0&&(p=""+l.key),l.ref!==void 0&&(m=l.ref);for(d in l)i.call(l,d)&&!s.hasOwnProperty(d)&&(f[d]=l[d]);if(c&&c.defaultProps)for(d in l=c.defaultProps,l)f[d]===void 0&&(f[d]=l[d]);return{$$typeof:e,type:c,key:p,ref:m,props:f,_owner:a.current}}return Rm.Fragment=n,Rm.jsx=o,Rm.jsxs=o,Rm}var wL;function Ple(){return wL||(wL=1,P2.exports=kle()),P2.exports}var T=Ple(),U=Rf();const ee=Jt(U);var o1={},N2={exports:{}},Xi={},I2={exports:{}},R2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _L;function Ole(){return _L||(_L=1,function(r){function e(H,z){var B=H.length;H.push(z);e:for(;0<B;){var F=B-1>>>1,G=H[F];if(0<a(G,z))H[F]=z,H[B]=G,B=F;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var z=H[0],B=H.pop();if(B!==z){H[0]=B;e:for(var F=0,G=H.length,Q=G>>>1;F<Q;){var te=2*(F+1)-1,ae=H[te],fe=te+1,xe=H[fe];if(0>a(ae,B))fe<G&&0>a(xe,ae)?(H[F]=xe,H[fe]=B,F=fe):(H[F]=ae,H[te]=B,F=te);else if(fe<G&&0>a(xe,B))H[F]=xe,H[fe]=B,F=fe;else break e}}return z}function a(H,z){var B=H.sortIndex-z.sortIndex;return B!==0?B:H.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();r.unstable_now=function(){return o.now()-c}}var l=[],u=[],d=1,f=null,p=3,m=!1,y=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(H){for(var z=n(u);z!==null;){if(z.callback===null)i(u);else if(z.startTime<=H)i(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function A(H){if(v=!1,E(H),!y)if(n(l)!==null)y=!0,j(S);else{var z=n(u);z!==null&&W(A,z.startTime-H)}}function S(H,z){y=!1,v&&(v=!1,w(O),O=-1),m=!0;var B=p;try{for(E(z),f=n(l);f!==null&&(!(f.expirationTime>z)||H&&!D());){var F=f.callback;if(typeof F=="function"){f.callback=null,p=f.priorityLevel;var G=F(f.expirationTime<=z);z=r.unstable_now(),typeof G=="function"?f.callback=G:f===n(l)&&i(l),E(z)}else i(l);f=n(l)}if(f!==null)var Q=!0;else{var te=n(u);te!==null&&W(A,te.startTime-z),Q=!1}return Q}finally{f=null,p=B,m=!1}}var C=!1,P=null,O=-1,I=5,M=-1;function D(){return!(r.unstable_now()-M<I)}function q(){if(P!==null){var H=r.unstable_now();M=H;var z=!0;try{z=P(!0,H)}finally{z?K():(C=!1,P=null)}}else C=!1}var K;if(typeof x=="function")K=function(){x(q)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,R=L.port2;L.port1.onmessage=q,K=function(){R.postMessage(null)}}else K=function(){b(q,0)};function j(H){P=H,C||(C=!0,K())}function W(H,z){O=b(function(){H(r.unstable_now())},z)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_continueExecution=function(){y||m||(y=!0,j(S))},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return p},r.unstable_getFirstCallbackNode=function(){return n(l)},r.unstable_next=function(H){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var B=p;p=z;try{return H()}finally{p=B}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(H,z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var B=p;p=H;try{return z()}finally{p=B}},r.unstable_scheduleCallback=function(H,z,B){var F=r.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?F+B:F):B=F,H){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=B+G,H={id:d++,callback:z,priorityLevel:H,startTime:B,expirationTime:G,sortIndex:-1},B>F?(H.sortIndex=B,e(u,H),n(l)===null&&H===n(u)&&(v?(w(O),O=-1):v=!0,W(A,B-F))):(H.sortIndex=G,e(l,H),y||m||(y=!0,j(S))),H},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(H){var z=p;return function(){var B=p;p=z;try{return H.apply(this,arguments)}finally{p=B}}}}(R2)),R2}var xL;function Nle(){return xL||(xL=1,I2.exports=Ole()),I2.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EL;function Ile(){if(EL)return Xi;EL=1;var r=Rf(),e=Nle();function n(h){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+h,_=1;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_]);return"Minified React error #"+h+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function s(h,g){o(h,g),o(h+"Capture",g)}function o(h,g){for(a[h]=g,h=0;h<g.length;h++)i.add(g[h])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function p(h){return l.call(f,h)?!0:l.call(d,h)?!1:u.test(h)?f[h]=!0:(d[h]=!0,!1)}function m(h,g,_,k){if(_!==null&&_.type===0)return!1;switch(typeof g){case"function":case"symbol":return!0;case"boolean":return k?!1:_!==null?!_.acceptsBooleans:(h=h.toLowerCase().slice(0,5),h!=="data-"&&h!=="aria-");default:return!1}}function y(h,g,_,k){if(g===null||typeof g>"u"||m(h,g,_,k))return!0;if(k)return!1;if(_!==null)switch(_.type){case 3:return!g;case 4:return g===!1;case 5:return isNaN(g);case 6:return isNaN(g)||1>g}return!1}function v(h,g,_,k,N,$,V){this.acceptsBooleans=g===2||g===3||g===4,this.attributeName=k,this.attributeNamespace=N,this.mustUseProperty=_,this.propertyName=h,this.type=g,this.sanitizeURL=$,this.removeEmptyString=V}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(h){b[h]=new v(h,0,!1,h,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(h){var g=h[0];b[g]=new v(g,1,!1,h[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(h){b[h]=new v(h,2,!1,h.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(h){b[h]=new v(h,2,!1,h,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(h){b[h]=new v(h,3,!1,h.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(h){b[h]=new v(h,3,!0,h,null,!1,!1)}),["capture","download"].forEach(function(h){b[h]=new v(h,4,!1,h,null,!1,!1)}),["cols","rows","size","span"].forEach(function(h){b[h]=new v(h,6,!1,h,null,!1,!1)}),["rowSpan","start"].forEach(function(h){b[h]=new v(h,5,!1,h.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function x(h){return h[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(h){var g=h.replace(w,x);b[g]=new v(g,1,!1,h,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(h){var g=h.replace(w,x);b[g]=new v(g,1,!1,h,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(h){var g=h.replace(w,x);b[g]=new v(g,1,!1,h,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(h){b[h]=new v(h,1,!1,h.toLowerCase(),null,!1,!1)}),b.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(h){b[h]=new v(h,1,!1,h.toLowerCase(),null,!0,!0)});function E(h,g,_,k){var N=b.hasOwnProperty(g)?b[g]:null;(N!==null?N.type!==0:k||!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(y(g,_,N,k)&&(_=null),k||N===null?p(g)&&(_===null?h.removeAttribute(g):h.setAttribute(g,""+_)):N.mustUseProperty?h[N.propertyName]=_===null?N.type===3?!1:"":_:(g=N.attributeName,k=N.attributeNamespace,_===null?h.removeAttribute(g):(N=N.type,_=N===3||N===4&&_===!0?"":""+_,k?h.setAttributeNS(k,g,_):h.setAttribute(g,_))))}var A=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),C=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),D=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),H=Symbol.iterator;function z(h){return h===null||typeof h!="object"?null:(h=H&&h[H]||h["@@iterator"],typeof h=="function"?h:null)}var B=Object.assign,F;function G(h){if(F===void 0)try{throw Error()}catch(_){var g=_.stack.trim().match(/\n( *(at )?)/);F=g&&g[1]||""}return`
`+F+h}var Q=!1;function te(h,g){if(!h||Q)return"";Q=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(ce){var k=ce}Reflect.construct(h,[],g)}else{try{g.call()}catch(ce){k=ce}h.call(g.prototype)}else{try{throw Error()}catch(ce){k=ce}h()}}catch(ce){if(ce&&k&&typeof ce.stack=="string"){for(var N=ce.stack.split(`
`),$=k.stack.split(`
`),V=N.length-1,J=$.length-1;1<=V&&0<=J&&N[V]!==$[J];)J--;for(;1<=V&&0<=J;V--,J--)if(N[V]!==$[J]){if(V!==1||J!==1)do if(V--,J--,0>J||N[V]!==$[J]){var re=`
`+N[V].replace(" at new "," at ");return h.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",h.displayName)),re}while(1<=V&&0<=J);break}}}finally{Q=!1,Error.prepareStackTrace=_}return(h=h?h.displayName||h.name:"")?G(h):""}function ae(h){switch(h.tag){case 5:return G(h.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return h=te(h.type,!1),h;case 11:return h=te(h.type.render,!1),h;case 1:return h=te(h.type,!0),h;default:return""}}function fe(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case P:return"Fragment";case C:return"Portal";case I:return"Profiler";case O:return"StrictMode";case K:return"Suspense";case L:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case D:return(h.displayName||"Context")+".Consumer";case M:return(h._context.displayName||"Context")+".Provider";case q:var g=h.render;return h=h.displayName,h||(h=g.displayName||g.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case R:return g=h.displayName||null,g!==null?g:fe(h.type)||"Memo";case j:g=h._payload,h=h._init;try{return fe(h(g))}catch{}}return null}function xe(h){var g=h.type;switch(h.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=g.render,h=h.displayName||h.name||"",g.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(g);case 8:return g===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function Ee(h){switch(typeof h){case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function le(h){var g=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function Ce(h){var g=le(h)?"checked":"value",_=Object.getOwnPropertyDescriptor(h.constructor.prototype,g),k=""+h[g];if(!h.hasOwnProperty(g)&&typeof _<"u"&&typeof _.get=="function"&&typeof _.set=="function"){var N=_.get,$=_.set;return Object.defineProperty(h,g,{configurable:!0,get:function(){return N.call(this)},set:function(V){k=""+V,$.call(this,V)}}),Object.defineProperty(h,g,{enumerable:_.enumerable}),{getValue:function(){return k},setValue:function(V){k=""+V},stopTracking:function(){h._valueTracker=null,delete h[g]}}}}function Me(h){h._valueTracker||(h._valueTracker=Ce(h))}function he(h){if(!h)return!1;var g=h._valueTracker;if(!g)return!0;var _=g.getValue(),k="";return h&&(k=le(h)?h.checked?"true":"false":h.value),h=k,h!==_?(g.setValue(h),!0):!1}function me(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}function Ae(h,g){var _=g.checked;return B({},g,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:_??h._wrapperState.initialChecked})}function tt(h,g){var _=g.defaultValue==null?"":g.defaultValue,k=g.checked!=null?g.checked:g.defaultChecked;_=Ee(g.value!=null?g.value:_),h._wrapperState={initialChecked:k,initialValue:_,controlled:g.type==="checkbox"||g.type==="radio"?g.checked!=null:g.value!=null}}function Nt(h,g){g=g.checked,g!=null&&E(h,"checked",g,!1)}function ct(h,g){Nt(h,g);var _=Ee(g.value),k=g.type;if(_!=null)k==="number"?(_===0&&h.value===""||h.value!=_)&&(h.value=""+_):h.value!==""+_&&(h.value=""+_);else if(k==="submit"||k==="reset"){h.removeAttribute("value");return}g.hasOwnProperty("value")?Br(h,g.type,_):g.hasOwnProperty("defaultValue")&&Br(h,g.type,Ee(g.defaultValue)),g.checked==null&&g.defaultChecked!=null&&(h.defaultChecked=!!g.defaultChecked)}function Wt(h,g,_){if(g.hasOwnProperty("value")||g.hasOwnProperty("defaultValue")){var k=g.type;if(!(k!=="submit"&&k!=="reset"||g.value!==void 0&&g.value!==null))return;g=""+h._wrapperState.initialValue,_||g===h.value||(h.value=g),h.defaultValue=g}_=h.name,_!==""&&(h.name=""),h.defaultChecked=!!h._wrapperState.initialChecked,_!==""&&(h.name=_)}function Br(h,g,_){(g!=="number"||me(h.ownerDocument)!==h)&&(_==null?h.defaultValue=""+h._wrapperState.initialValue:h.defaultValue!==""+_&&(h.defaultValue=""+_))}var on=Array.isArray;function Kr(h,g,_,k){if(h=h.options,g){g={};for(var N=0;N<_.length;N++)g["$"+_[N]]=!0;for(_=0;_<h.length;_++)N=g.hasOwnProperty("$"+h[_].value),h[_].selected!==N&&(h[_].selected=N),N&&k&&(h[_].defaultSelected=!0)}else{for(_=""+Ee(_),g=null,N=0;N<h.length;N++){if(h[N].value===_){h[N].selected=!0,k&&(h[N].defaultSelected=!0);return}g!==null||h[N].disabled||(g=h[N])}g!==null&&(g.selected=!0)}}function mn(h,g){if(g.dangerouslySetInnerHTML!=null)throw Error(n(91));return B({},g,{value:void 0,defaultValue:void 0,children:""+h._wrapperState.initialValue})}function Jn(h,g){var _=g.value;if(_==null){if(_=g.children,g=g.defaultValue,_!=null){if(g!=null)throw Error(n(92));if(on(_)){if(1<_.length)throw Error(n(93));_=_[0]}g=_}g==null&&(g=""),_=g}h._wrapperState={initialValue:Ee(_)}}function Re(h,g){var _=Ee(g.value),k=Ee(g.defaultValue);_!=null&&(_=""+_,_!==h.value&&(h.value=_),g.defaultValue==null&&h.defaultValue!==_&&(h.defaultValue=_)),k!=null&&(h.defaultValue=""+k)}function rt(h){var g=h.textContent;g===h._wrapperState.initialValue&&g!==""&&g!==null&&(h.value=g)}function oe(h){switch(h){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function be(h,g){return h==null||h==="http://www.w3.org/1999/xhtml"?oe(g):h==="http://www.w3.org/2000/svg"&&g==="foreignObject"?"http://www.w3.org/1999/xhtml":h}var Qe,st=function(h){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(g,_,k,N){MSApp.execUnsafeLocalFunction(function(){return h(g,_,k,N)})}:h}(function(h,g){if(h.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in h)h.innerHTML=g;else{for(Qe=Qe||document.createElement("div"),Qe.innerHTML="<svg>"+g.valueOf().toString()+"</svg>",g=Qe.firstChild;h.firstChild;)h.removeChild(h.firstChild);for(;g.firstChild;)h.appendChild(g.firstChild)}});function ke(h,g){if(g){var _=h.firstChild;if(_&&_===h.lastChild&&_.nodeType===3){_.nodeValue=g;return}}h.textContent=g}var ze={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lt=["Webkit","ms","Moz","O"];Object.keys(ze).forEach(function(h){lt.forEach(function(g){g=g+h.charAt(0).toUpperCase()+h.substring(1),ze[g]=ze[h]})});function Mt(h,g,_){return g==null||typeof g=="boolean"||g===""?"":_||typeof g!="number"||g===0||ze.hasOwnProperty(h)&&ze[h]?(""+g).trim():g+"px"}function Fr(h,g){h=h.style;for(var _ in g)if(g.hasOwnProperty(_)){var k=_.indexOf("--")===0,N=Mt(_,g[_],k);_==="float"&&(_="cssFloat"),k?h.setProperty(_,N):h[_]=N}}var En=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sn(h,g){if(g){if(En[h]&&(g.children!=null||g.dangerouslySetInnerHTML!=null))throw Error(n(137,h));if(g.dangerouslySetInnerHTML!=null){if(g.children!=null)throw Error(n(60));if(typeof g.dangerouslySetInnerHTML!="object"||!("__html"in g.dangerouslySetInnerHTML))throw Error(n(61))}if(g.style!=null&&typeof g.style!="object")throw Error(n(62))}}function Pi(h,g){if(h.indexOf("-")===-1)return typeof g.is=="string";switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ks=null;function Xu(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var oc=null,cc=null,lc=null;function Jb(h){if(h=vm(h)){if(typeof oc!="function")throw Error(n(280));var g=h.stateNode;g&&(g=_w(g),oc(h.stateNode,h.type,g))}}function Zb(h){cc?lc?lc.push(h):lc=[h]:cc=h}function pi(){if(cc){var h=cc,g=lc;if(lc=cc=null,Jb(h),g)for(h=0;h<g.length;h++)Jb(g[h])}}function Gf(h,g){return h(g)}function MM(){}var WC=!1;function LM(h,g,_){if(WC)return h(g,_);WC=!0;try{return Gf(h,g,_)}finally{WC=!1,(cc!==null||lc!==null)&&(MM(),pi())}}function Jg(h,g){var _=h.stateNode;if(_===null)return null;var k=_w(_);if(k===null)return null;_=k[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(k=!k.disabled)||(h=h.type,k=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!k;break e;default:h=!1}if(h)return null;if(_&&typeof _!="function")throw Error(n(231,g,typeof _));return _}var VC=!1;if(c)try{var Zg={};Object.defineProperty(Zg,"passive",{get:function(){VC=!0}}),window.addEventListener("test",Zg,Zg),window.removeEventListener("test",Zg,Zg)}catch{VC=!1}function Roe(h,g,_,k,N,$,V,J,re){var ce=Array.prototype.slice.call(arguments,3);try{g.apply(_,ce)}catch(ve){this.onError(ve)}}var Qg=!1,Qb=null,ew=!1,GC=null,$oe={onError:function(h){Qg=!0,Qb=h}};function joe(h,g,_,k,N,$,V,J,re){Qg=!1,Qb=null,Roe.apply($oe,arguments)}function Doe(h,g,_,k,N,$,V,J,re){if(joe.apply(this,arguments),Qg){if(Qg){var ce=Qb;Qg=!1,Qb=null}else throw Error(n(198));ew||(ew=!0,GC=ce)}}function Ju(h){var g=h,_=h;if(h.alternate)for(;g.return;)g=g.return;else{h=g;do g=h,(g.flags&4098)!==0&&(_=g.return),h=g.return;while(h)}return g.tag===3?_:null}function UM(h){if(h.tag===13){var g=h.memoizedState;if(g===null&&(h=h.alternate,h!==null&&(g=h.memoizedState)),g!==null)return g.dehydrated}return null}function BM(h){if(Ju(h)!==h)throw Error(n(188))}function Moe(h){var g=h.alternate;if(!g){if(g=Ju(h),g===null)throw Error(n(188));return g!==h?null:h}for(var _=h,k=g;;){var N=_.return;if(N===null)break;var $=N.alternate;if($===null){if(k=N.return,k!==null){_=k;continue}break}if(N.child===$.child){for($=N.child;$;){if($===_)return BM(N),h;if($===k)return BM(N),g;$=$.sibling}throw Error(n(188))}if(_.return!==k.return)_=N,k=$;else{for(var V=!1,J=N.child;J;){if(J===_){V=!0,_=N,k=$;break}if(J===k){V=!0,k=N,_=$;break}J=J.sibling}if(!V){for(J=$.child;J;){if(J===_){V=!0,_=$,k=N;break}if(J===k){V=!0,k=$,_=N;break}J=J.sibling}if(!V)throw Error(n(189))}}if(_.alternate!==k)throw Error(n(190))}if(_.tag!==3)throw Error(n(188));return _.stateNode.current===_?h:g}function FM(h){return h=Moe(h),h!==null?qM(h):null}function qM(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var g=qM(h);if(g!==null)return g;h=h.sibling}return null}var zM=e.unstable_scheduleCallback,HM=e.unstable_cancelCallback,Loe=e.unstable_shouldYield,Uoe=e.unstable_requestPaint,cn=e.unstable_now,Boe=e.unstable_getCurrentPriorityLevel,KC=e.unstable_ImmediatePriority,WM=e.unstable_UserBlockingPriority,tw=e.unstable_NormalPriority,Foe=e.unstable_LowPriority,VM=e.unstable_IdlePriority,rw=null,po=null;function qoe(h){if(po&&typeof po.onCommitFiberRoot=="function")try{po.onCommitFiberRoot(rw,h,void 0,(h.current.flags&128)===128)}catch{}}var Ps=Math.clz32?Math.clz32:Woe,zoe=Math.log,Hoe=Math.LN2;function Woe(h){return h>>>=0,h===0?32:31-(zoe(h)/Hoe|0)|0}var nw=64,iw=4194304;function em(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function aw(h,g){var _=h.pendingLanes;if(_===0)return 0;var k=0,N=h.suspendedLanes,$=h.pingedLanes,V=_&268435455;if(V!==0){var J=V&~N;J!==0?k=em(J):($&=V,$!==0&&(k=em($)))}else V=_&~N,V!==0?k=em(V):$!==0&&(k=em($));if(k===0)return 0;if(g!==0&&g!==k&&(g&N)===0&&(N=k&-k,$=g&-g,N>=$||N===16&&($&4194240)!==0))return g;if((k&4)!==0&&(k|=_&16),g=h.entangledLanes,g!==0)for(h=h.entanglements,g&=k;0<g;)_=31-Ps(g),N=1<<_,k|=h[_],g&=~N;return k}function Voe(h,g){switch(h){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Goe(h,g){for(var _=h.suspendedLanes,k=h.pingedLanes,N=h.expirationTimes,$=h.pendingLanes;0<$;){var V=31-Ps($),J=1<<V,re=N[V];re===-1?((J&_)===0||(J&k)!==0)&&(N[V]=Voe(J,g)):re<=g&&(h.expiredLanes|=J),$&=~J}}function YC(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function GM(){var h=nw;return nw<<=1,(nw&4194240)===0&&(nw=64),h}function XC(h){for(var g=[],_=0;31>_;_++)g.push(h);return g}function tm(h,g,_){h.pendingLanes|=g,g!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,g=31-Ps(g),h[g]=_}function Koe(h,g){var _=h.pendingLanes&~g;h.pendingLanes=g,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=g,h.mutableReadLanes&=g,h.entangledLanes&=g,g=h.entanglements;var k=h.eventTimes;for(h=h.expirationTimes;0<_;){var N=31-Ps(_),$=1<<N;g[N]=0,k[N]=-1,h[N]=-1,_&=~$}}function JC(h,g){var _=h.entangledLanes|=g;for(h=h.entanglements;_;){var k=31-Ps(_),N=1<<k;N&g|h[k]&g&&(h[k]|=g),_&=~N}}var fr=0;function KM(h){return h&=-h,1<h?4<h?(h&268435455)!==0?16:536870912:4:1}var YM,ZC,XM,JM,ZM,QC=!1,sw=[],El=null,Sl=null,Cl=null,rm=new Map,nm=new Map,Al=[],Yoe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function QM(h,g){switch(h){case"focusin":case"focusout":El=null;break;case"dragenter":case"dragleave":Sl=null;break;case"mouseover":case"mouseout":Cl=null;break;case"pointerover":case"pointerout":rm.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":nm.delete(g.pointerId)}}function im(h,g,_,k,N,$){return h===null||h.nativeEvent!==$?(h={blockedOn:g,domEventName:_,eventSystemFlags:k,nativeEvent:$,targetContainers:[N]},g!==null&&(g=vm(g),g!==null&&ZC(g)),h):(h.eventSystemFlags|=k,g=h.targetContainers,N!==null&&g.indexOf(N)===-1&&g.push(N),h)}function Xoe(h,g,_,k,N){switch(g){case"focusin":return El=im(El,h,g,_,k,N),!0;case"dragenter":return Sl=im(Sl,h,g,_,k,N),!0;case"mouseover":return Cl=im(Cl,h,g,_,k,N),!0;case"pointerover":var $=N.pointerId;return rm.set($,im(rm.get($)||null,h,g,_,k,N)),!0;case"gotpointercapture":return $=N.pointerId,nm.set($,im(nm.get($)||null,h,g,_,k,N)),!0}return!1}function e4(h){var g=Zu(h.target);if(g!==null){var _=Ju(g);if(_!==null){if(g=_.tag,g===13){if(g=UM(_),g!==null){h.blockedOn=g,ZM(h.priority,function(){XM(_)});return}}else if(g===3&&_.stateNode.current.memoizedState.isDehydrated){h.blockedOn=_.tag===3?_.stateNode.containerInfo:null;return}}}h.blockedOn=null}function ow(h){if(h.blockedOn!==null)return!1;for(var g=h.targetContainers;0<g.length;){var _=tA(h.domEventName,h.eventSystemFlags,g[0],h.nativeEvent);if(_===null){_=h.nativeEvent;var k=new _.constructor(_.type,_);ks=k,_.target.dispatchEvent(k),ks=null}else return g=vm(_),g!==null&&ZC(g),h.blockedOn=_,!1;g.shift()}return!0}function t4(h,g,_){ow(h)&&_.delete(g)}function Joe(){QC=!1,El!==null&&ow(El)&&(El=null),Sl!==null&&ow(Sl)&&(Sl=null),Cl!==null&&ow(Cl)&&(Cl=null),rm.forEach(t4),nm.forEach(t4)}function am(h,g){h.blockedOn===g&&(h.blockedOn=null,QC||(QC=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Joe)))}function sm(h){function g(N){return am(N,h)}if(0<sw.length){am(sw[0],h);for(var _=1;_<sw.length;_++){var k=sw[_];k.blockedOn===h&&(k.blockedOn=null)}}for(El!==null&&am(El,h),Sl!==null&&am(Sl,h),Cl!==null&&am(Cl,h),rm.forEach(g),nm.forEach(g),_=0;_<Al.length;_++)k=Al[_],k.blockedOn===h&&(k.blockedOn=null);for(;0<Al.length&&(_=Al[0],_.blockedOn===null);)e4(_),_.blockedOn===null&&Al.shift()}var Kf=A.ReactCurrentBatchConfig,cw=!0;function Zoe(h,g,_,k){var N=fr,$=Kf.transition;Kf.transition=null;try{fr=1,eA(h,g,_,k)}finally{fr=N,Kf.transition=$}}function Qoe(h,g,_,k){var N=fr,$=Kf.transition;Kf.transition=null;try{fr=4,eA(h,g,_,k)}finally{fr=N,Kf.transition=$}}function eA(h,g,_,k){if(cw){var N=tA(h,g,_,k);if(N===null)vA(h,g,k,lw,_),QM(h,k);else if(Xoe(N,h,g,_,k))k.stopPropagation();else if(QM(h,k),g&4&&-1<Yoe.indexOf(h)){for(;N!==null;){var $=vm(N);if($!==null&&YM($),$=tA(h,g,_,k),$===null&&vA(h,g,k,lw,_),$===N)break;N=$}N!==null&&k.stopPropagation()}else vA(h,g,k,null,_)}}var lw=null;function tA(h,g,_,k){if(lw=null,h=Xu(k),h=Zu(h),h!==null)if(g=Ju(h),g===null)h=null;else if(_=g.tag,_===13){if(h=UM(g),h!==null)return h;h=null}else if(_===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;h=null}else g!==h&&(h=null);return lw=h,null}function r4(h){switch(h){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Boe()){case KC:return 1;case WM:return 4;case tw:case Foe:return 16;case VM:return 536870912;default:return 16}default:return 16}}var Tl=null,rA=null,uw=null;function n4(){if(uw)return uw;var h,g=rA,_=g.length,k,N="value"in Tl?Tl.value:Tl.textContent,$=N.length;for(h=0;h<_&&g[h]===N[h];h++);var V=_-h;for(k=1;k<=V&&g[_-k]===N[$-k];k++);return uw=N.slice(h,1<k?1-k:void 0)}function dw(h){var g=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&g===13&&(h=13)):h=g,h===10&&(h=13),32<=h||h===13?h:0}function fw(){return!0}function i4(){return!1}function wa(h){function g(_,k,N,$,V){this._reactName=_,this._targetInst=N,this.type=k,this.nativeEvent=$,this.target=V,this.currentTarget=null;for(var J in h)h.hasOwnProperty(J)&&(_=h[J],this[J]=_?_($):$[J]);return this.isDefaultPrevented=($.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1)?fw:i4,this.isPropagationStopped=i4,this}return B(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _=this.nativeEvent;_&&(_.preventDefault?_.preventDefault():typeof _.returnValue!="unknown"&&(_.returnValue=!1),this.isDefaultPrevented=fw)},stopPropagation:function(){var _=this.nativeEvent;_&&(_.stopPropagation?_.stopPropagation():typeof _.cancelBubble!="unknown"&&(_.cancelBubble=!0),this.isPropagationStopped=fw)},persist:function(){},isPersistent:fw}),g}var Yf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nA=wa(Yf),om=B({},Yf,{view:0,detail:0}),ece=wa(om),iA,aA,cm,hw=B({},om,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oA,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==cm&&(cm&&h.type==="mousemove"?(iA=h.screenX-cm.screenX,aA=h.screenY-cm.screenY):aA=iA=0,cm=h),iA)},movementY:function(h){return"movementY"in h?h.movementY:aA}}),a4=wa(hw),tce=B({},hw,{dataTransfer:0}),rce=wa(tce),nce=B({},om,{relatedTarget:0}),sA=wa(nce),ice=B({},Yf,{animationName:0,elapsedTime:0,pseudoElement:0}),ace=wa(ice),sce=B({},Yf,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),oce=wa(sce),cce=B({},Yf,{data:0}),s4=wa(cce),lce={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uce={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dce={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fce(h){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(h):(h=dce[h])?!!g[h]:!1}function oA(){return fce}var hce=B({},om,{key:function(h){if(h.key){var g=lce[h.key]||h.key;if(g!=="Unidentified")return g}return h.type==="keypress"?(h=dw(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?uce[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oA,charCode:function(h){return h.type==="keypress"?dw(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?dw(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),pce=wa(hce),gce=B({},hw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),o4=wa(gce),mce=B({},om,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oA}),yce=wa(mce),vce=B({},Yf,{propertyName:0,elapsedTime:0,pseudoElement:0}),bce=wa(vce),wce=B({},hw,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),_ce=wa(wce),xce=[9,13,27,32],cA=c&&"CompositionEvent"in window,lm=null;c&&"documentMode"in document&&(lm=document.documentMode);var Ece=c&&"TextEvent"in window&&!lm,c4=c&&(!cA||lm&&8<lm&&11>=lm),l4=" ",u4=!1;function d4(h,g){switch(h){case"keyup":return xce.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function f4(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var Xf=!1;function Sce(h,g){switch(h){case"compositionend":return f4(g);case"keypress":return g.which!==32?null:(u4=!0,l4);case"textInput":return h=g.data,h===l4&&u4?null:h;default:return null}}function Cce(h,g){if(Xf)return h==="compositionend"||!cA&&d4(h,g)?(h=n4(),uw=rA=Tl=null,Xf=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return c4&&g.locale!=="ko"?null:g.data;default:return null}}var Ace={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function h4(h){var g=h&&h.nodeName&&h.nodeName.toLowerCase();return g==="input"?!!Ace[h.type]:g==="textarea"}function p4(h,g,_,k){Zb(k),g=vw(g,"onChange"),0<g.length&&(_=new nA("onChange","change",null,_,k),h.push({event:_,listeners:g}))}var um=null,dm=null;function Tce(h){I4(h,0)}function pw(h){var g=th(h);if(he(g))return h}function kce(h,g){if(h==="change")return g}var g4=!1;if(c){var lA;if(c){var uA="oninput"in document;if(!uA){var m4=document.createElement("div");m4.setAttribute("oninput","return;"),uA=typeof m4.oninput=="function"}lA=uA}else lA=!1;g4=lA&&(!document.documentMode||9<document.documentMode)}function y4(){um&&(um.detachEvent("onpropertychange",v4),dm=um=null)}function v4(h){if(h.propertyName==="value"&&pw(dm)){var g=[];p4(g,dm,h,Xu(h)),LM(Tce,g)}}function Pce(h,g,_){h==="focusin"?(y4(),um=g,dm=_,um.attachEvent("onpropertychange",v4)):h==="focusout"&&y4()}function Oce(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return pw(dm)}function Nce(h,g){if(h==="click")return pw(g)}function Ice(h,g){if(h==="input"||h==="change")return pw(g)}function Rce(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var Os=typeof Object.is=="function"?Object.is:Rce;function fm(h,g){if(Os(h,g))return!0;if(typeof h!="object"||h===null||typeof g!="object"||g===null)return!1;var _=Object.keys(h),k=Object.keys(g);if(_.length!==k.length)return!1;for(k=0;k<_.length;k++){var N=_[k];if(!l.call(g,N)||!Os(h[N],g[N]))return!1}return!0}function b4(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function w4(h,g){var _=b4(h);h=0;for(var k;_;){if(_.nodeType===3){if(k=h+_.textContent.length,h<=g&&k>=g)return{node:_,offset:g-h};h=k}e:{for(;_;){if(_.nextSibling){_=_.nextSibling;break e}_=_.parentNode}_=void 0}_=b4(_)}}function _4(h,g){return h&&g?h===g?!0:h&&h.nodeType===3?!1:g&&g.nodeType===3?_4(h,g.parentNode):"contains"in h?h.contains(g):h.compareDocumentPosition?!!(h.compareDocumentPosition(g)&16):!1:!1}function x4(){for(var h=window,g=me();g instanceof h.HTMLIFrameElement;){try{var _=typeof g.contentWindow.location.href=="string"}catch{_=!1}if(_)h=g.contentWindow;else break;g=me(h.document)}return g}function dA(h){var g=h&&h.nodeName&&h.nodeName.toLowerCase();return g&&(g==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||g==="textarea"||h.contentEditable==="true")}function $ce(h){var g=x4(),_=h.focusedElem,k=h.selectionRange;if(g!==_&&_&&_.ownerDocument&&_4(_.ownerDocument.documentElement,_)){if(k!==null&&dA(_)){if(g=k.start,h=k.end,h===void 0&&(h=g),"selectionStart"in _)_.selectionStart=g,_.selectionEnd=Math.min(h,_.value.length);else if(h=(g=_.ownerDocument||document)&&g.defaultView||window,h.getSelection){h=h.getSelection();var N=_.textContent.length,$=Math.min(k.start,N);k=k.end===void 0?$:Math.min(k.end,N),!h.extend&&$>k&&(N=k,k=$,$=N),N=w4(_,$);var V=w4(_,k);N&&V&&(h.rangeCount!==1||h.anchorNode!==N.node||h.anchorOffset!==N.offset||h.focusNode!==V.node||h.focusOffset!==V.offset)&&(g=g.createRange(),g.setStart(N.node,N.offset),h.removeAllRanges(),$>k?(h.addRange(g),h.extend(V.node,V.offset)):(g.setEnd(V.node,V.offset),h.addRange(g)))}}for(g=[],h=_;h=h.parentNode;)h.nodeType===1&&g.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<g.length;_++)h=g[_],h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}var jce=c&&"documentMode"in document&&11>=document.documentMode,Jf=null,fA=null,hm=null,hA=!1;function E4(h,g,_){var k=_.window===_?_.document:_.nodeType===9?_:_.ownerDocument;hA||Jf==null||Jf!==me(k)||(k=Jf,"selectionStart"in k&&dA(k)?k={start:k.selectionStart,end:k.selectionEnd}:(k=(k.ownerDocument&&k.ownerDocument.defaultView||window).getSelection(),k={anchorNode:k.anchorNode,anchorOffset:k.anchorOffset,focusNode:k.focusNode,focusOffset:k.focusOffset}),hm&&fm(hm,k)||(hm=k,k=vw(fA,"onSelect"),0<k.length&&(g=new nA("onSelect","select",null,g,_),h.push({event:g,listeners:k}),g.target=Jf)))}function gw(h,g){var _={};return _[h.toLowerCase()]=g.toLowerCase(),_["Webkit"+h]="webkit"+g,_["Moz"+h]="moz"+g,_}var Zf={animationend:gw("Animation","AnimationEnd"),animationiteration:gw("Animation","AnimationIteration"),animationstart:gw("Animation","AnimationStart"),transitionend:gw("Transition","TransitionEnd")},pA={},S4={};c&&(S4=document.createElement("div").style,"AnimationEvent"in window||(delete Zf.animationend.animation,delete Zf.animationiteration.animation,delete Zf.animationstart.animation),"TransitionEvent"in window||delete Zf.transitionend.transition);function mw(h){if(pA[h])return pA[h];if(!Zf[h])return h;var g=Zf[h],_;for(_ in g)if(g.hasOwnProperty(_)&&_ in S4)return pA[h]=g[_];return h}var C4=mw("animationend"),A4=mw("animationiteration"),T4=mw("animationstart"),k4=mw("transitionend"),P4=new Map,O4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kl(h,g){P4.set(h,g),s(g,[h])}for(var gA=0;gA<O4.length;gA++){var mA=O4[gA],Dce=mA.toLowerCase(),Mce=mA[0].toUpperCase()+mA.slice(1);kl(Dce,"on"+Mce)}kl(C4,"onAnimationEnd"),kl(A4,"onAnimationIteration"),kl(T4,"onAnimationStart"),kl("dblclick","onDoubleClick"),kl("focusin","onFocus"),kl("focusout","onBlur"),kl(k4,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lce=new Set("cancel close invalid load scroll toggle".split(" ").concat(pm));function N4(h,g,_){var k=h.type||"unknown-event";h.currentTarget=_,Doe(k,g,void 0,h),h.currentTarget=null}function I4(h,g){g=(g&4)!==0;for(var _=0;_<h.length;_++){var k=h[_],N=k.event;k=k.listeners;e:{var $=void 0;if(g)for(var V=k.length-1;0<=V;V--){var J=k[V],re=J.instance,ce=J.currentTarget;if(J=J.listener,re!==$&&N.isPropagationStopped())break e;N4(N,J,ce),$=re}else for(V=0;V<k.length;V++){if(J=k[V],re=J.instance,ce=J.currentTarget,J=J.listener,re!==$&&N.isPropagationStopped())break e;N4(N,J,ce),$=re}}}if(ew)throw h=GC,ew=!1,GC=null,h}function Ir(h,g){var _=g[SA];_===void 0&&(_=g[SA]=new Set);var k=h+"__bubble";_.has(k)||(R4(g,h,2,!1),_.add(k))}function yA(h,g,_){var k=0;g&&(k|=4),R4(_,h,k,g)}var yw="_reactListening"+Math.random().toString(36).slice(2);function gm(h){if(!h[yw]){h[yw]=!0,i.forEach(function(_){_!=="selectionchange"&&(Lce.has(_)||yA(_,!1,h),yA(_,!0,h))});var g=h.nodeType===9?h:h.ownerDocument;g===null||g[yw]||(g[yw]=!0,yA("selectionchange",!1,g))}}function R4(h,g,_,k){switch(r4(g)){case 1:var N=Zoe;break;case 4:N=Qoe;break;default:N=eA}_=N.bind(null,g,_,h),N=void 0,!VC||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(N=!0),k?N!==void 0?h.addEventListener(g,_,{capture:!0,passive:N}):h.addEventListener(g,_,!0):N!==void 0?h.addEventListener(g,_,{passive:N}):h.addEventListener(g,_,!1)}function vA(h,g,_,k,N){var $=k;if((g&1)===0&&(g&2)===0&&k!==null)e:for(;;){if(k===null)return;var V=k.tag;if(V===3||V===4){var J=k.stateNode.containerInfo;if(J===N||J.nodeType===8&&J.parentNode===N)break;if(V===4)for(V=k.return;V!==null;){var re=V.tag;if((re===3||re===4)&&(re=V.stateNode.containerInfo,re===N||re.nodeType===8&&re.parentNode===N))return;V=V.return}for(;J!==null;){if(V=Zu(J),V===null)return;if(re=V.tag,re===5||re===6){k=$=V;continue e}J=J.parentNode}}k=k.return}LM(function(){var ce=$,ve=Xu(_),_e=[];e:{var ye=P4.get(h);if(ye!==void 0){var Ue=nA,et=h;switch(h){case"keypress":if(dw(_)===0)break e;case"keydown":case"keyup":Ue=pce;break;case"focusin":et="focus",Ue=sA;break;case"focusout":et="blur",Ue=sA;break;case"beforeblur":case"afterblur":Ue=sA;break;case"click":if(_.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ue=a4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ue=rce;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ue=yce;break;case C4:case A4:case T4:Ue=ace;break;case k4:Ue=bce;break;case"scroll":Ue=ece;break;case"wheel":Ue=_ce;break;case"copy":case"cut":case"paste":Ue=oce;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ue=o4}var nt=(g&4)!==0,ln=!nt&&h==="scroll",ie=nt?ye!==null?ye+"Capture":null:ye;nt=[];for(var ne=ce,se;ne!==null;){se=ne;var Pe=se.stateNode;if(se.tag===5&&Pe!==null&&(se=Pe,ie!==null&&(Pe=Jg(ne,ie),Pe!=null&&nt.push(mm(ne,Pe,se)))),ln)break;ne=ne.return}0<nt.length&&(ye=new Ue(ye,et,null,_,ve),_e.push({event:ye,listeners:nt}))}}if((g&7)===0){e:{if(ye=h==="mouseover"||h==="pointerover",Ue=h==="mouseout"||h==="pointerout",ye&&_!==ks&&(et=_.relatedTarget||_.fromElement)&&(Zu(et)||et[uc]))break e;if((Ue||ye)&&(ye=ve.window===ve?ve:(ye=ve.ownerDocument)?ye.defaultView||ye.parentWindow:window,Ue?(et=_.relatedTarget||_.toElement,Ue=ce,et=et?Zu(et):null,et!==null&&(ln=Ju(et),et!==ln||et.tag!==5&&et.tag!==6)&&(et=null)):(Ue=null,et=ce),Ue!==et)){if(nt=a4,Pe="onMouseLeave",ie="onMouseEnter",ne="mouse",(h==="pointerout"||h==="pointerover")&&(nt=o4,Pe="onPointerLeave",ie="onPointerEnter",ne="pointer"),ln=Ue==null?ye:th(Ue),se=et==null?ye:th(et),ye=new nt(Pe,ne+"leave",Ue,_,ve),ye.target=ln,ye.relatedTarget=se,Pe=null,Zu(ve)===ce&&(nt=new nt(ie,ne+"enter",et,_,ve),nt.target=se,nt.relatedTarget=ln,Pe=nt),ln=Pe,Ue&&et)t:{for(nt=Ue,ie=et,ne=0,se=nt;se;se=Qf(se))ne++;for(se=0,Pe=ie;Pe;Pe=Qf(Pe))se++;for(;0<ne-se;)nt=Qf(nt),ne--;for(;0<se-ne;)ie=Qf(ie),se--;for(;ne--;){if(nt===ie||ie!==null&&nt===ie.alternate)break t;nt=Qf(nt),ie=Qf(ie)}nt=null}else nt=null;Ue!==null&&$4(_e,ye,Ue,nt,!1),et!==null&&ln!==null&&$4(_e,ln,et,nt,!0)}}e:{if(ye=ce?th(ce):window,Ue=ye.nodeName&&ye.nodeName.toLowerCase(),Ue==="select"||Ue==="input"&&ye.type==="file")var it=kce;else if(h4(ye))if(g4)it=Ice;else{it=Oce;var ut=Pce}else(Ue=ye.nodeName)&&Ue.toLowerCase()==="input"&&(ye.type==="checkbox"||ye.type==="radio")&&(it=Nce);if(it&&(it=it(h,ce))){p4(_e,it,_,ve);break e}ut&&ut(h,ye,ce),h==="focusout"&&(ut=ye._wrapperState)&&ut.controlled&&ye.type==="number"&&Br(ye,"number",ye.value)}switch(ut=ce?th(ce):window,h){case"focusin":(h4(ut)||ut.contentEditable==="true")&&(Jf=ut,fA=ce,hm=null);break;case"focusout":hm=fA=Jf=null;break;case"mousedown":hA=!0;break;case"contextmenu":case"mouseup":case"dragend":hA=!1,E4(_e,_,ve);break;case"selectionchange":if(jce)break;case"keydown":case"keyup":E4(_e,_,ve)}var dt;if(cA)e:{switch(h){case"compositionstart":var _t="onCompositionStart";break e;case"compositionend":_t="onCompositionEnd";break e;case"compositionupdate":_t="onCompositionUpdate";break e}_t=void 0}else Xf?d4(h,_)&&(_t="onCompositionEnd"):h==="keydown"&&_.keyCode===229&&(_t="onCompositionStart");_t&&(c4&&_.locale!=="ko"&&(Xf||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Xf&&(dt=n4()):(Tl=ve,rA="value"in Tl?Tl.value:Tl.textContent,Xf=!0)),ut=vw(ce,_t),0<ut.length&&(_t=new s4(_t,h,null,_,ve),_e.push({event:_t,listeners:ut}),dt?_t.data=dt:(dt=f4(_),dt!==null&&(_t.data=dt)))),(dt=Ece?Sce(h,_):Cce(h,_))&&(ce=vw(ce,"onBeforeInput"),0<ce.length&&(ve=new s4("onBeforeInput","beforeinput",null,_,ve),_e.push({event:ve,listeners:ce}),ve.data=dt))}I4(_e,g)})}function mm(h,g,_){return{instance:h,listener:g,currentTarget:_}}function vw(h,g){for(var _=g+"Capture",k=[];h!==null;){var N=h,$=N.stateNode;N.tag===5&&$!==null&&(N=$,$=Jg(h,_),$!=null&&k.unshift(mm(h,$,N)),$=Jg(h,g),$!=null&&k.push(mm(h,$,N))),h=h.return}return k}function Qf(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5);return h||null}function $4(h,g,_,k,N){for(var $=g._reactName,V=[];_!==null&&_!==k;){var J=_,re=J.alternate,ce=J.stateNode;if(re!==null&&re===k)break;J.tag===5&&ce!==null&&(J=ce,N?(re=Jg(_,$),re!=null&&V.unshift(mm(_,re,J))):N||(re=Jg(_,$),re!=null&&V.push(mm(_,re,J)))),_=_.return}V.length!==0&&h.push({event:g,listeners:V})}var Uce=/\r\n?/g,Bce=/\u0000|\uFFFD/g;function j4(h){return(typeof h=="string"?h:""+h).replace(Uce,`
`).replace(Bce,"")}function bw(h,g,_){if(g=j4(g),j4(h)!==g&&_)throw Error(n(425))}function ww(){}var bA=null,wA=null;function _A(h,g){return h==="textarea"||h==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var xA=typeof setTimeout=="function"?setTimeout:void 0,Fce=typeof clearTimeout=="function"?clearTimeout:void 0,D4=typeof Promise=="function"?Promise:void 0,qce=typeof queueMicrotask=="function"?queueMicrotask:typeof D4<"u"?function(h){return D4.resolve(null).then(h).catch(zce)}:xA;function zce(h){setTimeout(function(){throw h})}function EA(h,g){var _=g,k=0;do{var N=_.nextSibling;if(h.removeChild(_),N&&N.nodeType===8)if(_=N.data,_==="/$"){if(k===0){h.removeChild(N),sm(g);return}k--}else _!=="$"&&_!=="$?"&&_!=="$!"||k++;_=N}while(_);sm(g)}function Pl(h){for(;h!=null;h=h.nextSibling){var g=h.nodeType;if(g===1||g===3)break;if(g===8){if(g=h.data,g==="$"||g==="$!"||g==="$?")break;if(g==="/$")return null}}return h}function M4(h){h=h.previousSibling;for(var g=0;h;){if(h.nodeType===8){var _=h.data;if(_==="$"||_==="$!"||_==="$?"){if(g===0)return h;g--}else _==="/$"&&g++}h=h.previousSibling}return null}var eh=Math.random().toString(36).slice(2),go="__reactFiber$"+eh,ym="__reactProps$"+eh,uc="__reactContainer$"+eh,SA="__reactEvents$"+eh,Hce="__reactListeners$"+eh,Wce="__reactHandles$"+eh;function Zu(h){var g=h[go];if(g)return g;for(var _=h.parentNode;_;){if(g=_[uc]||_[go]){if(_=g.alternate,g.child!==null||_!==null&&_.child!==null)for(h=M4(h);h!==null;){if(_=h[go])return _;h=M4(h)}return g}h=_,_=h.parentNode}return null}function vm(h){return h=h[go]||h[uc],!h||h.tag!==5&&h.tag!==6&&h.tag!==13&&h.tag!==3?null:h}function th(h){if(h.tag===5||h.tag===6)return h.stateNode;throw Error(n(33))}function _w(h){return h[ym]||null}var CA=[],rh=-1;function Ol(h){return{current:h}}function Rr(h){0>rh||(h.current=CA[rh],CA[rh]=null,rh--)}function Tr(h,g){rh++,CA[rh]=h.current,h.current=g}var Nl={},gi=Ol(Nl),Wi=Ol(!1),Qu=Nl;function nh(h,g){var _=h.type.contextTypes;if(!_)return Nl;var k=h.stateNode;if(k&&k.__reactInternalMemoizedUnmaskedChildContext===g)return k.__reactInternalMemoizedMaskedChildContext;var N={},$;for($ in _)N[$]=g[$];return k&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=g,h.__reactInternalMemoizedMaskedChildContext=N),N}function Vi(h){return h=h.childContextTypes,h!=null}function xw(){Rr(Wi),Rr(gi)}function L4(h,g,_){if(gi.current!==Nl)throw Error(n(168));Tr(gi,g),Tr(Wi,_)}function U4(h,g,_){var k=h.stateNode;if(g=g.childContextTypes,typeof k.getChildContext!="function")return _;k=k.getChildContext();for(var N in k)if(!(N in g))throw Error(n(108,xe(h)||"Unknown",N));return B({},_,k)}function Ew(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||Nl,Qu=gi.current,Tr(gi,h),Tr(Wi,Wi.current),!0}function B4(h,g,_){var k=h.stateNode;if(!k)throw Error(n(169));_?(h=U4(h,g,Qu),k.__reactInternalMemoizedMergedChildContext=h,Rr(Wi),Rr(gi),Tr(gi,h)):Rr(Wi),Tr(Wi,_)}var dc=null,Sw=!1,AA=!1;function F4(h){dc===null?dc=[h]:dc.push(h)}function Vce(h){Sw=!0,F4(h)}function Il(){if(!AA&&dc!==null){AA=!0;var h=0,g=fr;try{var _=dc;for(fr=1;h<_.length;h++){var k=_[h];do k=k(!0);while(k!==null)}dc=null,Sw=!1}catch(N){throw dc!==null&&(dc=dc.slice(h+1)),zM(KC,Il),N}finally{fr=g,AA=!1}}return null}var ih=[],ah=0,Cw=null,Aw=0,Ha=[],Wa=0,ed=null,fc=1,hc="";function td(h,g){ih[ah++]=Aw,ih[ah++]=Cw,Cw=h,Aw=g}function q4(h,g,_){Ha[Wa++]=fc,Ha[Wa++]=hc,Ha[Wa++]=ed,ed=h;var k=fc;h=hc;var N=32-Ps(k)-1;k&=~(1<<N),_+=1;var $=32-Ps(g)+N;if(30<$){var V=N-N%5;$=(k&(1<<V)-1).toString(32),k>>=V,N-=V,fc=1<<32-Ps(g)+N|_<<N|k,hc=$+h}else fc=1<<$|_<<N|k,hc=h}function TA(h){h.return!==null&&(td(h,1),q4(h,1,0))}function kA(h){for(;h===Cw;)Cw=ih[--ah],ih[ah]=null,Aw=ih[--ah],ih[ah]=null;for(;h===ed;)ed=Ha[--Wa],Ha[Wa]=null,hc=Ha[--Wa],Ha[Wa]=null,fc=Ha[--Wa],Ha[Wa]=null}var _a=null,xa=null,qr=!1,Ns=null;function z4(h,g){var _=Ya(5,null,null,0);_.elementType="DELETED",_.stateNode=g,_.return=h,g=h.deletions,g===null?(h.deletions=[_],h.flags|=16):g.push(_)}function H4(h,g){switch(h.tag){case 5:var _=h.type;return g=g.nodeType!==1||_.toLowerCase()!==g.nodeName.toLowerCase()?null:g,g!==null?(h.stateNode=g,_a=h,xa=Pl(g.firstChild),!0):!1;case 6:return g=h.pendingProps===""||g.nodeType!==3?null:g,g!==null?(h.stateNode=g,_a=h,xa=null,!0):!1;case 13:return g=g.nodeType!==8?null:g,g!==null?(_=ed!==null?{id:fc,overflow:hc}:null,h.memoizedState={dehydrated:g,treeContext:_,retryLane:1073741824},_=Ya(18,null,null,0),_.stateNode=g,_.return=h,h.child=_,_a=h,xa=null,!0):!1;default:return!1}}function PA(h){return(h.mode&1)!==0&&(h.flags&128)===0}function OA(h){if(qr){var g=xa;if(g){var _=g;if(!H4(h,g)){if(PA(h))throw Error(n(418));g=Pl(_.nextSibling);var k=_a;g&&H4(h,g)?z4(k,_):(h.flags=h.flags&-4097|2,qr=!1,_a=h)}}else{if(PA(h))throw Error(n(418));h.flags=h.flags&-4097|2,qr=!1,_a=h}}}function W4(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;_a=h}function Tw(h){if(h!==_a)return!1;if(!qr)return W4(h),qr=!0,!1;var g;if((g=h.tag!==3)&&!(g=h.tag!==5)&&(g=h.type,g=g!=="head"&&g!=="body"&&!_A(h.type,h.memoizedProps)),g&&(g=xa)){if(PA(h))throw V4(),Error(n(418));for(;g;)z4(h,g),g=Pl(g.nextSibling)}if(W4(h),h.tag===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));e:{for(h=h.nextSibling,g=0;h;){if(h.nodeType===8){var _=h.data;if(_==="/$"){if(g===0){xa=Pl(h.nextSibling);break e}g--}else _!=="$"&&_!=="$!"&&_!=="$?"||g++}h=h.nextSibling}xa=null}}else xa=_a?Pl(h.stateNode.nextSibling):null;return!0}function V4(){for(var h=xa;h;)h=Pl(h.nextSibling)}function sh(){xa=_a=null,qr=!1}function NA(h){Ns===null?Ns=[h]:Ns.push(h)}var Gce=A.ReactCurrentBatchConfig;function bm(h,g,_){if(h=_.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(_._owner){if(_=_._owner,_){if(_.tag!==1)throw Error(n(309));var k=_.stateNode}if(!k)throw Error(n(147,h));var N=k,$=""+h;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===$?g.ref:(g=function(V){var J=N.refs;V===null?delete J[$]:J[$]=V},g._stringRef=$,g)}if(typeof h!="string")throw Error(n(284));if(!_._owner)throw Error(n(290,h))}return h}function kw(h,g){throw h=Object.prototype.toString.call(g),Error(n(31,h==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":h))}function G4(h){var g=h._init;return g(h._payload)}function K4(h){function g(ie,ne){if(h){var se=ie.deletions;se===null?(ie.deletions=[ne],ie.flags|=16):se.push(ne)}}function _(ie,ne){if(!h)return null;for(;ne!==null;)g(ie,ne),ne=ne.sibling;return null}function k(ie,ne){for(ie=new Map;ne!==null;)ne.key!==null?ie.set(ne.key,ne):ie.set(ne.index,ne),ne=ne.sibling;return ie}function N(ie,ne){return ie=Bl(ie,ne),ie.index=0,ie.sibling=null,ie}function $(ie,ne,se){return ie.index=se,h?(se=ie.alternate,se!==null?(se=se.index,se<ne?(ie.flags|=2,ne):se):(ie.flags|=2,ne)):(ie.flags|=1048576,ne)}function V(ie){return h&&ie.alternate===null&&(ie.flags|=2),ie}function J(ie,ne,se,Pe){return ne===null||ne.tag!==6?(ne=x2(se,ie.mode,Pe),ne.return=ie,ne):(ne=N(ne,se),ne.return=ie,ne)}function re(ie,ne,se,Pe){var it=se.type;return it===P?ve(ie,ne,se.props.children,Pe,se.key):ne!==null&&(ne.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===j&&G4(it)===ne.type)?(Pe=N(ne,se.props),Pe.ref=bm(ie,ne,se),Pe.return=ie,Pe):(Pe=Zw(se.type,se.key,se.props,null,ie.mode,Pe),Pe.ref=bm(ie,ne,se),Pe.return=ie,Pe)}function ce(ie,ne,se,Pe){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==se.containerInfo||ne.stateNode.implementation!==se.implementation?(ne=E2(se,ie.mode,Pe),ne.return=ie,ne):(ne=N(ne,se.children||[]),ne.return=ie,ne)}function ve(ie,ne,se,Pe,it){return ne===null||ne.tag!==7?(ne=ld(se,ie.mode,Pe,it),ne.return=ie,ne):(ne=N(ne,se),ne.return=ie,ne)}function _e(ie,ne,se){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return ne=x2(""+ne,ie.mode,se),ne.return=ie,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case S:return se=Zw(ne.type,ne.key,ne.props,null,ie.mode,se),se.ref=bm(ie,null,ne),se.return=ie,se;case C:return ne=E2(ne,ie.mode,se),ne.return=ie,ne;case j:var Pe=ne._init;return _e(ie,Pe(ne._payload),se)}if(on(ne)||z(ne))return ne=ld(ne,ie.mode,se,null),ne.return=ie,ne;kw(ie,ne)}return null}function ye(ie,ne,se,Pe){var it=ne!==null?ne.key:null;if(typeof se=="string"&&se!==""||typeof se=="number")return it!==null?null:J(ie,ne,""+se,Pe);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case S:return se.key===it?re(ie,ne,se,Pe):null;case C:return se.key===it?ce(ie,ne,se,Pe):null;case j:return it=se._init,ye(ie,ne,it(se._payload),Pe)}if(on(se)||z(se))return it!==null?null:ve(ie,ne,se,Pe,null);kw(ie,se)}return null}function Ue(ie,ne,se,Pe,it){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number")return ie=ie.get(se)||null,J(ne,ie,""+Pe,it);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case S:return ie=ie.get(Pe.key===null?se:Pe.key)||null,re(ne,ie,Pe,it);case C:return ie=ie.get(Pe.key===null?se:Pe.key)||null,ce(ne,ie,Pe,it);case j:var ut=Pe._init;return Ue(ie,ne,se,ut(Pe._payload),it)}if(on(Pe)||z(Pe))return ie=ie.get(se)||null,ve(ne,ie,Pe,it,null);kw(ne,Pe)}return null}function et(ie,ne,se,Pe){for(var it=null,ut=null,dt=ne,_t=ne=0,Mn=null;dt!==null&&_t<se.length;_t++){dt.index>_t?(Mn=dt,dt=null):Mn=dt.sibling;var Qt=ye(ie,dt,se[_t],Pe);if(Qt===null){dt===null&&(dt=Mn);break}h&&dt&&Qt.alternate===null&&g(ie,dt),ne=$(Qt,ne,_t),ut===null?it=Qt:ut.sibling=Qt,ut=Qt,dt=Mn}if(_t===se.length)return _(ie,dt),qr&&td(ie,_t),it;if(dt===null){for(;_t<se.length;_t++)dt=_e(ie,se[_t],Pe),dt!==null&&(ne=$(dt,ne,_t),ut===null?it=dt:ut.sibling=dt,ut=dt);return qr&&td(ie,_t),it}for(dt=k(ie,dt);_t<se.length;_t++)Mn=Ue(dt,ie,_t,se[_t],Pe),Mn!==null&&(h&&Mn.alternate!==null&&dt.delete(Mn.key===null?_t:Mn.key),ne=$(Mn,ne,_t),ut===null?it=Mn:ut.sibling=Mn,ut=Mn);return h&&dt.forEach(function(Fl){return g(ie,Fl)}),qr&&td(ie,_t),it}function nt(ie,ne,se,Pe){var it=z(se);if(typeof it!="function")throw Error(n(150));if(se=it.call(se),se==null)throw Error(n(151));for(var ut=it=null,dt=ne,_t=ne=0,Mn=null,Qt=se.next();dt!==null&&!Qt.done;_t++,Qt=se.next()){dt.index>_t?(Mn=dt,dt=null):Mn=dt.sibling;var Fl=ye(ie,dt,Qt.value,Pe);if(Fl===null){dt===null&&(dt=Mn);break}h&&dt&&Fl.alternate===null&&g(ie,dt),ne=$(Fl,ne,_t),ut===null?it=Fl:ut.sibling=Fl,ut=Fl,dt=Mn}if(Qt.done)return _(ie,dt),qr&&td(ie,_t),it;if(dt===null){for(;!Qt.done;_t++,Qt=se.next())Qt=_e(ie,Qt.value,Pe),Qt!==null&&(ne=$(Qt,ne,_t),ut===null?it=Qt:ut.sibling=Qt,ut=Qt);return qr&&td(ie,_t),it}for(dt=k(ie,dt);!Qt.done;_t++,Qt=se.next())Qt=Ue(dt,ie,_t,Qt.value,Pe),Qt!==null&&(h&&Qt.alternate!==null&&dt.delete(Qt.key===null?_t:Qt.key),ne=$(Qt,ne,_t),ut===null?it=Qt:ut.sibling=Qt,ut=Qt);return h&&dt.forEach(function(Ale){return g(ie,Ale)}),qr&&td(ie,_t),it}function ln(ie,ne,se,Pe){if(typeof se=="object"&&se!==null&&se.type===P&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case S:e:{for(var it=se.key,ut=ne;ut!==null;){if(ut.key===it){if(it=se.type,it===P){if(ut.tag===7){_(ie,ut.sibling),ne=N(ut,se.props.children),ne.return=ie,ie=ne;break e}}else if(ut.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===j&&G4(it)===ut.type){_(ie,ut.sibling),ne=N(ut,se.props),ne.ref=bm(ie,ut,se),ne.return=ie,ie=ne;break e}_(ie,ut);break}else g(ie,ut);ut=ut.sibling}se.type===P?(ne=ld(se.props.children,ie.mode,Pe,se.key),ne.return=ie,ie=ne):(Pe=Zw(se.type,se.key,se.props,null,ie.mode,Pe),Pe.ref=bm(ie,ne,se),Pe.return=ie,ie=Pe)}return V(ie);case C:e:{for(ut=se.key;ne!==null;){if(ne.key===ut)if(ne.tag===4&&ne.stateNode.containerInfo===se.containerInfo&&ne.stateNode.implementation===se.implementation){_(ie,ne.sibling),ne=N(ne,se.children||[]),ne.return=ie,ie=ne;break e}else{_(ie,ne);break}else g(ie,ne);ne=ne.sibling}ne=E2(se,ie.mode,Pe),ne.return=ie,ie=ne}return V(ie);case j:return ut=se._init,ln(ie,ne,ut(se._payload),Pe)}if(on(se))return et(ie,ne,se,Pe);if(z(se))return nt(ie,ne,se,Pe);kw(ie,se)}return typeof se=="string"&&se!==""||typeof se=="number"?(se=""+se,ne!==null&&ne.tag===6?(_(ie,ne.sibling),ne=N(ne,se),ne.return=ie,ie=ne):(_(ie,ne),ne=x2(se,ie.mode,Pe),ne.return=ie,ie=ne),V(ie)):_(ie,ne)}return ln}var oh=K4(!0),Y4=K4(!1),Pw=Ol(null),Ow=null,ch=null,IA=null;function RA(){IA=ch=Ow=null}function $A(h){var g=Pw.current;Rr(Pw),h._currentValue=g}function jA(h,g,_){for(;h!==null;){var k=h.alternate;if((h.childLanes&g)!==g?(h.childLanes|=g,k!==null&&(k.childLanes|=g)):k!==null&&(k.childLanes&g)!==g&&(k.childLanes|=g),h===_)break;h=h.return}}function lh(h,g){Ow=h,IA=ch=null,h=h.dependencies,h!==null&&h.firstContext!==null&&((h.lanes&g)!==0&&(Gi=!0),h.firstContext=null)}function Va(h){var g=h._currentValue;if(IA!==h)if(h={context:h,memoizedValue:g,next:null},ch===null){if(Ow===null)throw Error(n(308));ch=h,Ow.dependencies={lanes:0,firstContext:h}}else ch=ch.next=h;return g}var rd=null;function DA(h){rd===null?rd=[h]:rd.push(h)}function X4(h,g,_,k){var N=g.interleaved;return N===null?(_.next=_,DA(g)):(_.next=N.next,N.next=_),g.interleaved=_,pc(h,k)}function pc(h,g){h.lanes|=g;var _=h.alternate;for(_!==null&&(_.lanes|=g),_=h,h=h.return;h!==null;)h.childLanes|=g,_=h.alternate,_!==null&&(_.childLanes|=g),_=h,h=h.return;return _.tag===3?_.stateNode:null}var Rl=!1;function MA(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function J4(h,g){h=h.updateQueue,g.updateQueue===h&&(g.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function gc(h,g){return{eventTime:h,lane:g,tag:0,payload:null,callback:null,next:null}}function $l(h,g,_){var k=h.updateQueue;if(k===null)return null;if(k=k.shared,(Zt&2)!==0){var N=k.pending;return N===null?g.next=g:(g.next=N.next,N.next=g),k.pending=g,pc(h,_)}return N=k.interleaved,N===null?(g.next=g,DA(k)):(g.next=N.next,N.next=g),k.interleaved=g,pc(h,_)}function Nw(h,g,_){if(g=g.updateQueue,g!==null&&(g=g.shared,(_&4194240)!==0)){var k=g.lanes;k&=h.pendingLanes,_|=k,g.lanes=_,JC(h,_)}}function Z4(h,g){var _=h.updateQueue,k=h.alternate;if(k!==null&&(k=k.updateQueue,_===k)){var N=null,$=null;if(_=_.firstBaseUpdate,_!==null){do{var V={eventTime:_.eventTime,lane:_.lane,tag:_.tag,payload:_.payload,callback:_.callback,next:null};$===null?N=$=V:$=$.next=V,_=_.next}while(_!==null);$===null?N=$=g:$=$.next=g}else N=$=g;_={baseState:k.baseState,firstBaseUpdate:N,lastBaseUpdate:$,shared:k.shared,effects:k.effects},h.updateQueue=_;return}h=_.lastBaseUpdate,h===null?_.firstBaseUpdate=g:h.next=g,_.lastBaseUpdate=g}function Iw(h,g,_,k){var N=h.updateQueue;Rl=!1;var $=N.firstBaseUpdate,V=N.lastBaseUpdate,J=N.shared.pending;if(J!==null){N.shared.pending=null;var re=J,ce=re.next;re.next=null,V===null?$=ce:V.next=ce,V=re;var ve=h.alternate;ve!==null&&(ve=ve.updateQueue,J=ve.lastBaseUpdate,J!==V&&(J===null?ve.firstBaseUpdate=ce:J.next=ce,ve.lastBaseUpdate=re))}if($!==null){var _e=N.baseState;V=0,ve=ce=re=null,J=$;do{var ye=J.lane,Ue=J.eventTime;if((k&ye)===ye){ve!==null&&(ve=ve.next={eventTime:Ue,lane:0,tag:J.tag,payload:J.payload,callback:J.callback,next:null});e:{var et=h,nt=J;switch(ye=g,Ue=_,nt.tag){case 1:if(et=nt.payload,typeof et=="function"){_e=et.call(Ue,_e,ye);break e}_e=et;break e;case 3:et.flags=et.flags&-65537|128;case 0:if(et=nt.payload,ye=typeof et=="function"?et.call(Ue,_e,ye):et,ye==null)break e;_e=B({},_e,ye);break e;case 2:Rl=!0}}J.callback!==null&&J.lane!==0&&(h.flags|=64,ye=N.effects,ye===null?N.effects=[J]:ye.push(J))}else Ue={eventTime:Ue,lane:ye,tag:J.tag,payload:J.payload,callback:J.callback,next:null},ve===null?(ce=ve=Ue,re=_e):ve=ve.next=Ue,V|=ye;if(J=J.next,J===null){if(J=N.shared.pending,J===null)break;ye=J,J=ye.next,ye.next=null,N.lastBaseUpdate=ye,N.shared.pending=null}}while(!0);if(ve===null&&(re=_e),N.baseState=re,N.firstBaseUpdate=ce,N.lastBaseUpdate=ve,g=N.shared.interleaved,g!==null){N=g;do V|=N.lane,N=N.next;while(N!==g)}else $===null&&(N.shared.lanes=0);ad|=V,h.lanes=V,h.memoizedState=_e}}function Q4(h,g,_){if(h=g.effects,g.effects=null,h!==null)for(g=0;g<h.length;g++){var k=h[g],N=k.callback;if(N!==null){if(k.callback=null,k=_,typeof N!="function")throw Error(n(191,N));N.call(k)}}}var wm={},mo=Ol(wm),_m=Ol(wm),xm=Ol(wm);function nd(h){if(h===wm)throw Error(n(174));return h}function LA(h,g){switch(Tr(xm,g),Tr(_m,h),Tr(mo,wm),h=g.nodeType,h){case 9:case 11:g=(g=g.documentElement)?g.namespaceURI:be(null,"");break;default:h=h===8?g.parentNode:g,g=h.namespaceURI||null,h=h.tagName,g=be(g,h)}Rr(mo),Tr(mo,g)}function uh(){Rr(mo),Rr(_m),Rr(xm)}function e6(h){nd(xm.current);var g=nd(mo.current),_=be(g,h.type);g!==_&&(Tr(_m,h),Tr(mo,_))}function UA(h){_m.current===h&&(Rr(mo),Rr(_m))}var Yr=Ol(0);function Rw(h){for(var g=h;g!==null;){if(g.tag===13){var _=g.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||_.data==="$?"||_.data==="$!"))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var BA=[];function FA(){for(var h=0;h<BA.length;h++)BA[h]._workInProgressVersionPrimary=null;BA.length=0}var $w=A.ReactCurrentDispatcher,qA=A.ReactCurrentBatchConfig,id=0,Xr=null,Cn=null,jn=null,jw=!1,Em=!1,Sm=0,Kce=0;function mi(){throw Error(n(321))}function zA(h,g){if(g===null)return!1;for(var _=0;_<g.length&&_<h.length;_++)if(!Os(h[_],g[_]))return!1;return!0}function HA(h,g,_,k,N,$){if(id=$,Xr=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,$w.current=h===null||h.memoizedState===null?Zce:Qce,h=_(k,N),Em){$=0;do{if(Em=!1,Sm=0,25<=$)throw Error(n(301));$+=1,jn=Cn=null,g.updateQueue=null,$w.current=ele,h=_(k,N)}while(Em)}if($w.current=Lw,g=Cn!==null&&Cn.next!==null,id=0,jn=Cn=Xr=null,jw=!1,g)throw Error(n(300));return h}function WA(){var h=Sm!==0;return Sm=0,h}function yo(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?Xr.memoizedState=jn=h:jn=jn.next=h,jn}function Ga(){if(Cn===null){var h=Xr.alternate;h=h!==null?h.memoizedState:null}else h=Cn.next;var g=jn===null?Xr.memoizedState:jn.next;if(g!==null)jn=g,Cn=h;else{if(h===null)throw Error(n(310));Cn=h,h={memoizedState:Cn.memoizedState,baseState:Cn.baseState,baseQueue:Cn.baseQueue,queue:Cn.queue,next:null},jn===null?Xr.memoizedState=jn=h:jn=jn.next=h}return jn}function Cm(h,g){return typeof g=="function"?g(h):g}function VA(h){var g=Ga(),_=g.queue;if(_===null)throw Error(n(311));_.lastRenderedReducer=h;var k=Cn,N=k.baseQueue,$=_.pending;if($!==null){if(N!==null){var V=N.next;N.next=$.next,$.next=V}k.baseQueue=N=$,_.pending=null}if(N!==null){$=N.next,k=k.baseState;var J=V=null,re=null,ce=$;do{var ve=ce.lane;if((id&ve)===ve)re!==null&&(re=re.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),k=ce.hasEagerState?ce.eagerState:h(k,ce.action);else{var _e={lane:ve,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};re===null?(J=re=_e,V=k):re=re.next=_e,Xr.lanes|=ve,ad|=ve}ce=ce.next}while(ce!==null&&ce!==$);re===null?V=k:re.next=J,Os(k,g.memoizedState)||(Gi=!0),g.memoizedState=k,g.baseState=V,g.baseQueue=re,_.lastRenderedState=k}if(h=_.interleaved,h!==null){N=h;do $=N.lane,Xr.lanes|=$,ad|=$,N=N.next;while(N!==h)}else N===null&&(_.lanes=0);return[g.memoizedState,_.dispatch]}function GA(h){var g=Ga(),_=g.queue;if(_===null)throw Error(n(311));_.lastRenderedReducer=h;var k=_.dispatch,N=_.pending,$=g.memoizedState;if(N!==null){_.pending=null;var V=N=N.next;do $=h($,V.action),V=V.next;while(V!==N);Os($,g.memoizedState)||(Gi=!0),g.memoizedState=$,g.baseQueue===null&&(g.baseState=$),_.lastRenderedState=$}return[$,k]}function t6(){}function r6(h,g){var _=Xr,k=Ga(),N=g(),$=!Os(k.memoizedState,N);if($&&(k.memoizedState=N,Gi=!0),k=k.queue,KA(a6.bind(null,_,k,h),[h]),k.getSnapshot!==g||$||jn!==null&&jn.memoizedState.tag&1){if(_.flags|=2048,Am(9,i6.bind(null,_,k,N,g),void 0,null),Dn===null)throw Error(n(349));(id&30)!==0||n6(_,g,N)}return N}function n6(h,g,_){h.flags|=16384,h={getSnapshot:g,value:_},g=Xr.updateQueue,g===null?(g={lastEffect:null,stores:null},Xr.updateQueue=g,g.stores=[h]):(_=g.stores,_===null?g.stores=[h]:_.push(h))}function i6(h,g,_,k){g.value=_,g.getSnapshot=k,s6(g)&&o6(h)}function a6(h,g,_){return _(function(){s6(g)&&o6(h)})}function s6(h){var g=h.getSnapshot;h=h.value;try{var _=g();return!Os(h,_)}catch{return!0}}function o6(h){var g=pc(h,1);g!==null&&js(g,h,1,-1)}function c6(h){var g=yo();return typeof h=="function"&&(h=h()),g.memoizedState=g.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cm,lastRenderedState:h},g.queue=h,h=h.dispatch=Jce.bind(null,Xr,h),[g.memoizedState,h]}function Am(h,g,_,k){return h={tag:h,create:g,destroy:_,deps:k,next:null},g=Xr.updateQueue,g===null?(g={lastEffect:null,stores:null},Xr.updateQueue=g,g.lastEffect=h.next=h):(_=g.lastEffect,_===null?g.lastEffect=h.next=h:(k=_.next,_.next=h,h.next=k,g.lastEffect=h)),h}function l6(){return Ga().memoizedState}function Dw(h,g,_,k){var N=yo();Xr.flags|=h,N.memoizedState=Am(1|g,_,void 0,k===void 0?null:k)}function Mw(h,g,_,k){var N=Ga();k=k===void 0?null:k;var $=void 0;if(Cn!==null){var V=Cn.memoizedState;if($=V.destroy,k!==null&&zA(k,V.deps)){N.memoizedState=Am(g,_,$,k);return}}Xr.flags|=h,N.memoizedState=Am(1|g,_,$,k)}function u6(h,g){return Dw(8390656,8,h,g)}function KA(h,g){return Mw(2048,8,h,g)}function d6(h,g){return Mw(4,2,h,g)}function f6(h,g){return Mw(4,4,h,g)}function h6(h,g){if(typeof g=="function")return h=h(),g(h),function(){g(null)};if(g!=null)return h=h(),g.current=h,function(){g.current=null}}function p6(h,g,_){return _=_!=null?_.concat([h]):null,Mw(4,4,h6.bind(null,g,h),_)}function YA(){}function g6(h,g){var _=Ga();g=g===void 0?null:g;var k=_.memoizedState;return k!==null&&g!==null&&zA(g,k[1])?k[0]:(_.memoizedState=[h,g],h)}function m6(h,g){var _=Ga();g=g===void 0?null:g;var k=_.memoizedState;return k!==null&&g!==null&&zA(g,k[1])?k[0]:(h=h(),_.memoizedState=[h,g],h)}function y6(h,g,_){return(id&21)===0?(h.baseState&&(h.baseState=!1,Gi=!0),h.memoizedState=_):(Os(_,g)||(_=GM(),Xr.lanes|=_,ad|=_,h.baseState=!0),g)}function Yce(h,g){var _=fr;fr=_!==0&&4>_?_:4,h(!0);var k=qA.transition;qA.transition={};try{h(!1),g()}finally{fr=_,qA.transition=k}}function v6(){return Ga().memoizedState}function Xce(h,g,_){var k=Ll(h);if(_={lane:k,action:_,hasEagerState:!1,eagerState:null,next:null},b6(h))w6(g,_);else if(_=X4(h,g,_,k),_!==null){var N=Ni();js(_,h,k,N),_6(_,g,k)}}function Jce(h,g,_){var k=Ll(h),N={lane:k,action:_,hasEagerState:!1,eagerState:null,next:null};if(b6(h))w6(g,N);else{var $=h.alternate;if(h.lanes===0&&($===null||$.lanes===0)&&($=g.lastRenderedReducer,$!==null))try{var V=g.lastRenderedState,J=$(V,_);if(N.hasEagerState=!0,N.eagerState=J,Os(J,V)){var re=g.interleaved;re===null?(N.next=N,DA(g)):(N.next=re.next,re.next=N),g.interleaved=N;return}}catch{}finally{}_=X4(h,g,N,k),_!==null&&(N=Ni(),js(_,h,k,N),_6(_,g,k))}}function b6(h){var g=h.alternate;return h===Xr||g!==null&&g===Xr}function w6(h,g){Em=jw=!0;var _=h.pending;_===null?g.next=g:(g.next=_.next,_.next=g),h.pending=g}function _6(h,g,_){if((_&4194240)!==0){var k=g.lanes;k&=h.pendingLanes,_|=k,g.lanes=_,JC(h,_)}}var Lw={readContext:Va,useCallback:mi,useContext:mi,useEffect:mi,useImperativeHandle:mi,useInsertionEffect:mi,useLayoutEffect:mi,useMemo:mi,useReducer:mi,useRef:mi,useState:mi,useDebugValue:mi,useDeferredValue:mi,useTransition:mi,useMutableSource:mi,useSyncExternalStore:mi,useId:mi,unstable_isNewReconciler:!1},Zce={readContext:Va,useCallback:function(h,g){return yo().memoizedState=[h,g===void 0?null:g],h},useContext:Va,useEffect:u6,useImperativeHandle:function(h,g,_){return _=_!=null?_.concat([h]):null,Dw(4194308,4,h6.bind(null,g,h),_)},useLayoutEffect:function(h,g){return Dw(4194308,4,h,g)},useInsertionEffect:function(h,g){return Dw(4,2,h,g)},useMemo:function(h,g){var _=yo();return g=g===void 0?null:g,h=h(),_.memoizedState=[h,g],h},useReducer:function(h,g,_){var k=yo();return g=_!==void 0?_(g):g,k.memoizedState=k.baseState=g,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:g},k.queue=h,h=h.dispatch=Xce.bind(null,Xr,h),[k.memoizedState,h]},useRef:function(h){var g=yo();return h={current:h},g.memoizedState=h},useState:c6,useDebugValue:YA,useDeferredValue:function(h){return yo().memoizedState=h},useTransition:function(){var h=c6(!1),g=h[0];return h=Yce.bind(null,h[1]),yo().memoizedState=h,[g,h]},useMutableSource:function(){},useSyncExternalStore:function(h,g,_){var k=Xr,N=yo();if(qr){if(_===void 0)throw Error(n(407));_=_()}else{if(_=g(),Dn===null)throw Error(n(349));(id&30)!==0||n6(k,g,_)}N.memoizedState=_;var $={value:_,getSnapshot:g};return N.queue=$,u6(a6.bind(null,k,$,h),[h]),k.flags|=2048,Am(9,i6.bind(null,k,$,_,g),void 0,null),_},useId:function(){var h=yo(),g=Dn.identifierPrefix;if(qr){var _=hc,k=fc;_=(k&~(1<<32-Ps(k)-1)).toString(32)+_,g=":"+g+"R"+_,_=Sm++,0<_&&(g+="H"+_.toString(32)),g+=":"}else _=Kce++,g=":"+g+"r"+_.toString(32)+":";return h.memoizedState=g},unstable_isNewReconciler:!1},Qce={readContext:Va,useCallback:g6,useContext:Va,useEffect:KA,useImperativeHandle:p6,useInsertionEffect:d6,useLayoutEffect:f6,useMemo:m6,useReducer:VA,useRef:l6,useState:function(){return VA(Cm)},useDebugValue:YA,useDeferredValue:function(h){var g=Ga();return y6(g,Cn.memoizedState,h)},useTransition:function(){var h=VA(Cm)[0],g=Ga().memoizedState;return[h,g]},useMutableSource:t6,useSyncExternalStore:r6,useId:v6,unstable_isNewReconciler:!1},ele={readContext:Va,useCallback:g6,useContext:Va,useEffect:KA,useImperativeHandle:p6,useInsertionEffect:d6,useLayoutEffect:f6,useMemo:m6,useReducer:GA,useRef:l6,useState:function(){return GA(Cm)},useDebugValue:YA,useDeferredValue:function(h){var g=Ga();return Cn===null?g.memoizedState=h:y6(g,Cn.memoizedState,h)},useTransition:function(){var h=GA(Cm)[0],g=Ga().memoizedState;return[h,g]},useMutableSource:t6,useSyncExternalStore:r6,useId:v6,unstable_isNewReconciler:!1};function Is(h,g){if(h&&h.defaultProps){g=B({},g),h=h.defaultProps;for(var _ in h)g[_]===void 0&&(g[_]=h[_]);return g}return g}function XA(h,g,_,k){g=h.memoizedState,_=_(k,g),_=_==null?g:B({},g,_),h.memoizedState=_,h.lanes===0&&(h.updateQueue.baseState=_)}var Uw={isMounted:function(h){return(h=h._reactInternals)?Ju(h)===h:!1},enqueueSetState:function(h,g,_){h=h._reactInternals;var k=Ni(),N=Ll(h),$=gc(k,N);$.payload=g,_!=null&&($.callback=_),g=$l(h,$,N),g!==null&&(js(g,h,N,k),Nw(g,h,N))},enqueueReplaceState:function(h,g,_){h=h._reactInternals;var k=Ni(),N=Ll(h),$=gc(k,N);$.tag=1,$.payload=g,_!=null&&($.callback=_),g=$l(h,$,N),g!==null&&(js(g,h,N,k),Nw(g,h,N))},enqueueForceUpdate:function(h,g){h=h._reactInternals;var _=Ni(),k=Ll(h),N=gc(_,k);N.tag=2,g!=null&&(N.callback=g),g=$l(h,N,k),g!==null&&(js(g,h,k,_),Nw(g,h,k))}};function x6(h,g,_,k,N,$,V){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(k,$,V):g.prototype&&g.prototype.isPureReactComponent?!fm(_,k)||!fm(N,$):!0}function E6(h,g,_){var k=!1,N=Nl,$=g.contextType;return typeof $=="object"&&$!==null?$=Va($):(N=Vi(g)?Qu:gi.current,k=g.contextTypes,$=(k=k!=null)?nh(h,N):Nl),g=new g(_,$),h.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Uw,h.stateNode=g,g._reactInternals=h,k&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=N,h.__reactInternalMemoizedMaskedChildContext=$),g}function S6(h,g,_,k){h=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(_,k),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(_,k),g.state!==h&&Uw.enqueueReplaceState(g,g.state,null)}function JA(h,g,_,k){var N=h.stateNode;N.props=_,N.state=h.memoizedState,N.refs={},MA(h);var $=g.contextType;typeof $=="object"&&$!==null?N.context=Va($):($=Vi(g)?Qu:gi.current,N.context=nh(h,$)),N.state=h.memoizedState,$=g.getDerivedStateFromProps,typeof $=="function"&&(XA(h,g,$,_),N.state=h.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(g=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),g!==N.state&&Uw.enqueueReplaceState(N,N.state,null),Iw(h,_,N,k),N.state=h.memoizedState),typeof N.componentDidMount=="function"&&(h.flags|=4194308)}function dh(h,g){try{var _="",k=g;do _+=ae(k),k=k.return;while(k);var N=_}catch($){N=`
Error generating stack: `+$.message+`
`+$.stack}return{value:h,source:g,stack:N,digest:null}}function ZA(h,g,_){return{value:h,source:null,stack:_??null,digest:g??null}}function QA(h,g){try{console.error(g.value)}catch(_){setTimeout(function(){throw _})}}var tle=typeof WeakMap=="function"?WeakMap:Map;function C6(h,g,_){_=gc(-1,_),_.tag=3,_.payload={element:null};var k=g.value;return _.callback=function(){Vw||(Vw=!0,p2=k),QA(h,g)},_}function A6(h,g,_){_=gc(-1,_),_.tag=3;var k=h.type.getDerivedStateFromError;if(typeof k=="function"){var N=g.value;_.payload=function(){return k(N)},_.callback=function(){QA(h,g)}}var $=h.stateNode;return $!==null&&typeof $.componentDidCatch=="function"&&(_.callback=function(){QA(h,g),typeof k!="function"&&(Dl===null?Dl=new Set([this]):Dl.add(this));var V=g.stack;this.componentDidCatch(g.value,{componentStack:V!==null?V:""})}),_}function T6(h,g,_){var k=h.pingCache;if(k===null){k=h.pingCache=new tle;var N=new Set;k.set(g,N)}else N=k.get(g),N===void 0&&(N=new Set,k.set(g,N));N.has(_)||(N.add(_),h=gle.bind(null,h,g,_),g.then(h,h))}function k6(h){do{var g;if((g=h.tag===13)&&(g=h.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return h;h=h.return}while(h!==null);return null}function P6(h,g,_,k,N){return(h.mode&1)===0?(h===g?h.flags|=65536:(h.flags|=128,_.flags|=131072,_.flags&=-52805,_.tag===1&&(_.alternate===null?_.tag=17:(g=gc(-1,1),g.tag=2,$l(_,g,1))),_.lanes|=1),h):(h.flags|=65536,h.lanes=N,h)}var rle=A.ReactCurrentOwner,Gi=!1;function Oi(h,g,_,k){g.child=h===null?Y4(g,null,_,k):oh(g,h.child,_,k)}function O6(h,g,_,k,N){_=_.render;var $=g.ref;return lh(g,N),k=HA(h,g,_,k,$,N),_=WA(),h!==null&&!Gi?(g.updateQueue=h.updateQueue,g.flags&=-2053,h.lanes&=~N,mc(h,g,N)):(qr&&_&&TA(g),g.flags|=1,Oi(h,g,k,N),g.child)}function N6(h,g,_,k,N){if(h===null){var $=_.type;return typeof $=="function"&&!_2($)&&$.defaultProps===void 0&&_.compare===null&&_.defaultProps===void 0?(g.tag=15,g.type=$,I6(h,g,$,k,N)):(h=Zw(_.type,null,k,g,g.mode,N),h.ref=g.ref,h.return=g,g.child=h)}if($=h.child,(h.lanes&N)===0){var V=$.memoizedProps;if(_=_.compare,_=_!==null?_:fm,_(V,k)&&h.ref===g.ref)return mc(h,g,N)}return g.flags|=1,h=Bl($,k),h.ref=g.ref,h.return=g,g.child=h}function I6(h,g,_,k,N){if(h!==null){var $=h.memoizedProps;if(fm($,k)&&h.ref===g.ref)if(Gi=!1,g.pendingProps=k=$,(h.lanes&N)!==0)(h.flags&131072)!==0&&(Gi=!0);else return g.lanes=h.lanes,mc(h,g,N)}return e2(h,g,_,k,N)}function R6(h,g,_){var k=g.pendingProps,N=k.children,$=h!==null?h.memoizedState:null;if(k.mode==="hidden")if((g.mode&1)===0)g.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tr(hh,Ea),Ea|=_;else{if((_&1073741824)===0)return h=$!==null?$.baseLanes|_:_,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:h,cachePool:null,transitions:null},g.updateQueue=null,Tr(hh,Ea),Ea|=h,null;g.memoizedState={baseLanes:0,cachePool:null,transitions:null},k=$!==null?$.baseLanes:_,Tr(hh,Ea),Ea|=k}else $!==null?(k=$.baseLanes|_,g.memoizedState=null):k=_,Tr(hh,Ea),Ea|=k;return Oi(h,g,N,_),g.child}function $6(h,g){var _=g.ref;(h===null&&_!==null||h!==null&&h.ref!==_)&&(g.flags|=512,g.flags|=2097152)}function e2(h,g,_,k,N){var $=Vi(_)?Qu:gi.current;return $=nh(g,$),lh(g,N),_=HA(h,g,_,k,$,N),k=WA(),h!==null&&!Gi?(g.updateQueue=h.updateQueue,g.flags&=-2053,h.lanes&=~N,mc(h,g,N)):(qr&&k&&TA(g),g.flags|=1,Oi(h,g,_,N),g.child)}function j6(h,g,_,k,N){if(Vi(_)){var $=!0;Ew(g)}else $=!1;if(lh(g,N),g.stateNode===null)Fw(h,g),E6(g,_,k),JA(g,_,k,N),k=!0;else if(h===null){var V=g.stateNode,J=g.memoizedProps;V.props=J;var re=V.context,ce=_.contextType;typeof ce=="object"&&ce!==null?ce=Va(ce):(ce=Vi(_)?Qu:gi.current,ce=nh(g,ce));var ve=_.getDerivedStateFromProps,_e=typeof ve=="function"||typeof V.getSnapshotBeforeUpdate=="function";_e||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(J!==k||re!==ce)&&S6(g,V,k,ce),Rl=!1;var ye=g.memoizedState;V.state=ye,Iw(g,k,V,N),re=g.memoizedState,J!==k||ye!==re||Wi.current||Rl?(typeof ve=="function"&&(XA(g,_,ve,k),re=g.memoizedState),(J=Rl||x6(g,_,J,k,ye,re,ce))?(_e||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(g.flags|=4194308)):(typeof V.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=k,g.memoizedState=re),V.props=k,V.state=re,V.context=ce,k=J):(typeof V.componentDidMount=="function"&&(g.flags|=4194308),k=!1)}else{V=g.stateNode,J4(h,g),J=g.memoizedProps,ce=g.type===g.elementType?J:Is(g.type,J),V.props=ce,_e=g.pendingProps,ye=V.context,re=_.contextType,typeof re=="object"&&re!==null?re=Va(re):(re=Vi(_)?Qu:gi.current,re=nh(g,re));var Ue=_.getDerivedStateFromProps;(ve=typeof Ue=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(J!==_e||ye!==re)&&S6(g,V,k,re),Rl=!1,ye=g.memoizedState,V.state=ye,Iw(g,k,V,N);var et=g.memoizedState;J!==_e||ye!==et||Wi.current||Rl?(typeof Ue=="function"&&(XA(g,_,Ue,k),et=g.memoizedState),(ce=Rl||x6(g,_,ce,k,ye,et,re)||!1)?(ve||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(k,et,re),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(k,et,re)),typeof V.componentDidUpdate=="function"&&(g.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof V.componentDidUpdate!="function"||J===h.memoizedProps&&ye===h.memoizedState||(g.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||J===h.memoizedProps&&ye===h.memoizedState||(g.flags|=1024),g.memoizedProps=k,g.memoizedState=et),V.props=k,V.state=et,V.context=re,k=ce):(typeof V.componentDidUpdate!="function"||J===h.memoizedProps&&ye===h.memoizedState||(g.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||J===h.memoizedProps&&ye===h.memoizedState||(g.flags|=1024),k=!1)}return t2(h,g,_,k,$,N)}function t2(h,g,_,k,N,$){$6(h,g);var V=(g.flags&128)!==0;if(!k&&!V)return N&&B4(g,_,!1),mc(h,g,$);k=g.stateNode,rle.current=g;var J=V&&typeof _.getDerivedStateFromError!="function"?null:k.render();return g.flags|=1,h!==null&&V?(g.child=oh(g,h.child,null,$),g.child=oh(g,null,J,$)):Oi(h,g,J,$),g.memoizedState=k.state,N&&B4(g,_,!0),g.child}function D6(h){var g=h.stateNode;g.pendingContext?L4(h,g.pendingContext,g.pendingContext!==g.context):g.context&&L4(h,g.context,!1),LA(h,g.containerInfo)}function M6(h,g,_,k,N){return sh(),NA(N),g.flags|=256,Oi(h,g,_,k),g.child}var r2={dehydrated:null,treeContext:null,retryLane:0};function n2(h){return{baseLanes:h,cachePool:null,transitions:null}}function L6(h,g,_){var k=g.pendingProps,N=Yr.current,$=!1,V=(g.flags&128)!==0,J;if((J=V)||(J=h!==null&&h.memoizedState===null?!1:(N&2)!==0),J?($=!0,g.flags&=-129):(h===null||h.memoizedState!==null)&&(N|=1),Tr(Yr,N&1),h===null)return OA(g),h=g.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?((g.mode&1)===0?g.lanes=1:h.data==="$!"?g.lanes=8:g.lanes=1073741824,null):(V=k.children,h=k.fallback,$?(k=g.mode,$=g.child,V={mode:"hidden",children:V},(k&1)===0&&$!==null?($.childLanes=0,$.pendingProps=V):$=Qw(V,k,0,null),h=ld(h,k,_,null),$.return=g,h.return=g,$.sibling=h,g.child=$,g.child.memoizedState=n2(_),g.memoizedState=r2,h):i2(g,V));if(N=h.memoizedState,N!==null&&(J=N.dehydrated,J!==null))return nle(h,g,V,k,J,N,_);if($){$=k.fallback,V=g.mode,N=h.child,J=N.sibling;var re={mode:"hidden",children:k.children};return(V&1)===0&&g.child!==N?(k=g.child,k.childLanes=0,k.pendingProps=re,g.deletions=null):(k=Bl(N,re),k.subtreeFlags=N.subtreeFlags&14680064),J!==null?$=Bl(J,$):($=ld($,V,_,null),$.flags|=2),$.return=g,k.return=g,k.sibling=$,g.child=k,k=$,$=g.child,V=h.child.memoizedState,V=V===null?n2(_):{baseLanes:V.baseLanes|_,cachePool:null,transitions:V.transitions},$.memoizedState=V,$.childLanes=h.childLanes&~_,g.memoizedState=r2,k}return $=h.child,h=$.sibling,k=Bl($,{mode:"visible",children:k.children}),(g.mode&1)===0&&(k.lanes=_),k.return=g,k.sibling=null,h!==null&&(_=g.deletions,_===null?(g.deletions=[h],g.flags|=16):_.push(h)),g.child=k,g.memoizedState=null,k}function i2(h,g){return g=Qw({mode:"visible",children:g},h.mode,0,null),g.return=h,h.child=g}function Bw(h,g,_,k){return k!==null&&NA(k),oh(g,h.child,null,_),h=i2(g,g.pendingProps.children),h.flags|=2,g.memoizedState=null,h}function nle(h,g,_,k,N,$,V){if(_)return g.flags&256?(g.flags&=-257,k=ZA(Error(n(422))),Bw(h,g,V,k)):g.memoizedState!==null?(g.child=h.child,g.flags|=128,null):($=k.fallback,N=g.mode,k=Qw({mode:"visible",children:k.children},N,0,null),$=ld($,N,V,null),$.flags|=2,k.return=g,$.return=g,k.sibling=$,g.child=k,(g.mode&1)!==0&&oh(g,h.child,null,V),g.child.memoizedState=n2(V),g.memoizedState=r2,$);if((g.mode&1)===0)return Bw(h,g,V,null);if(N.data==="$!"){if(k=N.nextSibling&&N.nextSibling.dataset,k)var J=k.dgst;return k=J,$=Error(n(419)),k=ZA($,k,void 0),Bw(h,g,V,k)}if(J=(V&h.childLanes)!==0,Gi||J){if(k=Dn,k!==null){switch(V&-V){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=(N&(k.suspendedLanes|V))!==0?0:N,N!==0&&N!==$.retryLane&&($.retryLane=N,pc(h,N),js(k,h,N,-1))}return w2(),k=ZA(Error(n(421))),Bw(h,g,V,k)}return N.data==="$?"?(g.flags|=128,g.child=h.child,g=mle.bind(null,h),N._reactRetry=g,null):(h=$.treeContext,xa=Pl(N.nextSibling),_a=g,qr=!0,Ns=null,h!==null&&(Ha[Wa++]=fc,Ha[Wa++]=hc,Ha[Wa++]=ed,fc=h.id,hc=h.overflow,ed=g),g=i2(g,k.children),g.flags|=4096,g)}function U6(h,g,_){h.lanes|=g;var k=h.alternate;k!==null&&(k.lanes|=g),jA(h.return,g,_)}function a2(h,g,_,k,N){var $=h.memoizedState;$===null?h.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:k,tail:_,tailMode:N}:($.isBackwards=g,$.rendering=null,$.renderingStartTime=0,$.last=k,$.tail=_,$.tailMode=N)}function B6(h,g,_){var k=g.pendingProps,N=k.revealOrder,$=k.tail;if(Oi(h,g,k.children,_),k=Yr.current,(k&2)!==0)k=k&1|2,g.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=g.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&U6(h,_,g);else if(h.tag===19)U6(h,_,g);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===g)break e;for(;h.sibling===null;){if(h.return===null||h.return===g)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}k&=1}if(Tr(Yr,k),(g.mode&1)===0)g.memoizedState=null;else switch(N){case"forwards":for(_=g.child,N=null;_!==null;)h=_.alternate,h!==null&&Rw(h)===null&&(N=_),_=_.sibling;_=N,_===null?(N=g.child,g.child=null):(N=_.sibling,_.sibling=null),a2(g,!1,N,_,$);break;case"backwards":for(_=null,N=g.child,g.child=null;N!==null;){if(h=N.alternate,h!==null&&Rw(h)===null){g.child=N;break}h=N.sibling,N.sibling=_,_=N,N=h}a2(g,!0,_,null,$);break;case"together":a2(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function Fw(h,g){(g.mode&1)===0&&h!==null&&(h.alternate=null,g.alternate=null,g.flags|=2)}function mc(h,g,_){if(h!==null&&(g.dependencies=h.dependencies),ad|=g.lanes,(_&g.childLanes)===0)return null;if(h!==null&&g.child!==h.child)throw Error(n(153));if(g.child!==null){for(h=g.child,_=Bl(h,h.pendingProps),g.child=_,_.return=g;h.sibling!==null;)h=h.sibling,_=_.sibling=Bl(h,h.pendingProps),_.return=g;_.sibling=null}return g.child}function ile(h,g,_){switch(g.tag){case 3:D6(g),sh();break;case 5:e6(g);break;case 1:Vi(g.type)&&Ew(g);break;case 4:LA(g,g.stateNode.containerInfo);break;case 10:var k=g.type._context,N=g.memoizedProps.value;Tr(Pw,k._currentValue),k._currentValue=N;break;case 13:if(k=g.memoizedState,k!==null)return k.dehydrated!==null?(Tr(Yr,Yr.current&1),g.flags|=128,null):(_&g.child.childLanes)!==0?L6(h,g,_):(Tr(Yr,Yr.current&1),h=mc(h,g,_),h!==null?h.sibling:null);Tr(Yr,Yr.current&1);break;case 19:if(k=(_&g.childLanes)!==0,(h.flags&128)!==0){if(k)return B6(h,g,_);g.flags|=128}if(N=g.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),Tr(Yr,Yr.current),k)break;return null;case 22:case 23:return g.lanes=0,R6(h,g,_)}return mc(h,g,_)}var F6,s2,q6,z6;F6=function(h,g){for(var _=g.child;_!==null;){if(_.tag===5||_.tag===6)h.appendChild(_.stateNode);else if(_.tag!==4&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===g)break;for(;_.sibling===null;){if(_.return===null||_.return===g)return;_=_.return}_.sibling.return=_.return,_=_.sibling}},s2=function(){},q6=function(h,g,_,k){var N=h.memoizedProps;if(N!==k){h=g.stateNode,nd(mo.current);var $=null;switch(_){case"input":N=Ae(h,N),k=Ae(h,k),$=[];break;case"select":N=B({},N,{value:void 0}),k=B({},k,{value:void 0}),$=[];break;case"textarea":N=mn(h,N),k=mn(h,k),$=[];break;default:typeof N.onClick!="function"&&typeof k.onClick=="function"&&(h.onclick=ww)}Sn(_,k);var V;_=null;for(ce in N)if(!k.hasOwnProperty(ce)&&N.hasOwnProperty(ce)&&N[ce]!=null)if(ce==="style"){var J=N[ce];for(V in J)J.hasOwnProperty(V)&&(_||(_={}),_[V]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(a.hasOwnProperty(ce)?$||($=[]):($=$||[]).push(ce,null));for(ce in k){var re=k[ce];if(J=N!=null?N[ce]:void 0,k.hasOwnProperty(ce)&&re!==J&&(re!=null||J!=null))if(ce==="style")if(J){for(V in J)!J.hasOwnProperty(V)||re&&re.hasOwnProperty(V)||(_||(_={}),_[V]="");for(V in re)re.hasOwnProperty(V)&&J[V]!==re[V]&&(_||(_={}),_[V]=re[V])}else _||($||($=[]),$.push(ce,_)),_=re;else ce==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,J=J?J.__html:void 0,re!=null&&J!==re&&($=$||[]).push(ce,re)):ce==="children"?typeof re!="string"&&typeof re!="number"||($=$||[]).push(ce,""+re):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(a.hasOwnProperty(ce)?(re!=null&&ce==="onScroll"&&Ir("scroll",h),$||J===re||($=[])):($=$||[]).push(ce,re))}_&&($=$||[]).push("style",_);var ce=$;(g.updateQueue=ce)&&(g.flags|=4)}},z6=function(h,g,_,k){_!==k&&(g.flags|=4)};function Tm(h,g){if(!qr)switch(h.tailMode){case"hidden":g=h.tail;for(var _=null;g!==null;)g.alternate!==null&&(_=g),g=g.sibling;_===null?h.tail=null:_.sibling=null;break;case"collapsed":_=h.tail;for(var k=null;_!==null;)_.alternate!==null&&(k=_),_=_.sibling;k===null?g||h.tail===null?h.tail=null:h.tail.sibling=null:k.sibling=null}}function yi(h){var g=h.alternate!==null&&h.alternate.child===h.child,_=0,k=0;if(g)for(var N=h.child;N!==null;)_|=N.lanes|N.childLanes,k|=N.subtreeFlags&14680064,k|=N.flags&14680064,N.return=h,N=N.sibling;else for(N=h.child;N!==null;)_|=N.lanes|N.childLanes,k|=N.subtreeFlags,k|=N.flags,N.return=h,N=N.sibling;return h.subtreeFlags|=k,h.childLanes=_,g}function ale(h,g,_){var k=g.pendingProps;switch(kA(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yi(g),null;case 1:return Vi(g.type)&&xw(),yi(g),null;case 3:return k=g.stateNode,uh(),Rr(Wi),Rr(gi),FA(),k.pendingContext&&(k.context=k.pendingContext,k.pendingContext=null),(h===null||h.child===null)&&(Tw(g)?g.flags|=4:h===null||h.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,Ns!==null&&(y2(Ns),Ns=null))),s2(h,g),yi(g),null;case 5:UA(g);var N=nd(xm.current);if(_=g.type,h!==null&&g.stateNode!=null)q6(h,g,_,k,N),h.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!k){if(g.stateNode===null)throw Error(n(166));return yi(g),null}if(h=nd(mo.current),Tw(g)){k=g.stateNode,_=g.type;var $=g.memoizedProps;switch(k[go]=g,k[ym]=$,h=(g.mode&1)!==0,_){case"dialog":Ir("cancel",k),Ir("close",k);break;case"iframe":case"object":case"embed":Ir("load",k);break;case"video":case"audio":for(N=0;N<pm.length;N++)Ir(pm[N],k);break;case"source":Ir("error",k);break;case"img":case"image":case"link":Ir("error",k),Ir("load",k);break;case"details":Ir("toggle",k);break;case"input":tt(k,$),Ir("invalid",k);break;case"select":k._wrapperState={wasMultiple:!!$.multiple},Ir("invalid",k);break;case"textarea":Jn(k,$),Ir("invalid",k)}Sn(_,$),N=null;for(var V in $)if($.hasOwnProperty(V)){var J=$[V];V==="children"?typeof J=="string"?k.textContent!==J&&($.suppressHydrationWarning!==!0&&bw(k.textContent,J,h),N=["children",J]):typeof J=="number"&&k.textContent!==""+J&&($.suppressHydrationWarning!==!0&&bw(k.textContent,J,h),N=["children",""+J]):a.hasOwnProperty(V)&&J!=null&&V==="onScroll"&&Ir("scroll",k)}switch(_){case"input":Me(k),Wt(k,$,!0);break;case"textarea":Me(k),rt(k);break;case"select":case"option":break;default:typeof $.onClick=="function"&&(k.onclick=ww)}k=N,g.updateQueue=k,k!==null&&(g.flags|=4)}else{V=N.nodeType===9?N:N.ownerDocument,h==="http://www.w3.org/1999/xhtml"&&(h=oe(_)),h==="http://www.w3.org/1999/xhtml"?_==="script"?(h=V.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild)):typeof k.is=="string"?h=V.createElement(_,{is:k.is}):(h=V.createElement(_),_==="select"&&(V=h,k.multiple?V.multiple=!0:k.size&&(V.size=k.size))):h=V.createElementNS(h,_),h[go]=g,h[ym]=k,F6(h,g,!1,!1),g.stateNode=h;e:{switch(V=Pi(_,k),_){case"dialog":Ir("cancel",h),Ir("close",h),N=k;break;case"iframe":case"object":case"embed":Ir("load",h),N=k;break;case"video":case"audio":for(N=0;N<pm.length;N++)Ir(pm[N],h);N=k;break;case"source":Ir("error",h),N=k;break;case"img":case"image":case"link":Ir("error",h),Ir("load",h),N=k;break;case"details":Ir("toggle",h),N=k;break;case"input":tt(h,k),N=Ae(h,k),Ir("invalid",h);break;case"option":N=k;break;case"select":h._wrapperState={wasMultiple:!!k.multiple},N=B({},k,{value:void 0}),Ir("invalid",h);break;case"textarea":Jn(h,k),N=mn(h,k),Ir("invalid",h);break;default:N=k}Sn(_,N),J=N;for($ in J)if(J.hasOwnProperty($)){var re=J[$];$==="style"?Fr(h,re):$==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,re!=null&&st(h,re)):$==="children"?typeof re=="string"?(_!=="textarea"||re!=="")&&ke(h,re):typeof re=="number"&&ke(h,""+re):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(a.hasOwnProperty($)?re!=null&&$==="onScroll"&&Ir("scroll",h):re!=null&&E(h,$,re,V))}switch(_){case"input":Me(h),Wt(h,k,!1);break;case"textarea":Me(h),rt(h);break;case"option":k.value!=null&&h.setAttribute("value",""+Ee(k.value));break;case"select":h.multiple=!!k.multiple,$=k.value,$!=null?Kr(h,!!k.multiple,$,!1):k.defaultValue!=null&&Kr(h,!!k.multiple,k.defaultValue,!0);break;default:typeof N.onClick=="function"&&(h.onclick=ww)}switch(_){case"button":case"input":case"select":case"textarea":k=!!k.autoFocus;break e;case"img":k=!0;break e;default:k=!1}}k&&(g.flags|=4)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return yi(g),null;case 6:if(h&&g.stateNode!=null)z6(h,g,h.memoizedProps,k);else{if(typeof k!="string"&&g.stateNode===null)throw Error(n(166));if(_=nd(xm.current),nd(mo.current),Tw(g)){if(k=g.stateNode,_=g.memoizedProps,k[go]=g,($=k.nodeValue!==_)&&(h=_a,h!==null))switch(h.tag){case 3:bw(k.nodeValue,_,(h.mode&1)!==0);break;case 5:h.memoizedProps.suppressHydrationWarning!==!0&&bw(k.nodeValue,_,(h.mode&1)!==0)}$&&(g.flags|=4)}else k=(_.nodeType===9?_:_.ownerDocument).createTextNode(k),k[go]=g,g.stateNode=k}return yi(g),null;case 13:if(Rr(Yr),k=g.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(qr&&xa!==null&&(g.mode&1)!==0&&(g.flags&128)===0)V4(),sh(),g.flags|=98560,$=!1;else if($=Tw(g),k!==null&&k.dehydrated!==null){if(h===null){if(!$)throw Error(n(318));if($=g.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(n(317));$[go]=g}else sh(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;yi(g),$=!1}else Ns!==null&&(y2(Ns),Ns=null),$=!0;if(!$)return g.flags&65536?g:null}return(g.flags&128)!==0?(g.lanes=_,g):(k=k!==null,k!==(h!==null&&h.memoizedState!==null)&&k&&(g.child.flags|=8192,(g.mode&1)!==0&&(h===null||(Yr.current&1)!==0?An===0&&(An=3):w2())),g.updateQueue!==null&&(g.flags|=4),yi(g),null);case 4:return uh(),s2(h,g),h===null&&gm(g.stateNode.containerInfo),yi(g),null;case 10:return $A(g.type._context),yi(g),null;case 17:return Vi(g.type)&&xw(),yi(g),null;case 19:if(Rr(Yr),$=g.memoizedState,$===null)return yi(g),null;if(k=(g.flags&128)!==0,V=$.rendering,V===null)if(k)Tm($,!1);else{if(An!==0||h!==null&&(h.flags&128)!==0)for(h=g.child;h!==null;){if(V=Rw(h),V!==null){for(g.flags|=128,Tm($,!1),k=V.updateQueue,k!==null&&(g.updateQueue=k,g.flags|=4),g.subtreeFlags=0,k=_,_=g.child;_!==null;)$=_,h=k,$.flags&=14680066,V=$.alternate,V===null?($.childLanes=0,$.lanes=h,$.child=null,$.subtreeFlags=0,$.memoizedProps=null,$.memoizedState=null,$.updateQueue=null,$.dependencies=null,$.stateNode=null):($.childLanes=V.childLanes,$.lanes=V.lanes,$.child=V.child,$.subtreeFlags=0,$.deletions=null,$.memoizedProps=V.memoizedProps,$.memoizedState=V.memoizedState,$.updateQueue=V.updateQueue,$.type=V.type,h=V.dependencies,$.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),_=_.sibling;return Tr(Yr,Yr.current&1|2),g.child}h=h.sibling}$.tail!==null&&cn()>ph&&(g.flags|=128,k=!0,Tm($,!1),g.lanes=4194304)}else{if(!k)if(h=Rw(V),h!==null){if(g.flags|=128,k=!0,_=h.updateQueue,_!==null&&(g.updateQueue=_,g.flags|=4),Tm($,!0),$.tail===null&&$.tailMode==="hidden"&&!V.alternate&&!qr)return yi(g),null}else 2*cn()-$.renderingStartTime>ph&&_!==1073741824&&(g.flags|=128,k=!0,Tm($,!1),g.lanes=4194304);$.isBackwards?(V.sibling=g.child,g.child=V):(_=$.last,_!==null?_.sibling=V:g.child=V,$.last=V)}return $.tail!==null?(g=$.tail,$.rendering=g,$.tail=g.sibling,$.renderingStartTime=cn(),g.sibling=null,_=Yr.current,Tr(Yr,k?_&1|2:_&1),g):(yi(g),null);case 22:case 23:return b2(),k=g.memoizedState!==null,h!==null&&h.memoizedState!==null!==k&&(g.flags|=8192),k&&(g.mode&1)!==0?(Ea&1073741824)!==0&&(yi(g),g.subtreeFlags&6&&(g.flags|=8192)):yi(g),null;case 24:return null;case 25:return null}throw Error(n(156,g.tag))}function sle(h,g){switch(kA(g),g.tag){case 1:return Vi(g.type)&&xw(),h=g.flags,h&65536?(g.flags=h&-65537|128,g):null;case 3:return uh(),Rr(Wi),Rr(gi),FA(),h=g.flags,(h&65536)!==0&&(h&128)===0?(g.flags=h&-65537|128,g):null;case 5:return UA(g),null;case 13:if(Rr(Yr),h=g.memoizedState,h!==null&&h.dehydrated!==null){if(g.alternate===null)throw Error(n(340));sh()}return h=g.flags,h&65536?(g.flags=h&-65537|128,g):null;case 19:return Rr(Yr),null;case 4:return uh(),null;case 10:return $A(g.type._context),null;case 22:case 23:return b2(),null;case 24:return null;default:return null}}var qw=!1,vi=!1,ole=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function fh(h,g){var _=h.ref;if(_!==null)if(typeof _=="function")try{_(null)}catch(k){en(h,g,k)}else _.current=null}function o2(h,g,_){try{_()}catch(k){en(h,g,k)}}var H6=!1;function cle(h,g){if(bA=cw,h=x4(),dA(h)){if("selectionStart"in h)var _={start:h.selectionStart,end:h.selectionEnd};else e:{_=(_=h.ownerDocument)&&_.defaultView||window;var k=_.getSelection&&_.getSelection();if(k&&k.rangeCount!==0){_=k.anchorNode;var N=k.anchorOffset,$=k.focusNode;k=k.focusOffset;try{_.nodeType,$.nodeType}catch{_=null;break e}var V=0,J=-1,re=-1,ce=0,ve=0,_e=h,ye=null;t:for(;;){for(var Ue;_e!==_||N!==0&&_e.nodeType!==3||(J=V+N),_e!==$||k!==0&&_e.nodeType!==3||(re=V+k),_e.nodeType===3&&(V+=_e.nodeValue.length),(Ue=_e.firstChild)!==null;)ye=_e,_e=Ue;for(;;){if(_e===h)break t;if(ye===_&&++ce===N&&(J=V),ye===$&&++ve===k&&(re=V),(Ue=_e.nextSibling)!==null)break;_e=ye,ye=_e.parentNode}_e=Ue}_=J===-1||re===-1?null:{start:J,end:re}}else _=null}_=_||{start:0,end:0}}else _=null;for(wA={focusedElem:h,selectionRange:_},cw=!1,Ke=g;Ke!==null;)if(g=Ke,h=g.child,(g.subtreeFlags&1028)!==0&&h!==null)h.return=g,Ke=h;else for(;Ke!==null;){g=Ke;try{var et=g.alternate;if((g.flags&1024)!==0)switch(g.tag){case 0:case 11:case 15:break;case 1:if(et!==null){var nt=et.memoizedProps,ln=et.memoizedState,ie=g.stateNode,ne=ie.getSnapshotBeforeUpdate(g.elementType===g.type?nt:Is(g.type,nt),ln);ie.__reactInternalSnapshotBeforeUpdate=ne}break;case 3:var se=g.stateNode.containerInfo;se.nodeType===1?se.textContent="":se.nodeType===9&&se.documentElement&&se.removeChild(se.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Pe){en(g,g.return,Pe)}if(h=g.sibling,h!==null){h.return=g.return,Ke=h;break}Ke=g.return}return et=H6,H6=!1,et}function km(h,g,_){var k=g.updateQueue;if(k=k!==null?k.lastEffect:null,k!==null){var N=k=k.next;do{if((N.tag&h)===h){var $=N.destroy;N.destroy=void 0,$!==void 0&&o2(g,_,$)}N=N.next}while(N!==k)}}function zw(h,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var _=g=g.next;do{if((_.tag&h)===h){var k=_.create;_.destroy=k()}_=_.next}while(_!==g)}}function c2(h){var g=h.ref;if(g!==null){var _=h.stateNode;switch(h.tag){case 5:h=_;break;default:h=_}typeof g=="function"?g(h):g.current=h}}function W6(h){var g=h.alternate;g!==null&&(h.alternate=null,W6(g)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(g=h.stateNode,g!==null&&(delete g[go],delete g[ym],delete g[SA],delete g[Hce],delete g[Wce])),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function V6(h){return h.tag===5||h.tag===3||h.tag===4}function G6(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||V6(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function l2(h,g,_){var k=h.tag;if(k===5||k===6)h=h.stateNode,g?_.nodeType===8?_.parentNode.insertBefore(h,g):_.insertBefore(h,g):(_.nodeType===8?(g=_.parentNode,g.insertBefore(h,_)):(g=_,g.appendChild(h)),_=_._reactRootContainer,_!=null||g.onclick!==null||(g.onclick=ww));else if(k!==4&&(h=h.child,h!==null))for(l2(h,g,_),h=h.sibling;h!==null;)l2(h,g,_),h=h.sibling}function u2(h,g,_){var k=h.tag;if(k===5||k===6)h=h.stateNode,g?_.insertBefore(h,g):_.appendChild(h);else if(k!==4&&(h=h.child,h!==null))for(u2(h,g,_),h=h.sibling;h!==null;)u2(h,g,_),h=h.sibling}var Zn=null,Rs=!1;function jl(h,g,_){for(_=_.child;_!==null;)K6(h,g,_),_=_.sibling}function K6(h,g,_){if(po&&typeof po.onCommitFiberUnmount=="function")try{po.onCommitFiberUnmount(rw,_)}catch{}switch(_.tag){case 5:vi||fh(_,g);case 6:var k=Zn,N=Rs;Zn=null,jl(h,g,_),Zn=k,Rs=N,Zn!==null&&(Rs?(h=Zn,_=_.stateNode,h.nodeType===8?h.parentNode.removeChild(_):h.removeChild(_)):Zn.removeChild(_.stateNode));break;case 18:Zn!==null&&(Rs?(h=Zn,_=_.stateNode,h.nodeType===8?EA(h.parentNode,_):h.nodeType===1&&EA(h,_),sm(h)):EA(Zn,_.stateNode));break;case 4:k=Zn,N=Rs,Zn=_.stateNode.containerInfo,Rs=!0,jl(h,g,_),Zn=k,Rs=N;break;case 0:case 11:case 14:case 15:if(!vi&&(k=_.updateQueue,k!==null&&(k=k.lastEffect,k!==null))){N=k=k.next;do{var $=N,V=$.destroy;$=$.tag,V!==void 0&&(($&2)!==0||($&4)!==0)&&o2(_,g,V),N=N.next}while(N!==k)}jl(h,g,_);break;case 1:if(!vi&&(fh(_,g),k=_.stateNode,typeof k.componentWillUnmount=="function"))try{k.props=_.memoizedProps,k.state=_.memoizedState,k.componentWillUnmount()}catch(J){en(_,g,J)}jl(h,g,_);break;case 21:jl(h,g,_);break;case 22:_.mode&1?(vi=(k=vi)||_.memoizedState!==null,jl(h,g,_),vi=k):jl(h,g,_);break;default:jl(h,g,_)}}function Y6(h){var g=h.updateQueue;if(g!==null){h.updateQueue=null;var _=h.stateNode;_===null&&(_=h.stateNode=new ole),g.forEach(function(k){var N=yle.bind(null,h,k);_.has(k)||(_.add(k),k.then(N,N))})}}function $s(h,g){var _=g.deletions;if(_!==null)for(var k=0;k<_.length;k++){var N=_[k];try{var $=h,V=g,J=V;e:for(;J!==null;){switch(J.tag){case 5:Zn=J.stateNode,Rs=!1;break e;case 3:Zn=J.stateNode.containerInfo,Rs=!0;break e;case 4:Zn=J.stateNode.containerInfo,Rs=!0;break e}J=J.return}if(Zn===null)throw Error(n(160));K6($,V,N),Zn=null,Rs=!1;var re=N.alternate;re!==null&&(re.return=null),N.return=null}catch(ce){en(N,g,ce)}}if(g.subtreeFlags&12854)for(g=g.child;g!==null;)X6(g,h),g=g.sibling}function X6(h,g){var _=h.alternate,k=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:if($s(g,h),vo(h),k&4){try{km(3,h,h.return),zw(3,h)}catch(nt){en(h,h.return,nt)}try{km(5,h,h.return)}catch(nt){en(h,h.return,nt)}}break;case 1:$s(g,h),vo(h),k&512&&_!==null&&fh(_,_.return);break;case 5:if($s(g,h),vo(h),k&512&&_!==null&&fh(_,_.return),h.flags&32){var N=h.stateNode;try{ke(N,"")}catch(nt){en(h,h.return,nt)}}if(k&4&&(N=h.stateNode,N!=null)){var $=h.memoizedProps,V=_!==null?_.memoizedProps:$,J=h.type,re=h.updateQueue;if(h.updateQueue=null,re!==null)try{J==="input"&&$.type==="radio"&&$.name!=null&&Nt(N,$),Pi(J,V);var ce=Pi(J,$);for(V=0;V<re.length;V+=2){var ve=re[V],_e=re[V+1];ve==="style"?Fr(N,_e):ve==="dangerouslySetInnerHTML"?st(N,_e):ve==="children"?ke(N,_e):E(N,ve,_e,ce)}switch(J){case"input":ct(N,$);break;case"textarea":Re(N,$);break;case"select":var ye=N._wrapperState.wasMultiple;N._wrapperState.wasMultiple=!!$.multiple;var Ue=$.value;Ue!=null?Kr(N,!!$.multiple,Ue,!1):ye!==!!$.multiple&&($.defaultValue!=null?Kr(N,!!$.multiple,$.defaultValue,!0):Kr(N,!!$.multiple,$.multiple?[]:"",!1))}N[ym]=$}catch(nt){en(h,h.return,nt)}}break;case 6:if($s(g,h),vo(h),k&4){if(h.stateNode===null)throw Error(n(162));N=h.stateNode,$=h.memoizedProps;try{N.nodeValue=$}catch(nt){en(h,h.return,nt)}}break;case 3:if($s(g,h),vo(h),k&4&&_!==null&&_.memoizedState.isDehydrated)try{sm(g.containerInfo)}catch(nt){en(h,h.return,nt)}break;case 4:$s(g,h),vo(h);break;case 13:$s(g,h),vo(h),N=h.child,N.flags&8192&&($=N.memoizedState!==null,N.stateNode.isHidden=$,!$||N.alternate!==null&&N.alternate.memoizedState!==null||(h2=cn())),k&4&&Y6(h);break;case 22:if(ve=_!==null&&_.memoizedState!==null,h.mode&1?(vi=(ce=vi)||ve,$s(g,h),vi=ce):$s(g,h),vo(h),k&8192){if(ce=h.memoizedState!==null,(h.stateNode.isHidden=ce)&&!ve&&(h.mode&1)!==0)for(Ke=h,ve=h.child;ve!==null;){for(_e=Ke=ve;Ke!==null;){switch(ye=Ke,Ue=ye.child,ye.tag){case 0:case 11:case 14:case 15:km(4,ye,ye.return);break;case 1:fh(ye,ye.return);var et=ye.stateNode;if(typeof et.componentWillUnmount=="function"){k=ye,_=ye.return;try{g=k,et.props=g.memoizedProps,et.state=g.memoizedState,et.componentWillUnmount()}catch(nt){en(k,_,nt)}}break;case 5:fh(ye,ye.return);break;case 22:if(ye.memoizedState!==null){Q6(_e);continue}}Ue!==null?(Ue.return=ye,Ke=Ue):Q6(_e)}ve=ve.sibling}e:for(ve=null,_e=h;;){if(_e.tag===5){if(ve===null){ve=_e;try{N=_e.stateNode,ce?($=N.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none"):(J=_e.stateNode,re=_e.memoizedProps.style,V=re!=null&&re.hasOwnProperty("display")?re.display:null,J.style.display=Mt("display",V))}catch(nt){en(h,h.return,nt)}}}else if(_e.tag===6){if(ve===null)try{_e.stateNode.nodeValue=ce?"":_e.memoizedProps}catch(nt){en(h,h.return,nt)}}else if((_e.tag!==22&&_e.tag!==23||_e.memoizedState===null||_e===h)&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===h)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===h)break e;ve===_e&&(ve=null),_e=_e.return}ve===_e&&(ve=null),_e.sibling.return=_e.return,_e=_e.sibling}}break;case 19:$s(g,h),vo(h),k&4&&Y6(h);break;case 21:break;default:$s(g,h),vo(h)}}function vo(h){var g=h.flags;if(g&2){try{e:{for(var _=h.return;_!==null;){if(V6(_)){var k=_;break e}_=_.return}throw Error(n(160))}switch(k.tag){case 5:var N=k.stateNode;k.flags&32&&(ke(N,""),k.flags&=-33);var $=G6(h);u2(h,$,N);break;case 3:case 4:var V=k.stateNode.containerInfo,J=G6(h);l2(h,J,V);break;default:throw Error(n(161))}}catch(re){en(h,h.return,re)}h.flags&=-3}g&4096&&(h.flags&=-4097)}function lle(h,g,_){Ke=h,J6(h)}function J6(h,g,_){for(var k=(h.mode&1)!==0;Ke!==null;){var N=Ke,$=N.child;if(N.tag===22&&k){var V=N.memoizedState!==null||qw;if(!V){var J=N.alternate,re=J!==null&&J.memoizedState!==null||vi;J=qw;var ce=vi;if(qw=V,(vi=re)&&!ce)for(Ke=N;Ke!==null;)V=Ke,re=V.child,V.tag===22&&V.memoizedState!==null?eL(N):re!==null?(re.return=V,Ke=re):eL(N);for(;$!==null;)Ke=$,J6($),$=$.sibling;Ke=N,qw=J,vi=ce}Z6(h)}else(N.subtreeFlags&8772)!==0&&$!==null?($.return=N,Ke=$):Z6(h)}}function Z6(h){for(;Ke!==null;){var g=Ke;if((g.flags&8772)!==0){var _=g.alternate;try{if((g.flags&8772)!==0)switch(g.tag){case 0:case 11:case 15:vi||zw(5,g);break;case 1:var k=g.stateNode;if(g.flags&4&&!vi)if(_===null)k.componentDidMount();else{var N=g.elementType===g.type?_.memoizedProps:Is(g.type,_.memoizedProps);k.componentDidUpdate(N,_.memoizedState,k.__reactInternalSnapshotBeforeUpdate)}var $=g.updateQueue;$!==null&&Q4(g,$,k);break;case 3:var V=g.updateQueue;if(V!==null){if(_=null,g.child!==null)switch(g.child.tag){case 5:_=g.child.stateNode;break;case 1:_=g.child.stateNode}Q4(g,V,_)}break;case 5:var J=g.stateNode;if(_===null&&g.flags&4){_=J;var re=g.memoizedProps;switch(g.type){case"button":case"input":case"select":case"textarea":re.autoFocus&&_.focus();break;case"img":re.src&&(_.src=re.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(g.memoizedState===null){var ce=g.alternate;if(ce!==null){var ve=ce.memoizedState;if(ve!==null){var _e=ve.dehydrated;_e!==null&&sm(_e)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}vi||g.flags&512&&c2(g)}catch(ye){en(g,g.return,ye)}}if(g===h){Ke=null;break}if(_=g.sibling,_!==null){_.return=g.return,Ke=_;break}Ke=g.return}}function Q6(h){for(;Ke!==null;){var g=Ke;if(g===h){Ke=null;break}var _=g.sibling;if(_!==null){_.return=g.return,Ke=_;break}Ke=g.return}}function eL(h){for(;Ke!==null;){var g=Ke;try{switch(g.tag){case 0:case 11:case 15:var _=g.return;try{zw(4,g)}catch(re){en(g,_,re)}break;case 1:var k=g.stateNode;if(typeof k.componentDidMount=="function"){var N=g.return;try{k.componentDidMount()}catch(re){en(g,N,re)}}var $=g.return;try{c2(g)}catch(re){en(g,$,re)}break;case 5:var V=g.return;try{c2(g)}catch(re){en(g,V,re)}}}catch(re){en(g,g.return,re)}if(g===h){Ke=null;break}var J=g.sibling;if(J!==null){J.return=g.return,Ke=J;break}Ke=g.return}}var ule=Math.ceil,Hw=A.ReactCurrentDispatcher,d2=A.ReactCurrentOwner,Ka=A.ReactCurrentBatchConfig,Zt=0,Dn=null,yn=null,Qn=0,Ea=0,hh=Ol(0),An=0,Pm=null,ad=0,Ww=0,f2=0,Om=null,Ki=null,h2=0,ph=1/0,yc=null,Vw=!1,p2=null,Dl=null,Gw=!1,Ml=null,Kw=0,Nm=0,g2=null,Yw=-1,Xw=0;function Ni(){return(Zt&6)!==0?cn():Yw!==-1?Yw:Yw=cn()}function Ll(h){return(h.mode&1)===0?1:(Zt&2)!==0&&Qn!==0?Qn&-Qn:Gce.transition!==null?(Xw===0&&(Xw=GM()),Xw):(h=fr,h!==0||(h=window.event,h=h===void 0?16:r4(h.type)),h)}function js(h,g,_,k){if(50<Nm)throw Nm=0,g2=null,Error(n(185));tm(h,_,k),((Zt&2)===0||h!==Dn)&&(h===Dn&&((Zt&2)===0&&(Ww|=_),An===4&&Ul(h,Qn)),Yi(h,k),_===1&&Zt===0&&(g.mode&1)===0&&(ph=cn()+500,Sw&&Il()))}function Yi(h,g){var _=h.callbackNode;Goe(h,g);var k=aw(h,h===Dn?Qn:0);if(k===0)_!==null&&HM(_),h.callbackNode=null,h.callbackPriority=0;else if(g=k&-k,h.callbackPriority!==g){if(_!=null&&HM(_),g===1)h.tag===0?Vce(rL.bind(null,h)):F4(rL.bind(null,h)),qce(function(){(Zt&6)===0&&Il()}),_=null;else{switch(KM(k)){case 1:_=KC;break;case 4:_=WM;break;case 16:_=tw;break;case 536870912:_=VM;break;default:_=tw}_=uL(_,tL.bind(null,h))}h.callbackPriority=g,h.callbackNode=_}}function tL(h,g){if(Yw=-1,Xw=0,(Zt&6)!==0)throw Error(n(327));var _=h.callbackNode;if(gh()&&h.callbackNode!==_)return null;var k=aw(h,h===Dn?Qn:0);if(k===0)return null;if((k&30)!==0||(k&h.expiredLanes)!==0||g)g=Jw(h,k);else{g=k;var N=Zt;Zt|=2;var $=iL();(Dn!==h||Qn!==g)&&(yc=null,ph=cn()+500,od(h,g));do try{hle();break}catch(J){nL(h,J)}while(!0);RA(),Hw.current=$,Zt=N,yn!==null?g=0:(Dn=null,Qn=0,g=An)}if(g!==0){if(g===2&&(N=YC(h),N!==0&&(k=N,g=m2(h,N))),g===1)throw _=Pm,od(h,0),Ul(h,k),Yi(h,cn()),_;if(g===6)Ul(h,k);else{if(N=h.current.alternate,(k&30)===0&&!dle(N)&&(g=Jw(h,k),g===2&&($=YC(h),$!==0&&(k=$,g=m2(h,$))),g===1))throw _=Pm,od(h,0),Ul(h,k),Yi(h,cn()),_;switch(h.finishedWork=N,h.finishedLanes=k,g){case 0:case 1:throw Error(n(345));case 2:cd(h,Ki,yc);break;case 3:if(Ul(h,k),(k&130023424)===k&&(g=h2+500-cn(),10<g)){if(aw(h,0)!==0)break;if(N=h.suspendedLanes,(N&k)!==k){Ni(),h.pingedLanes|=h.suspendedLanes&N;break}h.timeoutHandle=xA(cd.bind(null,h,Ki,yc),g);break}cd(h,Ki,yc);break;case 4:if(Ul(h,k),(k&4194240)===k)break;for(g=h.eventTimes,N=-1;0<k;){var V=31-Ps(k);$=1<<V,V=g[V],V>N&&(N=V),k&=~$}if(k=N,k=cn()-k,k=(120>k?120:480>k?480:1080>k?1080:1920>k?1920:3e3>k?3e3:4320>k?4320:1960*ule(k/1960))-k,10<k){h.timeoutHandle=xA(cd.bind(null,h,Ki,yc),k);break}cd(h,Ki,yc);break;case 5:cd(h,Ki,yc);break;default:throw Error(n(329))}}}return Yi(h,cn()),h.callbackNode===_?tL.bind(null,h):null}function m2(h,g){var _=Om;return h.current.memoizedState.isDehydrated&&(od(h,g).flags|=256),h=Jw(h,g),h!==2&&(g=Ki,Ki=_,g!==null&&y2(g)),h}function y2(h){Ki===null?Ki=h:Ki.push.apply(Ki,h)}function dle(h){for(var g=h;;){if(g.flags&16384){var _=g.updateQueue;if(_!==null&&(_=_.stores,_!==null))for(var k=0;k<_.length;k++){var N=_[k],$=N.getSnapshot;N=N.value;try{if(!Os($(),N))return!1}catch{return!1}}}if(_=g.child,g.subtreeFlags&16384&&_!==null)_.return=g,g=_;else{if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function Ul(h,g){for(g&=~f2,g&=~Ww,h.suspendedLanes|=g,h.pingedLanes&=~g,h=h.expirationTimes;0<g;){var _=31-Ps(g),k=1<<_;h[_]=-1,g&=~k}}function rL(h){if((Zt&6)!==0)throw Error(n(327));gh();var g=aw(h,0);if((g&1)===0)return Yi(h,cn()),null;var _=Jw(h,g);if(h.tag!==0&&_===2){var k=YC(h);k!==0&&(g=k,_=m2(h,k))}if(_===1)throw _=Pm,od(h,0),Ul(h,g),Yi(h,cn()),_;if(_===6)throw Error(n(345));return h.finishedWork=h.current.alternate,h.finishedLanes=g,cd(h,Ki,yc),Yi(h,cn()),null}function v2(h,g){var _=Zt;Zt|=1;try{return h(g)}finally{Zt=_,Zt===0&&(ph=cn()+500,Sw&&Il())}}function sd(h){Ml!==null&&Ml.tag===0&&(Zt&6)===0&&gh();var g=Zt;Zt|=1;var _=Ka.transition,k=fr;try{if(Ka.transition=null,fr=1,h)return h()}finally{fr=k,Ka.transition=_,Zt=g,(Zt&6)===0&&Il()}}function b2(){Ea=hh.current,Rr(hh)}function od(h,g){h.finishedWork=null,h.finishedLanes=0;var _=h.timeoutHandle;if(_!==-1&&(h.timeoutHandle=-1,Fce(_)),yn!==null)for(_=yn.return;_!==null;){var k=_;switch(kA(k),k.tag){case 1:k=k.type.childContextTypes,k!=null&&xw();break;case 3:uh(),Rr(Wi),Rr(gi),FA();break;case 5:UA(k);break;case 4:uh();break;case 13:Rr(Yr);break;case 19:Rr(Yr);break;case 10:$A(k.type._context);break;case 22:case 23:b2()}_=_.return}if(Dn=h,yn=h=Bl(h.current,null),Qn=Ea=g,An=0,Pm=null,f2=Ww=ad=0,Ki=Om=null,rd!==null){for(g=0;g<rd.length;g++)if(_=rd[g],k=_.interleaved,k!==null){_.interleaved=null;var N=k.next,$=_.pending;if($!==null){var V=$.next;$.next=N,k.next=V}_.pending=k}rd=null}return h}function nL(h,g){do{var _=yn;try{if(RA(),$w.current=Lw,jw){for(var k=Xr.memoizedState;k!==null;){var N=k.queue;N!==null&&(N.pending=null),k=k.next}jw=!1}if(id=0,jn=Cn=Xr=null,Em=!1,Sm=0,d2.current=null,_===null||_.return===null){An=1,Pm=g,yn=null;break}e:{var $=h,V=_.return,J=_,re=g;if(g=Qn,J.flags|=32768,re!==null&&typeof re=="object"&&typeof re.then=="function"){var ce=re,ve=J,_e=ve.tag;if((ve.mode&1)===0&&(_e===0||_e===11||_e===15)){var ye=ve.alternate;ye?(ve.updateQueue=ye.updateQueue,ve.memoizedState=ye.memoizedState,ve.lanes=ye.lanes):(ve.updateQueue=null,ve.memoizedState=null)}var Ue=k6(V);if(Ue!==null){Ue.flags&=-257,P6(Ue,V,J,$,g),Ue.mode&1&&T6($,ce,g),g=Ue,re=ce;var et=g.updateQueue;if(et===null){var nt=new Set;nt.add(re),g.updateQueue=nt}else et.add(re);break e}else{if((g&1)===0){T6($,ce,g),w2();break e}re=Error(n(426))}}else if(qr&&J.mode&1){var ln=k6(V);if(ln!==null){(ln.flags&65536)===0&&(ln.flags|=256),P6(ln,V,J,$,g),NA(dh(re,J));break e}}$=re=dh(re,J),An!==4&&(An=2),Om===null?Om=[$]:Om.push($),$=V;do{switch($.tag){case 3:$.flags|=65536,g&=-g,$.lanes|=g;var ie=C6($,re,g);Z4($,ie);break e;case 1:J=re;var ne=$.type,se=$.stateNode;if(($.flags&128)===0&&(typeof ne.getDerivedStateFromError=="function"||se!==null&&typeof se.componentDidCatch=="function"&&(Dl===null||!Dl.has(se)))){$.flags|=65536,g&=-g,$.lanes|=g;var Pe=A6($,J,g);Z4($,Pe);break e}}$=$.return}while($!==null)}sL(_)}catch(it){g=it,yn===_&&_!==null&&(yn=_=_.return);continue}break}while(!0)}function iL(){var h=Hw.current;return Hw.current=Lw,h===null?Lw:h}function w2(){(An===0||An===3||An===2)&&(An=4),Dn===null||(ad&268435455)===0&&(Ww&268435455)===0||Ul(Dn,Qn)}function Jw(h,g){var _=Zt;Zt|=2;var k=iL();(Dn!==h||Qn!==g)&&(yc=null,od(h,g));do try{fle();break}catch(N){nL(h,N)}while(!0);if(RA(),Zt=_,Hw.current=k,yn!==null)throw Error(n(261));return Dn=null,Qn=0,An}function fle(){for(;yn!==null;)aL(yn)}function hle(){for(;yn!==null&&!Loe();)aL(yn)}function aL(h){var g=lL(h.alternate,h,Ea);h.memoizedProps=h.pendingProps,g===null?sL(h):yn=g,d2.current=null}function sL(h){var g=h;do{var _=g.alternate;if(h=g.return,(g.flags&32768)===0){if(_=ale(_,g,Ea),_!==null){yn=_;return}}else{if(_=sle(_,g),_!==null){_.flags&=32767,yn=_;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{An=6,yn=null;return}}if(g=g.sibling,g!==null){yn=g;return}yn=g=h}while(g!==null);An===0&&(An=5)}function cd(h,g,_){var k=fr,N=Ka.transition;try{Ka.transition=null,fr=1,ple(h,g,_,k)}finally{Ka.transition=N,fr=k}return null}function ple(h,g,_,k){do gh();while(Ml!==null);if((Zt&6)!==0)throw Error(n(327));_=h.finishedWork;var N=h.finishedLanes;if(_===null)return null;if(h.finishedWork=null,h.finishedLanes=0,_===h.current)throw Error(n(177));h.callbackNode=null,h.callbackPriority=0;var $=_.lanes|_.childLanes;if(Koe(h,$),h===Dn&&(yn=Dn=null,Qn=0),(_.subtreeFlags&2064)===0&&(_.flags&2064)===0||Gw||(Gw=!0,uL(tw,function(){return gh(),null})),$=(_.flags&15990)!==0,(_.subtreeFlags&15990)!==0||$){$=Ka.transition,Ka.transition=null;var V=fr;fr=1;var J=Zt;Zt|=4,d2.current=null,cle(h,_),X6(_,h),$ce(wA),cw=!!bA,wA=bA=null,h.current=_,lle(_),Uoe(),Zt=J,fr=V,Ka.transition=$}else h.current=_;if(Gw&&(Gw=!1,Ml=h,Kw=N),$=h.pendingLanes,$===0&&(Dl=null),qoe(_.stateNode),Yi(h,cn()),g!==null)for(k=h.onRecoverableError,_=0;_<g.length;_++)N=g[_],k(N.value,{componentStack:N.stack,digest:N.digest});if(Vw)throw Vw=!1,h=p2,p2=null,h;return(Kw&1)!==0&&h.tag!==0&&gh(),$=h.pendingLanes,($&1)!==0?h===g2?Nm++:(Nm=0,g2=h):Nm=0,Il(),null}function gh(){if(Ml!==null){var h=KM(Kw),g=Ka.transition,_=fr;try{if(Ka.transition=null,fr=16>h?16:h,Ml===null)var k=!1;else{if(h=Ml,Ml=null,Kw=0,(Zt&6)!==0)throw Error(n(331));var N=Zt;for(Zt|=4,Ke=h.current;Ke!==null;){var $=Ke,V=$.child;if((Ke.flags&16)!==0){var J=$.deletions;if(J!==null){for(var re=0;re<J.length;re++){var ce=J[re];for(Ke=ce;Ke!==null;){var ve=Ke;switch(ve.tag){case 0:case 11:case 15:km(8,ve,$)}var _e=ve.child;if(_e!==null)_e.return=ve,Ke=_e;else for(;Ke!==null;){ve=Ke;var ye=ve.sibling,Ue=ve.return;if(W6(ve),ve===ce){Ke=null;break}if(ye!==null){ye.return=Ue,Ke=ye;break}Ke=Ue}}}var et=$.alternate;if(et!==null){var nt=et.child;if(nt!==null){et.child=null;do{var ln=nt.sibling;nt.sibling=null,nt=ln}while(nt!==null)}}Ke=$}}if(($.subtreeFlags&2064)!==0&&V!==null)V.return=$,Ke=V;else e:for(;Ke!==null;){if($=Ke,($.flags&2048)!==0)switch($.tag){case 0:case 11:case 15:km(9,$,$.return)}var ie=$.sibling;if(ie!==null){ie.return=$.return,Ke=ie;break e}Ke=$.return}}var ne=h.current;for(Ke=ne;Ke!==null;){V=Ke;var se=V.child;if((V.subtreeFlags&2064)!==0&&se!==null)se.return=V,Ke=se;else e:for(V=ne;Ke!==null;){if(J=Ke,(J.flags&2048)!==0)try{switch(J.tag){case 0:case 11:case 15:zw(9,J)}}catch(it){en(J,J.return,it)}if(J===V){Ke=null;break e}var Pe=J.sibling;if(Pe!==null){Pe.return=J.return,Ke=Pe;break e}Ke=J.return}}if(Zt=N,Il(),po&&typeof po.onPostCommitFiberRoot=="function")try{po.onPostCommitFiberRoot(rw,h)}catch{}k=!0}return k}finally{fr=_,Ka.transition=g}}return!1}function oL(h,g,_){g=dh(_,g),g=C6(h,g,1),h=$l(h,g,1),g=Ni(),h!==null&&(tm(h,1,g),Yi(h,g))}function en(h,g,_){if(h.tag===3)oL(h,h,_);else for(;g!==null;){if(g.tag===3){oL(g,h,_);break}else if(g.tag===1){var k=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof k.componentDidCatch=="function"&&(Dl===null||!Dl.has(k))){h=dh(_,h),h=A6(g,h,1),g=$l(g,h,1),h=Ni(),g!==null&&(tm(g,1,h),Yi(g,h));break}}g=g.return}}function gle(h,g,_){var k=h.pingCache;k!==null&&k.delete(g),g=Ni(),h.pingedLanes|=h.suspendedLanes&_,Dn===h&&(Qn&_)===_&&(An===4||An===3&&(Qn&130023424)===Qn&&500>cn()-h2?od(h,0):f2|=_),Yi(h,g)}function cL(h,g){g===0&&((h.mode&1)===0?g=1:(g=iw,iw<<=1,(iw&130023424)===0&&(iw=4194304)));var _=Ni();h=pc(h,g),h!==null&&(tm(h,g,_),Yi(h,_))}function mle(h){var g=h.memoizedState,_=0;g!==null&&(_=g.retryLane),cL(h,_)}function yle(h,g){var _=0;switch(h.tag){case 13:var k=h.stateNode,N=h.memoizedState;N!==null&&(_=N.retryLane);break;case 19:k=h.stateNode;break;default:throw Error(n(314))}k!==null&&k.delete(g),cL(h,_)}var lL;lL=function(h,g,_){if(h!==null)if(h.memoizedProps!==g.pendingProps||Wi.current)Gi=!0;else{if((h.lanes&_)===0&&(g.flags&128)===0)return Gi=!1,ile(h,g,_);Gi=(h.flags&131072)!==0}else Gi=!1,qr&&(g.flags&1048576)!==0&&q4(g,Aw,g.index);switch(g.lanes=0,g.tag){case 2:var k=g.type;Fw(h,g),h=g.pendingProps;var N=nh(g,gi.current);lh(g,_),N=HA(null,g,k,h,N,_);var $=WA();return g.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,Vi(k)?($=!0,Ew(g)):$=!1,g.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,MA(g),N.updater=Uw,g.stateNode=N,N._reactInternals=g,JA(g,k,h,_),g=t2(null,g,k,!0,$,_)):(g.tag=0,qr&&$&&TA(g),Oi(null,g,N,_),g=g.child),g;case 16:k=g.elementType;e:{switch(Fw(h,g),h=g.pendingProps,N=k._init,k=N(k._payload),g.type=k,N=g.tag=ble(k),h=Is(k,h),N){case 0:g=e2(null,g,k,h,_);break e;case 1:g=j6(null,g,k,h,_);break e;case 11:g=O6(null,g,k,h,_);break e;case 14:g=N6(null,g,k,Is(k.type,h),_);break e}throw Error(n(306,k,""))}return g;case 0:return k=g.type,N=g.pendingProps,N=g.elementType===k?N:Is(k,N),e2(h,g,k,N,_);case 1:return k=g.type,N=g.pendingProps,N=g.elementType===k?N:Is(k,N),j6(h,g,k,N,_);case 3:e:{if(D6(g),h===null)throw Error(n(387));k=g.pendingProps,$=g.memoizedState,N=$.element,J4(h,g),Iw(g,k,null,_);var V=g.memoizedState;if(k=V.element,$.isDehydrated)if($={element:k,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},g.updateQueue.baseState=$,g.memoizedState=$,g.flags&256){N=dh(Error(n(423)),g),g=M6(h,g,k,_,N);break e}else if(k!==N){N=dh(Error(n(424)),g),g=M6(h,g,k,_,N);break e}else for(xa=Pl(g.stateNode.containerInfo.firstChild),_a=g,qr=!0,Ns=null,_=Y4(g,null,k,_),g.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(sh(),k===N){g=mc(h,g,_);break e}Oi(h,g,k,_)}g=g.child}return g;case 5:return e6(g),h===null&&OA(g),k=g.type,N=g.pendingProps,$=h!==null?h.memoizedProps:null,V=N.children,_A(k,N)?V=null:$!==null&&_A(k,$)&&(g.flags|=32),$6(h,g),Oi(h,g,V,_),g.child;case 6:return h===null&&OA(g),null;case 13:return L6(h,g,_);case 4:return LA(g,g.stateNode.containerInfo),k=g.pendingProps,h===null?g.child=oh(g,null,k,_):Oi(h,g,k,_),g.child;case 11:return k=g.type,N=g.pendingProps,N=g.elementType===k?N:Is(k,N),O6(h,g,k,N,_);case 7:return Oi(h,g,g.pendingProps,_),g.child;case 8:return Oi(h,g,g.pendingProps.children,_),g.child;case 12:return Oi(h,g,g.pendingProps.children,_),g.child;case 10:e:{if(k=g.type._context,N=g.pendingProps,$=g.memoizedProps,V=N.value,Tr(Pw,k._currentValue),k._currentValue=V,$!==null)if(Os($.value,V)){if($.children===N.children&&!Wi.current){g=mc(h,g,_);break e}}else for($=g.child,$!==null&&($.return=g);$!==null;){var J=$.dependencies;if(J!==null){V=$.child;for(var re=J.firstContext;re!==null;){if(re.context===k){if($.tag===1){re=gc(-1,_&-_),re.tag=2;var ce=$.updateQueue;if(ce!==null){ce=ce.shared;var ve=ce.pending;ve===null?re.next=re:(re.next=ve.next,ve.next=re),ce.pending=re}}$.lanes|=_,re=$.alternate,re!==null&&(re.lanes|=_),jA($.return,_,g),J.lanes|=_;break}re=re.next}}else if($.tag===10)V=$.type===g.type?null:$.child;else if($.tag===18){if(V=$.return,V===null)throw Error(n(341));V.lanes|=_,J=V.alternate,J!==null&&(J.lanes|=_),jA(V,_,g),V=$.sibling}else V=$.child;if(V!==null)V.return=$;else for(V=$;V!==null;){if(V===g){V=null;break}if($=V.sibling,$!==null){$.return=V.return,V=$;break}V=V.return}$=V}Oi(h,g,N.children,_),g=g.child}return g;case 9:return N=g.type,k=g.pendingProps.children,lh(g,_),N=Va(N),k=k(N),g.flags|=1,Oi(h,g,k,_),g.child;case 14:return k=g.type,N=Is(k,g.pendingProps),N=Is(k.type,N),N6(h,g,k,N,_);case 15:return I6(h,g,g.type,g.pendingProps,_);case 17:return k=g.type,N=g.pendingProps,N=g.elementType===k?N:Is(k,N),Fw(h,g),g.tag=1,Vi(k)?(h=!0,Ew(g)):h=!1,lh(g,_),E6(g,k,N),JA(g,k,N,_),t2(null,g,k,!0,h,_);case 19:return B6(h,g,_);case 22:return R6(h,g,_)}throw Error(n(156,g.tag))};function uL(h,g){return zM(h,g)}function vle(h,g,_,k){this.tag=h,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=k,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ya(h,g,_,k){return new vle(h,g,_,k)}function _2(h){return h=h.prototype,!(!h||!h.isReactComponent)}function ble(h){if(typeof h=="function")return _2(h)?1:0;if(h!=null){if(h=h.$$typeof,h===q)return 11;if(h===R)return 14}return 2}function Bl(h,g){var _=h.alternate;return _===null?(_=Ya(h.tag,g,h.key,h.mode),_.elementType=h.elementType,_.type=h.type,_.stateNode=h.stateNode,_.alternate=h,h.alternate=_):(_.pendingProps=g,_.type=h.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=h.flags&14680064,_.childLanes=h.childLanes,_.lanes=h.lanes,_.child=h.child,_.memoizedProps=h.memoizedProps,_.memoizedState=h.memoizedState,_.updateQueue=h.updateQueue,g=h.dependencies,_.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},_.sibling=h.sibling,_.index=h.index,_.ref=h.ref,_}function Zw(h,g,_,k,N,$){var V=2;if(k=h,typeof h=="function")_2(h)&&(V=1);else if(typeof h=="string")V=5;else e:switch(h){case P:return ld(_.children,N,$,g);case O:V=8,N|=8;break;case I:return h=Ya(12,_,g,N|2),h.elementType=I,h.lanes=$,h;case K:return h=Ya(13,_,g,N),h.elementType=K,h.lanes=$,h;case L:return h=Ya(19,_,g,N),h.elementType=L,h.lanes=$,h;case W:return Qw(_,N,$,g);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case M:V=10;break e;case D:V=9;break e;case q:V=11;break e;case R:V=14;break e;case j:V=16,k=null;break e}throw Error(n(130,h==null?h:typeof h,""))}return g=Ya(V,_,g,N),g.elementType=h,g.type=k,g.lanes=$,g}function ld(h,g,_,k){return h=Ya(7,h,k,g),h.lanes=_,h}function Qw(h,g,_,k){return h=Ya(22,h,k,g),h.elementType=W,h.lanes=_,h.stateNode={isHidden:!1},h}function x2(h,g,_){return h=Ya(6,h,null,g),h.lanes=_,h}function E2(h,g,_){return g=Ya(4,h.children!==null?h.children:[],h.key,g),g.lanes=_,g.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},g}function wle(h,g,_,k,N){this.tag=g,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=XC(0),this.expirationTimes=XC(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=XC(0),this.identifierPrefix=k,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null}function S2(h,g,_,k,N,$,V,J,re){return h=new wle(h,g,_,J,re),g===1?(g=1,$===!0&&(g|=8)):g=0,$=Ya(3,null,null,g),h.current=$,$.stateNode=h,$.memoizedState={element:k,isDehydrated:_,cache:null,transitions:null,pendingSuspenseBoundaries:null},MA($),h}function _le(h,g,_){var k=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C,key:k==null?null:""+k,children:h,containerInfo:g,implementation:_}}function dL(h){if(!h)return Nl;h=h._reactInternals;e:{if(Ju(h)!==h||h.tag!==1)throw Error(n(170));var g=h;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(Vi(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(n(171))}if(h.tag===1){var _=h.type;if(Vi(_))return U4(h,_,g)}return g}function fL(h,g,_,k,N,$,V,J,re){return h=S2(_,k,!0,h,N,$,V,J,re),h.context=dL(null),_=h.current,k=Ni(),N=Ll(_),$=gc(k,N),$.callback=g??null,$l(_,$,N),h.current.lanes=N,tm(h,N,k),Yi(h,k),h}function e1(h,g,_,k){var N=g.current,$=Ni(),V=Ll(N);return _=dL(_),g.context===null?g.context=_:g.pendingContext=_,g=gc($,V),g.payload={element:h},k=k===void 0?null:k,k!==null&&(g.callback=k),h=$l(N,g,V),h!==null&&(js(h,N,V,$),Nw(h,N,V)),V}function t1(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return h.child.stateNode;default:return h.child.stateNode}}function hL(h,g){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var _=h.retryLane;h.retryLane=_!==0&&_<g?_:g}}function C2(h,g){hL(h,g),(h=h.alternate)&&hL(h,g)}function xle(){return null}var pL=typeof reportError=="function"?reportError:function(h){console.error(h)};function A2(h){this._internalRoot=h}r1.prototype.render=A2.prototype.render=function(h){var g=this._internalRoot;if(g===null)throw Error(n(409));e1(h,g,null,null)},r1.prototype.unmount=A2.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var g=h.containerInfo;sd(function(){e1(null,h,null,null)}),g[uc]=null}};function r1(h){this._internalRoot=h}r1.prototype.unstable_scheduleHydration=function(h){if(h){var g=JM();h={blockedOn:null,target:h,priority:g};for(var _=0;_<Al.length&&g!==0&&g<Al[_].priority;_++);Al.splice(_,0,h),_===0&&e4(h)}};function T2(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function n1(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11&&(h.nodeType!==8||h.nodeValue!==" react-mount-point-unstable "))}function gL(){}function Ele(h,g,_,k,N){if(N){if(typeof k=="function"){var $=k;k=function(){var ce=t1(V);$.call(ce)}}var V=fL(g,k,h,0,null,!1,!1,"",gL);return h._reactRootContainer=V,h[uc]=V.current,gm(h.nodeType===8?h.parentNode:h),sd(),V}for(;N=h.lastChild;)h.removeChild(N);if(typeof k=="function"){var J=k;k=function(){var ce=t1(re);J.call(ce)}}var re=S2(h,0,!1,null,null,!1,!1,"",gL);return h._reactRootContainer=re,h[uc]=re.current,gm(h.nodeType===8?h.parentNode:h),sd(function(){e1(g,re,_,k)}),re}function i1(h,g,_,k,N){var $=_._reactRootContainer;if($){var V=$;if(typeof N=="function"){var J=N;N=function(){var re=t1(V);J.call(re)}}e1(g,V,h,N)}else V=Ele(_,g,h,N,k);return t1(V)}YM=function(h){switch(h.tag){case 3:var g=h.stateNode;if(g.current.memoizedState.isDehydrated){var _=em(g.pendingLanes);_!==0&&(JC(g,_|1),Yi(g,cn()),(Zt&6)===0&&(ph=cn()+500,Il()))}break;case 13:sd(function(){var k=pc(h,1);if(k!==null){var N=Ni();js(k,h,1,N)}}),C2(h,1)}},ZC=function(h){if(h.tag===13){var g=pc(h,134217728);if(g!==null){var _=Ni();js(g,h,134217728,_)}C2(h,134217728)}},XM=function(h){if(h.tag===13){var g=Ll(h),_=pc(h,g);if(_!==null){var k=Ni();js(_,h,g,k)}C2(h,g)}},JM=function(){return fr},ZM=function(h,g){var _=fr;try{return fr=h,g()}finally{fr=_}},oc=function(h,g,_){switch(g){case"input":if(ct(h,_),g=_.name,_.type==="radio"&&g!=null){for(_=h;_.parentNode;)_=_.parentNode;for(_=_.querySelectorAll("input[name="+JSON.stringify(""+g)+'][type="radio"]'),g=0;g<_.length;g++){var k=_[g];if(k!==h&&k.form===h.form){var N=_w(k);if(!N)throw Error(n(90));he(k),ct(k,N)}}}break;case"textarea":Re(h,_);break;case"select":g=_.value,g!=null&&Kr(h,!!_.multiple,g,!1)}},Gf=v2,MM=sd;var Sle={usingClientEntryPoint:!1,Events:[vm,th,_w,Zb,pi,v2]},Im={findFiberByHostInstance:Zu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cle={bundleType:Im.bundleType,version:Im.version,rendererPackageName:Im.rendererPackageName,rendererConfig:Im.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(h){return h=FM(h),h===null?null:h.stateNode},findFiberByHostInstance:Im.findFiberByHostInstance||xle,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var a1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!a1.isDisabled&&a1.supportsFiber)try{rw=a1.inject(Cle),po=a1}catch{}}return Xi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sle,Xi.createPortal=function(h,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T2(g))throw Error(n(200));return _le(h,g,null,_)},Xi.createRoot=function(h,g){if(!T2(h))throw Error(n(299));var _=!1,k="",N=pL;return g!=null&&(g.unstable_strictMode===!0&&(_=!0),g.identifierPrefix!==void 0&&(k=g.identifierPrefix),g.onRecoverableError!==void 0&&(N=g.onRecoverableError)),g=S2(h,1,!1,null,null,_,!1,k,N),h[uc]=g.current,gm(h.nodeType===8?h.parentNode:h),new A2(g)},Xi.findDOMNode=function(h){if(h==null)return null;if(h.nodeType===1)return h;var g=h._reactInternals;if(g===void 0)throw typeof h.render=="function"?Error(n(188)):(h=Object.keys(h).join(","),Error(n(268,h)));return h=FM(g),h=h===null?null:h.stateNode,h},Xi.flushSync=function(h){return sd(h)},Xi.hydrate=function(h,g,_){if(!n1(g))throw Error(n(200));return i1(null,h,g,!0,_)},Xi.hydrateRoot=function(h,g,_){if(!T2(h))throw Error(n(405));var k=_!=null&&_.hydratedSources||null,N=!1,$="",V=pL;if(_!=null&&(_.unstable_strictMode===!0&&(N=!0),_.identifierPrefix!==void 0&&($=_.identifierPrefix),_.onRecoverableError!==void 0&&(V=_.onRecoverableError)),g=fL(g,null,h,1,_??null,N,!1,$,V),h[uc]=g.current,gm(h),k)for(h=0;h<k.length;h++)_=k[h],N=_._getVersion,N=N(_._source),g.mutableSourceEagerHydrationData==null?g.mutableSourceEagerHydrationData=[_,N]:g.mutableSourceEagerHydrationData.push(_,N);return new r1(g)},Xi.render=function(h,g,_){if(!n1(g))throw Error(n(200));return i1(null,h,g,!1,_)},Xi.unmountComponentAtNode=function(h){if(!n1(h))throw Error(n(40));return h._reactRootContainer?(sd(function(){i1(null,null,h,!1,function(){h._reactRootContainer=null,h[uc]=null})}),!0):!1},Xi.unstable_batchedUpdates=v2,Xi.unstable_renderSubtreeIntoContainer=function(h,g,_,k){if(!n1(_))throw Error(n(200));if(h==null||h._reactInternals===void 0)throw Error(n(38));return i1(h,g,_,!1,k)},Xi.version="18.3.1-next-f1338f8080-20240426",Xi}var SL;function Rle(){if(SL)return N2.exports;SL=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),N2.exports=Ile(),N2.exports}var CL;function $le(){if(CL)return o1;CL=1;var r=Rle();return o1.createRoot=r.createRoot,o1.hydrateRoot=r.hydrateRoot,o1}var jle=$le();const mY="2.30.1";let $m={getDocsUrl:({docsBaseUrl:r,docsPath:e="",docsSlug:n})=>e?`${r??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${mY}`},Te=class FI extends Error{constructor(e,n={}){var c;const i=(()=>{var l;return n.cause instanceof FI?n.cause.details:(l=n.cause)!=null&&l.message?n.cause.message:n.details})(),a=n.cause instanceof FI&&n.cause.docsPath||n.docsPath,s=(c=$m.getDocsUrl)==null?void 0:c.call($m,{...n,docsPath:a}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...i?[`Details: ${i}`]:[],...$m.version?[`Version: ${$m.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=i,this.docsPath=a,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=mY}walk(e){return yY(this,e)}};function yY(r,e){return e!=null&&e(r)?r:r&&typeof r=="object"&&"cause"in r&&r.cause!==void 0?yY(r.cause,e):e?null:r}let vY=class extends Te{constructor({max:e,min:n,signed:i,size:a,value:s}){super(`Number "${s}" is not in safe ${a?`${a*8}-bit ${i?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}};class Dle extends Te{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}let Mle=class extends Te{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};class bY extends Te{constructor({offset:e,position:n,size:i}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${i}).`,{name:"SliceOffsetOutOfBoundsError"})}}let wY=class extends Te{constructor({size:e,targetSize:n,type:i}){super(`${i.charAt(0).toUpperCase()}${i.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class AL extends Te{constructor({size:e,targetSize:n,type:i}){super(`${i.charAt(0).toUpperCase()}${i.slice(1).toLowerCase()} is expected to be ${n} ${i} long, but is ${e} ${i} long.`,{name:"InvalidBytesLengthError"})}}function Cg(r,{dir:e,size:n=32}={}){return typeof r=="string"?Au(r,{dir:e,size:n}):Lle(r,{dir:e,size:n})}function Au(r,{dir:e,size:n=32}={}){if(n===null)return r;const i=r.replace("0x","");if(i.length>n*2)throw new wY({size:Math.ceil(i.length/2),targetSize:n,type:"hex"});return`0x${i[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function Lle(r,{dir:e,size:n=32}={}){if(n===null)return r;if(r.length>n)throw new wY({size:r.length,targetSize:n,type:"bytes"});const i=new Uint8Array(n);for(let a=0;a<n;a++){const s=e==="right";i[s?a:n-a-1]=r[s?a:r.length-a-1]}return i}function ju(r,{strict:e=!0}={}){return!r||typeof r!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(r):r.startsWith("0x")}function In(r){return ju(r,{strict:!1})?Math.ceil((r.length-2)/2):r.length}function ab(r,{dir:e="left"}={}){let n=typeof r=="string"?r.replace("0x",""):r,i=0;for(let a=0;a<n.length-1&&n[e==="left"?a:n.length-a-1].toString()==="0";a++)i++;return n=e==="left"?n.slice(i):n.slice(0,n.length-i),typeof r=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}const Ule=new TextEncoder;function rS(r,e={}){return typeof r=="number"||typeof r=="bigint"?Fle(r,e):typeof r=="boolean"?Ble(r,e):ju(r)?Go(r,e):_Y(r,e)}function Ble(r,e={}){const n=new Uint8Array(1);return n[0]=Number(r),typeof e.size=="number"?(co(n,{size:e.size}),Cg(n,{size:e.size})):n}const vc={zero:48,nine:57,A:65,F:70,a:97,f:102};function TL(r){if(r>=vc.zero&&r<=vc.nine)return r-vc.zero;if(r>=vc.A&&r<=vc.F)return r-(vc.A-10);if(r>=vc.a&&r<=vc.f)return r-(vc.a-10)}function Go(r,e={}){let n=r;e.size&&(co(n,{size:e.size}),n=Cg(n,{dir:"right",size:e.size}));let i=n.slice(2);i.length%2&&(i=`0${i}`);const a=i.length/2,s=new Uint8Array(a);for(let o=0,c=0;o<a;o++){const l=TL(i.charCodeAt(c++)),u=TL(i.charCodeAt(c++));if(l===void 0||u===void 0)throw new Te(`Invalid byte sequence ("${i[c-2]}${i[c-1]}" in "${i}").`);s[o]=l*16+u}return s}function Fle(r,e){const n=Ut(r,e);return Go(n)}function _Y(r,e={}){const n=Ule.encode(r);return typeof e.size=="number"?(co(n,{size:e.size}),Cg(n,{dir:"right",size:e.size})):n}function co(r,{size:e}){if(In(r)>e)throw new Mle({givenSize:In(r),maxSize:e})}function Op(r,e={}){const{signed:n}=e;e.size&&co(r,{size:e.size});const i=BigInt(r);if(!n)return i;const a=(r.length-2)/2,s=(1n<<BigInt(a)*8n-1n)-1n;return i<=s?i:i-BigInt(`0x${"f".padStart(a*2,"f")}`)-1n}function sf(r,e={}){return Number(Op(r,e))}function xY(r,e={}){let n=Go(r);return e.size&&(co(n,{size:e.size}),n=ab(n,{dir:"right"})),new TextDecoder().decode(n)}const qle=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function Np(r,e={}){return typeof r=="number"||typeof r=="bigint"?Ut(r,e):typeof r=="string"?nS(r,e):typeof r=="boolean"?EY(r,e):pa(r,e)}function EY(r,e={}){const n=`0x${Number(r)}`;return typeof e.size=="number"?(co(n,{size:e.size}),Cg(n,{size:e.size})):n}function pa(r,e={}){let n="";for(let a=0;a<r.length;a++)n+=qle[r[a]];const i=`0x${n}`;return typeof e.size=="number"?(co(i,{size:e.size}),Cg(i,{dir:"right",size:e.size})):i}function Ut(r,e={}){const{signed:n,size:i}=e,a=BigInt(r);let s;i?n?s=(1n<<BigInt(i)*8n-1n)-1n:s=2n**(BigInt(i)*8n)-1n:typeof r=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&a>s||a<o){const l=typeof r=="bigint"?"n":"";throw new vY({max:s?`${s}${l}`:void 0,min:`${o}${l}`,signed:n,size:i,value:`${r}${l}`})}const c=`0x${(n&&a<0?(1n<<BigInt(i*8))+BigInt(a):a).toString(16)}`;return i?Cg(c,{size:i}):c}const zle=new TextEncoder;function nS(r,e={}){const n=zle.encode(r);return pa(n,e)}function Du(r,{includeName:e=!1}={}){if(r.type!=="function"&&r.type!=="event"&&r.type!=="error")throw new tue(r.type);return`${r.name}(${iS(r.inputs,{includeName:e})})`}function iS(r,{includeName:e=!1}={}){return r?r.map(n=>Hle(n,{includeName:e})).join(e?", ":","):""}function Hle(r,{includeName:e}){return r.type.startsWith("tuple")?`(${iS(r.components,{includeName:e})})${r.type.slice(5)}`:r.type+(e&&r.name?` ${r.name}`:"")}class Wle extends Te{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class kL extends Te{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class SY extends Te{constructor({data:e,params:n,size:i}){super([`Data size of ${i} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${iS(n,{includeName:!0})})`,`Data:   ${e} (${i} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=i}}class aS extends Te{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class Vle extends Te{constructor({expectedLength:e,givenLength:n,type:i}){super([`ABI encoding array length mismatch for type ${i}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class Gle extends Te{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${In(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class Kle extends Te{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class Act extends Te{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class Tct extends Te{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class CY extends Te{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class Yle extends Te{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class AY extends Te{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class V_ extends Te{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class Xle extends Te{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class kct extends Te{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class Jle extends Te{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${Du(e.abiItem)}\`, and`,`\`${n.type}\` in \`${Du(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class qI extends Te{constructor({abiItem:e,data:n,params:i,size:a}){super([`Data size of ${a} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${iS(i,{includeName:!0})})`,`Data:   ${n} (${a} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=i,this.size=a}}class TY extends Te{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Du(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class Zle extends Te{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class Qle extends Te{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}class eue extends Te{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class tue extends Te{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}function Ip(r){return typeof r[0]=="string"?sS(r):rue(r)}function rue(r){let e=0;for(const a of r)e+=a.length;const n=new Uint8Array(e);let i=0;for(const a of r)n.set(a,i),i+=a.length;return n}function sS(r){return`0x${r.reduce((e,n)=>e+n.replace("0x",""),"")}`}class of extends Te{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}let oS=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const i=this.keys().next().value;i&&this.delete(i)}return this}};const c1=BigInt(2**32-1),PL=BigInt(32);function nue(r,e=!1){return e?{h:Number(r&c1),l:Number(r>>PL&c1)}:{h:Number(r>>PL&c1)|0,l:Number(r&c1)|0}}function iue(r,e=!1){const n=r.length;let i=new Uint32Array(n),a=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:c}=nue(r[s],e);[i[s],a[s]]=[o,c]}return[i,a]}const aue=(r,e,n)=>r<<n|e>>>32-n,sue=(r,e,n)=>e<<n|r>>>32-n,oue=(r,e,n)=>e<<n-32|r>>>64-n,cue=(r,e,n)=>r<<n-32|e>>>64-n,mh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function lue(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function G_(r){if(!Number.isSafeInteger(r)||r<0)throw new Error("positive integer expected, got "+r)}function cf(r,...e){if(!lue(r))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw new Error("Uint8Array expected of length "+e+", got length="+r.length)}function Oct(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");G_(r.outputLen),G_(r.blockLen)}function K_(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function kY(r,e){cf(r);const n=e.outputLen;if(r.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function uue(r){return new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4))}function gv(...r){for(let e=0;e<r.length;e++)r[e].fill(0)}function $2(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function bo(r,e){return r<<32-e|r>>>e}const due=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function fue(r){return r<<24&4278190080|r<<8&16711680|r>>>8&65280|r>>>24&255}function hue(r){for(let e=0;e<r.length;e++)r[e]=fue(r[e]);return r}const OL=due?r=>r:hue,pue=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",gue=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function Nct(r){if(cf(r),pue)return r.toHex();let e="";for(let n=0;n<r.length;n++)e+=gue[r[n]];return e}function mue(r){if(typeof r!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(r))}function V3(r){return typeof r=="string"&&(r=mue(r)),cf(r),r}function Ict(...r){let e=0;for(let i=0;i<r.length;i++){const a=r[i];cf(a),e+=a.length}const n=new Uint8Array(e);for(let i=0,a=0;i<r.length;i++){const s=r[i];n.set(s,a),a+=s.length}return n}let PY=class{};function OY(r){const e=i=>r().update(V3(i)).digest(),n=r();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>r(),e}function $ct(r=32){if(mh&&typeof mh.getRandomValues=="function")return mh.getRandomValues(new Uint8Array(r));if(mh&&typeof mh.randomBytes=="function")return Uint8Array.from(mh.randomBytes(r));throw new Error("crypto.getRandomValues must be defined")}const yue=BigInt(0),jm=BigInt(1),vue=BigInt(2),bue=BigInt(7),wue=BigInt(256),_ue=BigInt(113),NY=[],IY=[],RY=[];for(let r=0,e=jm,n=1,i=0;r<24;r++){[n,i]=[i,(2*n+3*i)%5],NY.push(2*(5*i+n)),IY.push((r+1)*(r+2)/2%64);let a=yue;for(let s=0;s<7;s++)e=(e<<jm^(e>>bue)*_ue)%wue,e&vue&&(a^=jm<<(jm<<BigInt(s))-jm);RY.push(a)}const $Y=iue(RY,!0),xue=$Y[0],Eue=$Y[1],NL=(r,e,n)=>n>32?oue(r,e,n):aue(r,e,n),IL=(r,e,n)=>n>32?cue(r,e,n):sue(r,e,n);function Sue(r,e=24){const n=new Uint32Array(10);for(let i=24-e;i<24;i++){for(let o=0;o<10;o++)n[o]=r[o]^r[o+10]^r[o+20]^r[o+30]^r[o+40];for(let o=0;o<10;o+=2){const c=(o+8)%10,l=(o+2)%10,u=n[l],d=n[l+1],f=NL(u,d,1)^n[c],p=IL(u,d,1)^n[c+1];for(let m=0;m<50;m+=10)r[o+m]^=f,r[o+m+1]^=p}let a=r[2],s=r[3];for(let o=0;o<24;o++){const c=IY[o],l=NL(a,s,c),u=IL(a,s,c),d=NY[o];a=r[d],s=r[d+1],r[d]=l,r[d+1]=u}for(let o=0;o<50;o+=10){for(let c=0;c<10;c++)n[c]=r[o+c];for(let c=0;c<10;c++)r[o+c]^=~n[(c+2)%10]&n[(c+4)%10]}r[0]^=xue[i],r[1]^=Eue[i]}gv(n)}let Cue=class jY extends PY{constructor(e,n,i,a=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=i,this.enableXOF=a,this.rounds=s,G_(i),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=uue(this.state)}clone(){return this._cloneInto()}keccak(){OL(this.state32),Sue(this.state32,this.rounds),OL(this.state32),this.posOut=0,this.pos=0}update(e){K_(this),e=V3(e),cf(e);const{blockLen:n,state:i}=this,a=e.length;for(let s=0;s<a;){const o=Math.min(n-this.pos,a-s);for(let c=0;c<o;c++)i[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:i,blockLen:a}=this;e[i]^=n,(n&128)!==0&&i===a-1&&this.keccak(),e[a-1]^=128,this.keccak()}writeInto(e){K_(this,!1),cf(e),this.finish();const n=this.state,{blockLen:i}=this;for(let a=0,s=e.length;a<s;){this.posOut>=i&&this.keccak();const o=Math.min(i-this.posOut,s-a);e.set(n.subarray(this.posOut,this.posOut+o),a),this.posOut+=o,a+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return G_(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(kY(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,gv(this.state)}_cloneInto(e){const{blockLen:n,suffix:i,outputLen:a,rounds:s,enableXOF:o}=this;return e||(e=new jY(n,i,a,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=i,e.outputLen=a,e.enableXOF=o,e.destroyed=this.destroyed,e}};const Aue=(r,e,n)=>OY(()=>new Cue(e,r,n)),Tue=Aue(1,136,256/8);function sb(r,e){const n=e||"hex",i=Tue(ju(r,{strict:!1})?rS(r):r);return n==="bytes"?i:Np(i)}const j2=new oS(8192);function cS(r,e){if(j2.has(`${r}.${e}`))return j2.get(`${r}.${e}`);const n=e?`${e}${r.toLowerCase()}`:r.substring(2).toLowerCase(),i=sb(_Y(n),"bytes"),a=(e?n.substring(`${e}0x`.length):n).split("");for(let o=0;o<40;o+=2)i[o>>1]>>4>=8&&a[o]&&(a[o]=a[o].toUpperCase()),(i[o>>1]&15)>=8&&a[o+1]&&(a[o+1]=a[o+1].toUpperCase());const s=`0x${a.join("")}`;return j2.set(`${r}.${e}`,s),s}function Id(r,e){if(!Ko(r,{strict:!1}))throw new of({address:r});return cS(r,e)}const kue=/^0x[a-fA-F0-9]{40}$/,D2=new oS(8192);function Ko(r,e){const{strict:n=!0}=e??{},i=`${r}.${n}`;if(D2.has(i))return D2.get(i);const a=kue.test(r)?r.toLowerCase()===r?!0:n?cS(r)===r:!0:!1;return D2.set(i,a),a}function Y_(r,e,n,{strict:i}={}){return ju(r,{strict:!1})?Pue(r,e,n,{strict:i}):LY(r,e,n,{strict:i})}function DY(r,e){if(typeof e=="number"&&e>0&&e>In(r)-1)throw new bY({offset:e,position:"start",size:In(r)})}function MY(r,e,n){if(typeof e=="number"&&typeof n=="number"&&In(r)!==n-e)throw new bY({offset:n,position:"end",size:In(r)})}function LY(r,e,n,{strict:i}={}){DY(r,e);const a=r.slice(e,n);return i&&MY(a,e,n),a}function Pue(r,e,n,{strict:i}={}){DY(r,e);const a=`0x${r.replace("0x","").slice((e??0)*2,(n??r.length)*2)}`;return i&&MY(a,e,n),a}const Oue=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function UY(r,e){if(r.length!==e.length)throw new Kle({expectedLength:r.length,givenLength:e.length});const n=Nue({params:r,values:e}),i=K3(n);return i.length===0?"0x":i}function Nue({params:r,values:e}){const n=[];for(let i=0;i<r.length;i++)n.push(G3({param:r[i],value:e[i]}));return n}function G3({param:r,value:e}){const n=Y3(r.type);if(n){const[i,a]=n;return Rue(e,{length:i,param:{...r,type:a}})}if(r.type==="tuple")return Lue(e,{param:r});if(r.type==="address")return Iue(e);if(r.type==="bool")return jue(e);if(r.type.startsWith("uint")||r.type.startsWith("int")){const i=r.type.startsWith("int"),[,,a="256"]=Oue.exec(r.type)??[];return Due(e,{signed:i,size:Number(a)})}if(r.type.startsWith("bytes"))return $ue(e,{param:r});if(r.type==="string")return Mue(e);throw new Zle(r.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function K3(r){let e=0;for(let s=0;s<r.length;s++){const{dynamic:o,encoded:c}=r[s];o?e+=32:e+=In(c)}const n=[],i=[];let a=0;for(let s=0;s<r.length;s++){const{dynamic:o,encoded:c}=r[s];o?(n.push(Ut(e+a,{size:32})),i.push(c),a+=In(c)):n.push(c)}return Ip([...n,...i])}function Iue(r){if(!Ko(r))throw new of({address:r});return{dynamic:!1,encoded:Au(r.toLowerCase())}}function Rue(r,{length:e,param:n}){const i=e===null;if(!Array.isArray(r))throw new eue(r);if(!i&&r.length!==e)throw new Vle({expectedLength:e,givenLength:r.length,type:`${n.type}[${e}]`});let a=!1;const s=[];for(let o=0;o<r.length;o++){const c=G3({param:n,value:r[o]});c.dynamic&&(a=!0),s.push(c)}if(i||a){const o=K3(s);if(i){const c=Ut(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?Ip([c,o]):c}}if(a)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:Ip(s.map(({encoded:o})=>o))}}function $ue(r,{param:e}){const[,n]=e.type.split("bytes"),i=In(r);if(!n){let a=r;return i%32!==0&&(a=Au(a,{dir:"right",size:Math.ceil((r.length-2)/2/32)*32})),{dynamic:!0,encoded:Ip([Au(Ut(i,{size:32})),a])}}if(i!==Number.parseInt(n))throw new Gle({expectedSize:Number.parseInt(n),value:r});return{dynamic:!1,encoded:Au(r,{dir:"right"})}}function jue(r){if(typeof r!="boolean")throw new Te(`Invalid boolean value: "${r}" (type: ${typeof r}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Au(EY(r))}}function Due(r,{signed:e,size:n=256}){if(typeof n=="number"){const i=2n**(BigInt(n)-(e?1n:0n))-1n,a=e?-i-1n:0n;if(r>i||r<a)throw new vY({max:i.toString(),min:a.toString(),signed:e,size:n/8,value:r.toString()})}return{dynamic:!1,encoded:Ut(r,{size:32,signed:e})}}function Mue(r){const e=nS(r),n=Math.ceil(In(e)/32),i=[];for(let a=0;a<n;a++)i.push(Au(Y_(e,a*32,(a+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Ip([Au(Ut(In(e),{size:32})),...i])}}function Lue(r,{param:e}){let n=!1;const i=[];for(let a=0;a<e.components.length;a++){const s=e.components[a],o=Array.isArray(r)?a:s.name,c=G3({param:s,value:r[o]});i.push(c),c.dynamic&&(n=!0)}return{dynamic:n,encoded:n?K3(i):Ip(i.map(({encoded:a})=>a))}}function Y3(r){const e=r.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const M2="/docs/contract/encodeDeployData";function BY(r){const{abi:e,args:n,bytecode:i}=r;if(!n||n.length===0)return i;const a=e.find(o=>"type"in o&&o.type==="constructor");if(!a)throw new Wle({docsPath:M2});if(!("inputs"in a))throw new kL({docsPath:M2});if(!a.inputs||a.inputs.length===0)throw new kL({docsPath:M2});const s=UY(a.inputs,n);return sS([i,s])}function rc(r){return typeof r=="string"?{address:r,type:"json-rpc"}:r}class X3 extends Te{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class L2 extends Te{constructor({docsPath:e,metaMessages:n,type:i}){super(`Account type "${i}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function Uue(r){const e=sb(`0x${r.substring(4)}`).substring(26);return cS(`0x${e}`)}const Bue="modulepreload",Fue=function(r,e){return new URL(r,e).href},RL={},dn=function(e,n,i){let a=Promise.resolve();if(n&&n.length>0){let o=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};const c=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=o(n.map(d=>{if(d=Fue(d,i),d in RL)return;RL[d]=!0;const f=d.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(!!i)for(let v=c.length-1;v>=0;v--){const b=c[v];if(b.href===d&&(!f||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${p}`))return;const y=document.createElement("link");if(y.rel=f?"stylesheet":Bue,f||(y.as="script"),y.crossOrigin="",y.href=d,u&&y.setAttribute("nonce",u),document.head.appendChild(y),f)return new Promise((v,b)=>{y.addEventListener("load",v),y.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return a.then(o=>{for(const c of o||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})};async function que({hash:r,signature:e}){const n=ju(r)?r:Np(r),{secp256k1:i}=await dn(async()=>{const{secp256k1:o}=await import("./secp256k1-BWQ8g6ew.js");return{secp256k1:o}},[],import.meta.url);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:u,s:d,v:f,yParity:p}=e,m=Number(p??f),y=$L(m);return new i.Signature(Op(u),Op(d)).addRecoveryBit(y)}const o=ju(e)?e:Np(e);if(In(o)!==65)throw new Error("invalid signature length");const c=sf(`0x${o.slice(130)}`),l=$L(c);return i.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(l)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function $L(r){if(r===0||r===1)return r;if(r===27)return 0;if(r===28)return 1;throw new Error("Invalid yParityOrV value")}async function zue({hash:r,signature:e}){return Uue(await que({hash:r,signature:e}))}class jL extends Te{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class FY extends Te{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class Hue extends Te{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const Wue={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Hue({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(r){if(r<0||r>this.bytes.length-1)throw new FY({length:this.bytes.length,position:r})},decrementPosition(r){if(r<0)throw new jL({offset:r});const e=this.position-r;this.assertPosition(e),this.position=e},getReadCount(r){return this.positionReadCount.get(r||this.position)||0},incrementPosition(r){if(r<0)throw new jL({offset:r});const e=this.position+r;this.assertPosition(e),this.position=e},inspectByte(r){const e=r??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(r,e){const n=e??this.position;return this.assertPosition(n+r-1),this.bytes.subarray(n,n+r)},inspectUint8(r){const e=r??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(r){const e=r??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(r){const e=r??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(r){const e=r??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(r){this.assertPosition(this.position),this.bytes[this.position]=r,this.position++},pushBytes(r){this.assertPosition(this.position+r.length-1),this.bytes.set(r,this.position),this.position+=r.length},pushUint8(r){this.assertPosition(this.position),this.bytes[this.position]=r,this.position++},pushUint16(r){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,r),this.position+=2},pushUint24(r){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,r>>8),this.dataView.setUint8(this.position+2,r&255),this.position+=3},pushUint32(r){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,r),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const r=this.inspectByte();return this.position++,r},readBytes(r,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(r);return this.position+=e??r,n},readUint8(){this.assertReadLimit(),this._touch();const r=this.inspectUint8();return this.position+=1,r},readUint16(){this.assertReadLimit(),this._touch();const r=this.inspectUint16();return this.position+=2,r},readUint24(){this.assertReadLimit(),this._touch();const r=this.inspectUint24();return this.position+=3,r},readUint32(){this.assertReadLimit(),this._touch();const r=this.inspectUint32();return this.position+=4,r},get remaining(){return this.bytes.length-this.position},setPosition(r){const e=this.position;return this.assertPosition(r),this.position=r,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const r=this.getReadCount();this.positionReadCount.set(this.position,r+1),r>0&&this.recursiveReadCount++}};function J3(r,{recursiveReadLimit:e=8192}={}){const n=Object.create(Wue);return n.bytes=r,n.dataView=new DataView(r.buffer,r.byteOffset,r.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function Vue(r,e="hex"){const n=qY(r),i=J3(new Uint8Array(n.length));return n.encode(i),e==="hex"?pa(i.bytes):i.bytes}function qY(r){return Array.isArray(r)?Gue(r.map(e=>qY(e))):Kue(r)}function Gue(r){const e=r.reduce((a,s)=>a+s.length,0),n=zY(e);return{length:e<=55?1+e:1+n+e,encode(a){e<=55?a.pushByte(192+e):(a.pushByte(247+n),n===1?a.pushUint8(e):n===2?a.pushUint16(e):n===3?a.pushUint24(e):a.pushUint32(e));for(const{encode:s}of r)s(a)}}}function Kue(r){const e=typeof r=="string"?Go(r):r,n=zY(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(a){e.length===1&&e[0]<128?a.pushBytes(e):e.length<=55?(a.pushByte(128+e.length),a.pushBytes(e)):(a.pushByte(183+n),n===1?a.pushUint8(e.length):n===2?a.pushUint16(e.length):n===3?a.pushUint24(e.length):a.pushUint32(e.length),a.pushBytes(e))}}}function zY(r){if(r<2**8)return 1;if(r<2**16)return 2;if(r<2**24)return 3;if(r<2**32)return 4;throw new Te("Length is too large.")}function Yue(r){const{chainId:e,nonce:n,to:i}=r,a=r.contractAddress??r.address,s=sb(sS(["0x05",Vue([e?Ut(e):"0x",a,n?Ut(n):"0x"])]));return i==="bytes"?Go(s):s}async function HY(r){const{authorization:e,signature:n}=r;return zue({hash:Yue(e),signature:n??e})}class zI extends Te{constructor({blockNumber:e,chain:n,contract:i}){super(`Chain "${n.name}" does not support contract "${i.name}".`,{metaMessages:["This could be due to any of the following:",...e&&i.blockCreated&&i.blockCreated>e?[`- The contract "${i.name}" was not deployed until block ${i.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${i.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class Xue extends Te{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id} – ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id} – ${e.name}`],name:"ChainMismatchError"})}}class Jue extends Te{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class WY extends Te{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}function Zue({chain:r,currentChainId:e}){if(!r)throw new Jue;if(e!==r.id)throw new Xue({chain:r,currentChainId:e})}const Que={gwei:9,wei:18},ede={ether:-9,wei:9},tde={ether:-18,gwei:-9};function Ag(r,e){let n=r.toString();const i=n.startsWith("-");i&&(n=n.slice(1)),n=n.padStart(e,"0");let[a,s]=[n.slice(0,n.length-e),n.slice(n.length-e)];return s=s.replace(/(0+)$/,""),`${i?"-":""}${a||"0"}${s?`.${s}`:""}`}function ua(r,e="wei"){return Ag(r,ede[e])}class Rd extends Te{constructor({cause:e,message:n}={}){var a;const i=(a=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:a.replace("execution reverted","");super(`Execution reverted ${i?`with reason: ${i}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(Rd,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Rd,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class X_ extends Te{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ua(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(X_,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class HI extends Te{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ua(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(HI,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class WI extends Te{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(WI,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class VI extends Te{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(VI,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class GI extends Te{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(GI,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class KI extends Te{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(KI,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class YI extends Te{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(YI,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class XI extends Te{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(XI,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class JI extends Te{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(JI,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class J_ extends Te{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:i}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${ua(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${i?` = ${ua(i)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(J_,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class lS extends Te{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function Z3(r,e="wei"){return Ag(r,Que[e])}function ob(r){const e=Object.entries(r).map(([i,a])=>a===void 0||a===!1?null:[i,a]).filter(Boolean),n=e.reduce((i,[a])=>Math.max(i,a.length),0);return e.map(([i,a])=>`  ${`${i}:`.padEnd(n+1)}  ${a}`).join(`
`)}class rde extends Te{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class nde extends Te{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",ob(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class ide extends Te{constructor(e,{account:n,docsPath:i,chain:a,data:s,gas:o,gasPrice:c,maxFeePerGas:l,maxPriorityFeePerGas:u,nonce:d,to:f,value:p}){var y;const m=ob({chain:a&&`${a==null?void 0:a.name} (id: ${a==null?void 0:a.id})`,from:n==null?void 0:n.address,to:f,value:typeof p<"u"&&`${Z3(p)} ${((y=a==null?void 0:a.nativeCurrency)==null?void 0:y.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof c<"u"&&`${ua(c)} gwei`,maxFeePerGas:typeof l<"u"&&`${ua(l)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ua(u)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",m].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class VY extends Te{constructor({blockHash:e,blockNumber:n,blockTag:i,hash:a,index:s}){let o="Transaction";i&&s!==void 0&&(o=`Transaction at block time "${i}" at index "${s}"`),e&&s!==void 0&&(o=`Transaction at block hash "${e}" at index "${s}"`),n&&s!==void 0&&(o=`Transaction at block number "${n}" at index "${s}"`),a&&(o=`Transaction with hash "${a}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class GY extends Te{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class ade extends Te{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const ms=(r,e,n)=>JSON.stringify(r,(i,a)=>typeof a=="bigint"?a.toString():a,n),sde=r=>r,Q3=r=>r;class qy extends Te{constructor({body:e,cause:n,details:i,headers:a,status:s,url:o}){super("HTTP request failed.",{cause:n,details:i,metaMessages:[s&&`Status: ${s}`,`URL: ${Q3(o)}`,e&&`Request body: ${ms(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=a,this.status=s,this.url=o}}class eD extends Te{constructor({body:e,error:n,url:i}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${Q3(i)}`,`Request body: ${ms(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class DL extends Te{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Q3(n)}`,`Request body: ${ms(e)}`],name:"TimeoutError"})}}const ode=-1;class ma extends Te{constructor(e,{code:n,docsPath:i,metaMessages:a,name:s,shortMessage:o}){super(o,{cause:e,docsPath:i,metaMessages:a||(e==null?void 0:e.metaMessages),name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof eD?e.code:n??ode}}class za extends ma{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class mv extends ma{constructor(e){super(e,{code:mv.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(mv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class yv extends ma{constructor(e){super(e,{code:yv.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(yv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class vv extends ma{constructor(e,{method:n}={}){super(e,{code:vv.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(vv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class bv extends ma{constructor(e){super(e,{code:bv.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(bv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class lf extends ma{constructor(e){super(e,{code:lf.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(lf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class wv extends ma{constructor(e){super(e,{code:wv.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(wv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class _v extends ma{constructor(e){super(e,{code:_v.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(_v,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Tu extends ma{constructor(e){super(e,{code:Tu.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Tu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Rp extends ma{constructor(e){super(e,{code:Rp.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Rp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class $d extends ma{constructor(e,{method:n}={}){super(e,{code:$d.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty($d,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class $p extends ma{constructor(e){super(e,{code:$p.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty($p,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class xv extends ma{constructor(e){super(e,{code:xv.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(xv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class On extends za{constructor(e){super(e,{code:On.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(On,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Ev extends za{constructor(e){super(e,{code:Ev.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Ev,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Sv extends za{constructor(e,{method:n}={}){super(e,{code:Sv.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Sv,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Cv extends za{constructor(e){super(e,{code:Cv.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Cv,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Av extends za{constructor(e){super(e,{code:Av.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Av,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Yo extends za{constructor(e){super(e,{code:Yo.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Yo,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Tv extends za{constructor(e){super(e,{code:Tv.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Tv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class kv extends za{constructor(e){super(e,{code:kv.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(kv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Pv extends za{constructor(e){super(e,{code:Pv.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Pv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Ov extends za{constructor(e){super(e,{code:Ov.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Ov,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Nv extends za{constructor(e){super(e,{code:Nv.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Nv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Iv extends za{constructor(e){super(e,{code:Iv.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Iv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Rv extends za{constructor(e){super(e,{code:Rv.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Rv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class cde extends ma{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function tD(r,e){const n=(r.details||"").toLowerCase(),i=r instanceof Te?r.walk(a=>(a==null?void 0:a.code)===Rd.code):r;return i instanceof Te?new Rd({cause:r,message:i.details}):Rd.nodeMessage.test(n)?new Rd({cause:r,message:r.details}):X_.nodeMessage.test(n)?new X_({cause:r,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):HI.nodeMessage.test(n)?new HI({cause:r,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):WI.nodeMessage.test(n)?new WI({cause:r,nonce:e==null?void 0:e.nonce}):VI.nodeMessage.test(n)?new VI({cause:r,nonce:e==null?void 0:e.nonce}):GI.nodeMessage.test(n)?new GI({cause:r,nonce:e==null?void 0:e.nonce}):KI.nodeMessage.test(n)?new KI({cause:r}):YI.nodeMessage.test(n)?new YI({cause:r,gas:e==null?void 0:e.gas}):XI.nodeMessage.test(n)?new XI({cause:r,gas:e==null?void 0:e.gas}):JI.nodeMessage.test(n)?new JI({cause:r}):J_.nodeMessage.test(n)?new J_({cause:r,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new lS({cause:r})}function lde(r,{docsPath:e,...n}){const i=(()=>{const a=tD(r,n);return a instanceof lS?r:a})();return new ide(i,{docsPath:e,...n})}function rD(r,{format:e}){if(!e)return{};const n={};function i(s){const o=Object.keys(s);for(const c of o)c in r&&(n[c]=r[c]),s[c]&&typeof s[c]=="object"&&!Array.isArray(s[c])&&i(s[c])}const a=e(r||{});return i(a),n}const ude={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function nD(r){const e={};return typeof r.authorizationList<"u"&&(e.authorizationList=dde(r.authorizationList)),typeof r.accessList<"u"&&(e.accessList=r.accessList),typeof r.blobVersionedHashes<"u"&&(e.blobVersionedHashes=r.blobVersionedHashes),typeof r.blobs<"u"&&(typeof r.blobs[0]!="string"?e.blobs=r.blobs.map(n=>pa(n)):e.blobs=r.blobs),typeof r.data<"u"&&(e.data=r.data),typeof r.from<"u"&&(e.from=r.from),typeof r.gas<"u"&&(e.gas=Ut(r.gas)),typeof r.gasPrice<"u"&&(e.gasPrice=Ut(r.gasPrice)),typeof r.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=Ut(r.maxFeePerBlobGas)),typeof r.maxFeePerGas<"u"&&(e.maxFeePerGas=Ut(r.maxFeePerGas)),typeof r.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=Ut(r.maxPriorityFeePerGas)),typeof r.nonce<"u"&&(e.nonce=Ut(r.nonce)),typeof r.to<"u"&&(e.to=r.to),typeof r.type<"u"&&(e.type=ude[r.type]),typeof r.value<"u"&&(e.value=Ut(r.value)),e}function dde(r){return r.map(e=>({address:e.address,r:e.r?Ut(BigInt(e.r)):e.r,s:e.s?Ut(BigInt(e.s)):e.s,chainId:Ut(e.chainId),nonce:Ut(e.nonce),...typeof e.yParity<"u"?{yParity:Ut(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:Ut(e.v)}:{}}))}function Hr(r,e,n){const i=r[e.name];if(typeof i=="function")return i;const a=r[n];return typeof a=="function"?a:s=>e(r,s)}const fde=2n**256n-1n;function uS(r){const{account:e,gasPrice:n,maxFeePerGas:i,maxPriorityFeePerGas:a,to:s}=r,o=e?rc(e):void 0;if(o&&!Ko(o.address))throw new of({address:o.address});if(s&&!Ko(s))throw new of({address:s});if(typeof n<"u"&&(typeof i<"u"||typeof a<"u"))throw new rde;if(i&&i>fde)throw new X_({maxFeePerGas:i});if(a&&i&&a>i)throw new J_({maxFeePerGas:i,maxPriorityFeePerGas:a})}async function KY(r){const e=await r.request({method:"eth_chainId"},{dedupe:!0});return sf(e)}class hde extends Te{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class iD extends Te{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class pde extends Te{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${ua(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class YY extends Te{constructor({blockHash:e,blockNumber:n}){let i="Block";e&&(i=`Block at hash "${e}"`),n&&(i=`Block at number "${n}"`),super(`${i} could not be found.`,{name:"BlockNotFoundError"})}}const XY={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function JY(r){const e={...r,blockHash:r.blockHash?r.blockHash:null,blockNumber:r.blockNumber?BigInt(r.blockNumber):null,chainId:r.chainId?sf(r.chainId):void 0,gas:r.gas?BigInt(r.gas):void 0,gasPrice:r.gasPrice?BigInt(r.gasPrice):void 0,maxFeePerBlobGas:r.maxFeePerBlobGas?BigInt(r.maxFeePerBlobGas):void 0,maxFeePerGas:r.maxFeePerGas?BigInt(r.maxFeePerGas):void 0,maxPriorityFeePerGas:r.maxPriorityFeePerGas?BigInt(r.maxPriorityFeePerGas):void 0,nonce:r.nonce?sf(r.nonce):void 0,to:r.to?r.to:null,transactionIndex:r.transactionIndex?Number(r.transactionIndex):null,type:r.type?XY[r.type]:void 0,typeHex:r.type?r.type:void 0,value:r.value?BigInt(r.value):void 0,v:r.v?BigInt(r.v):void 0};return r.authorizationList&&(e.authorizationList=gde(r.authorizationList)),e.yParity=(()=>{if(r.yParity)return Number(r.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}function gde(r){return r.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function mde(r){const e=(r.transactions??[]).map(n=>typeof n=="string"?n:JY(n));return{...r,baseFeePerGas:r.baseFeePerGas?BigInt(r.baseFeePerGas):null,blobGasUsed:r.blobGasUsed?BigInt(r.blobGasUsed):void 0,difficulty:r.difficulty?BigInt(r.difficulty):void 0,excessBlobGas:r.excessBlobGas?BigInt(r.excessBlobGas):void 0,gasLimit:r.gasLimit?BigInt(r.gasLimit):void 0,gasUsed:r.gasUsed?BigInt(r.gasUsed):void 0,hash:r.hash?r.hash:null,logsBloom:r.logsBloom?r.logsBloom:null,nonce:r.nonce?r.nonce:null,number:r.number?BigInt(r.number):null,size:r.size?BigInt(r.size):void 0,timestamp:r.timestamp?BigInt(r.timestamp):void 0,transactions:e,totalDifficulty:r.totalDifficulty?BigInt(r.totalDifficulty):null}}async function $v(r,{blockHash:e,blockNumber:n,blockTag:i,includeTransactions:a}={}){var d,f,p;const s=i??"latest",o=a??!1,c=n!==void 0?Ut(n):void 0;let l=null;if(e?l=await r.request({method:"eth_getBlockByHash",params:[e,o]},{dedupe:!0}):l=await r.request({method:"eth_getBlockByNumber",params:[c||s,o]},{dedupe:!!c}),!l)throw new YY({blockHash:e,blockNumber:n});return(((p=(f=(d=r.chain)==null?void 0:d.formatters)==null?void 0:f.block)==null?void 0:p.format)||mde)(l)}async function ZY(r){const e=await r.request({method:"eth_gasPrice"});return BigInt(e)}async function yde(r,e){var s,o;const{block:n,chain:i=r.chain,request:a}=e||{};try{const c=((s=i==null?void 0:i.fees)==null?void 0:s.maxPriorityFeePerGas)??((o=i==null?void 0:i.fees)==null?void 0:o.defaultPriorityFee);if(typeof c=="function"){const u=n||await Hr(r,$v,"getBlock")({}),d=await c({block:u,client:r,request:a});if(d===null)throw new Error;return d}if(typeof c<"u")return c;const l=await r.request({method:"eth_maxPriorityFeePerGas"});return Op(l)}catch{const[c,l]=await Promise.all([n?Promise.resolve(n):Hr(r,$v,"getBlock")({}),Hr(r,ZY,"getGasPrice")({})]);if(typeof c.baseFeePerGas!="bigint")throw new iD;const u=l-c.baseFeePerGas;return u<0n?0n:u}}async function ML(r,e){var p,m;const{block:n,chain:i=r.chain,request:a,type:s="eip1559"}=e||{},o=await(async()=>{var y,v;return typeof((y=i==null?void 0:i.fees)==null?void 0:y.baseFeeMultiplier)=="function"?i.fees.baseFeeMultiplier({block:n,client:r,request:a}):((v=i==null?void 0:i.fees)==null?void 0:v.baseFeeMultiplier)??1.2})();if(o<1)throw new hde;const l=10**(((p=o.toString().split(".")[1])==null?void 0:p.length)??0),u=y=>y*BigInt(Math.ceil(o*l))/BigInt(l),d=n||await Hr(r,$v,"getBlock")({});if(typeof((m=i==null?void 0:i.fees)==null?void 0:m.estimateFeesPerGas)=="function"){const y=await i.fees.estimateFeesPerGas({block:n,client:r,multiply:u,request:a,type:s});if(y!==null)return y}if(s==="eip1559"){if(typeof d.baseFeePerGas!="bigint")throw new iD;const y=typeof(a==null?void 0:a.maxPriorityFeePerGas)=="bigint"?a.maxPriorityFeePerGas:await yde(r,{block:d,chain:i,request:a}),v=u(d.baseFeePerGas);return{maxFeePerGas:(a==null?void 0:a.maxFeePerGas)??v+y,maxPriorityFeePerGas:y}}return{gasPrice:(a==null?void 0:a.gasPrice)??u(await Hr(r,ZY,"getGasPrice")({}))}}class vde extends Te{constructor(e,{account:n,docsPath:i,chain:a,data:s,gas:o,gasPrice:c,maxFeePerGas:l,maxPriorityFeePerGas:u,nonce:d,to:f,value:p}){var y;const m=ob({from:n==null?void 0:n.address,to:f,value:typeof p<"u"&&`${Z3(p)} ${((y=a==null?void 0:a.nativeCurrency)==null?void 0:y.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof c<"u"&&`${ua(c)} gwei`,maxFeePerGas:typeof l<"u"&&`${ua(l)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ua(u)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",m].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function bde(r,{docsPath:e,...n}){const i=(()=>{const a=tD(r,n);return a instanceof lS?r:a})();return new vde(i,{docsPath:e,...n})}class wde extends Te{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class _de extends Te{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function LL(r){return r.reduce((e,{slot:n,value:i})=>`${e}        ${n}: ${i}
`,"")}function xde(r){return r.reduce((e,{address:n,...i})=>{let a=`${e}    ${n}:
`;return i.nonce&&(a+=`      nonce: ${i.nonce}
`),i.balance&&(a+=`      balance: ${i.balance}
`),i.code&&(a+=`      code: ${i.code}
`),i.state&&(a+=`      state:
`,a+=LL(i.state)),i.stateDiff&&(a+=`      stateDiff:
`,a+=LL(i.stateDiff)),a},`  State Override:
`).slice(0,-1)}function UL(r){if(!(!r||r.length===0))return r.reduce((e,{slot:n,value:i})=>{if(n.length!==66)throw new AL({size:n.length,targetSize:66,type:"hex"});if(i.length!==66)throw new AL({size:i.length,targetSize:66,type:"hex"});return e[n]=i,e},{})}function Ede(r){const{balance:e,nonce:n,state:i,stateDiff:a,code:s}=r,o={};if(s!==void 0&&(o.code=s),e!==void 0&&(o.balance=Ut(e)),n!==void 0&&(o.nonce=Ut(n)),i!==void 0&&(o.state=UL(i)),a!==void 0){if(o.state)throw new _de;o.stateDiff=UL(a)}return o}function QY(r){if(!r)return;const e={};for(const{address:n,...i}of r){if(!Ko(n,{strict:!1}))throw new of({address:n});if(e[n])throw new wde({address:n});e[n]=Ede(i)}return e}async function eX(r,{address:e,blockNumber:n,blockTag:i="latest"}){const a=typeof n=="bigint"?Ut(n):void 0,s=await r.request({method:"eth_getBalance",params:[e,a||i]});return BigInt(s)}async function tX(r,e){var a,s,o;const{account:n=r.account}=e,i=n?rc(n):void 0;try{let L=function(j){const{block:W,request:H,rpcStateOverride:z}=j;return r.request({method:"eth_estimateGas",params:z?[H,W??"latest",z]:W?[H,W]:[H]})};const{accessList:c,authorizationList:l,blobs:u,blobVersionedHashes:d,blockNumber:f,blockTag:p,data:m,gas:y,gasPrice:v,maxFeePerBlobGas:b,maxFeePerGas:w,maxPriorityFeePerGas:x,nonce:E,value:A,stateOverride:S,...C}=await sD(r,{...e,parameters:(i==null?void 0:i.type)==="local"?void 0:["blobVersionedHashes"]}),O=(typeof f=="bigint"?Ut(f):void 0)||p,I=QY(S),M=await(async()=>{if(C.to)return C.to;if(l&&l.length>0)return await HY({authorization:l[0]}).catch(()=>{throw new Te("`to` is required. Could not infer from `authorizationList`")})})();uS(e);const D=(o=(s=(a=r.chain)==null?void 0:a.formatters)==null?void 0:s.transactionRequest)==null?void 0:o.format,K=(D||nD)({...rD(C,{format:D}),from:i==null?void 0:i.address,accessList:c,authorizationList:l,blobs:u,blobVersionedHashes:d,data:m,gas:y,gasPrice:v,maxFeePerBlobGas:b,maxFeePerGas:w,maxPriorityFeePerGas:x,nonce:E,to:M,value:A});let R=BigInt(await L({block:O,request:K,rpcStateOverride:I}));if(l){const j=await eX(r,{address:K.from}),W=await Promise.all(l.map(async H=>{const{address:z}=H,B=await L({block:O,request:{authorizationList:void 0,data:m,from:i==null?void 0:i.address,to:z,value:Ut(j)},rpcStateOverride:I}).catch(()=>100000n);return 2n*BigInt(B)}));R+=W.reduce((H,z)=>H+z,0n)}return R}catch(c){throw bde(c,{...e,account:i,chain:r.chain})}}async function Sde(r,{address:e,blockTag:n="latest",blockNumber:i}){const a=await r.request({method:"eth_getTransactionCount",params:[e,typeof i=="bigint"?Ut(i):n]},{dedupe:!!i});return sf(a)}function rX(r){const{kzg:e}=r,n=r.to??(typeof r.blobs[0]=="string"?"hex":"bytes"),i=typeof r.blobs[0]=="string"?r.blobs.map(s=>Go(s)):r.blobs,a=[];for(const s of i)a.push(Uint8Array.from(e.blobToKzgCommitment(s)));return n==="bytes"?a:a.map(s=>pa(s))}function nX(r){const{kzg:e}=r,n=r.to??(typeof r.blobs[0]=="string"?"hex":"bytes"),i=typeof r.blobs[0]=="string"?r.blobs.map(o=>Go(o)):r.blobs,a=typeof r.commitments[0]=="string"?r.commitments.map(o=>Go(o)):r.commitments,s=[];for(let o=0;o<i.length;o++){const c=i[o],l=a[o];s.push(Uint8Array.from(e.computeBlobKzgProof(c,l)))}return n==="bytes"?s:s.map(o=>pa(o))}function Cde(r,e,n,i){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,n,i);const a=BigInt(32),s=BigInt(4294967295),o=Number(n>>a&s),c=Number(n&s),l=i?4:0,u=i?0:4;r.setUint32(e+l,o,i),r.setUint32(e+u,c,i)}function Ade(r,e,n){return r&e^~r&n}function Tde(r,e,n){return r&e^r&n^e&n}class kde extends PY{constructor(e,n,i,a){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=i,this.isLE=a,this.buffer=new Uint8Array(e),this.view=$2(this.buffer)}update(e){K_(this),e=V3(e),cf(e);const{view:n,buffer:i,blockLen:a}=this,s=e.length;for(let o=0;o<s;){const c=Math.min(a-this.pos,s-o);if(c===a){const l=$2(e);for(;a<=s-o;o+=a)this.process(l,o);continue}i.set(e.subarray(o,o+c),this.pos),this.pos+=c,o+=c,this.pos===a&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){K_(this),kY(e,this),this.finished=!0;const{buffer:n,view:i,blockLen:a,isLE:s}=this;let{pos:o}=this;n[o++]=128,gv(this.buffer.subarray(o)),this.padOffset>a-o&&(this.process(i,0),o=0);for(let f=o;f<a;f++)n[f]=0;Cde(i,a-8,BigInt(this.length*8),s),this.process(i,0);const c=$2(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)c.setUint32(4*f,d[f],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const i=e.slice(0,n);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:i,length:a,finished:s,destroyed:o,pos:c}=this;return e.destroyed=o,e.finished=s,e.length=a,e.pos=c,a%n&&e.buffer.set(i),e}clone(){return this._cloneInto()}}const ql=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Pde=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),zl=new Uint32Array(64);class Ode extends kde{constructor(e=32){super(64,e,8,!1),this.A=ql[0]|0,this.B=ql[1]|0,this.C=ql[2]|0,this.D=ql[3]|0,this.E=ql[4]|0,this.F=ql[5]|0,this.G=ql[6]|0,this.H=ql[7]|0}get(){const{A:e,B:n,C:i,D:a,E:s,F:o,G:c,H:l}=this;return[e,n,i,a,s,o,c,l]}set(e,n,i,a,s,o,c,l){this.A=e|0,this.B=n|0,this.C=i|0,this.D=a|0,this.E=s|0,this.F=o|0,this.G=c|0,this.H=l|0}process(e,n){for(let f=0;f<16;f++,n+=4)zl[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const p=zl[f-15],m=zl[f-2],y=bo(p,7)^bo(p,18)^p>>>3,v=bo(m,17)^bo(m,19)^m>>>10;zl[f]=v+zl[f-7]+y+zl[f-16]|0}let{A:i,B:a,C:s,D:o,E:c,F:l,G:u,H:d}=this;for(let f=0;f<64;f++){const p=bo(c,6)^bo(c,11)^bo(c,25),m=d+p+Ade(c,l,u)+Pde[f]+zl[f]|0,v=(bo(i,2)^bo(i,13)^bo(i,22))+Tde(i,a,s)|0;d=u,u=l,l=c,c=o+m|0,o=s,s=a,a=i,i=m+v|0}i=i+this.A|0,a=a+this.B|0,s=s+this.C|0,o=o+this.D|0,c=c+this.E|0,l=l+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(i,a,s,o,c,l,u,d)}roundClean(){gv(zl)}destroy(){this.set(0,0,0,0,0,0,0,0),gv(this.buffer)}}const Nde=OY(()=>new Ode),Ide=Nde;function Rde(r,e){return Ide(ju(r,{strict:!1})?rS(r):r)}function $de(r){const{commitment:e,version:n=1}=r,i=r.to??(typeof e=="string"?"hex":"bytes"),a=Rde(e);return a.set([n],0),i==="bytes"?a:pa(a)}function jde(r){const{commitments:e,version:n}=r,i=r.to,a=[];for(const s of e)a.push($de({commitment:s,to:i,version:n}));return a}const BL=6,iX=32,aD=4096,aX=iX*aD,FL=aX*BL-1-1*aD*BL;class Dde extends Te{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class Mde extends Te{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function Lde(r){const e=typeof r.data=="string"?Go(r.data):r.data,n=In(e);if(!n)throw new Mde;if(n>FL)throw new Dde({maxSize:FL,size:n});const i=[];let a=!0,s=0;for(;a;){const o=J3(new Uint8Array(aX));let c=0;for(;c<aD;){const l=e.slice(s,s+(iX-1));if(o.pushByte(0),o.pushBytes(l),l.length<31){o.pushByte(128),a=!1;break}c++,s+=31}i.push(o)}return i.map(o=>pa(o.bytes))}function Ude(r){const{data:e,kzg:n,to:i}=r,a=r.blobs??Lde({data:e}),s=r.commitments??rX({blobs:a,kzg:n,to:i}),o=r.proofs??nX({blobs:a,commitments:s,kzg:n,to:i}),c=[];for(let l=0;l<a.length;l++)c.push({blob:a[l],commitment:s[l],proof:o[l]});return c}function Bde(r){if(r.type)return r.type;if(typeof r.authorizationList<"u")return"eip7702";if(typeof r.blobs<"u"||typeof r.blobVersionedHashes<"u"||typeof r.maxFeePerBlobGas<"u"||typeof r.sidecars<"u")return"eip4844";if(typeof r.maxFeePerGas<"u"||typeof r.maxPriorityFeePerGas<"u")return"eip1559";if(typeof r.gasPrice<"u")return typeof r.accessList<"u"?"eip2930":"legacy";throw new nde({transaction:r})}const sX=["blobVersionedHashes","chainId","fees","gas","nonce","type"],qL=new Map;async function sD(r,e){const{account:n=r.account,blobs:i,chain:a,gas:s,kzg:o,nonce:c,nonceManager:l,parameters:u=sX,type:d}=e,f=n&&rc(n),p={...e,...f?{from:f==null?void 0:f.address}:{}};let m;async function y(){return m||(m=await Hr(r,$v,"getBlock")({blockTag:"latest"}),m)}let v;async function b(){return v||(a?a.id:typeof e.chainId<"u"?e.chainId:(v=await Hr(r,KY,"getChainId")({}),v))}if(u.includes("nonce")&&typeof c>"u"&&f)if(l){const w=await b();p.nonce=await l.consume({address:f.address,chainId:w,client:r})}else p.nonce=await Hr(r,Sde,"getTransactionCount")({address:f.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&i&&o){const w=rX({blobs:i,kzg:o});if(u.includes("blobVersionedHashes")){const x=jde({commitments:w,to:"hex"});p.blobVersionedHashes=x}if(u.includes("sidecars")){const x=nX({blobs:i,commitments:w,kzg:o}),E=Ude({blobs:i,commitments:w,proofs:x,to:"hex"});p.sidecars=E}}if(u.includes("chainId")&&(p.chainId=await b()),(u.includes("fees")||u.includes("type"))&&typeof d>"u")try{p.type=Bde(p)}catch{let w=qL.get(r.uid);if(typeof w>"u"){const x=await y();w=typeof(x==null?void 0:x.baseFeePerGas)=="bigint",qL.set(r.uid,w)}p.type=w?"eip1559":"legacy"}if(u.includes("fees"))if(p.type!=="legacy"&&p.type!=="eip2930"){if(typeof p.maxFeePerGas>"u"||typeof p.maxPriorityFeePerGas>"u"){const w=await y(),{maxFeePerGas:x,maxPriorityFeePerGas:E}=await ML(r,{block:w,chain:a,request:p});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<E)throw new pde({maxPriorityFeePerGas:E});p.maxPriorityFeePerGas=E,p.maxFeePerGas=x}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new iD;if(typeof e.gasPrice>"u"){const w=await y(),{gasPrice:x}=await ML(r,{block:w,chain:a,request:p,type:"legacy"});p.gasPrice=x}}return u.includes("gas")&&typeof s>"u"&&(p.gas=await Hr(r,tX,"estimateGas")({...p,account:f&&{address:f.address,type:"json-rpc"}})),uS(p),delete p.parameters,p}async function Fde(r,{serializedTransaction:e}){return r.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const U2=new oS(128);async function oX(r,e){var x,E,A,S;const{account:n=r.account,chain:i=r.chain,accessList:a,authorizationList:s,blobs:o,data:c,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:m,type:y,value:v,...b}=e;if(typeof n>"u")throw new X3({docsPath:"/docs/actions/wallet/sendTransaction"});const w=n?rc(n):null;try{uS(e);const C=await(async()=>{if(e.to)return e.to;if(e.to!==null&&s&&s.length>0)return await HY({authorization:s[0]}).catch(()=>{throw new Te("`to` is required. Could not infer from `authorizationList`.")})})();if((w==null?void 0:w.type)==="json-rpc"||w===null){let P;i!==null&&(P=await Hr(r,KY,"getChainId")({}),Zue({currentChainId:P,chain:i}));const O=(A=(E=(x=r.chain)==null?void 0:x.formatters)==null?void 0:E.transactionRequest)==null?void 0:A.format,M=(O||nD)({...rD(b,{format:O}),accessList:a,authorizationList:s,blobs:o,chainId:P,data:c,from:w==null?void 0:w.address,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:m,to:C,type:y,value:v}),D=U2.get(r.uid),q=D?"wallet_sendTransaction":"eth_sendTransaction";try{return await r.request({method:q,params:[M]},{retryCount:0})}catch(K){if(D===!1)throw K;const L=K;if(L.name==="InvalidInputRpcError"||L.name==="InvalidParamsRpcError"||L.name==="MethodNotFoundRpcError"||L.name==="MethodNotSupportedRpcError")return await r.request({method:"wallet_sendTransaction",params:[M]},{retryCount:0}).then(R=>(U2.set(r.uid,!0),R)).catch(R=>{const j=R;throw j.name==="MethodNotFoundRpcError"||j.name==="MethodNotSupportedRpcError"?(U2.set(r.uid,!1),L):j});throw L}}if((w==null?void 0:w.type)==="local"){const P=await Hr(r,sD,"prepareTransactionRequest")({account:w,accessList:a,authorizationList:s,blobs:o,chain:i,data:c,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:m,nonceManager:w.nonceManager,parameters:[...sX,"sidecars"],type:y,value:v,...b,to:C}),O=(S=i==null?void 0:i.serializers)==null?void 0:S.transaction,I=await w.signTransaction(P,{serializer:O});return await Hr(r,Fde,"sendRawTransaction")({serializedTransaction:I})}throw(w==null?void 0:w.type)==="smart"?new L2({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new L2({docsPath:"/docs/actions/wallet/sendTransaction",type:w==null?void 0:w.type})}catch(C){throw C instanceof L2?C:lde(C,{...e,account:w,chain:e.chain||void 0})}}const ZI=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],jct=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}];function qde(r,e={}){typeof e.size<"u"&&co(r,{size:e.size});const n=pa(r,e);return Op(n,e)}function zde(r,e={}){let n=r;if(typeof e.size<"u"&&(co(n,{size:e.size}),n=ab(n)),n.length>1||n[0]>1)throw new Dle(n);return!!n[0]}function Yc(r,e={}){typeof e.size<"u"&&co(r,{size:e.size});const n=pa(r,e);return sf(n,e)}function Hde(r,e={}){let n=r;return typeof e.size<"u"&&(co(n,{size:e.size}),n=ab(n,{dir:"right"})),new TextDecoder().decode(n)}function dS(r,e){const n=typeof e=="string"?Go(e):e,i=J3(n);if(In(n)===0&&r.length>0)throw new aS;if(In(e)&&In(e)<32)throw new SY({data:typeof e=="string"?e:pa(e),params:r,size:In(e)});let a=0;const s=[];for(let o=0;o<r.length;++o){const c=r[o];i.setPosition(a);const[l,u]=up(i,c,{staticPosition:0});a+=u,s.push(l)}return s}function up(r,e,{staticPosition:n}){const i=Y3(e.type);if(i){const[a,s]=i;return Vde(r,{...e,type:s},{length:a,staticPosition:n})}if(e.type==="tuple")return Xde(r,e,{staticPosition:n});if(e.type==="address")return Wde(r);if(e.type==="bool")return Gde(r);if(e.type.startsWith("bytes"))return Kde(r,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return Yde(r,e);if(e.type==="string")return Jde(r,{staticPosition:n});throw new Qle(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const zL=32,QI=32;function Wde(r){const e=r.readBytes(32);return[cS(pa(LY(e,-20))),32]}function Vde(r,e,{length:n,staticPosition:i}){if(!n){const o=Yc(r.readBytes(QI)),c=i+o,l=c+zL;r.setPosition(c);const u=Yc(r.readBytes(zL)),d=jv(e);let f=0;const p=[];for(let m=0;m<u;++m){r.setPosition(l+(d?m*32:f));const[y,v]=up(r,e,{staticPosition:l});f+=v,p.push(y)}return r.setPosition(i+32),[p,32]}if(jv(e)){const o=Yc(r.readBytes(QI)),c=i+o,l=[];for(let u=0;u<n;++u){r.setPosition(c+u*32);const[d]=up(r,e,{staticPosition:c});l.push(d)}return r.setPosition(i+32),[l,32]}let a=0;const s=[];for(let o=0;o<n;++o){const[c,l]=up(r,e,{staticPosition:i+a});a+=l,s.push(c)}return[s,a]}function Gde(r){return[zde(r.readBytes(32),{size:32}),32]}function Kde(r,e,{staticPosition:n}){const[i,a]=e.type.split("bytes");if(!a){const o=Yc(r.readBytes(32));r.setPosition(n+o);const c=Yc(r.readBytes(32));if(c===0)return r.setPosition(n+32),["0x",32];const l=r.readBytes(c);return r.setPosition(n+32),[pa(l),32]}return[pa(r.readBytes(Number.parseInt(a),32)),32]}function Yde(r,e){const n=e.type.startsWith("int"),i=Number.parseInt(e.type.split("int")[1]||"256"),a=r.readBytes(32);return[i>48?qde(a,{signed:n}):Yc(a,{signed:n}),32]}function Xde(r,e,{staticPosition:n}){const i=e.components.length===0||e.components.some(({name:o})=>!o),a=i?[]:{};let s=0;if(jv(e)){const o=Yc(r.readBytes(QI)),c=n+o;for(let l=0;l<e.components.length;++l){const u=e.components[l];r.setPosition(c+s);const[d,f]=up(r,u,{staticPosition:c});s+=f,a[i?l:u==null?void 0:u.name]=d}return r.setPosition(n+32),[a,32]}for(let o=0;o<e.components.length;++o){const c=e.components[o],[l,u]=up(r,c,{staticPosition:n});a[i?o:c==null?void 0:c.name]=l,s+=u}return[a,s]}function Jde(r,{staticPosition:e}){const n=Yc(r.readBytes(32)),i=e+n;r.setPosition(i);const a=Yc(r.readBytes(32));if(a===0)return r.setPosition(e+32),["",32];const s=r.readBytes(a,32),o=Hde(ab(s));return r.setPosition(e+32),[o,32]}function jv(r){var i;const{type:e}=r;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(i=r.components)==null?void 0:i.some(jv);const n=Y3(r.type);return!!(n&&jv({...r,type:n[1]}))}const Zde=r=>sb(rS(r));function Qde(r){return Zde(r)}const efe="1.0.8";let xs=class eR extends Error{constructor(e,n={}){var o;const i=n.cause instanceof eR?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,a=n.cause instanceof eR&&n.cause.docsPath||n.docsPath,s=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...a?[`Docs: https://abitype.dev${a}`]:[],...i?[`Details: ${i}`]:[],`Version: abitype@${efe}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=i,this.docsPath=a,this.metaMessages=n.metaMessages,this.shortMessage=e}};function ml(r,e){const n=r.exec(e);return n==null?void 0:n.groups}const cX=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,lX=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,uX=/^\(.+?\).*?$/,HL=/^tuple(?<array>(\[(\d*)\])*)$/;function tR(r){let e=r.type;if(HL.test(r.type)&&"components"in r){e="(";const n=r.components.length;for(let a=0;a<n;a++){const s=r.components[a];e+=tR(s),a<n-1&&(e+=", ")}const i=ml(HL,r.type);return e+=`)${(i==null?void 0:i.array)??""}`,tR({...r,type:e})}return"indexed"in r&&r.indexed&&(e=`${e} indexed`),r.name?`${e} ${r.name}`:e}function Dm(r){let e="";const n=r.length;for(let i=0;i<n;i++){const a=r[i];e+=tR(a),i!==n-1&&(e+=", ")}return e}function tfe(r){var e;return r.type==="function"?`function ${r.name}(${Dm(r.inputs)})${r.stateMutability&&r.stateMutability!=="nonpayable"?` ${r.stateMutability}`:""}${(e=r.outputs)!=null&&e.length?` returns (${Dm(r.outputs)})`:""}`:r.type==="event"?`event ${r.name}(${Dm(r.inputs)})`:r.type==="error"?`error ${r.name}(${Dm(r.inputs)})`:r.type==="constructor"?`constructor(${Dm(r.inputs)})${r.stateMutability==="payable"?" payable":""}`:r.type==="fallback"?`fallback() external${r.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const dX=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function rfe(r){return dX.test(r)}function nfe(r){return ml(dX,r)}const fX=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function ife(r){return fX.test(r)}function afe(r){return ml(fX,r)}const hX=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function sfe(r){return hX.test(r)}function ofe(r){return ml(hX,r)}const pX=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function gX(r){return pX.test(r)}function cfe(r){return ml(pX,r)}const mX=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function lfe(r){return mX.test(r)}function ufe(r){return ml(mX,r)}const yX=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function dfe(r){return yX.test(r)}function ffe(r){return ml(yX,r)}const hfe=/^receive\(\) external payable$/;function pfe(r){return hfe.test(r)}const gfe=new Set(["indexed"]),rR=new Set(["calldata","memory","storage"]);class mfe extends xs{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class yfe extends xs{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class vfe extends xs{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class bfe extends xs{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class wfe extends xs{constructor({param:e,type:n,modifier:i}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${i}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class _fe extends xs{constructor({param:e,type:n,modifier:i}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${i}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${i}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class xfe extends xs{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Tg extends xs{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Efe extends xs{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Sfe extends xs{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Cfe extends xs{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Afe extends xs{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Tfe(r,e,n){let i="";if(n)for(const a of Object.entries(n)){if(!a)continue;let s="";for(const o of a[1])s+=`[${o.type}${o.name?`:${o.name}`:""}]`;i+=`(${a[0]}{${s}})`}return e?`${e}:${r}${i}`:r}const B2=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function kfe(r,e={}){if(sfe(r))return Pfe(r,e);if(ife(r))return Ofe(r,e);if(rfe(r))return Nfe(r,e);if(lfe(r))return Ife(r,e);if(dfe(r))return Rfe(r);if(pfe(r))return{type:"receive",stateMutability:"payable"};throw new Efe({signature:r})}function Pfe(r,e={}){const n=ofe(r);if(!n)throw new Tg({signature:r,type:"function"});const i=Zs(n.parameters),a=[],s=i.length;for(let c=0;c<s;c++)a.push(uf(i[c],{modifiers:rR,structs:e,type:"function"}));const o=[];if(n.returns){const c=Zs(n.returns),l=c.length;for(let u=0;u<l;u++)o.push(uf(c[u],{modifiers:rR,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:a,outputs:o}}function Ofe(r,e={}){const n=afe(r);if(!n)throw new Tg({signature:r,type:"event"});const i=Zs(n.parameters),a=[],s=i.length;for(let o=0;o<s;o++)a.push(uf(i[o],{modifiers:gfe,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:a}}function Nfe(r,e={}){const n=nfe(r);if(!n)throw new Tg({signature:r,type:"error"});const i=Zs(n.parameters),a=[],s=i.length;for(let o=0;o<s;o++)a.push(uf(i[o],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:a}}function Ife(r,e={}){const n=ufe(r);if(!n)throw new Tg({signature:r,type:"constructor"});const i=Zs(n.parameters),a=[],s=i.length;for(let o=0;o<s;o++)a.push(uf(i[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:a}}function Rfe(r){const e=ffe(r);if(!e)throw new Tg({signature:r,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const $fe=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,jfe=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Dfe=/^u?int$/;function uf(r,e){var f,p;const n=Tfe(r,e==null?void 0:e.type,e==null?void 0:e.structs);if(B2.has(n))return B2.get(n);const i=uX.test(r),a=ml(i?jfe:$fe,r);if(!a)throw new vfe({param:r});if(a.name&&Lfe(a.name))throw new bfe({param:r,name:a.name});const s=a.name?{name:a.name}:{},o=a.modifier==="indexed"?{indexed:!0}:{},c=(e==null?void 0:e.structs)??{};let l,u={};if(i){l="tuple";const m=Zs(a.type),y=[],v=m.length;for(let b=0;b<v;b++)y.push(uf(m[b],{structs:c}));u={components:y}}else if(a.type in c)l="tuple",u={components:c[a.type]};else if(Dfe.test(a.type))l=`${a.type}256`;else if(l=a.type,(e==null?void 0:e.type)!=="struct"&&!vX(l))throw new yfe({type:l});if(a.modifier){if(!((p=(f=e==null?void 0:e.modifiers)==null?void 0:f.has)!=null&&p.call(f,a.modifier)))throw new wfe({param:r,type:e==null?void 0:e.type,modifier:a.modifier});if(rR.has(a.modifier)&&!Ufe(l,!!a.array))throw new _fe({param:r,type:e==null?void 0:e.type,modifier:a.modifier})}const d={type:`${l}${a.array??""}`,...s,...o,...u};return B2.set(n,d),d}function Zs(r,e=[],n="",i=0){const a=r.trim().length;for(let s=0;s<a;s++){const o=r[s],c=r.slice(s+1);switch(o){case",":return i===0?Zs(c,[...e,n.trim()]):Zs(c,e,`${n}${o}`,i);case"(":return Zs(c,e,`${n}${o}`,i+1);case")":return Zs(c,e,`${n}${o}`,i-1);default:return Zs(c,e,`${n}${o}`,i)}}if(n==="")return e;if(i!==0)throw new Afe({current:n,depth:i});return e.push(n.trim()),e}function vX(r){return r==="address"||r==="bool"||r==="function"||r==="string"||cX.test(r)||lX.test(r)}const Mfe=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Lfe(r){return r==="address"||r==="bool"||r==="function"||r==="string"||r==="tuple"||cX.test(r)||lX.test(r)||Mfe.test(r)}function Ufe(r,e){return e||r==="bytes"||r==="string"||r==="tuple"}function Bfe(r){const e={},n=r.length;for(let o=0;o<n;o++){const c=r[o];if(!gX(c))continue;const l=cfe(c);if(!l)throw new Tg({signature:c,type:"struct"});const u=l.properties.split(";"),d=[],f=u.length;for(let p=0;p<f;p++){const y=u[p].trim();if(!y)continue;const v=uf(y,{type:"struct"});d.push(v)}if(!d.length)throw new Sfe({signature:c});e[l.name]=d}const i={},a=Object.entries(e),s=a.length;for(let o=0;o<s;o++){const[c,l]=a[o];i[c]=bX(l,e)}return i}const Ffe=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function bX(r,e,n=new Set){const i=[],a=r.length;for(let s=0;s<a;s++){const o=r[s];if(uX.test(o.type))i.push(o);else{const l=ml(Ffe,o.type);if(!(l!=null&&l.type))throw new xfe({abiParameter:o});const{array:u,type:d}=l;if(d in e){if(n.has(d))throw new Cfe({type:d});i.push({...o,type:`tuple${u??""}`,components:bX(e[d]??[],e,new Set([...n,d]))})}else if(vX(d))i.push(o);else throw new mfe({type:d})}}return i}function wX(r){const e=Bfe(r),n=[],i=r.length;for(let a=0;a<i;a++){const s=r[a];gX(s)||n.push(kfe(s,e))}return n}function qfe(r){let e=!0,n="",i=0,a="",s=!1;for(let o=0;o<r.length;o++){const c=r[o];if(["(",")",","].includes(c)&&(e=!0),c==="("&&i++,c===")"&&i--,!!e){if(i===0){if(c===" "&&["event","function",""].includes(a))a="";else if(a+=c,c===")"){s=!0;break}continue}if(c===" "){r[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}a+=c,n+=c}}if(!s)throw new Te("Unable to normalize signature.");return a}const zfe=r=>{const e=typeof r=="string"?r:tfe(r);return qfe(e)};function _X(r){return Qde(zfe(r))}const oD=_X,cD=r=>Y_(_X(r),0,4);function lD(r){const{abi:e,args:n=[],name:i}=r,a=ju(i,{strict:!1}),s=e.filter(c=>a?c.type==="function"?cD(c)===i:c.type==="event"?oD(c)===i:!1:"name"in c&&c.name===i);if(s.length===0)return;if(s.length===1)return s[0];let o;for(const c of s){if(!("inputs"in c))continue;if(!n||n.length===0){if(!c.inputs||c.inputs.length===0)return c;continue}if(!c.inputs||c.inputs.length===0||c.inputs.length!==n.length)continue;if(n.every((u,d)=>{const f="inputs"in c&&c.inputs[d];return f?nR(u,f):!1})){if(o&&"inputs"in o&&o.inputs){const u=xX(c.inputs,o.inputs,n);if(u)throw new Jle({abiItem:c,type:u[0]},{abiItem:o,type:u[1]})}o=c}}return o||s[0]}function nR(r,e){const n=typeof r,i=e.type;switch(i){case"address":return Ko(r,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return i==="tuple"&&"components"in e?Object.values(e.components).every((a,s)=>nR(Object.values(r)[s],a)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(i)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(i)?n==="string"||r instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(i)?Array.isArray(r)&&r.every(a=>nR(a,{...e,type:i.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function xX(r,e,n){for(const i in r){const a=r[i],s=e[i];if(a.type==="tuple"&&s.type==="tuple"&&"components"in a&&"components"in s)return xX(a.components,s.components,n[i]);const o=[a.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?Ko(n[i],{strict:!1}):o.includes("address")&&o.includes("bytes")?Ko(n[i],{strict:!1}):!1)return o}}const F2="/docs/contract/decodeFunctionResult";function uD(r){const{abi:e,args:n,functionName:i,data:a}=r;let s=e[0];if(i){const c=lD({abi:e,args:n,name:i});if(!c)throw new V_(i,{docsPath:F2});s=c}if(s.type!=="function")throw new V_(void 0,{docsPath:F2});if(!s.outputs)throw new Xle(s.name,{docsPath:F2});const o=dS(s.outputs,a);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const WL="/docs/contract/encodeFunctionData";function Hfe(r){const{abi:e,args:n,functionName:i}=r;let a=e[0];if(i){const s=lD({abi:e,args:n,name:i});if(!s)throw new V_(i,{docsPath:WL});a=s}if(a.type!=="function")throw new V_(void 0,{docsPath:WL});return{abi:[a],functionName:cD(Du(a))}}function fS(r){const{args:e}=r,{abi:n,functionName:i}=(()=>{var c;return r.abi.length===1&&((c=r.functionName)!=null&&c.startsWith("0x"))?r:Hfe(r)})(),a=n[0],s=i,o="inputs"in a&&a.inputs?UY(a.inputs,e??[]):void 0;return sS([s,o??"0x"])}function EX({blockNumber:r,chain:e,contract:n}){var a;const i=(a=e==null?void 0:e.contracts)==null?void 0:a[n];if(!i)throw new zI({chain:e,contract:{name:n}});if(r&&i.blockCreated&&i.blockCreated>r)throw new zI({blockNumber:r,chain:e,contract:{name:n,blockCreated:i.blockCreated}});return i.address}const Wfe={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Vfe={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Gfe={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function Kfe(r){const{abi:e,data:n}=r,i=Y_(n,0,4);if(i==="0x")throw new aS;const s=[...e||[],Vfe,Gfe].find(o=>o.type==="error"&&i===cD(Du(o)));if(!s)throw new CY(i,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?dS(s.inputs,Y_(n,4)):void 0,errorName:s.name}}function SX({abiItem:r,args:e,includeFunctionName:n=!0,includeName:i=!1}){if("name"in r&&"inputs"in r&&r.inputs)return`${n?r.name:""}(${r.inputs.map((a,s)=>`${i&&a.name?`${a.name}: `:""}${typeof e[s]=="object"?ms(e[s]):e[s]}`).join(", ")})`}class Yfe extends Te{constructor(e,{account:n,docsPath:i,chain:a,data:s,gas:o,gasPrice:c,maxFeePerGas:l,maxPriorityFeePerGas:u,nonce:d,to:f,value:p,stateOverride:m}){var b;const y=n?rc(n):void 0;let v=ob({from:y==null?void 0:y.address,to:f,value:typeof p<"u"&&`${Z3(p)} ${((b=a==null?void 0:a.nativeCurrency)==null?void 0:b.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof c<"u"&&`${ua(c)} gwei`,maxFeePerGas:typeof l<"u"&&`${ua(l)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ua(u)} gwei`,nonce:d});m&&(v+=`
${xde(m)}`),super(e.shortMessage,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",v].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class CX extends Te{constructor(e,{abi:n,args:i,contractAddress:a,docsPath:s,functionName:o,sender:c}){const l=lD({abi:n,args:i,name:o}),u=l?SX({abiItem:l,args:i,includeFunctionName:!1,includeName:!1}):void 0,d=l?Du(l,{includeName:!0}):void 0,f=ob({address:a&&sde(a),function:d,args:u&&u!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:c});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],f&&"Contract Call:",f].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=i,this.cause=e,this.contractAddress=a,this.functionName=o,this.sender=c}}class Xfe extends Te{constructor({abi:e,data:n,functionName:i,message:a}){let s,o,c,l;if(n&&n!=="0x")try{o=Kfe({abi:e,data:n});const{abiItem:d,errorName:f,args:p}=o;if(f==="Error")l=p[0];else if(f==="Panic"){const[m]=p;l=Wfe[m]}else{const m=d?Du(d,{includeName:!0}):void 0,y=d&&p?SX({abiItem:d,args:p,includeFunctionName:!1,includeName:!1}):void 0;c=[m?`Error: ${m}`:"",y&&y!=="()"?`       ${[...Array((f==null?void 0:f.length)??0).keys()].map(()=>" ").join("")}${y}`:""]}}catch(d){s=d}else a&&(l=a);let u;s instanceof CY&&(u=s.signature,c=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(l&&l!=="execution reverted"||u?[`The contract function "${i}" reverted with the following ${u?"signature":"reason"}:`,l||u].join(`
`):`The contract function "${i}" reverted.`,{cause:s,metaMessages:c,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=l,this.signature=u}}class Jfe extends Te{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class Zfe extends Te{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class dD extends Te{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}const Qfe=3;function Z_(r,{abi:e,address:n,args:i,docsPath:a,functionName:s,sender:o}){const c=r instanceof dD?r:r instanceof Te?r.walk(y=>"data"in y)||r.walk():{},{code:l,data:u,details:d,message:f,shortMessage:p}=c,m=r instanceof aS?new Jfe({functionName:s}):[Qfe,lf.code].includes(l)&&(u||d||f||p)?new Xfe({abi:e,data:typeof u=="object"?u.data:u,functionName:s,message:c instanceof eD?d:p??f}):r;return new CX(m,{abi:e,args:i,contractAddress:n,docsPath:a,functionName:s,sender:o})}const ehe="0.1.1";function the(){return ehe}let AX=class iR extends Error{constructor(e,n={}){const i=(()=>{var l;if(n.cause instanceof iR){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(l=n.cause)!=null&&l.message?n.cause.message:n.details})(),a=n.cause instanceof iR&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${a??""}`,c=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...i||a?["",i?`Details: ${i}`:void 0,a?`See: ${o}`:void 0]:[]].filter(l=>typeof l=="string").join(`
`);super(c,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${the()}`}),this.cause=n.cause,this.details=i,this.docs=o,this.docsPath=a,this.shortMessage=e}walk(e){return TX(this,e)}};function TX(r,e){return e!=null&&e(r)?r:r&&typeof r=="object"&&"cause"in r&&r.cause?TX(r.cause,e):e?null:r}function rhe(r,e={}){const{dir:n,size:i=32}=e;if(i===0)return r;const a=r.replace("0x","");if(a.length>i*2)throw new ahe({size:Math.ceil(a.length/2),targetSize:i,type:"Hex"});return`0x${a[n==="right"?"padEnd":"padStart"](i*2,"0")}`}function Dc(r,e={}){const{signed:n,size:i}=e,a=BigInt(r);let s;i?n?s=(1n<<BigInt(i)*8n-1n)-1n:s=2n**(BigInt(i)*8n)-1n:typeof r=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&a>s||a<o){const u=typeof r=="bigint"?"n":"";throw new ihe({max:s?`${s}${u}`:void 0,min:`${o}${u}`,signed:n,size:i,value:`${r}${u}`})}const l=`0x${(n&&a<0?(1n<<BigInt(i*8))+BigInt(a):a).toString(16)}`;return i?nhe(l,i):l}function nhe(r,e){return rhe(r,{dir:"left",size:e})}let ihe=class extends AX{constructor({max:e,min:n,signed:i,size:a,value:s}){super(`Number \`${s}\` is not in safe${a?` ${a*8}-bit`:""}${i?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}},ahe=class extends AX{constructor({size:e,targetSize:n,type:i}){super(`${i.charAt(0).toUpperCase()}${i.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function she(r){return{address:r.address,amount:Dc(r.amount),index:Dc(r.index),validatorIndex:Dc(r.validatorIndex)}}function ohe(r){return{...typeof r.baseFeePerGas=="bigint"&&{baseFeePerGas:Dc(r.baseFeePerGas)},...typeof r.blobBaseFee=="bigint"&&{blobBaseFee:Dc(r.blobBaseFee)},...typeof r.feeRecipient=="string"&&{feeRecipient:r.feeRecipient},...typeof r.gasLimit=="bigint"&&{gasLimit:Dc(r.gasLimit)},...typeof r.number=="bigint"&&{number:Dc(r.number)},...typeof r.prevRandao=="bigint"&&{prevRandao:Dc(r.prevRandao)},...typeof r.time=="bigint"&&{time:Dc(r.time)},...r.withdrawals&&{withdrawals:r.withdrawals.map(she)}}}const che="0x82ad56cb",lhe="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",uhe="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe";function dhe(r,{docsPath:e,...n}){const i=(()=>{const a=tD(r,n);return a instanceof lS?r:a})();return new Yfe(i,{docsPath:e,...n})}function kX(){let r=()=>{},e=()=>{};return{promise:new Promise((i,a)=>{r=i,e=a}),resolve:r,reject:e}}const q2=new Map;function PX({fn:r,id:e,shouldSplitBatch:n,wait:i=0,sort:a}){const s=async()=>{const d=l();o();const f=d.map(({args:p})=>p);f.length!==0&&r(f).then(p=>{a&&Array.isArray(p)&&p.sort(a);for(let m=0;m<d.length;m++){const{resolve:y}=d[m];y==null||y([p[m],p])}}).catch(p=>{for(let m=0;m<d.length;m++){const{reject:y}=d[m];y==null||y(p)}})},o=()=>q2.delete(e),c=()=>l().map(({args:d})=>d),l=()=>q2.get(e)||[],u=d=>q2.set(e,[...l(),d]);return{flush:o,async schedule(d){const{promise:f,resolve:p,reject:m}=kX();return(n==null?void 0:n([...c(),d]))&&s(),l().length>0?(u({args:d,resolve:p,reject:m}),f):(u({args:d,resolve:p,reject:m}),setTimeout(s,i),f)}}}async function OX(r,e){var q,K,L,R;const{account:n=r.account,batch:i=!!((q=r.batch)!=null&&q.multicall),blockNumber:a,blockTag:s="latest",accessList:o,blobs:c,blockOverrides:l,code:u,data:d,factory:f,factoryData:p,gas:m,gasPrice:y,maxFeePerBlobGas:v,maxFeePerGas:b,maxPriorityFeePerGas:w,nonce:x,to:E,value:A,stateOverride:S,...C}=e,P=n?rc(n):void 0;if(u&&(f||p))throw new Te("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&E)throw new Te("Cannot provide both `code` & `to` as parameters.");const O=u&&d,I=f&&p&&E&&d,M=O||I,D=O?phe({code:u,data:d}):I?ghe({data:d,factory:f,factoryData:p,to:E}):d;try{uS(e);const W=(typeof a=="bigint"?Ut(a):void 0)||s,H=l?ohe(l):void 0,z=QY(S),B=(R=(L=(K=r.chain)==null?void 0:K.formatters)==null?void 0:L.transactionRequest)==null?void 0:R.format,G=(B||nD)({...rD(C,{format:B}),from:P==null?void 0:P.address,accessList:o,blobs:c,data:D,gas:m,gasPrice:y,maxFeePerBlobGas:v,maxFeePerGas:b,maxPriorityFeePerGas:w,nonce:x,to:M?void 0:E,value:A});if(i&&fhe({request:G})&&!z&&!H)try{return await hhe(r,{...G,blockNumber:a,blockTag:s})}catch(ae){if(!(ae instanceof WY)&&!(ae instanceof zI))throw ae}const Q=(()=>{const ae=[G,W];return z&&H?[...ae,z,H]:z?[...ae,z]:H?[...ae,{},H]:ae})(),te=await r.request({method:"eth_call",params:Q});return te==="0x"?{data:void 0}:{data:te}}catch(j){const W=mhe(j),{offchainLookup:H,offchainLookupSignature:z}=await dn(async()=>{const{offchainLookup:B,offchainLookupSignature:F}=await import("./ccip-JIQZiywl.js");return{offchainLookup:B,offchainLookupSignature:F}},[],import.meta.url);if(r.ccipRead!==!1&&(W==null?void 0:W.slice(0,10))===z&&E)return{data:await H(r,{data:W,to:E})};throw M&&(W==null?void 0:W.slice(0,10))==="0x101bb98d"?new Zfe({factory:f}):dhe(j,{...e,account:P,chain:r.chain})}}function fhe({request:r}){const{data:e,to:n,...i}=r;return!(!e||e.startsWith(che)||!n||Object.values(i).filter(a=>typeof a<"u").length>0)}async function hhe(r,e){var v;const{batchSize:n=1024,wait:i=0}=typeof((v=r.batch)==null?void 0:v.multicall)=="object"?r.batch.multicall:{},{blockNumber:a,blockTag:s="latest",data:o,multicallAddress:c,to:l}=e;let u=c;if(!u){if(!r.chain)throw new WY;u=EX({blockNumber:a,chain:r.chain,contract:"multicall3"})}const f=(typeof a=="bigint"?Ut(a):void 0)||s,{schedule:p}=PX({id:`${r.uid}.${f}`,wait:i,shouldSplitBatch(b){return b.reduce((x,{data:E})=>x+(E.length-2),0)>n*2},fn:async b=>{const w=b.map(A=>({allowFailure:!0,callData:A.data,target:A.to})),x=fS({abi:ZI,args:[w],functionName:"aggregate3"}),E=await r.request({method:"eth_call",params:[{data:x,to:u},f]});return uD({abi:ZI,args:[w],functionName:"aggregate3",data:E||"0x"})}}),[{returnData:m,success:y}]=await p({data:o,to:l});if(!y)throw new dD({data:m});return m==="0x"?{data:void 0}:{data:m}}function phe(r){const{code:e,data:n}=r;return BY({abi:wX(["constructor(bytes, bytes)"]),bytecode:lhe,args:[e,n]})}function ghe(r){const{data:e,factory:n,factoryData:i,to:a}=r;return BY({abi:wX(["constructor(address, bytes, address, bytes)"]),bytecode:uhe,args:[a,e,n,i]})}function mhe(r){var n;if(!(r instanceof Te))return;const e=r.walk();return typeof(e==null?void 0:e.data)=="object"?(n=e.data)==null?void 0:n.data:e.data}async function NX(r,e){const{abi:n,address:i,args:a,functionName:s,...o}=e,c=fS({abi:n,args:a,functionName:s});try{const{data:l}=await Hr(r,OX,"call")({...o,data:c,to:i});return uD({abi:n,args:a,functionName:s,data:l||"0x"})}catch(l){throw Z_(l,{abi:n,address:i,args:a,docsPath:"/docs/contract/readContract",functionName:s})}}function yhe(r,{method:e}){var i,a;const n={};return r.transport.type==="fallback"&&((a=(i=r.transport).onResponse)==null||a.call(i,({method:s,response:o,status:c,transport:l})=>{c==="success"&&e===s&&(n[o]=l.request)})),s=>n[s]||r.request}async function vhe(r){const e=yhe(r,{method:"eth_newPendingTransactionFilter"}),n=await r.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}const bhe=new Map,whe=new Map;function _he(r){const e=(a,s)=>({clear:()=>s.delete(a),get:()=>s.get(a),set:o=>s.set(a,o)}),n=e(r,bhe),i=e(r,whe);return{clear:()=>{n.clear(),i.clear()},promise:n,response:i}}async function xhe(r,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const i=_he(e),a=i.response.get();if(a&&n>0&&new Date().getTime()-a.created.getTime()<n)return a.data;let s=i.promise.get();s||(s=r(),i.promise.set(s));try{const o=await s;return i.response.set({created:new Date,data:o}),o}finally{i.promise.clear()}}const Ehe=r=>`blockNumber.${r}`;async function She(r,{cacheTime:e=r.cacheTime}={}){const n=await xhe(()=>r.request({method:"eth_blockNumber"}),{cacheKey:Ehe(r.uid),cacheTime:e});return BigInt(n)}function Che(r,e){if(!Ko(r,{strict:!1}))throw new of({address:r});if(!Ko(e,{strict:!1}))throw new of({address:e});return r.toLowerCase()===e.toLowerCase()}const VL="/docs/contract/decodeEventLog";function Ahe(r){const{abi:e,data:n,strict:i,topics:a}=r,s=i??!0,[o,...c]=a;if(!o)throw new Yle({docsPath:VL});const l=e.length===1?e[0]:e.find(v=>v.type==="event"&&o===oD(Du(v)));if(!(l&&"name"in l)||l.type!=="event")throw new AY(o,{docsPath:VL});const{name:u,inputs:d}=l,f=d==null?void 0:d.some(v=>!("name"in v&&v.name));let p=f?[]:{};const m=d.filter(v=>"indexed"in v&&v.indexed);for(let v=0;v<m.length;v++){const b=m[v],w=c[v];if(!w)throw new TY({abiItem:l,param:b});p[f?v:b.name||v]=The({param:b,value:w})}const y=d.filter(v=>!("indexed"in v&&v.indexed));if(y.length>0){if(n&&n!=="0x")try{const v=dS(y,n);if(v)if(f)p=[...p,...v];else for(let b=0;b<y.length;b++)p[y[b].name]=v[b]}catch(v){if(s)throw v instanceof SY||v instanceof FY?new qI({abiItem:l,data:n,params:y,size:In(n)}):v}else if(s)throw new qI({abiItem:l,data:"0x",params:y,size:0})}return{eventName:u,args:Object.values(p).length>0?p:void 0}}function The({param:r,value:e}){return r.type==="string"||r.type==="bytes"||r.type==="tuple"||r.type.match(/^(.*)\[(\d+)?\]$/)?e:(dS([r],e)||[])[0]}function khe(r){const{abi:e,args:n,logs:i,strict:a=!0}=r,s=(()=>{if(r.eventName)return Array.isArray(r.eventName)?r.eventName:[r.eventName]})();return i.map(o=>{var c;try{const l=e.find(d=>d.type==="event"&&o.topics[0]===oD(d));if(!l)return null;const u=Ahe({...o,abi:[l],strict:a});return s&&!s.includes(u.eventName)||!Phe({args:u.args,inputs:l.inputs,matchArgs:n})?null:{...u,...o}}catch(l){let u,d;if(l instanceof AY)return null;if(l instanceof qI||l instanceof TY){if(a)return null;u=l.abiItem.name,d=(c=l.abiItem.inputs)==null?void 0:c.some(f=>!("name"in f&&f.name))}return{...o,args:d?[]:{},eventName:u}}}).filter(Boolean)}function Phe(r){const{args:e,inputs:n,matchArgs:i}=r;if(!i)return!0;if(!e)return!1;function a(s,o,c){try{return s.type==="address"?Che(o,c):s.type==="string"||s.type==="bytes"?sb(rS(o))===c:o===c}catch{return!1}}return Array.isArray(e)&&Array.isArray(i)?i.every((s,o)=>{if(s==null)return!0;const c=n[o];return c?(Array.isArray(s)?s:[s]).some(u=>a(c,u,e[o])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof i=="object"&&!Array.isArray(i)?Object.entries(i).every(([s,o])=>{if(o==null)return!0;const c=n.find(u=>u.name===s);return c?(Array.isArray(o)?o:[o]).some(u=>a(c,u,e[s])):!1}):!1}function IX(r,{args:e,eventName:n}={}){return{...r,blockHash:r.blockHash?r.blockHash:null,blockNumber:r.blockNumber?BigInt(r.blockNumber):null,logIndex:r.logIndex?Number(r.logIndex):null,transactionHash:r.transactionHash?r.transactionHash:null,transactionIndex:r.transactionIndex?Number(r.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function Ohe(r,{filter:e}){const n="strict"in e&&e.strict,i=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof i[0]=="string")return i;const a=i.map(s=>IX(s));return!("abi"in e)||!e.abi?a:khe({abi:e.abi,logs:a,strict:n})}async function RX(r,{blockHash:e,blockNumber:n,blockTag:i,hash:a,index:s}){var d,f,p;const o=i||"latest",c=n!==void 0?Ut(n):void 0;let l=null;if(a?l=await r.request({method:"eth_getTransactionByHash",params:[a]},{dedupe:!0}):e?l=await r.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,Ut(s)]},{dedupe:!0}):l=await r.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[c||o,Ut(s)]},{dedupe:!!c}),!l)throw new VY({blockHash:e,blockNumber:n,blockTag:o,hash:a,index:s});return(((p=(f=(d=r.chain)==null?void 0:d.formatters)==null?void 0:f.transaction)==null?void 0:p.format)||JY)(l)}const Nhe={"0x0":"reverted","0x1":"success"};function Ihe(r){const e={...r,blockNumber:r.blockNumber?BigInt(r.blockNumber):null,contractAddress:r.contractAddress?r.contractAddress:null,cumulativeGasUsed:r.cumulativeGasUsed?BigInt(r.cumulativeGasUsed):null,effectiveGasPrice:r.effectiveGasPrice?BigInt(r.effectiveGasPrice):null,gasUsed:r.gasUsed?BigInt(r.gasUsed):null,logs:r.logs?r.logs.map(n=>IX(n)):null,to:r.to?r.to:null,transactionIndex:r.transactionIndex?sf(r.transactionIndex):null,status:r.status?Nhe[r.status]:null,type:r.type?XY[r.type]||r.type:null};return r.blobGasPrice&&(e.blobGasPrice=BigInt(r.blobGasPrice)),r.blobGasUsed&&(e.blobGasUsed=BigInt(r.blobGasUsed)),e}async function GL(r,{hash:e}){var a,s,o;const n=await r.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new GY({hash:e});return(((o=(s=(a=r.chain)==null?void 0:a.formatters)==null?void 0:s.transactionReceipt)==null?void 0:o.format)||Ihe)(n)}async function Rhe(r,e){var w;const{account:n,allowFailure:i=!0,batchSize:a,blockNumber:s,blockTag:o,multicallAddress:c,stateOverride:l}=e,u=e.contracts,d=a??(typeof((w=r.batch)==null?void 0:w.multicall)=="object"&&r.batch.multicall.batchSize||1024);let f=c;if(!f){if(!r.chain)throw new Error("client chain not configured. multicallAddress is required.");f=EX({blockNumber:s,chain:r.chain,contract:"multicall3"})}const p=[[]];let m=0,y=0;for(let x=0;x<u.length;x++){const{abi:E,address:A,args:S,functionName:C}=u[x];try{const P=fS({abi:E,args:S,functionName:C});y+=(P.length-2)/2,d>0&&y>d&&p[m].length>0&&(m++,y=(P.length-2)/2,p[m]=[]),p[m]=[...p[m],{allowFailure:!0,callData:P,target:A}]}catch(P){const O=Z_(P,{abi:E,address:A,args:S,docsPath:"/docs/contract/multicall",functionName:C,sender:n});if(!i)throw O;p[m]=[...p[m],{allowFailure:!0,callData:"0x",target:A}]}}const v=await Promise.allSettled(p.map(x=>Hr(r,NX,"readContract")({abi:ZI,account:n,address:f,args:[x],blockNumber:s,blockTag:o,functionName:"aggregate3",stateOverride:l}))),b=[];for(let x=0;x<v.length;x++){const E=v[x];if(E.status==="rejected"){if(!i)throw E.reason;for(let S=0;S<p[x].length;S++)b.push({status:"failure",error:E.reason,result:void 0});continue}const A=E.value;for(let S=0;S<A.length;S++){const{returnData:C,success:P}=A[S],{callData:O}=p[x][S],{abi:I,address:M,functionName:D,args:q}=u[b.length];try{if(O==="0x")throw new aS;if(!P)throw new dD({data:C});const K=uD({abi:I,args:q,data:C,functionName:D});b.push(i?{result:K,status:"success"}:K)}catch(K){const L=Z_(K,{abi:I,address:M,args:q,docsPath:"/docs/contract/multicall",functionName:D});if(!i)throw L;b.push({error:L,result:void 0,status:"failure"})}}}if(b.length!==u.length)throw new Te("multicall results mismatch");return b}const l1=new oS(8192);function $he(r,{enabled:e=!0,id:n}){if(!e||!n)return r();if(l1.get(n))return l1.get(n);const i=r().finally(()=>l1.delete(n));return l1.set(n,i),i}async function Q_(r){return new Promise(e=>setTimeout(e,r))}function ex(r,{delay:e=100,retryCount:n=2,shouldRetry:i=()=>!0}={}){return new Promise((a,s)=>{const o=async({count:c=0}={})=>{const l=async({error:u})=>{const d=typeof e=="function"?e({count:c,error:u}):e;d&&await Q_(d),o({count:c+1})};try{const u=await r();a(u)}catch(u){if(c<n&&await i({count:c,error:u}))return l({error:u});s(u)}};o()})}function jhe(r,e={}){return async(n,i={})=>{var f;const{dedupe:a=!1,methods:s,retryDelay:o=150,retryCount:c=3,uid:l}={...e,...i},{method:u}=n;if((f=s==null?void 0:s.exclude)!=null&&f.includes(u))throw new $d(new Error("method not supported"),{method:u});if(s!=null&&s.include&&!s.include.includes(u))throw new $d(new Error("method not supported"),{method:u});const d=a?nS(`${l}.${ms(n)}`):void 0;return $he(()=>ex(async()=>{try{return await r(n)}catch(p){const m=p;switch(m.code){case mv.code:throw new mv(m);case yv.code:throw new yv(m);case vv.code:throw new vv(m,{method:n.method});case bv.code:throw new bv(m);case lf.code:throw new lf(m);case wv.code:throw new wv(m);case _v.code:throw new _v(m);case Tu.code:throw new Tu(m);case Rp.code:throw new Rp(m);case $d.code:throw new $d(m,{method:n.method});case $p.code:throw new $p(m);case xv.code:throw new xv(m);case On.code:throw new On(m);case Ev.code:throw new Ev(m);case Sv.code:throw new Sv(m);case Cv.code:throw new Cv(m);case Av.code:throw new Av(m);case Yo.code:throw new Yo(m);case Tv.code:throw new Tv(m);case kv.code:throw new kv(m);case Pv.code:throw new Pv(m);case Ov.code:throw new Ov(m);case Nv.code:throw new Nv(m);case Iv.code:throw new Iv(m);case Rv.code:throw new Rv(m);case 5e3:throw new On(m);default:throw p instanceof Te?p:new cde(m)}}},{delay:({count:p,error:m})=>{var y;if(m&&m instanceof qy){const v=(y=m==null?void 0:m.headers)==null?void 0:y.get("Retry-After");if(v!=null&&v.match(/\d/))return Number.parseInt(v)*1e3}return~~(1<<p)*o},retryCount:c,shouldRetry:({error:p})=>Dhe(p)}),{enabled:a,id:d})}}function Dhe(r){return"code"in r&&typeof r.code=="number"?r.code===-1||r.code===$p.code||r.code===lf.code:r instanceof qy&&r.status?r.status===403||r.status===408||r.status===413||r.status===429||r.status===500||r.status===502||r.status===503||r.status===504:!0}function hS(r){return{formatters:void 0,fees:void 0,serializers:void 0,...r}}function $X(r,{errorInstance:e=new Error("timed out"),timeout:n,signal:i}){return new Promise((a,s)=>{(async()=>{let o;try{const c=new AbortController;n>0&&(o=setTimeout(()=>{i?c.abort():s(e)},n)),a(await r({signal:(c==null?void 0:c.signal)||null}))}catch(c){(c==null?void 0:c.name)==="AbortError"&&s(e),s(c)}finally{clearTimeout(o)}})()})}function Mhe(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const KL=Mhe();function Lhe(r,e={}){return{async request(n){var f;const{body:i,onRequest:a=e.onRequest,onResponse:s=e.onResponse,timeout:o=e.timeout??1e4}=n,c={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:l,method:u,signal:d}=c;try{const p=await $X(async({signal:y})=>{const v={...c,body:Array.isArray(i)?ms(i.map(E=>({jsonrpc:"2.0",id:E.id??KL.take(),...E}))):ms({jsonrpc:"2.0",id:i.id??KL.take(),...i}),headers:{"Content-Type":"application/json",...l},method:u||"POST",signal:d||(o>0?y:null)},b=new Request(r,v),w=await(a==null?void 0:a(b,v))??{...v,url:r};return await fetch(w.url??r,w)},{errorInstance:new DL({body:i,url:r}),timeout:o,signal:!0});s&&await s(p);let m;if((f=p.headers.get("Content-Type"))!=null&&f.startsWith("application/json"))m=await p.json();else{m=await p.text();try{m=JSON.parse(m||"{}")}catch(y){if(p.ok)throw y;m={error:m}}}if(!p.ok)throw new qy({body:i,details:ms(m.error)||p.statusText,headers:p.headers,status:p.status,url:r});return m}catch(p){throw p instanceof qy||p instanceof DL?p:new qy({body:i,cause:p,url:r})}}}}class Uhe extends Te{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function Bhe(r,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(r))throw new Uhe({value:r});let[n,i="0"]=r.split(".");const a=n.startsWith("-");if(a&&(n=n.slice(1)),i=i.replace(/(0+)$/,""),e===0)Math.round(+`.${i}`)===1&&(n=`${BigInt(n)+1n}`),i="";else if(i.length>e){const[s,o,c]=[i.slice(0,e-1),i.slice(e-1,e),i.slice(e)],l=Math.round(+`${o}.${c}`);l>9?i=`${BigInt(s)+BigInt(1)}0`.padStart(s.length+1,"0"):i=`${s}${l}`,i.length>e&&(i=i.slice(1),n=`${BigInt(n)+1n}`),i=i.slice(0,e)}else i=i.padEnd(e,"0");return BigInt(`${a?"-":""}${n}${i}`)}const z2=new Map,YL=new Map;let Fhe=0;function tx(r,e,n){const i=++Fhe,a=()=>z2.get(r)||[],s=()=>{const d=a();z2.set(r,d.filter(f=>f.id!==i))},o=()=>{const d=a();if(!d.some(p=>p.id===i))return;const f=YL.get(r);d.length===1&&f&&f(),s()},c=a();if(z2.set(r,[...c,{id:i,fns:e}]),c&&c.length>0)return o;const l={};for(const d in e)l[d]=(...f)=>{var m,y;const p=a();if(p.length!==0)for(const v of p)(y=(m=v.fns)[d])==null||y.call(m,...f)};const u=n(l);return typeof u=="function"&&YL.set(r,u),o}function jX(r,{emitOnBegin:e,initialWaitTime:n,interval:i}){let a=!0;const s=()=>a=!1;return(async()=>{let c;e&&(c=await r({unpoll:s}));const l=await(n==null?void 0:n(c))??i;await Q_(l);const u=async()=>{a&&(await r({unpoll:s}),await Q_(i),u())};u()})(),s}function qhe(r,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:i,onError:a,poll:s,pollingInterval:o=r.pollingInterval}){const c=typeof s<"u"?s:!(r.transport.type==="webSocket"||r.transport.type==="fallback"&&r.transport.transports[0].config.type==="webSocket");let l;return c?(()=>{const f=ms(["watchBlockNumber",r.uid,e,n,o]);return tx(f,{onBlockNumber:i,onError:a},p=>jX(async()=>{var m;try{const y=await Hr(r,She,"getBlockNumber")({cacheTime:0});if(l){if(y===l)return;if(y-l>1&&n)for(let v=l+1n;v<y;v++)p.onBlockNumber(v,l),l=v}(!l||y>l)&&(p.onBlockNumber(y,l),l=y)}catch(y){(m=p.onError)==null||m.call(p,y)}},{emitOnBegin:e,interval:o}))})():(()=>{const f=ms(["watchBlockNumber",r.uid,e,n]);return tx(f,{onBlockNumber:i,onError:a},p=>{let m=!0,y=()=>m=!1;return(async()=>{try{const v=(()=>{if(r.transport.type==="fallback"){const w=r.transport.transports.find(x=>x.config.type==="webSocket");return w?w.value:r.transport}return r.transport})(),{unsubscribe:b}=await v.subscribe({params:["newHeads"],onData(w){var E;if(!m)return;const x=Op((E=w.result)==null?void 0:E.number);p.onBlockNumber(x,l),l=x},onError(w){var x;(x=p.onError)==null||x.call(p,w)}});y=b,m||y()}catch(v){a==null||a(v)}})(),()=>y()})})()}async function zhe(r,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function Hhe(r,{batch:e=!0,onError:n,onTransactions:i,poll:a,pollingInterval:s=r.pollingInterval}){return(typeof a<"u"?a:r.transport.type!=="webSocket")?(()=>{const u=ms(["watchPendingTransactions",r.uid,e,s]);return tx(u,{onTransactions:i,onError:n},d=>{let f;const p=jX(async()=>{var m;try{if(!f)try{f=await Hr(r,vhe,"createPendingTransactionFilter")({});return}catch(v){throw p(),v}const y=await Hr(r,Ohe,"getFilterChanges")({filter:f});if(y.length===0)return;if(e)d.onTransactions(y);else for(const v of y)d.onTransactions([v])}catch(y){(m=d.onError)==null||m.call(d,y)}},{emitOnBegin:!0,interval:s});return async()=>{f&&await Hr(r,zhe,"uninstallFilter")({filter:f}),p()}})})():(()=>{let u=!0,d=()=>u=!1;return(async()=>{try{const{unsubscribe:f}=await r.transport.subscribe({params:["newPendingTransactions"],onData(p){if(!u)return;const m=p.result;i([m])},onError(p){n==null||n(p)}});d=f,u||d()}catch(f){n==null||n(f)}})(),()=>d()})()}async function Whe(r,{confirmations:e=1,hash:n,onReplaced:i,pollingInterval:a=r.pollingInterval,retryCount:s=6,retryDelay:o=({count:l})=>~~(1<<l)*200,timeout:c=18e4}){const l=ms(["waitForTransactionReceipt",r.uid,n]);let u,d,f,p=!1,m,y;const{promise:v,resolve:b,reject:w}=kX(),x=c?setTimeout(()=>{y(),m(),w(new ade({hash:n}))},c):void 0;return m=tx(l,{onReplaced:i,resolve:b,reject:w},E=>{y=Hr(r,qhe,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:a,async onBlockNumber(A){const S=P=>{clearTimeout(x),y(),P(),m()};let C=A;if(!p)try{if(f){if(e>1&&(!f.blockNumber||C-f.blockNumber+1n<e))return;S(()=>E.resolve(f));return}if(u||(p=!0,await ex(async()=>{u=await Hr(r,RX,"getTransaction")({hash:n}),u.blockNumber&&(C=u.blockNumber)},{delay:o,retryCount:s}),p=!1),f=await Hr(r,GL,"getTransactionReceipt")({hash:n}),e>1&&(!f.blockNumber||C-f.blockNumber+1n<e))return;S(()=>E.resolve(f))}catch(P){if(P instanceof VY||P instanceof GY){if(!u){p=!1;return}try{d=u,p=!0;const O=await ex(()=>Hr(r,$v,"getBlock")({blockNumber:C,includeTransactions:!0}),{delay:o,retryCount:s,shouldRetry:({error:D})=>D instanceof YY});p=!1;const I=O.transactions.find(({from:D,nonce:q})=>D===d.from&&q===d.nonce);if(!I||(f=await Hr(r,GL,"getTransactionReceipt")({hash:I.hash}),e>1&&(!f.blockNumber||C-f.blockNumber+1n<e)))return;let M="replaced";I.to===d.to&&I.value===d.value&&I.input===d.input?M="repriced":I.from===I.to&&I.value===0n&&(M="cancelled"),S(()=>{var D;(D=E.onReplaced)==null||D.call(E,{reason:M,replacedTransaction:d,transaction:I,transactionReceipt:f}),E.resolve(f)})}catch(O){S(()=>E.reject(O))}}else S(()=>E.reject(P))}}})}),v}async function Vhe(r,{account:e=r.account,message:n}){if(!e)throw new X3({docsPath:"/docs/actions/wallet/signMessage"});const i=rc(e);if(i.signMessage)return i.signMessage({message:n});const a=typeof n=="string"?nS(n):n.raw instanceof Uint8Array?Np(n.raw):n.raw;return r.request({method:"personal_sign",params:[a,i.address]},{retryCount:0})}async function Ghe(r,e){const{abi:n,account:i=r.account,address:a,args:s,dataSuffix:o,functionName:c,...l}=e;if(typeof i>"u")throw new X3({docsPath:"/docs/contract/writeContract"});const u=i?rc(i):null,d=fS({abi:n,args:s,functionName:c});try{return await Hr(r,oX,"sendTransaction")({data:`${d}${o?o.replace("0x",""):""}`,to:a,account:u,...l})}catch(f){throw Z_(f,{abi:n,address:a,args:s,docsPath:"/docs/contract/writeContract",functionName:c,sender:u==null?void 0:u.address})}}function ys(r,e,n){const i=r[e.name];if(typeof i=="function")return i;const a=r[n];return typeof a=="function"?a:s=>e(r,s)}const w_="2.17.2",Khe=()=>`@wagmi/core@${w_}`;var DX=function(r,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(r):i?i.value:e.get(r)},rx,MX;let yl=class aR extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return Khe()}constructor(e,n={}){var s;super(),rx.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const i=n.cause instanceof aR?n.cause.details:(s=n.cause)!=null&&s.message?n.cause.message:n.details,a=n.cause instanceof aR&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...a?[`Docs: ${this.docsBaseUrl}${a}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...i?[`Details: ${i}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=i,this.docsPath=a,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return DX(this,rx,"m",MX).call(this,this,e)}};rx=new WeakSet,MX=function r(e,n){return n!=null&&n(e)?e:e.cause?DX(this,rx,"m",r).call(this,e.cause,n):e};class Dv extends yl{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class Yhe extends yl{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class Xhe extends yl{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class Jhe extends yl{constructor({address:e,connector:n}){super(`Account "${e}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class Zhe extends yl{constructor({connectionChainId:e,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class Qhe extends yl{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function XL(r,e){var i;let n;if(typeof e.connector=="function"?n=r._internal.connectors.setup(e.connector):n=e.connector,n.uid===r.state.current)throw new Yhe;try{r.setState(l=>({...l,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:a,...s}=e,o=await n.connect(s),c=o.accounts;return n.emitter.off("connect",r._internal.events.connect),n.emitter.on("change",r._internal.events.change),n.emitter.on("disconnect",r._internal.events.disconnect),await((i=r.storage)==null?void 0:i.setItem("recentConnectorId",n.id)),r.setState(l=>({...l,connections:new Map(l.connections).set(n.uid,{accounts:c,chainId:o.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:c,chainId:o.chainId}}catch(a){throw r.setState(s=>({...s,status:s.current?"connected":"disconnected"})),a}}const sR=256;let u1=sR,d1;function LX(r=11){if(!d1||u1+r>sR*2){d1="",u1=0;for(let e=0;e<sR;e++)d1+=(256+Math.random()*256|0).toString(16).substring(1)}return d1.substring(u1,u1+++r)}function UX(r){const{batch:e,cacheTime:n=r.pollingInterval??4e3,ccipRead:i,key:a="base",name:s="Base Client",pollingInterval:o=4e3,type:c="base"}=r,l=r.chain,u=r.account?rc(r.account):void 0,{config:d,request:f,value:p}=r.transport({chain:l,pollingInterval:o}),m={...d,...p},y={account:u,batch:e,cacheTime:n,ccipRead:i,chain:l,key:a,name:s,pollingInterval:o,request:f,transport:m,type:c,uid:LX()};function v(b){return w=>{const x=w(b);for(const A in y)delete x[A];const E={...b,...x};return Object.assign(E,{extend:v(E)})}}return Object.assign(y,{extend:v(y)})}function fD({key:r,methods:e,name:n,request:i,retryCount:a=3,retryDelay:s=150,timeout:o,type:c},l){const u=LX();return{config:{key:r,methods:e,name:n,request:i,retryCount:a,retryDelay:s,timeout:o,type:c},request:jhe(i,{methods:e,retryCount:a,retryDelay:s,uid:u}),value:l}}function epe(r,e={}){const{key:n="custom",methods:i,name:a="Custom Provider",retryDelay:s}=e;return({retryCount:o})=>fD({key:n,methods:i,name:a,request:r.request.bind(r),retryCount:e.retryCount??o,retryDelay:s,type:"custom"})}function JL(r,e={}){const{key:n="fallback",name:i="Fallback",rank:a=!1,shouldThrow:s=tpe,retryCount:o,retryDelay:c}=e;return({chain:l,pollingInterval:u=4e3,timeout:d,...f})=>{let p=r,m=()=>{};const y=fD({key:n,name:i,async request({method:v,params:b}){let w;const x=async(E=0)=>{const A=p[E]({...f,chain:l,retryCount:0,timeout:d});try{const S=await A.request({method:v,params:b});return m({method:v,params:b,response:S,transport:A,status:"success"}),S}catch(S){if(m({error:S,method:v,params:b,transport:A,status:"error"}),s(S)||E===p.length-1||(w??(w=p.slice(E+1).some(C=>{const{include:P,exclude:O}=C({chain:l}).config.methods||{};return P?P.includes(v):O?!O.includes(v):!0})),!w))throw S;return x(E+1)}};return x()},retryCount:o,retryDelay:c,type:"fallback"},{onResponse:v=>m=v,transports:p.map(v=>v({chain:l,retryCount:0}))});if(a){const v=typeof a=="object"?a:{};rpe({chain:l,interval:v.interval??u,onTransports:b=>p=b,ping:v.ping,sampleCount:v.sampleCount,timeout:v.timeout,transports:p,weights:v.weights})}return y}}function tpe(r){return!!("code"in r&&typeof r.code=="number"&&(r.code===Rp.code||r.code===On.code||Rd.nodeMessage.test(r.message)||r.code===5e3))}function rpe({chain:r,interval:e=4e3,onTransports:n,ping:i,sampleCount:a=10,timeout:s=1e3,transports:o,weights:c={}}){const{stability:l=.7,latency:u=.3}=c,d=[],f=async()=>{const p=await Promise.all(o.map(async v=>{const b=v({chain:r,retryCount:0,timeout:s}),w=Date.now();let x,E;try{await(i?i({transport:b}):b.request({method:"net_listening"})),E=1}catch{E=0}finally{x=Date.now()}return{latency:x-w,success:E}}));d.push(p),d.length>a&&d.shift();const m=Math.max(...d.map(v=>Math.max(...v.map(({latency:b})=>b)))),y=o.map((v,b)=>{const w=d.map(C=>C[b].latency),E=1-w.reduce((C,P)=>C+P,0)/w.length/m,A=d.map(C=>C[b].success),S=A.reduce((C,P)=>C+P,0)/A.length;return S===0?[0,b]:[u*E+l*S,b]}).sort((v,b)=>b[0]-v[0]);n(y.map(([,v])=>o[v])),await Q_(e),f()};f()}class npe extends Te{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function jd(r,e={}){const{batch:n,fetchOptions:i,key:a="http",methods:s,name:o="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:l,retryDelay:u,raw:d}=e;return({chain:f,retryCount:p,timeout:m})=>{const{batchSize:y=1e3,wait:v=0}=typeof n=="object"?n:{},b=e.retryCount??p,w=m??e.timeout??1e4,x=r||(f==null?void 0:f.rpcUrls.default.http[0]);if(!x)throw new npe;const E=Lhe(x,{fetchOptions:i,onRequest:c,onResponse:l,timeout:w});return fD({key:a,methods:s,name:o,async request({method:A,params:S}){const C={method:A,params:S},{schedule:P}=PX({id:x,wait:v,shouldSplitBatch(D){return D.length>y},fn:D=>E.request({body:D}),sort:(D,q)=>D.id-q.id}),O=async D=>n?P(D):[await E.request({body:D})],[{error:I,result:M}]=await O(C);if(d)return{error:I,result:M};if(I)throw new eD({body:C,error:I,url:x});return M},retryCount:b,retryDelay:u,timeout:w,type:"http"},{fetchOptions:i,url:x})}}async function pS(r,e={}){let n;if(e.connector){const{connector:u}=e;if(r.state.status==="reconnecting"&&!u.getAccounts&&!u.getChainId)throw new Qhe({connector:u});const[d,f]=await Promise.all([u.getAccounts().catch(p=>{if(e.account===null)return[];throw p}),u.getChainId()]);n={accounts:d,chainId:f,connector:u}}else n=r.state.connections.get(r.state.current);if(!n)throw new Xhe;const i=e.chainId??n.chainId,a=await n.connector.getChainId();if(a!==n.chainId)throw new Zhe({connectionChainId:n.chainId,connectorChainId:a});const s=n.connector;if(s.getClient)return s.getClient({chainId:i});const o=rc(e.account??n.accounts[0]);if(o&&(o.address=Id(o.address)),e.account&&!n.accounts.some(u=>u.toLowerCase()===o.address.toLowerCase()))throw new Jhe({address:o.address,connector:s});const c=r.chains.find(u=>u.id===i),l=await n.connector.getProvider({chainId:i});return UX({account:o,chain:c,name:"Connector Client",transport:u=>epe(l)({...u,retryCount:0})})}async function ipe(r,e={}){var a,s;let n;if(e.connector)n=e.connector;else{const{connections:o,current:c}=r.state,l=o.get(c);n=l==null?void 0:l.connector}const i=r.state.connections;n&&(await n.disconnect(),n.emitter.off("change",r._internal.events.change),n.emitter.off("disconnect",r._internal.events.disconnect),n.emitter.on("connect",r._internal.events.connect),i.delete(n.uid)),r.setState(o=>{if(i.size===0)return{...o,connections:new Map,current:null,status:"disconnected"};const c=i.values().next().value;return{...o,connections:new Map(i),current:c.connector.uid}});{const o=r.state.current;if(!o)return;const c=(a=r.state.connections.get(o))==null?void 0:a.connector;if(!c)return;await((s=r.storage)==null?void 0:s.setItem("recentConnectorId",c.id))}}async function ape(r,e){const{chainId:n,connector:i,...a}=e;let s;e.account?s=e.account:s=(await pS(r,{account:e.account,chainId:n,connector:i})).account;const o=r.getClient({chainId:n});return ys(o,tX,"estimateGas")({...a,account:s})}function BX(r){return typeof r=="number"?r:r==="wei"?0:Math.abs(tde[r])}function Mv(r){const e=r.state.current,n=r.state.connections.get(e),i=n==null?void 0:n.accounts,a=i==null?void 0:i[0],s=r.chains.find(c=>c.id===(n==null?void 0:n.chainId)),o=r.state.status;switch(o){case"connected":return{address:a,addresses:i,chain:s,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:a,addresses:i,chain:s,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!a,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:a,addresses:i,chain:s,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}async function spe(r,e){const{allowFailure:n=!0,chainId:i,contracts:a,...s}=e,o=r.getClient({chainId:i});return ys(o,Rhe,"multicall")({allowFailure:n,contracts:a,...s})}function FX(r,e){const{chainId:n,...i}=e,a=r.getClient({chainId:n});return ys(a,NX,"readContract")(i)}async function ope(r,e){var c;const{allowFailure:n=!0,blockNumber:i,blockTag:a,...s}=e,o=e.contracts;try{const l={};for(const[p,m]of o.entries()){const y=m.chainId??r.state.chainId;l[y]||(l[y]=[]),(c=l[y])==null||c.push({contract:m,index:p})}const u=()=>Object.entries(l).map(([p,m])=>spe(r,{...s,allowFailure:n,blockNumber:i,blockTag:a,chainId:Number.parseInt(p),contracts:m.map(({contract:y})=>y)})),d=(await Promise.all(u())).flat(),f=Object.values(l).flatMap(p=>p.map(({index:m})=>m));return d.reduce((p,m,y)=>(p&&(p[f[y]]=m),p),[])}catch(l){if(l instanceof CX)throw l;const u=()=>o.map(d=>FX(r,{...d,blockNumber:i,blockTag:a}));return n?(await Promise.allSettled(u())).map(d=>d.status==="fulfilled"?{result:d.value,status:"success"}:{error:d.reason,result:void 0,status:"failure"}):await Promise.all(u())}}async function cpe(r,e){const{address:n,blockNumber:i,blockTag:a,chainId:s,token:o,unit:c="ether"}=e;if(o)try{return await ZL(r,{balanceAddress:n,chainId:s,symbolType:"string",tokenAddress:o})}catch(p){if(p.name==="ContractFunctionExecutionError"){const m=await ZL(r,{balanceAddress:n,chainId:s,symbolType:"bytes32",tokenAddress:o}),y=xY(ab(m.symbol,{dir:"right"}));return{...m,symbol:y}}throw p}const l=r.getClient({chainId:s}),d=await ys(l,eX,"getBalance")(i?{address:n,blockNumber:i}:{address:n,blockTag:a}),f=r.chains.find(p=>p.id===s)??l.chain;return{decimals:f.nativeCurrency.decimals,formatted:Ag(d,BX(c)),symbol:f.nativeCurrency.symbol,value:d}}async function ZL(r,e){const{balanceAddress:n,chainId:i,symbolType:a,tokenAddress:s,unit:o}=e,c={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:a}]}],address:s},[l,u,d]=await ope(r,{allowFailure:!1,contracts:[{...c,functionName:"balanceOf",args:[n],chainId:i},{...c,functionName:"decimals",chainId:i},{...c,functionName:"symbol",chainId:i}]}),f=Ag(l??"0",BX(o??u));return{decimals:u,formatted:f,symbol:d,value:l}}function jp(r,e){if(r===e)return!0;if(r&&e&&typeof r=="object"&&typeof e=="object"){if(r.constructor!==e.constructor)return!1;let n,i;if(Array.isArray(r)&&Array.isArray(e)){if(n=r.length,n!==e.length)return!1;for(i=n;i--!==0;)if(!jp(r[i],e[i]))return!1;return!0}if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===e.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===e.toString();const a=Object.keys(r);if(n=a.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,a[i]))return!1;for(i=n;i--!==0;){const s=a[i];if(s&&!jp(r[s],e[s]))return!1}return!0}return r!==r&&e!==e}let H2=[];function QL(r){const e=r.chains;return jp(H2,e)?H2:(H2=e,e)}let f1=[];function ud(r){const e=[...r.state.connections.values()];return r.state.status==="reconnecting"||jp(f1,e)?f1:(f1=e,e)}async function lpe(r,e){const{account:n,chainId:i,...a}=e,s=n??Mv(r).address,o=r.getClient({chainId:i});return ys(o,sD,"prepareTransactionRequest")({...a,...s?{account:s}:{}})}let W2=!1;async function oR(r,e={}){var u,d;if(W2)return[];W2=!0,r.setState(f=>({...f,status:f.current?"reconnecting":"connecting"}));const n=[];if((u=e.connectors)!=null&&u.length)for(const f of e.connectors){let p;typeof f=="function"?p=r._internal.connectors.setup(f):p=f,n.push(p)}else n.push(...r.connectors);let i;try{i=await((d=r.storage)==null?void 0:d.getItem("recentConnectorId"))}catch{}const a={};for(const[,f]of r.state.connections)a[f.connector.id]=1;i&&(a[i]=0);const s=Object.keys(a).length>0?[...n].sort((f,p)=>(a[f.id]??10)-(a[p.id]??10)):n;let o=!1;const c=[],l=[];for(const f of s){const p=await f.getProvider().catch(()=>{});if(!p||l.some(v=>v===p)||!await f.isAuthorized())continue;const y=await f.connect({isReconnecting:!0}).catch(()=>null);y&&(f.emitter.off("connect",r._internal.events.connect),f.emitter.on("change",r._internal.events.change),f.emitter.on("disconnect",r._internal.events.disconnect),r.setState(v=>{const b=new Map(o?v.connections:new Map).set(f.uid,{accounts:y.accounts,chainId:y.chainId,connector:f});return{...v,current:o?v.current:f.uid,connections:b}}),c.push({accounts:y.accounts,chainId:y.chainId,connector:f}),l.push(p),o=!0)}return(r.state.status==="reconnecting"||r.state.status==="connecting")&&(o?r.setState(f=>({...f,status:"connected"})):r.setState(f=>({...f,connections:new Map,current:null,status:"disconnected"}))),W2=!1,c}async function upe(r,e){const{account:n,chainId:i,connector:a,...s}=e;let o;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?o=r.getClient({chainId:i}):o=await pS(r,{account:n??void 0,chainId:i,connector:a}),await ys(o,oX,"sendTransaction")({...s,...n?{account:n}:{},chain:i?{id:i}:null,gas:s.gas??void 0})}async function dpe(r,e){const{account:n,connector:i,...a}=e;let s;return typeof n=="object"&&n.type==="local"?s=r.getClient():s=await pS(r,{account:n,connector:i}),ys(s,Vhe,"signMessage")({...a,...n?{account:n}:{}})}class iu extends yl{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class fpe extends yl{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function cR(r,e){var o;const{addEthereumChainParameter:n,chainId:i}=e,a=r.state.connections.get(((o=e.connector)==null?void 0:o.uid)??r.state.current);if(a){const c=a.connector;if(!c.switchChain)throw new fpe({connector:c});return await c.switchChain({addEthereumChainParameter:n,chainId:i})}const s=r.chains.find(c=>c.id===i);if(!s)throw new Dv;return r.setState(c=>({...c,chainId:i})),s}function qX(r,e){const{onChange:n}=e;return r.subscribe(()=>Mv(r),n,{equalityFn(i,a){const{connector:s,...o}=i,{connector:c,...l}=a;return jp(o,l)&&(s==null?void 0:s.id)===(c==null?void 0:c.id)&&(s==null?void 0:s.uid)===(c==null?void 0:c.uid)}})}function hpe(r,e){const{onChange:n}=e;return r._internal.connectors.subscribe((i,a)=>{n(Object.values(i),a)})}function ppe(r,e){const{syncConnectedChain:n=r._internal.syncConnectedChain,...i}=e;let a;const s=l=>{a&&a();const u=r.getClient({chainId:l});return a=ys(u,Hhe,"watchPendingTransactions")(i),a},o=s(e.chainId);let c;return n&&!e.chainId&&(c=r.subscribe(({chainId:l})=>l,async l=>s(l))),()=>{o==null||o(),c==null||c()}}async function zX(r,e){const{chainId:n,timeout:i=0,...a}=e,s=r.getClient({chainId:n}),c=await ys(s,Whe,"waitForTransactionReceipt")({...a,timeout:i});if(c.status==="reverted"){const u=await ys(s,RX,"getTransaction")({hash:c.transactionHash}),f=await ys(s,OX,"call")({...u,data:u.input,gasPrice:u.type!=="eip1559"?u.gasPrice:void 0,maxFeePerGas:u.type==="eip1559"?u.maxFeePerGas:void 0,maxPriorityFeePerGas:u.type==="eip1559"?u.maxPriorityFeePerGas:void 0}),p=f!=null&&f.data?xY(`0x${f.data.substring(138)}`):"unknown reason";throw new Error(p)}return{...c,chainId:s.chain.id}}async function HX(r,e){const{account:n,chainId:i,connector:a,...s}=e;let o;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?o=r.getClient({chainId:i}):o=await pS(r,{account:n??void 0,chainId:i,connector:a}),await ys(o,Ghe,"writeContract")({...s,...n?{account:n}:{},chain:i?{id:i}:null})}function Lct(r){return r}gS.type="injected";function gS(r={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=r;function i(){const l=r.target;if(typeof l=="function"){const u=l();if(u)return u}return typeof l=="object"?l:typeof l=="string"?{...gpe[l]??{id:l,name:`${l[0].toUpperCase()}${l.slice(1)}`,provider:`is${l[0].toUpperCase()}${l.slice(1)}`}}:{id:"injected",name:"Injected",provider(u){return u==null?void 0:u.ethereum}}}let a,s,o,c;return l=>({get icon(){return i().icon},get id(){return i().id},get name(){return i().name},get supportsSimulation(){return!0},type:gS.type,async setup(){const u=await this.getProvider();u!=null&&u.on&&r.target&&(o||(o=this.onConnect.bind(this),u.on("connect",o)),a||(a=this.onAccountsChanged.bind(this),u.on("accountsChanged",a)))},async connect({chainId:u,isReconnecting:d}={}){var m,y,v,b,w,x;const f=await this.getProvider();if(!f)throw new iu;let p=[];if(d)p=await this.getAccounts().catch(()=>[]);else if(e)try{p=(b=(v=(y=(m=(await f.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:m.caveats)==null?void 0:y[0])==null?void 0:v.value)==null?void 0:b.map(A=>Id(A)),p.length>0&&(p=await this.getAccounts())}catch(E){const A=E;if(A.code===On.code)throw new On(A);if(A.code===Tu.code)throw A}try{!(p!=null&&p.length)&&!d&&(p=(await f.request({method:"eth_requestAccounts"})).map(S=>Id(S))),o&&(f.removeListener("connect",o),o=void 0),a||(a=this.onAccountsChanged.bind(this),f.on("accountsChanged",a)),s||(s=this.onChainChanged.bind(this),f.on("chainChanged",s)),c||(c=this.onDisconnect.bind(this),f.on("disconnect",c));let E=await this.getChainId();if(u&&E!==u){const A=await this.switchChain({chainId:u}).catch(S=>{if(S.code===On.code)throw S;return{id:E}});E=(A==null?void 0:A.id)??E}return e&&await((w=l.storage)==null?void 0:w.removeItem(`${this.id}.disconnected`)),r.target||await((x=l.storage)==null?void 0:x.setItem("injected.connected",!0)),{accounts:p,chainId:E}}catch(E){const A=E;throw A.code===On.code?new On(A):A.code===Tu.code?new Tu(A):A}},async disconnect(){var d,f;const u=await this.getProvider();if(!u)throw new iu;s&&(u.removeListener("chainChanged",s),s=void 0),c&&(u.removeListener("disconnect",c),c=void 0),o||(o=this.onConnect.bind(this),u.on("connect",o));try{await $X(()=>u.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((d=l.storage)==null?void 0:d.setItem(`${this.id}.disconnected`,!0)),r.target||await((f=l.storage)==null?void 0:f.removeItem("injected.connected"))},async getAccounts(){const u=await this.getProvider();if(!u)throw new iu;return(await u.request({method:"eth_accounts"})).map(f=>Id(f))},async getChainId(){const u=await this.getProvider();if(!u)throw new iu;const d=await u.request({method:"eth_chainId"});return Number(d)},async getProvider(){if(typeof window>"u")return;let u;const d=i();return typeof d.provider=="function"?u=d.provider(window):typeof d.provider=="string"?u=__(window,d.provider):u=d.provider,u&&!u.removeListener&&("off"in u&&typeof u.off=="function"?u.removeListener=u.off:u.removeListener=()=>{}),u},async isAuthorized(){var u,d;try{if(e&&await((u=l.storage)==null?void 0:u.getItem(`${this.id}.disconnected`))||!r.target&&!await((d=l.storage)==null?void 0:d.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const y=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",y),!!await this.getProvider()),v=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(w=>window.addEventListener("ethereum#initialized",()=>w(y()),{once:!0}))]:[],new Promise(w=>setTimeout(()=>w(y()),v))]))return!0}throw new iu}return!!(await ex(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:u,chainId:d}){var y,v,b,w;const f=await this.getProvider();if(!f)throw new iu;const p=l.chains.find(x=>x.id===d);if(!p)throw new Yo(new Dv);const m=new Promise(x=>{const E=A=>{"chainId"in A&&A.chainId===d&&(l.emitter.off("change",E),x())};l.emitter.on("change",E)});try{return await Promise.all([f.request({method:"wallet_switchEthereumChain",params:[{chainId:Ut(d)}]}).then(async()=>{await this.getChainId()===d&&l.emitter.emit("change",{chainId:d})}),m]),p}catch(x){const E=x;if(E.code===4902||((v=(y=E==null?void 0:E.data)==null?void 0:y.originalError)==null?void 0:v.code)===4902)try{const{default:A,...S}=p.blockExplorers??{};let C;u!=null&&u.blockExplorerUrls?C=u.blockExplorerUrls:A&&(C=[A.url,...Object.values(S).map(I=>I.url)]);let P;(b=u==null?void 0:u.rpcUrls)!=null&&b.length?P=u.rpcUrls:P=[((w=p.rpcUrls.default)==null?void 0:w.http[0])??""];const O={blockExplorerUrls:C,chainId:Ut(d),chainName:(u==null?void 0:u.chainName)??p.name,iconUrls:u==null?void 0:u.iconUrls,nativeCurrency:(u==null?void 0:u.nativeCurrency)??p.nativeCurrency,rpcUrls:P};return await Promise.all([f.request({method:"wallet_addEthereumChain",params:[O]}).then(async()=>{if(await this.getChainId()===d)l.emitter.emit("change",{chainId:d});else throw new On(new Error("User rejected switch after adding network."))}),m]),p}catch(A){throw new On(A)}throw E.code===On.code?new On(E):new Yo(E)}},async onAccountsChanged(u){var d;if(u.length===0)this.onDisconnect();else if(l.emitter.listenerCount("connect")){const f=(await this.getChainId()).toString();this.onConnect({chainId:f}),e&&await((d=l.storage)==null?void 0:d.removeItem(`${this.id}.disconnected`))}else l.emitter.emit("change",{accounts:u.map(f=>Id(f))})},onChainChanged(u){const d=Number(u);l.emitter.emit("change",{chainId:d})},async onConnect(u){const d=await this.getAccounts();if(d.length===0)return;const f=Number(u.chainId);l.emitter.emit("connect",{accounts:d,chainId:f});const p=await this.getProvider();p&&(o&&(p.removeListener("connect",o),o=void 0),a||(a=this.onAccountsChanged.bind(this),p.on("accountsChanged",a)),s||(s=this.onChainChanged.bind(this),p.on("chainChanged",s)),c||(c=this.onDisconnect.bind(this),p.on("disconnect",c)))},async onDisconnect(u){const d=await this.getProvider();u&&u.code===1013&&d&&(await this.getAccounts()).length||(l.emitter.emit("disconnect"),d&&(s&&(d.removeListener("chainChanged",s),s=void 0),c&&(d.removeListener("disconnect",c),c=void 0),o||(o=this.onConnect.bind(this),d.on("connect",o))))}})}const gpe={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(r){return r!=null&&r.coinbaseWalletExtension?r.coinbaseWalletExtension:__(r,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(r){return __(r,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const i of n)if(e[i])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(r){var e,n;return(e=r==null?void 0:r.phantom)!=null&&e.ethereum?(n=r.phantom)==null?void 0:n.ethereum:__(r,"isPhantom")}}};function __(r,e){function n(a){return typeof e=="function"?e(a):typeof e=="string"?a[e]:!0}const i=r.ethereum;if(i!=null&&i.providers)return i.providers.find(a=>n(a));if(i&&n(i))return i}function mpe(r){if(typeof window>"u")return;const e=n=>r(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function ype(){const r=new Set;let e=[];const n=()=>mpe(a=>{e.some(({info:s})=>s.uuid===a.info.uuid)||(e=[...e,a],r.forEach(s=>s(e,{added:[a]})))});let i=n();return{_listeners(){return r},clear(){r.forEach(a=>a([],{removed:[...e]})),e=[]},destroy(){this.clear(),r.clear(),i==null||i()},findProvider({rdns:a}){return e.find(s=>s.info.rdns===a)},getProviders(){return e},reset(){this.clear(),i==null||i(),i=n()},subscribe(a,{emitImmediately:s}={}){return r.add(a),s&&a(e,{added:e}),()=>r.delete(a)}}}const vpe=r=>(e,n,i)=>{const a=i.subscribe;return i.subscribe=(o,c,l)=>{let u=o;if(c){const d=(l==null?void 0:l.equalityFn)||Object.is;let f=o(i.getState());u=p=>{const m=o(p);if(!d(f,m)){const y=f;c(f=m,y)}},l!=null&&l.fireImmediately&&c(f,f)}return a(u)},r(e,n,i)},bpe=vpe;function wpe(r,e){let n;try{n=r()}catch{return}return{getItem:a=>{var s;const o=l=>l===null?null:JSON.parse(l,void 0),c=(s=n.getItem(a))!=null?s:null;return c instanceof Promise?c.then(o):o(c)},setItem:(a,s)=>n.setItem(a,JSON.stringify(s,void 0)),removeItem:a=>n.removeItem(a)}}const lR=r=>e=>{try{const n=r(e);return n instanceof Promise?n:{then(i){return lR(i)(n)},catch(i){return this}}}catch(n){return{then(i){return this},catch(i){return lR(i)(n)}}}},_pe=(r,e)=>(n,i,a)=>{let s={storage:wpe(()=>localStorage),partialize:v=>v,version:0,merge:(v,b)=>({...b,...v}),...e},o=!1;const c=new Set,l=new Set;let u=s.storage;if(!u)return r((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...v)},i,a);const d=()=>{const v=s.partialize({...i()});return u.setItem(s.name,{state:v,version:s.version})},f=a.setState;a.setState=(v,b)=>{f(v,b),d()};const p=r((...v)=>{n(...v),d()},i,a);a.getInitialState=()=>p;let m;const y=()=>{var v,b;if(!u)return;o=!1,c.forEach(x=>{var E;return x((E=i())!=null?E:p)});const w=((b=s.onRehydrateStorage)==null?void 0:b.call(s,(v=i())!=null?v:p))||void 0;return lR(u.getItem.bind(u))(s.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==s.version){if(s.migrate)return[!0,s.migrate(x.state,x.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,x.state];return[!1,void 0]}).then(x=>{var E;const[A,S]=x;if(m=s.merge(S,(E=i())!=null?E:p),n(m,!0),A)return d()}).then(()=>{w==null||w(m,void 0),m=i(),o=!0,l.forEach(x=>x(m))}).catch(x=>{w==null||w(void 0,x)})};return a.persist={setOptions:v=>{s={...s,...v},v.storage&&(u=v.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:v=>(c.add(v),()=>{c.delete(v)}),onFinishHydration:v=>(l.add(v),()=>{l.delete(v)})},s.skipHydration||y(),m||p},xpe=_pe,e8=r=>{let e;const n=new Set,i=(u,d)=>{const f=typeof u=="function"?u(e):u;if(!Object.is(f,e)){const p=e;e=d??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(m=>m(e,p))}},a=()=>e,c={setState:i,getState:a,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u))},l=e=r(i,a,c);return c},V2=r=>r?e8(r):e8;var G2={exports:{}},t8;function Epe(){return t8||(t8=1,function(r){var e=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function a(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function s(l,u,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||l,p),y=n?n+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],m]:l._events[y].push(m):(l._events[y]=m,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new i:delete l._events[u]}function c(){this._events=new i,this._eventsCount=0}c.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},c.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,y=new Array(m);p<m;p++)y[p]=f[p].fn;return y},c.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},c.prototype.emit=function(u,d,f,p,m,y){var v=n?n+u:u;if(!this._events[v])return!1;var b=this._events[v],w=arguments.length,x,E;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),w){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,p),!0;case 5:return b.fn.call(b.context,d,f,p,m),!0;case 6:return b.fn.call(b.context,d,f,p,m,y),!0}for(E=1,x=new Array(w-1);E<w;E++)x[E-1]=arguments[E];b.fn.apply(b.context,x)}else{var A=b.length,S;for(E=0;E<A;E++)switch(b[E].once&&this.removeListener(u,b[E].fn,void 0,!0),w){case 1:b[E].fn.call(b[E].context);break;case 2:b[E].fn.call(b[E].context,d);break;case 3:b[E].fn.call(b[E].context,d,f);break;case 4:b[E].fn.call(b[E].context,d,f,p);break;default:if(!x)for(S=1,x=new Array(w-1);S<w;S++)x[S-1]=arguments[S];b[E].fn.apply(b[E].context,x)}}return!0},c.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},c.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},c.prototype.removeListener=function(u,d,f,p){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var y=this._events[m];if(y.fn)y.fn===d&&(!p||y.once)&&(!f||y.context===f)&&o(this,m);else{for(var v=0,b=[],w=y.length;v<w;v++)(y[v].fn!==d||p&&!y[v].once||f&&y[v].context!==f)&&b.push(y[v]);b.length?this._events[m]=b.length===1?b[0]:b:o(this,m)}return this},c.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new i,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,r.exports=c}(G2)),G2.exports}var Spe=Epe();const Cpe=Jt(Spe);class Ape{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new Cpe})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const i=n[0];this._emitter.emit(e,{uid:this.uid,...i})}listenerCount(e){return this._emitter.listenerCount(e)}}function Tpe(r){return new Ape(r)}function kpe(r,e){return JSON.parse(r,(n,i)=>{let a=i;return(a==null?void 0:a.__type)==="bigint"&&(a=BigInt(a.value)),(a==null?void 0:a.__type)==="Map"&&(a=new Map(a.value)),(e==null?void 0:e(n,a))??a})}function r8(r,e){return r.slice(0,e).join(".")||"."}function n8(r,e){const{length:n}=r;for(let i=0;i<n;++i)if(r[i]===e)return i+1;return 0}function Ppe(r,e){const n=typeof r=="function",i=typeof e=="function",a=[],s=[];return function(c,l){if(typeof l=="object")if(a.length){const u=n8(a,this);u===0?a[a.length]=this:(a.splice(u),s.splice(u)),s[s.length]=c;const d=n8(a,l);if(d!==0)return i?e.call(this,c,l,r8(s,d)):`[ref=${r8(s,d)}]`}else a[0]=l,s[0]=c;return n?r.call(this,c,l):l}}function Ope(r,e,n,i){return JSON.stringify(r,Ppe((a,s)=>{let o=s;return typeof o=="bigint"&&(o={__type:"bigint",value:s.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(s.entries())}),(e==null?void 0:e(a,o))??o},i),n??void 0)}function Npe(r){const{deserialize:e=kpe,key:n="wagmi",serialize:i=Ope,storage:a=WX}=r;function s(o){return o instanceof Promise?o.then(c=>c).catch(()=>null):o}return{...a,key:n,async getItem(o,c){const l=a.getItem(`${n}.${o}`),u=await s(l);return u?e(u)??null:c??null},async setItem(o,c){const l=`${n}.${o}`;c===null?await s(a.removeItem(l)):await s(a.setItem(l,i(c)))},async removeItem(o){await s(a.removeItem(`${n}.${o}`))}}}const WX={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function Ipe(){const r=typeof window<"u"&&window.localStorage?window.localStorage:WX;return{getItem(e){return r.getItem(e)},removeItem(e){r.removeItem(e)},setItem(e,n){try{r.setItem(e,n)}catch{}}}}const uR=256;let h1=uR,p1;function Rpe(r=11){if(!p1||h1+r>uR*2){p1="",h1=0;for(let e=0;e<uR;e++)p1+=(256+Math.random()*256|0).toString(16).substring(1)}return p1.substring(h1,h1+++r)}function hD(r){const{multiInjectedProviderDiscovery:e=!0,storage:n=Npe({storage:Ipe()}),syncConnectedChain:i=!0,ssr:a=!1,...s}=r,o=typeof window<"u"&&e?ype():void 0,c=V2(()=>s.chains),l=V2(()=>{const S=[],C=new Set;for(const P of s.connectors??[]){const O=u(P);if(S.push(O),!a&&O.rdns){const I=typeof O.rdns=="string"?[O.rdns]:O.rdns;for(const M of I)C.add(M)}}if(!a&&o){const P=o.getProviders();for(const O of P)C.has(O.info.rdns)||S.push(u(d(O)))}return S});function u(S){var O;const C=Tpe(Rpe()),P={...S({emitter:C,chains:c.getState(),storage:n,transports:s.transports}),emitter:C,uid:C.uid};return C.on("connect",E),(O=P.setup)==null||O.call(P),P}function d(S){const{info:C}=S,P=S.provider;return gS({target:{...C,id:C.rdns,provider:P}})}const f=new Map;function p(S={}){const C=S.chainId??b.getState().chainId,P=c.getState().find(I=>I.id===C);if(S.chainId&&!P)throw new Dv;{const I=f.get(b.getState().chainId);if(I&&!P)return I;if(!P)throw new Dv}{const I=f.get(C);if(I)return I}let O;if(s.client)O=s.client({chain:P});else{const I=P.id,M=c.getState().map(K=>K.id),D={},q=Object.entries(s);for(const[K,L]of q)if(!(K==="chains"||K==="client"||K==="connectors"||K==="transports"))if(typeof L=="object")if(I in L)D[K]=L[I];else{if(M.some(j=>j in L))continue;D[K]=L}else D[K]=L;O=UX({...D,chain:P,batch:D.batch??{multicall:!0},transport:K=>s.transports[I]({...K,connectors:l})})}return f.set(C,O),O}function m(){return{chainId:c.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let y;const v="0.0.0-canary-";w_.startsWith(v)?y=Number.parseInt(w_.replace(v,"")):y=Number.parseInt(w_.split(".")[0]??"0");const b=V2(bpe(n?xpe(m,{migrate(S,C){if(C===y)return S;const P=m(),O=w(S,P.chainId);return{...P,chainId:O}},name:"store",partialize(S){return{connections:{__type:"Map",value:Array.from(S.connections.entries()).map(([C,P])=>{const{id:O,name:I,type:M,uid:D}=P.connector;return[C,{...P,connector:{id:O,name:I,type:M,uid:D}}]})},chainId:S.chainId,current:S.current}},merge(S,C){typeof S=="object"&&S&&"status"in S&&delete S.status;const P=w(S,C.chainId);return{...C,...S,chainId:P}},skipHydration:a,storage:n,version:y}):m));b.setState(m());function w(S,C){return S&&typeof S=="object"&&"chainId"in S&&typeof S.chainId=="number"&&c.getState().some(P=>P.id===S.chainId)?S.chainId:C}i&&b.subscribe(({connections:S,current:C})=>{var P;return C?(P=S.get(C))==null?void 0:P.chainId:void 0},S=>{if(c.getState().some(P=>P.id===S))return b.setState(P=>({...P,chainId:S??P.chainId}))}),o==null||o.subscribe(S=>{const C=new Set,P=new Set;for(const I of l.getState())if(C.add(I.id),I.rdns){const M=typeof I.rdns=="string"?[I.rdns]:I.rdns;for(const D of M)P.add(D)}const O=[];for(const I of S){if(P.has(I.info.rdns))continue;const M=u(d(I));C.has(M.id)||O.push(M)}n&&!b.persist.hasHydrated()||l.setState(I=>[...I,...O],!0)});function x(S){b.setState(C=>{const P=C.connections.get(S.uid);return P?{...C,connections:new Map(C.connections).set(S.uid,{accounts:S.accounts??P.accounts,chainId:S.chainId??P.chainId,connector:P.connector})}:C})}function E(S){b.getState().status==="connecting"||b.getState().status==="reconnecting"||b.setState(C=>{const P=l.getState().find(O=>O.uid===S.uid);return P?(P.emitter.listenerCount("connect")&&P.emitter.off("connect",x),P.emitter.listenerCount("change")||P.emitter.on("change",x),P.emitter.listenerCount("disconnect")||P.emitter.on("disconnect",A),{...C,connections:new Map(C.connections).set(S.uid,{accounts:S.accounts,chainId:S.chainId,connector:P}),current:S.uid,status:"connected"}):C})}function A(S){b.setState(C=>{const P=C.connections.get(S.uid);if(P){const I=P.connector;I.emitter.listenerCount("change")&&P.connector.emitter.off("change",x),I.emitter.listenerCount("disconnect")&&P.connector.emitter.off("disconnect",A),I.emitter.listenerCount("connect")||P.connector.emitter.on("connect",E)}if(C.connections.delete(S.uid),C.connections.size===0)return{...C,connections:new Map,current:null,status:"disconnected"};const O=C.connections.values().next().value;return{...C,connections:new Map(C.connections),current:O.connector.uid}})}return{get chains(){return c.getState()},get connectors(){return l.getState()},storage:n,getClient:p,get state(){return b.getState()},setState(S){let C;typeof S=="function"?C=S(b.getState()):C=S;const P=m();typeof C!="object"&&(C=P),Object.keys(P).some(I=>!(I in C))&&(C=P),b.setState(C,!0)},subscribe(S,C,P){return b.subscribe(S,C,P?{...P,fireImmediately:P.emitImmediately}:void 0)},_internal:{mipd:o,store:b,ssr:!!a,syncConnectedChain:i,transports:s.transports,chains:{setState(S){const C=typeof S=="function"?S(c.getState()):S;if(C.length!==0)return c.setState(C,!0)},subscribe(S){return c.subscribe(S)}},connectors:{providerDetailToConnector:d,setup:u,setState(S){return l.setState(typeof S=="function"?S(l.getState()):S,!0)},subscribe(S){return l.subscribe(S)}},events:{change:x,connect:E,disconnect:A}}}}function $pe(r,e){const{initialState:n,reconnectOnMount:i}=e;return n&&!r._internal.store.persist.hasHydrated()&&r.setState({...n,chainId:r.chains.some(a=>a.id===n.chainId)?n.chainId:r.chains[0].id,connections:i?n.connections:new Map,status:i?"reconnecting":"disconnected"}),{async onMount(){r._internal.ssr&&(await r._internal.store.persist.rehydrate(),r._internal.mipd&&r._internal.connectors.setState(a=>{var l;const s=new Set;for(const u of a??[])if(u.rdns){const d=Array.isArray(u.rdns)?u.rdns:[u.rdns];for(const f of d)s.add(f)}const o=[],c=((l=r._internal.mipd)==null?void 0:l.getProviders())??[];for(const u of c){if(s.has(u.info.rdns))continue;const d=r._internal.connectors.providerDetailToConnector(u),f=r._internal.connectors.setup(d);o.push(f)}return[...a,...o]})),i?oR(r):r.storage&&r.setState(a=>({...a,connections:new Map}))}}}function jpe(r){const{children:e,config:n,initialState:i,reconnectOnMount:a=!0}=r,{onMount:s}=$pe(n,{initialState:i,reconnectOnMount:a});n._internal.ssr||s();const o=U.useRef(!0);return U.useEffect(()=>{if(o.current&&n._internal.ssr)return s(),()=>{o.current=!1}},[]),e}const VX=U.createContext(void 0);function GX(r){const{children:e,config:n}=r,i={value:n};return U.createElement(jpe,r,U.createElement(VX.Provider,i,e))}const Dpe="2.15.4",Mpe=()=>`wagmi@${Dpe}`;let Lpe=class extends yl{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return Mpe()}};class Upe extends Lpe{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function mS(r={}){const e=r.config??U.useContext(VX);if(!e)throw new Upe;return e}function Bpe(r,e){const{onChange:n}=e;return r._internal.chains.subscribe((i,a)=>{n(i,a)})}var K2={exports:{}},Y2={},X2={exports:{}},J2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i8;function Fpe(){if(i8)return J2;i8=1;var r=Rf();function e(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var n=typeof Object.is=="function"?Object.is:e,i=r.useState,a=r.useEffect,s=r.useLayoutEffect,o=r.useDebugValue;function c(f,p){var m=p(),y=i({inst:{value:m,getSnapshot:p}}),v=y[0].inst,b=y[1];return s(function(){v.value=m,v.getSnapshot=p,l(v)&&b({inst:v})},[f,m,p]),a(function(){return l(v)&&b({inst:v}),f(function(){l(v)&&b({inst:v})})},[f]),o(m),m}function l(f){var p=f.getSnapshot;f=f.value;try{var m=p();return!n(f,m)}catch{return!0}}function u(f,p){return p()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:c;return J2.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:d,J2}var a8;function qpe(){return a8||(a8=1,X2.exports=Fpe()),X2.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s8;function zpe(){if(s8)return Y2;s8=1;var r=Rf(),e=qpe();function n(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var i=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,s=r.useRef,o=r.useEffect,c=r.useMemo,l=r.useDebugValue;return Y2.useSyncExternalStoreWithSelector=function(u,d,f,p,m){var y=s(null);if(y.current===null){var v={hasValue:!1,value:null};y.current=v}else v=y.current;y=c(function(){function w(C){if(!x){if(x=!0,E=C,C=p(C),m!==void 0&&v.hasValue){var P=v.value;if(m(P,C))return A=P}return A=C}if(P=A,i(E,C))return P;var O=p(C);return m!==void 0&&m(P,O)?(E=C,P):(E=C,A=O)}var x=!1,E,A,S=f===void 0?null:f;return[function(){return w(d())},S===null?void 0:function(){return w(S())}]},[d,f,p,m]);var b=a(u,y[0],y[1]);return o(function(){v.hasValue=!0,v.value=b},[b]),l(b),b},Y2}var o8;function Hpe(){return o8||(o8=1,K2.exports=zpe()),K2.exports}var Wpe=Hpe();const Z2=r=>typeof r=="object"&&!Array.isArray(r);function Vpe(r,e,n=e,i=jp){const a=U.useRef([]),s=Wpe.useSyncExternalStoreWithSelector(r,e,n,o=>o,(o,c)=>{if(Z2(o)&&Z2(c)&&a.current.length){for(const l of a.current)if(!i(o[l],c[l]))return!1;return!0}return i(o,c)});return U.useMemo(()=>{if(Z2(s)){const o={...s};let c={};for(const[l,u]of Object.entries(o))c={...c,[l]:{configurable:!1,enumerable:!0,get:()=>(a.current.includes(l)||a.current.push(l),u)}};return Object.defineProperties(o,c),o}return s},[s])}function KX(r={}){const e=mS(r);return Vpe(n=>qX(e,{onChange:n}),()=>Mv(e))}var cb=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(r){return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},yS=typeof window>"u"||"Deno"in globalThis;function os(){}function Gpe(r,e){return typeof r=="function"?r(e):r}function Kpe(r){return typeof r=="number"&&r>=0&&r!==1/0}function Ype(r,e){return Math.max(r+(e||0)-Date.now(),0)}function c8(r,e){return typeof r=="function"?r(e):r}function Xpe(r,e){return typeof r=="function"?r(e):r}function l8(r,e){const{type:n="all",exact:i,fetchStatus:a,predicate:s,queryKey:o,stale:c}=r;if(o){if(i){if(e.queryHash!==pD(o,e.options))return!1}else if(!Lv(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||a&&a!==e.state.fetchStatus||s&&!s(e))}function u8(r,e){const{exact:n,status:i,predicate:a,mutationKey:s}=r;if(s){if(!e.options.mutationKey)return!1;if(n){if(df(e.options.mutationKey)!==df(s))return!1}else if(!Lv(e.options.mutationKey,s))return!1}return!(i&&e.state.status!==i||a&&!a(e))}function pD(r,e){return((e==null?void 0:e.queryKeyHashFn)||df)(r)}function df(r){return JSON.stringify(r,(e,n)=>dR(n)?Object.keys(n).sort().reduce((i,a)=>(i[a]=n[a],i),{}):n)}function Lv(r,e){return r===e?!0:typeof r!=typeof e?!1:r&&e&&typeof r=="object"&&typeof e=="object"?Object.keys(e).every(n=>Lv(r[n],e[n])):!1}function YX(r,e){if(r===e)return r;const n=d8(r)&&d8(e);if(n||dR(r)&&dR(e)){const i=n?r:Object.keys(r),a=i.length,s=n?e:Object.keys(e),o=s.length,c=n?[]:{};let l=0;for(let u=0;u<o;u++){const d=n?u:s[u];(!n&&i.includes(d)||n)&&r[d]===void 0&&e[d]===void 0?(c[d]=void 0,l++):(c[d]=YX(r[d],e[d]),c[d]===r[d]&&r[d]!==void 0&&l++)}return a===o&&l===a?r:c}return e}function Jpe(r,e){if(!e||Object.keys(r).length!==Object.keys(e).length)return!1;for(const n in r)if(r[n]!==e[n])return!1;return!0}function d8(r){return Array.isArray(r)&&r.length===Object.keys(r).length}function dR(r){if(!f8(r))return!1;const e=r.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!f8(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(r)!==Object.prototype)}function f8(r){return Object.prototype.toString.call(r)==="[object Object]"}function Zpe(r){return new Promise(e=>{setTimeout(e,r)})}function Qpe(r,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(r,e):n.structuralSharing!==!1?YX(r,e):e}function ege(r,e,n=0){const i=[...r,e];return n&&i.length>n?i.slice(1):i}function tge(r,e,n=0){const i=[e,...r];return n&&i.length>n?i.slice(0,-1):i}var gD=Symbol();function XX(r,e){return!r.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!r.queryFn||r.queryFn===gD?()=>Promise.reject(new Error(`Missing queryFn: '${r.queryHash}'`)):r.queryFn}function rge(r,e){return typeof r=="function"?r(...e):!!r}var Hd,gu,_p,sY,nge=(sY=class extends cb{constructor(){super();qt(this,Hd);qt(this,gu);qt(this,_p);xt(this,_p,e=>{if(!yS&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ue(this,gu)||this.setEventListener(ue(this,_p))}onUnsubscribe(){var e;this.hasListeners()||((e=ue(this,gu))==null||e.call(this),xt(this,gu,void 0))}setEventListener(e){var n;xt(this,_p,e),(n=ue(this,gu))==null||n.call(this),xt(this,gu,e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(e){ue(this,Hd)!==e&&(xt(this,Hd,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof ue(this,Hd)=="boolean"?ue(this,Hd):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Hd=new WeakMap,gu=new WeakMap,_p=new WeakMap,sY),JX=new nge,xp,mu,Ep,oY,ige=(oY=class extends cb{constructor(){super();qt(this,xp,!0);qt(this,mu);qt(this,Ep);xt(this,Ep,e=>{if(!yS&&window.addEventListener){const n=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}}})}onSubscribe(){ue(this,mu)||this.setEventListener(ue(this,Ep))}onUnsubscribe(){var e;this.hasListeners()||((e=ue(this,mu))==null||e.call(this),xt(this,mu,void 0))}setEventListener(e){var n;xt(this,Ep,e),(n=ue(this,mu))==null||n.call(this),xt(this,mu,e(this.setOnline.bind(this)))}setOnline(e){ue(this,xp)!==e&&(xt(this,xp,e),this.listeners.forEach(i=>{i(e)}))}isOnline(){return ue(this,xp)}},xp=new WeakMap,mu=new WeakMap,Ep=new WeakMap,oY),nx=new ige;function age(){let r,e;const n=new Promise((a,s)=>{r=a,e=s});n.status="pending",n.catch(()=>{});function i(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{i({status:"fulfilled",value:a}),r(a)},n.reject=a=>{i({status:"rejected",reason:a}),e(a)},n}function sge(r){return Math.min(1e3*2**r,3e4)}function ZX(r){return(r??"online")==="online"?nx.isOnline():!0}var QX=class extends Error{constructor(r){super("CancelledError"),this.revert=r==null?void 0:r.revert,this.silent=r==null?void 0:r.silent}};function Q2(r){return r instanceof QX}function eJ(r){let e=!1,n=0,i=!1,a;const s=age(),o=v=>{var b;i||(p(new QX(v)),(b=r.abort)==null||b.call(r))},c=()=>{e=!0},l=()=>{e=!1},u=()=>JX.isFocused()&&(r.networkMode==="always"||nx.isOnline())&&r.canRun(),d=()=>ZX(r.networkMode)&&r.canRun(),f=v=>{var b;i||(i=!0,(b=r.onSuccess)==null||b.call(r,v),a==null||a(),s.resolve(v))},p=v=>{var b;i||(i=!0,(b=r.onError)==null||b.call(r,v),a==null||a(),s.reject(v))},m=()=>new Promise(v=>{var b;a=w=>{(i||u())&&v(w)},(b=r.onPause)==null||b.call(r)}).then(()=>{var v;a=void 0,i||(v=r.onContinue)==null||v.call(r)}),y=()=>{if(i)return;let v;const b=n===0?r.initialPromise:void 0;try{v=b??r.fn()}catch(w){v=Promise.reject(w)}Promise.resolve(v).then(f).catch(w=>{var C;if(i)return;const x=r.retry??(yS?0:3),E=r.retryDelay??sge,A=typeof E=="function"?E(n,w):E,S=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,w);if(e||!S){p(w);return}n++,(C=r.onFail)==null||C.call(r,n,w),Zpe(A).then(()=>u()?void 0:m()).then(()=>{e?p(w):y()})})};return{promise:s,cancel:o,continue:()=>(a==null||a(),s),cancelRetry:c,continueRetry:l,canStart:d,start:()=>(d()?y():m().then(y),s)}}var oge=r=>setTimeout(r,0);function cge(){let r=[],e=0,n=c=>{c()},i=c=>{c()},a=oge;const s=c=>{e?r.push(c):a(()=>{n(c)})},o=()=>{const c=r;r=[],c.length&&a(()=>{i(()=>{c.forEach(l=>{n(l)})})})};return{batch:c=>{let l;e++;try{l=c()}finally{e--,e||o()}return l},batchCalls:c=>(...l)=>{s(()=>{c(...l)})},schedule:s,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{i=c},setScheduler:c=>{a=c}}}var si=cge(),Wd,cY,tJ=(cY=class{constructor(){qt(this,Wd)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Kpe(this.gcTime)&&xt(this,Wd,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(r){this.gcTime=Math.max(this.gcTime||0,r??(yS?1/0:5*60*1e3))}clearGcTimeout(){ue(this,Wd)&&(clearTimeout(ue(this,Wd)),xt(this,Wd,void 0))}},Wd=new WeakMap,cY),Sp,Cp,ss,Vd,_i,nb,Gd,Hs,Rc,lY,lge=(lY=class extends tJ{constructor(e){super();qt(this,Hs);qt(this,Sp);qt(this,Cp);qt(this,ss);qt(this,Vd);qt(this,_i);qt(this,nb);qt(this,Gd);xt(this,Gd,!1),xt(this,nb,e.defaultOptions),this.setOptions(e.options),this.observers=[],xt(this,Vd,e.client),xt(this,ss,ue(this,Vd).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,xt(this,Sp,dge(this.options)),this.state=e.state??ue(this,Sp),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=ue(this,_i))==null?void 0:e.promise}setOptions(e){this.options={...ue(this,nb),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ue(this,ss).remove(this)}setData(e,n){const i=Qpe(this.state.data,e,this.options);return un(this,Hs,Rc).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(e,n){un(this,Hs,Rc).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var i,a;const n=(i=ue(this,_i))==null?void 0:i.promise;return(a=ue(this,_i))==null||a.cancel(e),n?n.then(os).catch(os):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ue(this,Sp))}isActive(){return this.observers.some(e=>Xpe(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===gD||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Ype(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(i=>i.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=ue(this,_i))==null||n.continue()}onOnline(){var n;const e=this.observers.find(i=>i.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=ue(this,_i))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),ue(this,ss).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(ue(this,_i)&&(ue(this,Gd)?ue(this,_i).cancel({revert:!0}):ue(this,_i).cancelRetry()),this.scheduleGc()),ue(this,ss).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||un(this,Hs,Rc).call(this,{type:"invalidate"})}fetch(e,n){var l,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ue(this,_i))return ue(this,_i).continueRetry(),ue(this,_i).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const i=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(xt(this,Gd,!0),i.signal)})},s=()=>{const f=XX(this.options,n),p={client:ue(this,Vd),queryKey:this.queryKey,meta:this.meta};return a(p),xt(this,Gd,!1),this.options.persister?this.options.persister(f,p,this):f(p)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:ue(this,Vd),state:this.state,fetchFn:s};a(o),(l=this.options.behavior)==null||l.onFetch(o,this),xt(this,Cp,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&un(this,Hs,Rc).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const c=f=>{var p,m,y,v;Q2(f)&&f.silent||un(this,Hs,Rc).call(this,{type:"error",error:f}),Q2(f)||((m=(p=ue(this,ss).config).onError)==null||m.call(p,f,this),(v=(y=ue(this,ss).config).onSettled)==null||v.call(y,this.state.data,f,this)),this.scheduleGc()};return xt(this,_i,eJ({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:i.abort.bind(i),onSuccess:f=>{var p,m,y,v;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(b){c(b);return}(m=(p=ue(this,ss).config).onSuccess)==null||m.call(p,f,this),(v=(y=ue(this,ss).config).onSettled)==null||v.call(y,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,p)=>{un(this,Hs,Rc).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{un(this,Hs,Rc).call(this,{type:"pause"})},onContinue:()=>{un(this,Hs,Rc).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),ue(this,_i).start()}},Sp=new WeakMap,Cp=new WeakMap,ss=new WeakMap,Vd=new WeakMap,_i=new WeakMap,nb=new WeakMap,Gd=new WeakMap,Hs=new WeakSet,Rc=function(e){const n=i=>{switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...uge(i.data,this.options),fetchMeta:e.meta??null};case"success":return{...i,data:e.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return Q2(a)&&a.revert&&ue(this,Cp)?{...ue(this,Cp),fetchStatus:"idle"}:{...i,error:a,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=n(this.state),si.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),ue(this,ss).notify({query:this,type:"updated",action:e})})},lY);function uge(r,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ZX(e.networkMode)?"fetching":"paused",...r===void 0&&{error:null,status:"pending"}}}function dge(r){const e=typeof r.initialData=="function"?r.initialData():r.initialData,n=e!==void 0,i=n?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ro,uY,fge=(uY=class extends cb{constructor(e={}){super();qt(this,Ro);this.config=e,xt(this,Ro,new Map)}build(e,n,i){const a=n.queryKey,s=n.queryHash??pD(a,n);let o=this.get(s);return o||(o=new lge({client:e,queryKey:a,queryHash:s,options:e.defaultQueryOptions(n),state:i,defaultOptions:e.getQueryDefaults(a)}),this.add(o)),o}add(e){ue(this,Ro).has(e.queryHash)||(ue(this,Ro).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=ue(this,Ro).get(e.queryHash);n&&(e.destroy(),n===e&&ue(this,Ro).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){si.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ue(this,Ro).get(e)}getAll(){return[...ue(this,Ro).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(i=>l8(n,i))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(i=>l8(e,i)):n}notify(e){si.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){si.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){si.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ro=new WeakMap,uY),$o,$i,Kd,jo,eu,dY,hge=(dY=class extends tJ{constructor(e){super();qt(this,jo);qt(this,$o);qt(this,$i);qt(this,Kd);this.mutationId=e.mutationId,xt(this,$i,e.mutationCache),xt(this,$o,[]),this.state=e.state||rJ(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){ue(this,$o).includes(e)||(ue(this,$o).push(e),this.clearGcTimeout(),ue(this,$i).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){xt(this,$o,ue(this,$o).filter(n=>n!==e)),this.scheduleGc(),ue(this,$i).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){ue(this,$o).length||(this.state.status==="pending"?this.scheduleGc():ue(this,$i).remove(this))}continue(){var e;return((e=ue(this,Kd))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,o,c,l,u,d,f,p,m,y,v,b,w,x,E,A,S,C,P,O;const n=()=>{un(this,jo,eu).call(this,{type:"continue"})};xt(this,Kd,eJ({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(I,M)=>{un(this,jo,eu).call(this,{type:"failed",failureCount:I,error:M})},onPause:()=>{un(this,jo,eu).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ue(this,$i).canRun(this)}));const i=this.state.status==="pending",a=!ue(this,Kd).canStart();try{if(i)n();else{un(this,jo,eu).call(this,{type:"pending",variables:e,isPaused:a}),await((o=(s=ue(this,$i).config).onMutate)==null?void 0:o.call(s,e,this));const M=await((l=(c=this.options).onMutate)==null?void 0:l.call(c,e));M!==this.state.context&&un(this,jo,eu).call(this,{type:"pending",context:M,variables:e,isPaused:a})}const I=await ue(this,Kd).start();return await((d=(u=ue(this,$i).config).onSuccess)==null?void 0:d.call(u,I,e,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,I,e,this.state.context)),await((y=(m=ue(this,$i).config).onSettled)==null?void 0:y.call(m,I,null,this.state.variables,this.state.context,this)),await((b=(v=this.options).onSettled)==null?void 0:b.call(v,I,null,e,this.state.context)),un(this,jo,eu).call(this,{type:"success",data:I}),I}catch(I){try{throw await((x=(w=ue(this,$i).config).onError)==null?void 0:x.call(w,I,e,this.state.context,this)),await((A=(E=this.options).onError)==null?void 0:A.call(E,I,e,this.state.context)),await((C=(S=ue(this,$i).config).onSettled)==null?void 0:C.call(S,void 0,I,this.state.variables,this.state.context,this)),await((O=(P=this.options).onSettled)==null?void 0:O.call(P,void 0,I,e,this.state.context)),I}finally{un(this,jo,eu).call(this,{type:"error",error:I})}}finally{ue(this,$i).runNext(this)}}},$o=new WeakMap,$i=new WeakMap,Kd=new WeakMap,jo=new WeakSet,eu=function(e){const n=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),si.batch(()=>{ue(this,$o).forEach(i=>{i.onMutationUpdate(e)}),ue(this,$i).notify({mutation:this,type:"updated",action:e})})},dY);function rJ(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Uc,Ws,ib,fY,pge=(fY=class extends cb{constructor(e={}){super();qt(this,Uc);qt(this,Ws);qt(this,ib);this.config=e,xt(this,Uc,new Set),xt(this,Ws,new Map),xt(this,ib,0)}build(e,n,i){const a=new hge({mutationCache:this,mutationId:++s1(this,ib)._,options:e.defaultMutationOptions(n),state:i});return this.add(a),a}add(e){ue(this,Uc).add(e);const n=g1(e);if(typeof n=="string"){const i=ue(this,Ws).get(n);i?i.push(e):ue(this,Ws).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(ue(this,Uc).delete(e)){const n=g1(e);if(typeof n=="string"){const i=ue(this,Ws).get(n);if(i)if(i.length>1){const a=i.indexOf(e);a!==-1&&i.splice(a,1)}else i[0]===e&&ue(this,Ws).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=g1(e);if(typeof n=="string"){const i=ue(this,Ws).get(n),a=i==null?void 0:i.find(s=>s.state.status==="pending");return!a||a===e}else return!0}runNext(e){var i;const n=g1(e);if(typeof n=="string"){const a=(i=ue(this,Ws).get(n))==null?void 0:i.find(s=>s!==e&&s.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){si.batch(()=>{ue(this,Uc).forEach(e=>{this.notify({type:"removed",mutation:e})}),ue(this,Uc).clear(),ue(this,Ws).clear()})}getAll(){return Array.from(ue(this,Uc))}find(e){const n={exact:!0,...e};return this.getAll().find(i=>u8(n,i))}findAll(e={}){return this.getAll().filter(n=>u8(e,n))}notify(e){si.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return si.batch(()=>Promise.all(e.map(n=>n.continue().catch(os))))}},Uc=new WeakMap,Ws=new WeakMap,ib=new WeakMap,fY);function g1(r){var e;return(e=r.options.scope)==null?void 0:e.id}function h8(r){return{onFetch:(e,n)=>{var d,f,p,m,y;const i=e.options,a=(p=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,s=((m=e.state.data)==null?void 0:m.pages)||[],o=((y=e.state.data)==null?void 0:y.pageParams)||[];let c={pages:[],pageParams:[]},l=0;const u=async()=>{let v=!1;const b=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},w=XX(e.options,e.fetchOptions),x=async(E,A,S)=>{if(v)return Promise.reject();if(A==null&&E.pages.length)return Promise.resolve(E);const C={client:e.client,queryKey:e.queryKey,pageParam:A,direction:S?"backward":"forward",meta:e.options.meta};b(C);const P=await w(C),{maxPages:O}=e.options,I=S?tge:ege;return{pages:I(E.pages,P,O),pageParams:I(E.pageParams,A,O)}};if(a&&s.length){const E=a==="backward",A=E?gge:p8,S={pages:s,pageParams:o},C=A(i,S);c=await x(S,C,E)}else{const E=r??s.length;do{const A=l===0?o[0]??i.initialPageParam:p8(i,c);if(l>0&&A==null)break;c=await x(c,A),l++}while(l<E)}return c};e.options.persister?e.fetchFn=()=>{var v,b;return(b=(v=e.options).persister)==null?void 0:b.call(v,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function p8(r,{pages:e,pageParams:n}){const i=e.length-1;return e.length>0?r.getNextPageParam(e[i],e,n[i],n):void 0}function gge(r,{pages:e,pageParams:n}){var i;return e.length>0?(i=r.getPreviousPageParam)==null?void 0:i.call(r,e[0],e,n[0],n):void 0}var rn,yu,vu,Ap,Tp,bu,kp,Pp,hY,mge=(hY=class{constructor(r={}){qt(this,rn);qt(this,yu);qt(this,vu);qt(this,Ap);qt(this,Tp);qt(this,bu);qt(this,kp);qt(this,Pp);xt(this,rn,r.queryCache||new fge),xt(this,yu,r.mutationCache||new pge),xt(this,vu,r.defaultOptions||{}),xt(this,Ap,new Map),xt(this,Tp,new Map),xt(this,bu,0)}mount(){s1(this,bu)._++,ue(this,bu)===1&&(xt(this,kp,JX.subscribe(async r=>{r&&(await this.resumePausedMutations(),ue(this,rn).onFocus())})),xt(this,Pp,nx.subscribe(async r=>{r&&(await this.resumePausedMutations(),ue(this,rn).onOnline())})))}unmount(){var r,e;s1(this,bu)._--,ue(this,bu)===0&&((r=ue(this,kp))==null||r.call(this),xt(this,kp,void 0),(e=ue(this,Pp))==null||e.call(this),xt(this,Pp,void 0))}isFetching(r){return ue(this,rn).findAll({...r,fetchStatus:"fetching"}).length}isMutating(r){return ue(this,yu).findAll({...r,status:"pending"}).length}getQueryData(r){var n;const e=this.defaultQueryOptions({queryKey:r});return(n=ue(this,rn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(r){const e=this.defaultQueryOptions(r),n=ue(this,rn).build(this,e),i=n.state.data;return i===void 0?this.fetchQuery(r):(r.revalidateIfStale&&n.isStaleByTime(c8(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(r){return ue(this,rn).findAll(r).map(({queryKey:e,state:n})=>{const i=n.data;return[e,i]})}setQueryData(r,e,n){const i=this.defaultQueryOptions({queryKey:r}),a=ue(this,rn).get(i.queryHash),s=a==null?void 0:a.state.data,o=Gpe(e,s);if(o!==void 0)return ue(this,rn).build(this,i).setData(o,{...n,manual:!0})}setQueriesData(r,e,n){return si.batch(()=>ue(this,rn).findAll(r).map(({queryKey:i})=>[i,this.setQueryData(i,e,n)]))}getQueryState(r){var n;const e=this.defaultQueryOptions({queryKey:r});return(n=ue(this,rn).get(e.queryHash))==null?void 0:n.state}removeQueries(r){const e=ue(this,rn);si.batch(()=>{e.findAll(r).forEach(n=>{e.remove(n)})})}resetQueries(r,e){const n=ue(this,rn);return si.batch(()=>(n.findAll(r).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...r},e)))}cancelQueries(r,e={}){const n={revert:!0,...e},i=si.batch(()=>ue(this,rn).findAll(r).map(a=>a.cancel(n)));return Promise.all(i).then(os).catch(os)}invalidateQueries(r,e={}){return si.batch(()=>(ue(this,rn).findAll(r).forEach(n=>{n.invalidate()}),(r==null?void 0:r.refetchType)==="none"?Promise.resolve():this.refetchQueries({...r,type:(r==null?void 0:r.refetchType)??(r==null?void 0:r.type)??"active"},e)))}refetchQueries(r,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},i=si.batch(()=>ue(this,rn).findAll(r).filter(a=>!a.isDisabled()).map(a=>{let s=a.fetch(void 0,n);return n.throwOnError||(s=s.catch(os)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(i).then(os)}fetchQuery(r){const e=this.defaultQueryOptions(r);e.retry===void 0&&(e.retry=!1);const n=ue(this,rn).build(this,e);return n.isStaleByTime(c8(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(r){return this.fetchQuery(r).then(os).catch(os)}fetchInfiniteQuery(r){return r.behavior=h8(r.pages),this.fetchQuery(r)}prefetchInfiniteQuery(r){return this.fetchInfiniteQuery(r).then(os).catch(os)}ensureInfiniteQueryData(r){return r.behavior=h8(r.pages),this.ensureQueryData(r)}resumePausedMutations(){return nx.isOnline()?ue(this,yu).resumePausedMutations():Promise.resolve()}getQueryCache(){return ue(this,rn)}getMutationCache(){return ue(this,yu)}getDefaultOptions(){return ue(this,vu)}setDefaultOptions(r){xt(this,vu,r)}setQueryDefaults(r,e){ue(this,Ap).set(df(r),{queryKey:r,defaultOptions:e})}getQueryDefaults(r){const e=[...ue(this,Ap).values()],n={};return e.forEach(i=>{Lv(r,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(r,e){ue(this,Tp).set(df(r),{mutationKey:r,defaultOptions:e})}getMutationDefaults(r){const e=[...ue(this,Tp).values()],n={};return e.forEach(i=>{Lv(r,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(r){if(r._defaulted)return r;const e={...ue(this,vu).queries,...this.getQueryDefaults(r.queryKey),...r,_defaulted:!0};return e.queryHash||(e.queryHash=pD(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===gD&&(e.enabled=!1),e}defaultMutationOptions(r){return r!=null&&r._defaulted?r:{...ue(this,vu).mutations,...(r==null?void 0:r.mutationKey)&&this.getMutationDefaults(r.mutationKey),...r,_defaulted:!0}}clear(){ue(this,rn).clear(),ue(this,yu).clear()}},rn=new WeakMap,yu=new WeakMap,vu=new WeakMap,Ap=new WeakMap,Tp=new WeakMap,bu=new WeakMap,kp=new WeakMap,Pp=new WeakMap,hY),wu,_u,aa,Bc,il,x_,fR,pY,yge=(pY=class extends cb{constructor(n,i){super();qt(this,il);qt(this,wu);qt(this,_u);qt(this,aa);qt(this,Bc);xt(this,wu,n),this.setOptions(i),this.bindMethods(),un(this,il,x_).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var a;const i=this.options;this.options=ue(this,wu).defaultMutationOptions(n),Jpe(this.options,i)||ue(this,wu).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ue(this,aa),observer:this}),i!=null&&i.mutationKey&&this.options.mutationKey&&df(i.mutationKey)!==df(this.options.mutationKey)?this.reset():((a=ue(this,aa))==null?void 0:a.state.status)==="pending"&&ue(this,aa).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=ue(this,aa))==null||n.removeObserver(this)}onMutationUpdate(n){un(this,il,x_).call(this),un(this,il,fR).call(this,n)}getCurrentResult(){return ue(this,_u)}reset(){var n;(n=ue(this,aa))==null||n.removeObserver(this),xt(this,aa,void 0),un(this,il,x_).call(this),un(this,il,fR).call(this)}mutate(n,i){var a;return xt(this,Bc,i),(a=ue(this,aa))==null||a.removeObserver(this),xt(this,aa,ue(this,wu).getMutationCache().build(ue(this,wu),this.options)),ue(this,aa).addObserver(this),ue(this,aa).execute(n)}},wu=new WeakMap,_u=new WeakMap,aa=new WeakMap,Bc=new WeakMap,il=new WeakSet,x_=function(){var i;const n=((i=ue(this,aa))==null?void 0:i.state)??rJ();xt(this,_u,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},fR=function(n){si.batch(()=>{var i,a,s,o,c,l,u,d;if(ue(this,Bc)&&this.hasListeners()){const f=ue(this,_u).variables,p=ue(this,_u).context;(n==null?void 0:n.type)==="success"?((a=(i=ue(this,Bc)).onSuccess)==null||a.call(i,n.data,f,p),(o=(s=ue(this,Bc)).onSettled)==null||o.call(s,n.data,null,f,p)):(n==null?void 0:n.type)==="error"&&((l=(c=ue(this,Bc)).onError)==null||l.call(c,n.error,f,p),(d=(u=ue(this,Bc)).onSettled)==null||d.call(u,void 0,n.error,f,p))}this.listeners.forEach(f=>{f(ue(this,_u))})})},pY);function vge(r){return{mutationFn(e){return cR(r,e)},mutationKey:["switchChain"]}}function bge(r){return{mutationFn(e){return HX(r,e)},mutationKey:["writeContract"]}}var nJ=U.createContext(void 0),wge=r=>{const e=U.useContext(nJ);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},_ge=({client:r,children:e})=>(U.useEffect(()=>(r.mount(),()=>{r.unmount()}),[r]),T.jsx(nJ.Provider,{value:r,children:e}));function iJ(r,e){const n=wge(),[i]=U.useState(()=>new yge(n,r));U.useEffect(()=>{i.setOptions(r)},[i,r]);const a=U.useSyncExternalStore(U.useCallback(o=>i.subscribe(si.batchCalls(o)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),s=U.useCallback((o,c)=>{i.mutate(o,c).catch(os)},[i]);if(a.error&&rge(i.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:s,mutateAsync:a.mutate}}function xge(r={}){const e=mS(r);return U.useSyncExternalStore(n=>Bpe(e,{onChange:n}),()=>QL(e),()=>QL(e))}function Ege(r={}){const{mutation:e}=r,n=mS(r),i=vge(n),{mutate:a,mutateAsync:s,...o}=iJ({...e,...i});return{...o,chains:xge({config:n}),switchChain:a,switchChainAsync:s}}function Sge(r={}){const{mutation:e}=r,n=mS(r),i=bge(n),{mutate:a,mutateAsync:s,...o}=iJ({...e,...i});return{...o,writeContract:a,writeContractAsync:s}}const Cge=hS({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),g8=hS({id:5,name:"Goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://5.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://goerli.etherscan.io",apiUrl:"https://api-goerli.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xfc4AC75C46C914aF5892d6d3eFFcebD7917293F1",blockCreated:10339206},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:6507670}},testnet:!0}),Age=hS({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),Uv=hS({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.drpc.org"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xc8Af999e38273D658BE1b921b88A9Ddf005769cC",blockCreated:5317080}},testnet:!0}),Tge=hD({chains:[Uv,g8],transports:{[Uv.id]:jd("https://sepolia.infura.io/v3/YOUR_INFURA_KEY"),[g8.id]:jd("https://goerli.infura.io/v3/YOUR_INFURA_KEY")}});var Mm={},m8;function kge(){if(m8)return Mm;m8=1,Object.defineProperty(Mm,"__esModule",{value:!0}),Mm.parse=o,Mm.serialize=u;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,s=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function o(p,m){const y=new s,v=p.length;if(v<2)return y;const b=(m==null?void 0:m.decode)||d;let w=0;do{const x=p.indexOf("=",w);if(x===-1)break;const E=p.indexOf(";",w),A=E===-1?v:E;if(x>A){w=p.lastIndexOf(";",x-1)+1;continue}const S=c(p,w,x),C=l(p,x,S),P=p.slice(S,C);if(y[P]===void 0){let O=c(p,x+1,A),I=l(p,A,O);const M=b(p.slice(O,I));y[P]=M}w=A+1}while(w<v);return y}function c(p,m,y){do{const v=p.charCodeAt(m);if(v!==32&&v!==9)return m}while(++m<y);return y}function l(p,m,y){for(;m>y;){const v=p.charCodeAt(--m);if(v!==32&&v!==9)return m+1}return y}function u(p,m,y){const v=(y==null?void 0:y.encode)||encodeURIComponent;if(!r.test(p))throw new TypeError(`argument name is invalid: ${p}`);const b=v(m);if(!e.test(b))throw new TypeError(`argument val is invalid: ${m}`);let w=p+"="+b;if(!y)return w;if(y.maxAge!==void 0){if(!Number.isInteger(y.maxAge))throw new TypeError(`option maxAge is invalid: ${y.maxAge}`);w+="; Max-Age="+y.maxAge}if(y.domain){if(!n.test(y.domain))throw new TypeError(`option domain is invalid: ${y.domain}`);w+="; Domain="+y.domain}if(y.path){if(!i.test(y.path))throw new TypeError(`option path is invalid: ${y.path}`);w+="; Path="+y.path}if(y.expires){if(!f(y.expires)||!Number.isFinite(y.expires.valueOf()))throw new TypeError(`option expires is invalid: ${y.expires}`);w+="; Expires="+y.expires.toUTCString()}if(y.httpOnly&&(w+="; HttpOnly"),y.secure&&(w+="; Secure"),y.partitioned&&(w+="; Partitioned"),y.priority)switch(typeof y.priority=="string"?y.priority.toLowerCase():void 0){case"low":w+="; Priority=Low";break;case"medium":w+="; Priority=Medium";break;case"high":w+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${y.priority}`)}if(y.sameSite)switch(typeof y.sameSite=="string"?y.sameSite.toLowerCase():y.sameSite){case!0:case"strict":w+="; SameSite=Strict";break;case"lax":w+="; SameSite=Lax";break;case"none":w+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${y.sameSite}`)}return w}function d(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function f(p){return a.call(p)==="[object Date]"}return Mm}kge();var y8="popstate";function Pge(r={}){function e(i,a){let{pathname:s,search:o,hash:c}=i.location;return hR("",{pathname:s,search:o,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:Bv(a)}return Nge(e,n,null,r)}function Qr(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Xo(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Oge(){return Math.random().toString(36).substring(2,10)}function v8(r,e){return{usr:r.state,key:r.key,idx:e}}function hR(r,e,n=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?kg(e):e,state:n,key:e&&e.key||i||Oge()}}function Bv({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function kg(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function Nge(r,e,n,i={}){let{window:a=document.defaultView,v5Compat:s=!1}=i,o=a.history,c="POP",l=null,u=d();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function d(){return(o.state||{idx:null}).idx}function f(){c="POP";let b=d(),w=b==null?null:b-u;u=b,l&&l({action:c,location:v.location,delta:w})}function p(b,w){c="PUSH";let x=hR(v.location,b,w);u=d()+1;let E=v8(x,u),A=v.createHref(x);try{o.pushState(E,"",A)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(A)}s&&l&&l({action:c,location:v.location,delta:1})}function m(b,w){c="REPLACE";let x=hR(v.location,b,w);u=d();let E=v8(x,u),A=v.createHref(x);o.replaceState(E,"",A),s&&l&&l({action:c,location:v.location,delta:0})}function y(b){return Ige(b)}let v={get action(){return c},get location(){return r(a,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(y8,f),l=b,()=>{a.removeEventListener(y8,f),l=null}},createHref(b){return e(a,b)},createURL:y,encodeLocation(b){let w=y(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:m,go(b){return o.go(b)}};return v}function Ige(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Qr(n,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:Bv(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function aJ(r,e,n="/"){return Rge(r,e,n,!1)}function Rge(r,e,n,i){let a=typeof e=="string"?kg(e):e,s=al(a.pathname||"/",n);if(s==null)return null;let o=sJ(r);$ge(o);let c=null;for(let l=0;c==null&&l<o.length;++l){let u=Wge(s);c=zge(o[l],u,i)}return c}function sJ(r,e=[],n=[],i=""){let a=(s,o,c)=>{let l={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Qr(l.relativePath.startsWith(i),`Absolute route path "${l.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(i.length));let u=Xc([i,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Qr(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),sJ(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:Fge(u,s.index),routesMeta:d})};return r.forEach((s,o)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))a(s,o);else for(let l of oJ(s.path))a(s,o,l)}),e}function oJ(r){let e=r.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return a?[s,""]:[s];let o=oJ(i.join("/")),c=[];return c.push(...o.map(l=>l===""?s:[s,l].join("/"))),a&&c.push(...o),c.map(l=>r.startsWith("/")&&l===""?"/":l)}function $ge(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:qge(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var jge=/^:[\w-]+$/,Dge=3,Mge=2,Lge=1,Uge=10,Bge=-2,b8=r=>r==="*";function Fge(r,e){let n=r.split("/"),i=n.length;return n.some(b8)&&(i+=Bge),e&&(i+=Mge),n.filter(a=>!b8(a)).reduce((a,s)=>a+(jge.test(s)?Dge:s===""?Lge:Uge),i)}function qge(r,e){return r.length===e.length&&r.slice(0,-1).every((i,a)=>i===e[a])?r[r.length-1]-e[e.length-1]:0}function zge(r,e,n=!1){let{routesMeta:i}=r,a={},s="/",o=[];for(let c=0;c<i.length;++c){let l=i[c],u=c===i.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=ix({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),p=l.route;if(!f&&u&&n&&!i[i.length-1].route.index&&(f=ix({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Xc([s,f.pathname]),pathnameBase:Yge(Xc([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=Xc([s,f.pathnameBase]))}return o}function ix(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,i]=Hge(r.path,r.caseSensitive,r.end),a=e.match(n);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:i.reduce((u,{paramName:d,isOptional:f},p)=>{if(d==="*"){let y=c[p]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=c[p];return f&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:r}}function Hge(r,e=!1,n=!0){Xo(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,l)=>(i.push({paramName:c,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(i.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function Wge(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xo(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function al(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=r.charAt(n);return i&&i!=="/"?null:r.slice(n)||"/"}function Vge(r,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof r=="string"?kg(r):r;return{pathname:n?n.startsWith("/")?n:Gge(n,e):e,search:Xge(i),hash:Jge(a)}}function Gge(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function eT(r,e,n,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Kge(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function cJ(r){let e=Kge(r);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function lJ(r,e,n,i=!1){let a;typeof r=="string"?a=kg(r):(a={...r},Qr(!a.pathname||!a.pathname.includes("?"),eT("?","pathname","search",a)),Qr(!a.pathname||!a.pathname.includes("#"),eT("#","pathname","hash",a)),Qr(!a.search||!a.search.includes("#"),eT("#","search","hash",a)));let s=r===""||a.pathname==="",o=s?"/":a.pathname,c;if(o==null)c=n;else{let f=e.length-1;if(!i&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;a.pathname=p.join("/")}c=f>=0?e[f]:"/"}let l=Vge(a,c),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var Xc=r=>r.join("/").replace(/\/\/+/g,"/"),Yge=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Xge=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Jge=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Zge(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var uJ=["POST","PUT","PATCH","DELETE"];new Set(uJ);var Qge=["GET",...uJ];new Set(Qge);var Pg=U.createContext(null);Pg.displayName="DataRouter";var vS=U.createContext(null);vS.displayName="DataRouterState";var dJ=U.createContext({isTransitioning:!1});dJ.displayName="ViewTransition";var eme=U.createContext(new Map);eme.displayName="Fetchers";var tme=U.createContext(null);tme.displayName="Await";var nc=U.createContext(null);nc.displayName="Navigation";var lb=U.createContext(null);lb.displayName="Location";var ic=U.createContext({outlet:null,matches:[],isDataRoute:!1});ic.displayName="Route";var mD=U.createContext(null);mD.displayName="RouteError";function rme(r,{relative:e}={}){Qr(ub(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=U.useContext(nc),{hash:a,pathname:s,search:o}=db(r,{relative:e}),c=s;return n!=="/"&&(c=s==="/"?n:Xc([n,s])),i.createHref({pathname:c,search:o,hash:a})}function ub(){return U.useContext(lb)!=null}function vl(){return Qr(ub(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(lb).location}var fJ="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hJ(r){U.useContext(nc).static||U.useLayoutEffect(r)}function bS(){let{isDataRoute:r}=U.useContext(ic);return r?gme():nme()}function nme(){Qr(ub(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(Pg),{basename:e,navigator:n}=U.useContext(nc),{matches:i}=U.useContext(ic),{pathname:a}=vl(),s=JSON.stringify(cJ(i)),o=U.useRef(!1);return hJ(()=>{o.current=!0}),U.useCallback((l,u={})=>{if(Xo(o.current,fJ),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=lJ(l,JSON.parse(s),a,u.relative==="path");r==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Xc([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,s,a,r])}U.createContext(null);function wS(){let{matches:r}=U.useContext(ic),e=r[r.length-1];return e?e.params:{}}function db(r,{relative:e}={}){let{matches:n}=U.useContext(ic),{pathname:i}=vl(),a=JSON.stringify(cJ(n));return U.useMemo(()=>lJ(r,JSON.parse(a),i,e==="path"),[r,a,i,e])}function ime(r,e){return pJ(r,e)}function pJ(r,e,n,i){var w;Qr(ub(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=U.useContext(nc),{matches:s}=U.useContext(ic),o=s[s.length-1],c=o?o.params:{},l=o?o.pathname:"/",u=o?o.pathnameBase:"/",d=o&&o.route;{let x=d&&d.path||"";gJ(l,!d||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let f=vl(),p;if(e){let x=typeof e=="string"?kg(e):e;Qr(u==="/"||((w=x.pathname)==null?void 0:w.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${x.pathname}" was given in the \`location\` prop.`),p=x}else p=f;let m=p.pathname||"/",y=m;if(u!=="/"){let x=u.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=aJ(r,{pathname:y});Xo(d||v!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Xo(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=lme(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},c,x.params),pathname:Xc([u,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:Xc([u,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,i);return e&&b?U.createElement(lb.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},b):b}function ame(){let r=pme(),e=Zge(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",r),o=U.createElement(U.Fragment,null,U.createElement("p",null,"💿 Hey developer 👋"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:s},"ErrorBoundary")," or"," ",U.createElement("code",{style:s},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:a},n):null,o)}var sme=U.createElement(ame,null),ome=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?U.createElement(ic.Provider,{value:this.props.routeContext},U.createElement(mD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cme({routeContext:r,match:e,children:n}){let i=U.useContext(Pg);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(ic.Provider,{value:r},n)}function lme(r,e=[],n=null,i=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let a=r,s=n==null?void 0:n.errors;if(s!=null){let l=a.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);Qr(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,l+1))}let o=!1,c=-1;if(n)for(let l=0;l<a.length;l++){let u=a[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=l),u.route.id){let{loaderData:d,errors:f}=n,p=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||p){o=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((l,u,d)=>{let f,p=!1,m=null,y=null;n&&(f=s&&u.route.id?s[u.route.id]:void 0,m=u.route.errorElement||sme,o&&(c<0&&d===0?(gJ("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,y=null):c===d&&(p=!0,y=u.route.hydrateFallbackElement||null)));let v=e.concat(a.slice(0,d+1)),b=()=>{let w;return f?w=m:p?w=y:u.route.Component?w=U.createElement(u.route.Component,null):u.route.element?w=u.route.element:w=l,U.createElement(cme,{match:u,routeContext:{outlet:l,matches:v,isDataRoute:n!=null},children:w})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?U.createElement(ome,{location:n.location,revalidation:n.revalidation,component:m,error:f,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}function yD(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ume(r){let e=U.useContext(Pg);return Qr(e,yD(r)),e}function dme(r){let e=U.useContext(vS);return Qr(e,yD(r)),e}function fme(r){let e=U.useContext(ic);return Qr(e,yD(r)),e}function vD(r){let e=fme(r),n=e.matches[e.matches.length-1];return Qr(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function hme(){return vD("useRouteId")}function pme(){var i;let r=U.useContext(mD),e=dme("useRouteError"),n=vD("useRouteError");return r!==void 0?r:(i=e.errors)==null?void 0:i[n]}function gme(){let{router:r}=ume("useNavigate"),e=vD("useNavigate"),n=U.useRef(!1);return hJ(()=>{n.current=!0}),U.useCallback(async(a,s={})=>{Xo(n.current,fJ),n.current&&(typeof a=="number"?r.navigate(a):await r.navigate(a,{fromRouteId:e,...s}))},[r,e])}var w8={};function gJ(r,e,n){!e&&!w8[r]&&(w8[r]=!0,Xo(!1,n))}U.memo(mme);function mme({routes:r,future:e,state:n}){return pJ(r,void 0,n,e)}function Ta(r){Qr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yme({basename:r="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:s=!1}){Qr(!ub(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=r.replace(/^\/*/,"/"),c=U.useMemo(()=>({basename:o,navigator:a,static:s,future:{}}),[o,a,s]);typeof n=="string"&&(n=kg(n));let{pathname:l="/",search:u="",hash:d="",state:f=null,key:p="default"}=n,m=U.useMemo(()=>{let y=al(l,o);return y==null?null:{location:{pathname:y,search:u,hash:d,state:f,key:p},navigationType:i}},[o,l,u,d,f,p,i]);return Xo(m!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:U.createElement(nc.Provider,{value:c},U.createElement(lb.Provider,{children:e,value:m}))}function vme({children:r,location:e}){return ime(pR(r),e)}function pR(r,e=[]){let n=[];return U.Children.forEach(r,(i,a)=>{if(!U.isValidElement(i))return;let s=[...e,a];if(i.type===U.Fragment){n.push.apply(n,pR(i.props.children,s));return}Qr(i.type===Ta,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qr(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=pR(i.props.children,s)),n.push(o)}),n}var E_="get",S_="application/x-www-form-urlencoded";function _S(r){return r!=null&&typeof r.tagName=="string"}function bme(r){return _S(r)&&r.tagName.toLowerCase()==="button"}function wme(r){return _S(r)&&r.tagName.toLowerCase()==="form"}function _me(r){return _S(r)&&r.tagName.toLowerCase()==="input"}function xme(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Eme(r,e){return r.button===0&&(!e||e==="_self")&&!xme(r)}var m1=null;function Sme(){if(m1===null)try{new FormData(document.createElement("form"),0),m1=!1}catch{m1=!0}return m1}var Cme=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tT(r){return r!=null&&!Cme.has(r)?(Xo(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${S_}"`),null):r}function Ame(r,e){let n,i,a,s,o;if(wme(r)){let c=r.getAttribute("action");i=c?al(c,e):null,n=r.getAttribute("method")||E_,a=tT(r.getAttribute("enctype"))||S_,s=new FormData(r)}else if(bme(r)||_me(r)&&(r.type==="submit"||r.type==="image")){let c=r.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=r.getAttribute("formaction")||c.getAttribute("action");if(i=l?al(l,e):null,n=r.getAttribute("formmethod")||c.getAttribute("method")||E_,a=tT(r.getAttribute("formenctype"))||tT(c.getAttribute("enctype"))||S_,s=new FormData(c,r),!Sme()){let{name:u,type:d,value:f}=r;if(d==="image"){let p=u?`${u}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else u&&s.append(u,f)}}else{if(_S(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=E_,i=null,a=S_,o=r}return s&&a==="text/plain"&&(o=s,s=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:s,body:o}}function bD(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function Tme(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kme(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Pme(r,e,n){let i=await Promise.all(r.map(async a=>{let s=e.routes[a.route.id];if(s){let o=await Tme(s,n);return o.links?o.links():[]}return[]}));return Rme(i.flat(1).filter(kme).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function _8(r,e,n,i,a,s){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,c=(l,u)=>{var d;return n[u].pathname!==l.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>o(l,u)||c(l,u)):s==="data"?e.filter((l,u)=>{var f;let d=i.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,u)||c(l,u))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(r,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function Ome(r,e,{includeHydrateFallback:n}={}){return Nme(r.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function Nme(r){return[...new Set(r)]}function Ime(r){let e={},n=Object.keys(r).sort();for(let i of n)e[i]=r[i];return e}function Rme(r,e){let n=new Set;return new Set(e),r.reduce((i,a)=>{let s=JSON.stringify(Ime(a));return n.has(s)||(n.add(s),i.push({key:s,link:a})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var $me=new Set([100,101,204,205]);function jme(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&al(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function mJ(){let r=U.useContext(Pg);return bD(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Dme(){let r=U.useContext(vS);return bD(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var wD=U.createContext(void 0);wD.displayName="FrameworkContext";function yJ(){let r=U.useContext(wD);return bD(r,"You must render this element inside a <HydratedRouter> element"),r}function Mme(r,e){let n=U.useContext(wD),[i,a]=U.useState(!1),[s,o]=U.useState(!1),{onFocus:c,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=e,p=U.useRef(null);U.useEffect(()=>{if(r==="render"&&o(!0),r==="viewport"){let v=w=>{w.forEach(x=>{o(x.isIntersecting)})},b=new IntersectionObserver(v,{threshold:.5});return p.current&&b.observe(p.current),()=>{b.disconnect()}}},[r]),U.useEffect(()=>{if(i){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[i]);let m=()=>{a(!0)},y=()=>{a(!1),o(!1)};return n?r!=="intent"?[s,p,{}]:[s,p,{onFocus:Lm(c,m),onBlur:Lm(l,y),onMouseEnter:Lm(u,m),onMouseLeave:Lm(d,y),onTouchStart:Lm(f,m)}]:[!1,p,{}]}function Lm(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Lme({page:r,...e}){let{router:n}=mJ(),i=U.useMemo(()=>aJ(n.routes,r,n.basename),[n.routes,r,n.basename]);return i?U.createElement(Bme,{page:r,matches:i,...e}):null}function Ume(r){let{manifest:e,routeModules:n}=yJ(),[i,a]=U.useState([]);return U.useEffect(()=>{let s=!1;return Pme(r,e,n).then(o=>{s||a(o)}),()=>{s=!0}},[r,e,n]),i}function Bme({page:r,matches:e,...n}){let i=vl(),{manifest:a,routeModules:s}=yJ(),{basename:o}=mJ(),{loaderData:c,matches:l}=Dme(),u=U.useMemo(()=>_8(r,e,l,a,i,"data"),[r,e,l,a,i]),d=U.useMemo(()=>_8(r,e,l,a,i,"assets"),[r,e,l,a,i]),f=U.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let y=new Set,v=!1;if(e.forEach(w=>{var E;let x=a.routes[w.route.id];!x||!x.hasLoader||(!u.some(A=>A.route.id===w.route.id)&&w.route.id in c&&((E=s[w.route.id])!=null&&E.shouldRevalidate)||x.hasClientLoader?v=!0:y.add(w.route.id))}),y.size===0)return[];let b=jme(r,o);return v&&y.size>0&&b.searchParams.set("_routes",e.filter(w=>y.has(w.route.id)).map(w=>w.route.id).join(",")),[b.pathname+b.search]},[o,c,i,a,u,e,r,s]),p=U.useMemo(()=>Ome(d,a),[d,a]),m=Ume(d);return U.createElement(U.Fragment,null,f.map(y=>U.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),p.map(y=>U.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),m.map(({key:y,link:v})=>U.createElement("link",{key:y,...v})))}function Fme(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var vJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vJ&&(window.__reactRouterVersion="7.6.1")}catch{}function qme({basename:r,children:e,window:n}){let i=U.useRef();i.current==null&&(i.current=Pge({window:n,v5Compat:!0}));let a=i.current,[s,o]=U.useState({action:a.action,location:a.location}),c=U.useCallback(l=>{U.startTransition(()=>o(l))},[o]);return U.useLayoutEffect(()=>a.listen(c),[a,c]),U.createElement(yme,{basename:r,children:e,location:s.location,navigationType:s.action,navigator:a})}var bJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fb=U.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:s,replace:o,state:c,target:l,to:u,preventScrollReset:d,viewTransition:f,...p},m){let{basename:y}=U.useContext(nc),v=typeof u=="string"&&bJ.test(u),b,w=!1;if(typeof u=="string"&&v&&(b=u,vJ))try{let I=new URL(window.location.href),M=u.startsWith("//")?new URL(I.protocol+u):new URL(u),D=al(M.pathname,y);M.origin===I.origin&&D!=null?u=D+M.search+M.hash:w=!0}catch{Xo(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=rme(u,{relative:a}),[E,A,S]=Mme(i,p),C=Vme(u,{replace:o,state:c,target:l,preventScrollReset:d,relative:a,viewTransition:f});function P(I){e&&e(I),I.defaultPrevented||C(I)}let O=U.createElement("a",{...p,...S,href:b||x,onClick:w||s?e:P,ref:Fme(m,A),target:l,"data-discover":!v&&n==="render"?"true":void 0});return E&&!v?U.createElement(U.Fragment,null,O,U.createElement(Lme,{page:x})):O});fb.displayName="Link";var zme=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:s,to:o,viewTransition:c,children:l,...u},d){let f=db(o,{relative:u.relative}),p=vl(),m=U.useContext(vS),{navigator:y,basename:v}=U.useContext(nc),b=m!=null&&Jme(f)&&c===!0,w=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,x=p.pathname,E=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(x=x.toLowerCase(),E=E?E.toLowerCase():null,w=w.toLowerCase()),E&&v&&(E=al(E,v)||E);const A=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let S=x===w||!a&&x.startsWith(w)&&x.charAt(A)==="/",C=E!=null&&(E===w||!a&&E.startsWith(w)&&E.charAt(w.length)==="/"),P={isActive:S,isPending:C,isTransitioning:b},O=S?e:void 0,I;typeof i=="function"?I=i(P):I=[i,S?"active":null,C?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let M=typeof s=="function"?s(P):s;return U.createElement(fb,{...u,"aria-current":O,className:I,ref:d,style:M,to:o,viewTransition:c},typeof l=="function"?l(P):l)});zme.displayName="NavLink";var Hme=U.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:s,method:o=E_,action:c,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:f,...p},m)=>{let y=Yme(),v=Xme(c,{relative:u}),b=o.toLowerCase()==="get"?"get":"post",w=typeof c=="string"&&bJ.test(c),x=E=>{if(l&&l(E),E.defaultPrevented)return;E.preventDefault();let A=E.nativeEvent.submitter,S=(A==null?void 0:A.getAttribute("formmethod"))||o;y(A||E.currentTarget,{fetcherKey:e,method:S,navigate:n,replace:a,state:s,relative:u,preventScrollReset:d,viewTransition:f})};return U.createElement("form",{ref:m,method:b,action:v,onSubmit:i?l:x,...p,"data-discover":!w&&r==="render"?"true":void 0})});Hme.displayName="Form";function Wme(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wJ(r){let e=U.useContext(Pg);return Qr(e,Wme(r)),e}function Vme(r,{target:e,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o}={}){let c=bS(),l=vl(),u=db(r,{relative:s});return U.useCallback(d=>{if(Eme(d,e)){d.preventDefault();let f=n!==void 0?n:Bv(l)===Bv(u);c(r,{replace:f,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[l,c,u,n,i,e,r,a,s,o])}var Gme=0,Kme=()=>`__${String(++Gme)}__`;function Yme(){let{router:r}=wJ("useSubmit"),{basename:e}=U.useContext(nc),n=hme();return U.useCallback(async(i,a={})=>{let{action:s,method:o,encType:c,formData:l,body:u}=Ame(i,e);if(a.navigate===!1){let d=a.fetcherKey||Kme();await r.fetch(d,n,a.action||s,{preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||o,formEncType:a.encType||c,flushSync:a.flushSync})}else await r.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||o,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,e,n])}function Xme(r,{relative:e}={}){let{basename:n}=U.useContext(nc),i=U.useContext(ic);Qr(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),s={...db(r||".",{relative:e})},o=vl();if(r==null){s.search=o.search;let c=new URLSearchParams(s.search),l=c.getAll("index");if(l.some(d=>d==="")){c.delete("index"),l.filter(f=>f).forEach(f=>c.append("index",f));let d=c.toString();s.search=d?`?${d}`:""}}return(!r||r===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Xc([n,s.pathname])),Bv(s)}function Jme(r,e={}){let n=U.useContext(dJ);Qr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=wJ("useViewTransitionState"),a=db(r,{relative:e.relative});if(!n.isTransitioning)return!1;let s=al(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=al(n.nextLocation.pathname,i)||n.nextLocation.pathname;return ix(a.pathname,o)!=null||ix(a.pathname,s)!=null}[...$me];/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Zme={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qme=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ze=(r,e)=>{const n=U.forwardRef(({color:i="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:c="",children:l,...u},d)=>U.createElement("svg",{ref:d,...Zme,width:a,height:a,stroke:i,strokeWidth:o?Number(s)*24/Number(a):s,className:["lucide",`lucide-${Qme(r)}`,c].join(" "),...u},[...e.map(([f,p])=>U.createElement(f,p)),...Array.isArray(l)?l:[l]]));return n.displayName=`${r}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eye=Ze("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tye=Ze("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rye=Ze("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _J=Ze("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nye=Ze("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=Ze("Beaker",[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iye=Ze("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xJ=Ze("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aye=Ze("BookOpenText",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}],["path",{d:"M6 8h2",key:"30oboj"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M16 12h2",key:"7q9ll5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sye=Ze("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oye=Ze("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cye=Ze("BookmarkCheck",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EJ=Ze("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lye=Ze("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uye=Ze("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dye=Ze("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=Ze("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fye=Ze("CandlestickChart",[["path",{d:"M9 5v4",key:"14uxtq"}],["rect",{width:"4",height:"6",x:"7",y:"9",rx:"1",key:"f4fvz0"}],["path",{d:"M9 15v2",key:"r5rk32"}],["path",{d:"M17 3v2",key:"1l2re6"}],["rect",{width:"4",height:"8",x:"15",y:"5",rx:"1",key:"z38je5"}],["path",{d:"M17 13v3",key:"5l0wba"}],["path",{d:"M3 3v18h18",key:"1s2lah"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hye=Ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SJ=Ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=Ze("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=Ze("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pye=Ze("ClipboardCopy",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gye=Ze("Clock4",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CJ=Ze("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AJ=Ze("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mye=Ze("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yye=Ze("Dna",[["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m17 6-2.5-2.5",key:"5cdfhj"}],["path",{d:"m14 8-1-1",key:"15nbz5"}],["path",{d:"m7 18 2.5 2.5",key:"16tu1a"}],["path",{d:"m3.5 14.5.5.5",key:"hapbhd"}],["path",{d:"m20 9 .5.5",key:"1n7z02"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m10 16 1.5 1.5",key:"11lckj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vye=Ze("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bye=Ze("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wye=Ze("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TJ=Ze("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ye=Ze("FlaskRound",[["path",{d:"M10 2v7.31",key:"5d1hyh"}],["path",{d:"M14 9.3V1.99",key:"14k4l0"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14 9.3a6.5 6.5 0 1 1-4 0",key:"1r8fvy"}],["path",{d:"M5.52 16h12.96",key:"46hh1i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xye=Ze("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=Ze("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eye=Ze("HandCoins",[["path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17",key:"geh8rc"}],["path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"1fto5m"}],["path",{d:"m2 16 6 6",key:"1pfhp9"}],["circle",{cx:"16",cy:"9",r:"2.9",key:"1n0dlu"}],["circle",{cx:"6",cy:"5",r:"3",key:"151irh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sye=Ze("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cye=Ze("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aye=Ze("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tye=Ze("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kye=Ze("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=Ze("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pye=Ze("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oye=Ze("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kJ=Ze("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nye=Ze("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iye=Ze("Microscope",[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rye=Ze("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ye=Ze("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=Ze("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jye=Ze("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dye=Ze("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5v0A5.5 5.5 0 0 0 9.5 20H13",key:"19mnr4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mye=Ze("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=Ze("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lye=Ze("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uye=Ze("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bye=Ze("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fye=Ze("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qye=Ze("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PJ=Ze("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zye=Ze("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OJ=Ze("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hye=Ze("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wye=Ze("Wallet2",[["path",{d:"M17 14h.01",key:"7oqj8z"}],["path",{d:"M7 7h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14",key:"u1rqew"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=Ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Vye=[{icon:T.jsx(Cye,{className:"w-6 h-6 text-orange-600 dark:text-teal-300 hover:scale-105 transition-transform"}),label:"Home",to:"/"},{icon:T.jsx(Nye,{className:"w-6 h-6 text-orange-600 dark:text-teal-300 hover:scale-105 transition-transform"}),label:"Social",to:"/main?tab=feed"},{icon:T.jsx(AJ,{className:"w-6 h-6 text-orange-600 dark:text-teal-300 hover:scale-105 transition-transform"}),label:"NFT Marketplace",to:"nft"},{icon:T.jsx(fye,{className:"w-6 h-6 text-orange-600 dark:text-teal-300 hover:scale-105 transition-transform"}),label:"Research In Motion"},{icon:T.jsx(aye,{className:"w-6 h-6 text-orange-600 dark:text-teal-300 hover:scale-105 transition-transform"}),label:"Articles",to:"/main?tab=articles"},{icon:T.jsx(lye,{className:"w-6 h-6 text-orange-600 dark:text-teal-300 hover:scale-105 transition-transform"}),label:"MetaClusters",to:"/metaclusters"},{icon:T.jsx(Sye,{className:"w-6 h-6 text-orange-600 dark:text-teal-300 hover:scale-105 transition-transform"}),label:"Help"}];function Gye({sidebarOpen:r,setSidebarOpen:e}){const[n,i]=U.useState(256),[a,s]=U.useState(!1),o=80,c=U.useCallback(f=>{window.innerWidth>=1024&&(s(!0),f.preventDefault())},[]),l=U.useCallback(()=>{s(!1)},[]),u=U.useCallback(f=>{if(a){const p=Math.max(o,Math.min(f.clientX,400));i(p)}},[a]);ee.useEffect(()=>{if(a)return window.addEventListener("mousemove",u),window.addEventListener("mouseup",l),()=>{window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",l)}},[a,u,l]);const d=n<=96;return T.jsx(T.Fragment,{children:T.jsxs("aside",{style:{width:`${n}px`},className:`left-0 z-40 bg-white dark:bg-gray-900 transform ${r?"translate-x-0":"-translate-x-full"} transition-all duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 border-r border-orange-200 dark:border-gray-700 mt-16`,children:[T.jsx("button",{onClick:()=>e(!1),className:"lg:hidden absolute right-4 top-4 p-2 rounded-lg hover:bg-orange-100 dark:hover:bg-orange-700","aria-label":"Close sidebar",children:T.jsx(sx,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"})}),T.jsx("div",{className:"absolute right-0 inset-y-0 w-1 cursor-ew-resize hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors hidden lg:block",onMouseDown:c}),T.jsx("nav",{className:"p-4 w-full",children:Vye.map((f,p)=>T.jsxs(fb,{to:f.to,className:`
                flex items-center justify-between px-2 py-3 
                text-gray-700 dark:text-gray-300 
                hover:bg-gray-100 dark:hover:bg-gray-700 
                rounded-xlg mb-1 group relative 
                transition-all duration-300 ease-in-out
              `,title:d?f.label:"",children:[T.jsx("span",{className:`
                  ml-3 text-sm whitespace-nowrap overflow-hidden
                  transition-all duration-300 ease-in-out
                  ${d?"w-0 opacity-0":"w-auto opacity-100"}
                `,children:f.label}),T.jsx("div",{className:"min-w-[24px] flex justify-end items-center text-xl",children:f.icon}),d&&T.jsx("div",{className:`
                  absolute left-full ml-2 px-2 py-1 bg-gray-900 text-white text-xs 
                  rounded opacity-0 group-hover:opacity-100 pointer-events-none 
                  transform translate-x-2 group-hover:translate-x-0 
                  transition-all duration-200 z-50
                `,children:f.label})]},p))})]})})}function Kye({darkMode:r,setDarkMode:e}){return T.jsx("button",{onClick:()=>e(!r),className:"p-2 rounded-lg bg-white dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors","aria-label":r?"Switch to light mode":"Switch to dark mode",children:r?T.jsx(Fye,{className:"w-5 h-5 text-gray-700 dark:text-gray-200"}):T.jsx(Rye,{className:"w-5 h-5 text-gray-700 dark:text-gray-200"})})}const Yye=Symbol(),E8=Object.getPrototypeOf,bR=new WeakMap,Xye=r=>r&&(bR.has(r)?bR.get(r):E8(r)===Object.prototype||E8(r)===Array.prototype),Jye=r=>Xye(r)&&r[Yye]||null,S8=(r,e=!0)=>{bR.set(r,e)},ox={},rT=r=>typeof r=="object"&&r!==null,au=new WeakMap,Ey=new WeakSet,Zye=(r=Object.is,e=(u,d)=>new Proxy(u,d),n=u=>rT(u)&&!Ey.has(u)&&(Array.isArray(u)||!(Symbol.iterator in u))&&!(u instanceof WeakMap)&&!(u instanceof WeakSet)&&!(u instanceof Error)&&!(u instanceof Number)&&!(u instanceof Date)&&!(u instanceof String)&&!(u instanceof RegExp)&&!(u instanceof ArrayBuffer),i=u=>{switch(u.status){case"fulfilled":return u.value;case"rejected":throw u.reason;default:throw u}},a=new WeakMap,s=(u,d,f=i)=>{const p=a.get(u);if((p==null?void 0:p[0])===d)return p[1];const m=Array.isArray(u)?[]:Object.create(Object.getPrototypeOf(u));return S8(m,!0),a.set(u,[d,m]),Reflect.ownKeys(u).forEach(y=>{if(Object.getOwnPropertyDescriptor(m,y))return;const v=Reflect.get(u,y),{enumerable:b}=Reflect.getOwnPropertyDescriptor(u,y),w={value:v,enumerable:b,configurable:!0};if(Ey.has(v))S8(v,!1);else if(v instanceof Promise)delete w.value,w.get=()=>f(v);else if(au.has(v)){const[x,E]=au.get(v);w.value=s(x,E(),f)}Object.defineProperty(m,y,w)}),Object.preventExtensions(m)},o=new WeakMap,c=[1,1],l=u=>{if(!rT(u))throw new Error("object required");const d=o.get(u);if(d)return d;let f=c[0];const p=new Set,m=(I,M=++c[0])=>{f!==M&&(f=M,p.forEach(D=>D(I,M)))};let y=c[1];const v=(I=++c[1])=>(y!==I&&!p.size&&(y=I,w.forEach(([M])=>{const D=M[1](I);D>f&&(f=D)})),f),b=I=>(M,D)=>{const q=[...M];q[1]=[I,...q[1]],m(q,D)},w=new Map,x=(I,M)=>{if((ox?"production":void 0)!=="production"&&w.has(I))throw new Error("prop listener already exists");if(p.size){const D=M[3](b(I));w.set(I,[M,D])}else w.set(I,[M])},E=I=>{var M;const D=w.get(I);D&&(w.delete(I),(M=D[1])==null||M.call(D))},A=I=>(p.add(I),p.size===1&&w.forEach(([D,q],K)=>{if((ox?"production":void 0)!=="production"&&q)throw new Error("remove already exists");const L=D[3](b(K));w.set(K,[D,L])}),()=>{p.delete(I),p.size===0&&w.forEach(([D,q],K)=>{q&&(q(),w.set(K,[D]))})}),S=Array.isArray(u)?[]:Object.create(Object.getPrototypeOf(u)),P=e(S,{deleteProperty(I,M){const D=Reflect.get(I,M);E(M);const q=Reflect.deleteProperty(I,M);return q&&m(["delete",[M],D]),q},set(I,M,D,q){const K=Reflect.has(I,M),L=Reflect.get(I,M,q);if(K&&(r(L,D)||o.has(D)&&r(L,o.get(D))))return!0;E(M),rT(D)&&(D=Jye(D)||D);let R=D;if(D instanceof Promise)D.then(j=>{D.status="fulfilled",D.value=j,m(["resolve",[M],j])}).catch(j=>{D.status="rejected",D.reason=j,m(["reject",[M],j])});else{!au.has(D)&&n(D)&&(R=l(D));const j=!Ey.has(R)&&au.get(R);j&&x(M,j)}return Reflect.set(I,M,R,q),m(["set",[M],D,L]),!0}});o.set(u,P);const O=[S,v,s,A];return au.set(P,O),Reflect.ownKeys(u).forEach(I=>{const M=Object.getOwnPropertyDescriptor(u,I);"value"in M&&(P[I]=u[I],delete M.value,delete M.writable),Object.defineProperty(S,I,M)}),P})=>[l,au,Ey,r,e,n,i,a,s,o,c],[Qye]=Zye();function Ur(r={}){return Qye(r)}function Fi(r,e,n){const i=au.get(r);(ox?"production":void 0)!=="production"&&!i&&console.warn("Please use proxy object");let a;const s=[],o=i[3];let c=!1;const u=o(d=>{s.push(d),a||(a=Promise.resolve().then(()=>{a=void 0,c&&e(s.splice(0))}))});return c=!0,()=>{c=!1,u()}}function Fv(r,e){const n=au.get(r);(ox?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");const[i,a,s]=n;return s(i,a(),e)}function ff(r){return Ey.add(r),r}function Ti(r,e,n,i){let a=r[e];return Fi(r,()=>{const s=r[e];Object.is(a,s)||n(a=s)})}function eve(r){const e=Ur({data:Array.from([]),has(n){return this.data.some(i=>i[0]===n)},set(n,i){const a=this.data.find(s=>s[0]===n);return a?a[1]=i:this.data.push([n,i]),this},get(n){var i;return(i=this.data.find(a=>a[0]===n))==null?void 0:i[1]},delete(n){const i=this.data.findIndex(a=>a[0]===n);return i===-1?!1:(this.data.splice(i,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(n){this.data.forEach(i=>{n(i[1],i[0],this)})},keys(){return this.data.map(n=>n[0]).values()},values(){return this.data.map(n=>n[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(e,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(e),e}const qv={caipNetworkIdToNumber(r){return r?Number(r.split(":")[1]):void 0},parseEvmChainId(r){return typeof r=="string"?this.caipNetworkIdToNumber(r):r},getNetworksByNamespace(r,e){return(r==null?void 0:r.filter(n=>n.chainNamespace===e))||[]},getFirstNetworkByNamespace(r,e){return this.getNetworksByNamespace(r,e)[0]}};var tve=20,rve=1,Og=1e6,nve=1e6,ive=-7,ave=21,sve=!1,hb="[big.js] ",$f=hb+"Invalid ",xS=$f+"decimal places",ove=$f+"rounding mode",NJ=hb+"Division by zero",gr={},zo=void 0,cve=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function IJ(){function r(e){var n=this;if(!(n instanceof r))return e===zo?IJ():new r(e);if(e instanceof r)n.s=e.s,n.e=e.e,n.c=e.c.slice();else{if(typeof e!="string"){if(r.strict===!0&&typeof e!="bigint")throw TypeError($f+"value");e=e===0&&1/e<0?"-0":String(e)}lve(n,e)}n.constructor=r}return r.prototype=gr,r.DP=tve,r.RM=rve,r.NE=ive,r.PE=ave,r.strict=sve,r.roundDown=0,r.roundHalfUp=1,r.roundHalfEven=2,r.roundUp=3,r}function lve(r,e){var n,i,a;if(!cve.test(e))throw Error($f+"number");for(r.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(n<0&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):n<0&&(n=e.length),a=e.length,i=0;i<a&&e.charAt(i)=="0";)++i;if(i==a)r.c=[r.e=0];else{for(;a>0&&e.charAt(--a)=="0";);for(r.e=n-i-1,r.c=[],n=0;i<=a;)r.c[n++]=+e.charAt(i++)}return r}function jf(r,e,n,i){var a=r.c;if(n===zo&&(n=r.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(ove);if(e<1)i=n===3&&(i||!!a[0])||e===0&&(n===1&&a[0]>=5||n===2&&(a[0]>5||a[0]===5&&(i||a[1]!==zo))),a.length=1,i?(r.e=r.e-e+1,a[0]=1):a[0]=r.e=0;else if(e<a.length){if(i=n===1&&a[e]>=5||n===2&&(a[e]>5||a[e]===5&&(i||a[e+1]!==zo||a[e-1]&1))||n===3&&(i||!!a[0]),a.length=e,i){for(;++a[--e]>9;)if(a[e]=0,e===0){++r.e,a.unshift(1);break}}for(e=a.length;!a[--e];)a.pop()}return r}function Df(r,e,n){var i=r.e,a=r.c.join(""),s=a.length;if(e)a=a.charAt(0)+(s>1?"."+a.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)a="0"+a;a="0."+a}else if(i>0)if(++i>s)for(i-=s;i--;)a+="0";else i<s&&(a=a.slice(0,i)+"."+a.slice(i));else s>1&&(a=a.charAt(0)+"."+a.slice(1));return r.s<0&&n?"-"+a:a}gr.abs=function(){var r=new this.constructor(this);return r.s=1,r};gr.cmp=function(r){var e,n=this,i=n.c,a=(r=new n.constructor(r)).c,s=n.s,o=r.s,c=n.e,l=r.e;if(!i[0]||!a[0])return i[0]?s:a[0]?-o:0;if(s!=o)return s;if(e=s<0,c!=l)return c>l^e?1:-1;for(o=(c=i.length)<(l=a.length)?c:l,s=-1;++s<o;)if(i[s]!=a[s])return i[s]>a[s]^e?1:-1;return c==l?0:c>l^e?1:-1};gr.div=function(r){var e=this,n=e.constructor,i=e.c,a=(r=new n(r)).c,s=e.s==r.s?1:-1,o=n.DP;if(o!==~~o||o<0||o>Og)throw Error(xS);if(!a[0])throw Error(NJ);if(!i[0])return r.s=s,r.c=[r.e=0],r;var c,l,u,d,f,p=a.slice(),m=c=a.length,y=i.length,v=i.slice(0,c),b=v.length,w=r,x=w.c=[],E=0,A=o+(w.e=e.e-r.e)+1;for(w.s=s,s=A<0?0:A,p.unshift(0);b++<c;)v.push(0);do{for(u=0;u<10;u++){if(c!=(b=v.length))d=c>b?1:-1;else for(f=-1,d=0;++f<c;)if(a[f]!=v[f]){d=a[f]>v[f]?1:-1;break}if(d<0){for(l=b==c?a:p;b;){if(v[--b]<l[b]){for(f=b;f&&!v[--f];)v[f]=9;--v[f],v[b]+=10}v[b]-=l[b]}for(;!v[0];)v.shift()}else break}x[E++]=d?u:++u,v[0]&&d?v[b]=i[m]||0:v=[i[m]]}while((m++<y||v[0]!==zo)&&s--);return!x[0]&&E!=1&&(x.shift(),w.e--,A--),E>A&&jf(w,A,n.RM,v[0]!==zo),w};gr.eq=function(r){return this.cmp(r)===0};gr.gt=function(r){return this.cmp(r)>0};gr.gte=function(r){return this.cmp(r)>-1};gr.lt=function(r){return this.cmp(r)<0};gr.lte=function(r){return this.cmp(r)<1};gr.minus=gr.sub=function(r){var e,n,i,a,s=this,o=s.constructor,c=s.s,l=(r=new o(r)).s;if(c!=l)return r.s=-l,s.plus(r);var u=s.c.slice(),d=s.e,f=r.c,p=r.e;if(!u[0]||!f[0])return f[0]?r.s=-l:u[0]?r=new o(s):r.s=1,r;if(c=d-p){for((a=c<0)?(c=-c,i=u):(p=d,i=f),i.reverse(),l=c;l--;)i.push(0);i.reverse()}else for(n=((a=u.length<f.length)?u:f).length,c=l=0;l<n;l++)if(u[l]!=f[l]){a=u[l]<f[l];break}if(a&&(i=u,u=f,f=i,r.s=-r.s),(l=(n=f.length)-(e=u.length))>0)for(;l--;)u[e++]=0;for(l=e;n>c;){if(u[--n]<f[n]){for(e=n;e&&!u[--e];)u[e]=9;--u[e],u[n]+=10}u[n]-=f[n]}for(;u[--l]===0;)u.pop();for(;u[0]===0;)u.shift(),--p;return u[0]||(r.s=1,u=[p=0]),r.c=u,r.e=p,r};gr.mod=function(r){var e,n=this,i=n.constructor,a=n.s,s=(r=new i(r)).s;if(!r.c[0])throw Error(NJ);return n.s=r.s=1,e=r.cmp(n)==1,n.s=a,r.s=s,e?new i(n):(a=i.DP,s=i.RM,i.DP=i.RM=0,n=n.div(r),i.DP=a,i.RM=s,this.minus(n.times(r)))};gr.neg=function(){var r=new this.constructor(this);return r.s=-r.s,r};gr.plus=gr.add=function(r){var e,n,i,a=this,s=a.constructor;if(r=new s(r),a.s!=r.s)return r.s=-r.s,a.minus(r);var o=a.e,c=a.c,l=r.e,u=r.c;if(!c[0]||!u[0])return u[0]||(c[0]?r=new s(a):r.s=a.s),r;if(c=c.slice(),e=o-l){for(e>0?(l=o,i=u):(e=-e,i=c),i.reverse();e--;)i.push(0);i.reverse()}for(c.length-u.length<0&&(i=u,u=c,c=i),e=u.length,n=0;e;c[e]%=10)n=(c[--e]=c[e]+u[e]+n)/10|0;for(n&&(c.unshift(n),++l),e=c.length;c[--e]===0;)c.pop();return r.c=c,r.e=l,r};gr.pow=function(r){var e=this,n=new e.constructor("1"),i=n,a=r<0;if(r!==~~r||r<-1e6||r>nve)throw Error($f+"exponent");for(a&&(r=-r);r&1&&(i=i.times(e)),r>>=1,!!r;)e=e.times(e);return a?n.div(i):i};gr.prec=function(r,e){if(r!==~~r||r<1||r>Og)throw Error($f+"precision");return jf(new this.constructor(this),r,e)};gr.round=function(r,e){if(r===zo)r=0;else if(r!==~~r||r<-1e6||r>Og)throw Error(xS);return jf(new this.constructor(this),r+this.e+1,e)};gr.sqrt=function(){var r,e,n,i=this,a=i.constructor,s=i.s,o=i.e,c=new a("0.5");if(!i.c[0])return new a(i);if(s<0)throw Error(hb+"No square root");s=Math.sqrt(+Df(i,!0,!0)),s===0||s===1/0?(e=i.c.join(""),e.length+o&1||(e+="0"),s=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),r=new a((s==1/0?"5e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+o)):r=new a(s+""),o=r.e+(a.DP+=4);do n=r,r=c.times(n.plus(i.div(n)));while(n.c.slice(0,o).join("")!==r.c.slice(0,o).join(""));return jf(r,(a.DP-=4)+r.e+1,a.RM)};gr.times=gr.mul=function(r){var e,n=this,i=n.constructor,a=n.c,s=(r=new i(r)).c,o=a.length,c=s.length,l=n.e,u=r.e;if(r.s=n.s==r.s?1:-1,!a[0]||!s[0])return r.c=[r.e=0],r;for(r.e=l+u,o<c&&(e=a,a=s,s=e,u=o,o=c,c=u),e=new Array(u=o+c);u--;)e[u]=0;for(l=c;l--;){for(c=0,u=o+l;u>l;)c=e[u]+s[l]*a[u-l-1]+c,e[u--]=c%10,c=c/10|0;e[u]=c}for(c?++r.e:e.shift(),l=e.length;!e[--l];)e.pop();return r.c=e,r};gr.toExponential=function(r,e){var n=this,i=n.c[0];if(r!==zo){if(r!==~~r||r<0||r>Og)throw Error(xS);for(n=jf(new n.constructor(n),++r,e);n.c.length<r;)n.c.push(0)}return Df(n,!0,!!i)};gr.toFixed=function(r,e){var n=this,i=n.c[0];if(r!==zo){if(r!==~~r||r<0||r>Og)throw Error(xS);for(n=jf(new n.constructor(n),r+n.e+1,e),r=r+n.e+1;n.c.length<r;)n.c.push(0)}return Df(n,!1,!!i)};gr[Symbol.for("nodejs.util.inspect.custom")]=gr.toJSON=gr.toString=function(){var r=this,e=r.constructor;return Df(r,r.e<=e.NE||r.e>=e.PE,!!r.c[0])};gr.toNumber=function(){var r=+Df(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(r.toString()))throw Error(hb+"Imprecise conversion");return r};gr.toPrecision=function(r,e){var n=this,i=n.constructor,a=n.c[0];if(r!==zo){if(r!==~~r||r<1||r>Og)throw Error($f+"precision");for(n=jf(new i(n),r,e);n.c.length<r;)n.c.push(0)}return Df(n,r<=n.e||n.e<=i.NE||n.e>=i.PE,!!a)};gr.valueOf=function(){var r=this,e=r.constructor;if(e.strict===!0)throw Error(hb+"valueOf disallowed");return Df(r,r.e<=e.NE||r.e>=e.PE,!0)};var Um=IJ();const uve={bigNumber(r){return r?new Um(r):new Um(0)},multiply(r,e){if(r===void 0||e===void 0)return new Um(0);const n=new Um(r),i=new Um(e);return n.times(i)},formatNumberToLocalString(r,e=2){return r===void 0?"0.00":typeof r=="number"?r.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(r).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(r){return r===void 0?0:parseFloat(r.replace(/,/gu,""))}},dve=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],fve=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],hve=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}];var C8={};const Ne={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof C8<"u"?C8.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org"},pve={getERC20Abi:r=>Ne.USDT_CONTRACT_ADDRESSES.includes(r)?hve:dve,getSwapAbi:()=>fve},Hl={validateCaipAddress(r){var e;if(((e=r.split(":"))==null?void 0:e.length)!==3)throw new Error("Invalid CAIP Address");return r},parseCaipAddress(r){const e=r.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${r}`);const[n,i,a]=e;if(!n||!i||!a)throw new Error(`Invalid CAIP-10 address: ${r}`);return{chainNamespace:n,chainId:i,address:a}},parseCaipNetworkId(r){const e=r.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${r}`);const[n,i]=e;if(!n||!i)throw new Error(`Invalid CAIP-2 network id: ${r}`);return{chainNamespace:n,chainId:i}}},At={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections"};function nT(r){if(!r)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${r}:connected_connector_id`}const Et={setItem(r,e){Sy()&&e!==void 0&&localStorage.setItem(r,e)},getItem(r){if(Sy())return localStorage.getItem(r)||void 0},removeItem(r){Sy()&&localStorage.removeItem(r)},clear(){Sy()&&localStorage.clear()}};function Sy(){return typeof window<"u"&&typeof localStorage<"u"}function zc(r,e){return e==="light"?{"--w3m-accent":(r==null?void 0:r["--w3m-accent"])||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":(r==null?void 0:r["--w3m-accent"])||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}var A8={};const iT=(typeof process<"u"&&typeof A8<"u"?A8.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",Fct=[{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]},{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],qct="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",_n={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,ONE_SEC_MS:1e3,SECURE_SITE:iT,SECURE_SITE_DASHBOARD:`${iT}/dashboard`,SECURE_SITE_FAVICON:`${iT}/images/favicon.png`,WC_COINBASE_PAY_SDK_CHAINS:["ethereum","arbitrum","polygon","berachain","avalanche-c-chain","optimism","celo","base"],WC_COINBASE_PAY_SDK_FALLBACK_CHAIN:"ethereum",WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP:{Ethereum:"ethereum","Arbitrum One":"arbitrum",Polygon:"polygon",Berachain:"berachain",Avalanche:"avalanche-c-chain","OP Mainnet":"optimism",Celo:"celo",Base:"base"},SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],BALANCE_SUPPORTED_CHAINS:["eip155","solana"],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:["eip155","solana"],ACTIVITY_ENABLED_CHAIN_NAMESPACES:["eip155"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:["eip155","solana"],DEFAULT_FEATURES:{swaps:!0,onramp:!0,receive:!0,send:!0,email:!0,emailShowWallets:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],history:!0,analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal"}},Be={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(r,e){return Date.now()-r>e},getActiveNetworkProps(){const r=Be.getActiveNamespace(),e=Be.getActiveCaipNetworkId(),n=e?e.split(":")[1]:void 0,i=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:r,caipNetworkId:e,chainId:i}},setWalletConnectDeepLink({name:r,href:e}){try{Et.setItem(At.DEEPLINK_CHOICE,JSON.stringify({href:e,name:r}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const r=Et.getItem(At.DEEPLINK_CHOICE);if(r)return JSON.parse(r)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{Et.removeItem(At.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(r){try{Et.setItem(At.ACTIVE_NAMESPACE,r)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(r){try{Et.setItem(At.ACTIVE_CAIP_NETWORK_ID,r),Be.setActiveNamespace(r.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return Et.getItem(At.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{Et.removeItem(At.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(r){try{const e=nT(r);Et.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(r){try{const e=Be.getRecentWallets();e.find(i=>i.id===r.id)||(e.unshift(r),e.length>2&&e.pop(),Et.setItem(At.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const r=Et.getItem(At.RECENT_WALLETS);return r?JSON.parse(r):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(r,e){try{const n=nT(r);Et.setItem(n,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return Et.getItem(At.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(r){if(r)try{const e=nT(r);return Et.getItem(e)}catch{console.info("Unable to get connected connector id in namespace ",r)}},setConnectedSocialProvider(r){try{Et.setItem(At.CONNECTED_SOCIAL,r)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return Et.getItem(At.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{Et.removeItem(At.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return Et.getItem(At.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var n;const r=Et.getItem(At.ACTIVE_CAIP_NETWORK_ID);return(n=r==null?void 0:r.split(":"))==null?void 0:n[1]},setConnectionStatus(r){try{Et.setItem(At.CONNECTION_STATUS,r)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return Et.getItem(At.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const r=Et.getItem(At.CONNECTED_NAMESPACES);return r!=null&&r.length?r.split(","):[]}catch{return[]}},setConnectedNamespaces(r){try{const e=Array.from(new Set(r));Et.setItem(At.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(r){try{const e=Be.getConnectedNamespaces();e.includes(r)||(e.push(r),Be.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(r){try{const e=Be.getConnectedNamespaces(),n=e.indexOf(r);n>-1&&(e.splice(n,1),Be.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return Et.getItem(At.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(r){try{Et.setItem(At.TELEGRAM_SOCIAL_PROVIDER,r)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{Et.removeItem(At.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let r={};try{const e=Et.getItem(At.PORTFOLIO_CACHE);r=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return r},removeAddressFromBalanceCache(r){try{const e=Be.getBalanceCache();Et.setItem(At.PORTFOLIO_CACHE,JSON.stringify({...e,[r]:void 0}))}catch{console.info("Unable to remove address from balance cache",r)}},getBalanceCacheForCaipAddress(r){try{const n=Be.getBalanceCache()[r];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;Be.removeAddressFromBalanceCache(r)}catch{console.info("Unable to get balance cache for address",r)}},updateBalanceCache(r){try{const e=Be.getBalanceCache();e[r.caipAddress]=r,Et.setItem(At.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",r)}},getNativeBalanceCache(){let r={};try{const e=Et.getItem(At.NATIVE_BALANCE_CACHE);r=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return r},removeAddressFromNativeBalanceCache(r){try{const e=Be.getBalanceCache();Et.setItem(At.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[r]:void 0}))}catch{console.info("Unable to remove address from balance cache",r)}},getNativeBalanceCacheForCaipAddress(r){try{const n=Be.getNativeBalanceCache()[r];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",r),Be.removeAddressFromBalanceCache(r)}catch{console.info("Unable to get balance cache for address",r)}},updateNativeBalanceCache(r){try{const e=Be.getNativeBalanceCache();e[r.caipAddress]=r,Et.setItem(At.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",r)}},getEnsCache(){let r={};try{const e=Et.getItem(At.ENS_CACHE);r=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return r},getEnsFromCacheForAddress(r){try{const n=Be.getEnsCache()[r];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;Be.removeEnsFromCache(r)}catch{console.info("Unable to get ens name from cache",r)}},updateEnsCache(r){try{const e=Be.getEnsCache();e[r.address]=r,Et.setItem(At.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",r)}},removeEnsFromCache(r){try{const e=Be.getEnsCache();Et.setItem(At.ENS_CACHE,JSON.stringify({...e,[r]:void 0}))}catch{console.info("Unable to remove ens name from cache",r)}},getIdentityCache(){let r={};try{const e=Et.getItem(At.IDENTITY_CACHE);r=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return r},getIdentityFromCacheForAddress(r){try{const n=Be.getIdentityCache()[r];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;Be.removeIdentityFromCache(r)}catch{console.info("Unable to get identity from cache",r)}},updateIdentityCache(r){try{const e=Be.getIdentityCache();e[r.address]={identity:r.identity,timestamp:r.timestamp},Et.setItem(At.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",r)}},removeIdentityFromCache(r){try{const e=Be.getIdentityCache();Et.setItem(At.IDENTITY_CACHE,JSON.stringify({...e,[r]:void 0}))}catch{console.info("Unable to remove identity from cache",r)}},clearAddressCache(){try{Et.removeItem(At.PORTFOLIO_CACHE),Et.removeItem(At.NATIVE_BALANCE_CACHE),Et.removeItem(At.ENS_CACHE),Et.removeItem(At.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(r){try{Et.setItem(At.PREFERRED_ACCOUNT_TYPES,JSON.stringify(r))}catch{console.info("Unable to set preferred account types",r)}},getPreferredAccountTypes(){try{const r=Et.getItem(At.PREFERRED_ACCOUNT_TYPES);return r?JSON.parse(r):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(r,e){try{const n={...Be.getConnections(),[e]:r};Et.setItem(At.CONNECTIONS,JSON.stringify(n))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{const r=Et.getItem(At.CONNECTIONS);return r?JSON.parse(r):{}}catch(r){return console.error("Unable to get connections from storage",r),{}}}},ft={isMobile(){var r;return this.isClient()?!!((r=window==null?void 0:window.matchMedia("(pointer:coarse)"))!=null&&r.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(r,e=""){return r==null?void 0:r.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const r=window==null?void 0:window.navigator.userAgent.toLowerCase();return ft.isMobile()&&r.includes("android")},isIos(){if(!this.isMobile())return!1;const r=window==null?void 0:window.navigator.userAgent.toLowerCase();return r.includes("iphone")||r.includes("ipad")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(r){return r?r-Date.now()<=_n.TEN_SEC_MS:!0},isAllowedRetry(r,e=_n.ONE_SEC_MS){return Date.now()-r>=e},copyToClopboard(r){navigator.clipboard.writeText(r)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch{return!1}},getPairingExpiry(){return Date.now()+_n.FOUR_MINUTES_MS},getNetworkId(r){return r==null?void 0:r.split(":")[1]},getPlainAddress(r){return r==null?void 0:r.split(":")[2]},async wait(r){return new Promise(e=>{setTimeout(e,r)})},debounce(r,e=500){let n;return(...i)=>{function a(){r(...i)}n&&clearTimeout(n),n=setTimeout(a,e)}},isHttpUrl(r){return r.startsWith("http://")||r.startsWith("https://")},formatNativeUrl(r,e,n=null){if(ft.isHttpUrl(r))return this.formatUniversalUrl(r,e);let i=r,a=n;i.includes("://")||(i=r.replaceAll("/","").replaceAll(":",""),i=`${i}://`),i.endsWith("/")||(i=`${i}/`),a&&!(a!=null&&a.endsWith("/"))&&(a=`${a}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const s=encodeURIComponent(e);return{redirect:`${i}wc?uri=${s}`,redirectUniversalLink:a?`${a}wc?uri=${s}`:void 0,href:i}},formatUniversalUrl(r,e){if(!ft.isHttpUrl(r))return this.formatNativeUrl(r,e);let n=r;n.endsWith("/")||(n=`${n}/`);const i=encodeURIComponent(e);return{redirect:`${n}wc?uri=${i}`,href:n}},getOpenTargetForPlatform(r){return r==="popupWindow"?r:this.isTelegram()?Be.getTelegramSocialProvider()?"_top":"_blank":r},openHref(r,e,n){window==null||window.open(r,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},returnOpenHref(r,e,n){return window==null?void 0:window.open(r,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){var n,i,a;if(typeof window>"u")return!1;const r=(i=(n=window.matchMedia)==null?void 0:n.call(window,"(display-mode: standalone)"))==null?void 0:i.matches,e=(a=window==null?void 0:window.navigator)==null?void 0:a.standalone;return!!(r||e)},async preloadImage(r){const e=new Promise((n,i)=>{const a=new Image;a.onload=n,a.onerror=i,a.crossOrigin="anonymous",a.src=r});return Promise.race([e,ft.wait(2e3)])},formatBalance(r,e){let n="0.000";if(typeof r=="string"){const i=Number(r);if(i){const a=Math.floor(i*1e3)/1e3;a&&(n=a.toString())}}return`${n}${e?` ${e}`:""}`},formatBalance2(r,e){var i;let n;if(r==="0")n="0";else if(typeof r=="string"){const a=Number(r);a&&(n=(i=a.toString().match(/^-?\d+(?:\.\d{0,3})?/u))==null?void 0:i[0])}return{value:n??"0",rest:n==="0"?"000":"",symbol:e}},getApiUrl(){return Ne.W3M_API_URL},getBlockchainApiUrl(){return Ne.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return Ne.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,r=>{const e=Math.random()*16|0;return(r==="x"?e:e&3|8).toString(16)})},parseError(r){var e,n;return typeof r=="string"?r:typeof((n=(e=r==null?void 0:r.issues)==null?void 0:e[0])==null?void 0:n.message)=="string"?r.issues[0].message:r instanceof Error?r.message:"Unknown error"},sortRequestedNetworks(r,e=[]){const n={};return e&&r&&(r.forEach((i,a)=>{n[i]=a}),e.sort((i,a)=>{const s=n[i.id],o=n[a.id];return s!==void 0&&o!==void 0?s-o:s!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(r){let e=0;for(const n of r)e+=n.value??0;return e},formatTokenBalance(r){const e=r.toFixed(2),[n,i]=e.split(".");return{dollars:n,pennies:i}},isAddress(r,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(r)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(r)||/^(?:0x)?[0-9A-F]{40}$/iu.test(r))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(r);default:return!1}},uniqueBy(r,e){const n=new Set;return r.filter(i=>{const a=i[e];return n.has(a)?!1:(n.add(a),!0)})},generateSdkVersion(r,e,n){const a=r.length===0?_n.ADAPTER_TYPES.UNIVERSAL:r.map(s=>s.adapterType).join(",");return`${e}-${a}-${n}`},createAccount(r,e,n,i,a){return{namespace:r,address:e,type:n,publicKey:i,path:a}},isCaipAddress(r){if(typeof r!="string")return!1;const e=r.split(":"),n=e[0];return e.filter(Boolean).length===3&&n in Ne.CHAIN_NAME_MAP},isMac(){const r=window==null?void 0:window.navigator.userAgent.toLowerCase();return r.includes("macintosh")&&!r.includes("safari")},formatTelegramSocialLoginUrl(r){const e=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,n="state=";if(new URL(r).host==="auth.magic.link"){const a="provider_authorization_url=",s=r.substring(r.indexOf(a)+a.length),o=this.injectIntoUrl(decodeURIComponent(s),n,e);return r.replace(s,encodeURIComponent(o))}return this.injectIntoUrl(r,n,e)},injectIntoUrl(r,e,n){const i=r.indexOf(e);if(i===-1)throw new Error(`${e} parameter not found in the URL: ${r}`);const a=r.indexOf("&",i),s=e.length,o=a!==-1?a:r.length,c=r.substring(0,i+s),l=r.substring(i+s,o),u=r.substring(a),d=l+n;return c+d+u}};async function Bm(...r){const e=await fetch(...r);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class pb{constructor({baseUrl:e,clientId:n}){this.baseUrl=e,this.clientId=n}async get({headers:e,signal:n,cache:i,...a}){const s=this.createUrl(a);return(await Bm(s,{method:"GET",headers:e,signal:n,cache:i})).json()}async getBlob({headers:e,signal:n,...i}){const a=this.createUrl(i);return(await Bm(a,{method:"GET",headers:e,signal:n})).blob()}async post({body:e,headers:n,signal:i,...a}){const s=this.createUrl(a);return(await Bm(s,{method:"POST",headers:n,body:e?JSON.stringify(e):void 0,signal:i})).json()}async put({body:e,headers:n,signal:i,...a}){const s=this.createUrl(a);return(await Bm(s,{method:"PUT",headers:n,body:e?JSON.stringify(e):void 0,signal:i})).json()}async delete({body:e,headers:n,signal:i,...a}){const s=this.createUrl(a);return(await Bm(s,{method:"DELETE",headers:n,body:e?JSON.stringify(e):void 0,signal:i})).json()}createUrl({path:e,params:n}){const i=new URL(e,this.baseUrl);return n&&Object.entries(n).forEach(([a,s])=>{s&&i.searchParams.append(a,s)}),this.clientId&&i.searchParams.append("clientId",this.clientId),i}}const gve={getFeatureValue(r,e){const n=e==null?void 0:e[r];return n===void 0?_n.DEFAULT_FEATURES[r]:n},filterSocialsByPlatform(r){if(!r||!r.length)return r;if(ft.isTelegram()){if(ft.isIos())return r.filter(e=>e!=="google");if(ft.isMac())return r.filter(e=>e!=="x");if(ft.isAndroid())return r.filter(e=>!["facebook","x"].includes(e))}return r}},pt=Ur({features:_n.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:_n.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1}),Se={state:pt,subscribeKey(r,e){return Ti(pt,r,e)},setOptions(r){Object.assign(pt,r)},setFeatures(r){if(!r)return;pt.features||(pt.features=_n.DEFAULT_FEATURES);const e={...pt.features,...r};pt.features=e,pt.features.socials&&(pt.features.socials=gve.filterSocialsByPlatform(pt.features.socials))},setProjectId(r){pt.projectId=r},setCustomRpcUrls(r){pt.customRpcUrls=r},setAllWallets(r){pt.allWallets=r},setIncludeWalletIds(r){pt.includeWalletIds=r},setExcludeWalletIds(r){pt.excludeWalletIds=r},setFeaturedWalletIds(r){pt.featuredWalletIds=r},setTokens(r){pt.tokens=r},setTermsConditionsUrl(r){pt.termsConditionsUrl=r},setPrivacyPolicyUrl(r){pt.privacyPolicyUrl=r},setCustomWallets(r){pt.customWallets=r},setIsSiweEnabled(r){pt.isSiweEnabled=r},setIsUniversalProvider(r){pt.isUniversalProvider=r},setSdkVersion(r){pt.sdkVersion=r},setMetadata(r){pt.metadata=r},setDisableAppend(r){pt.disableAppend=r},setEIP6963Enabled(r){pt.enableEIP6963=r},setDebug(r){pt.debug=r},setEnableWalletConnect(r){pt.enableWalletConnect=r},setEnableWalletGuide(r){pt.enableWalletGuide=r},setEnableAuthLogger(r){pt.enableAuthLogger=r},setEnableWallets(r){pt.enableWallets=r},setPreferUniversalLinks(r){pt.experimental_preferUniversalLinks=r},setHasMultipleAddresses(r){pt.hasMultipleAddresses=r},setSIWX(r){pt.siwx=r},setConnectMethodsOrder(r){pt.features={...pt.features,connectMethodsOrder:r}},setWalletFeaturesOrder(r){pt.features={...pt.features,walletFeaturesOrder:r}},setSocialsOrder(r){pt.features={...pt.features,socials:r}},setCollapseWallets(r){pt.features={...pt.features,collapseWallets:r}},setEnableEmbedded(r){pt.enableEmbedded=r},setAllowUnsupportedChain(r){pt.allowUnsupportedChain=r},setManualWCControl(r){pt.manualWCControl=r},setEnableNetworkSwitch(r){pt.enableNetworkSwitch=r},setDefaultAccountTypes(r={}){Object.entries(r).forEach(([e,n])=>{n&&(pt.defaultAccountTypes[e]=n)})},setUniversalProviderConfigOverride(r){pt.universalProviderConfigOverride=r},getUniversalProviderConfigOverride(){return pt.universalProviderConfigOverride},getSnapshot(){return Fv(pt)}},mve=Object.freeze({enabled:!0,events:[]}),yve=new pb({baseUrl:ft.getAnalyticsUrl(),clientId:null}),vve=5,bve=60*1e3,Wl=Ur({...mve}),wve={state:Wl,subscribeKey(r,e){return Ti(Wl,r,e)},async sendError(r,e){if(!Wl.enabled)return;const n=Date.now();if(Wl.events.filter(s=>{const o=new Date(s.properties.timestamp||"").getTime();return n-o<bve}).length>=vve)return;const a={type:"error",event:e,properties:{errorType:r.name,errorMessage:r.message,stackTrace:r.stack,timestamp:new Date().toISOString()}};Wl.events.push(a);try{if(typeof window>"u")return;const{projectId:s,sdkType:o,sdkVersion:c}=Se.state;await yve.post({path:"/e",params:{projectId:s,st:o,sv:c||"html-wagmi-4.2.2"},body:{eventId:ft.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:e,errorType:r.name,errorMessage:r.message,stackTrace:r.stack}}})}catch(s){console.error("Error sending telemetry event:",s)}},enable(){Wl.enabled=!0},disable(){Wl.enabled=!1},clearEvents(){Wl.events=[]}};class zv extends Error{constructor(e,n,i){super(e),this.name="AppKitError",this.category=n,this.originalError=i,Error.captureStackTrace&&Error.captureStackTrace(this,zv)}}function T8(r,e){const n=r instanceof zv?r:new zv(r instanceof Error?r.message:String(r),e,r);throw wve.sendError(n,n.category),n}function Es(r,e="INTERNAL_SDK_ERROR"){const n={};return Object.keys(r).forEach(i=>{const a=r[i];if(typeof a=="function"){let s=a;a.constructor.name==="AsyncFunction"?s=async(...o)=>{try{return await a(...o)}catch(c){return T8(c,e)}}:s=(...o)=>{try{return a(...o)}catch(c){return T8(c,e)}},n[i]=s}else n[i]=a}),n}const _ve={handleMobileDeeplinkRedirect(r){const e=window.location.href,n=encodeURIComponent(e);if(r==="Phantom"&&!("phantom"in window)){const i=e.startsWith("https")?"https":"http",a=e.split("/")[2],s=encodeURIComponent(`${i}://${a}`);window.location.href=`https://phantom.app/ul/browse/${n}?ref=${s}`}Z.state.activeChain===Ne.CHAIN.SOLANA&&r==="Coinbase Wallet"&&!("coinbaseSolana"in window)&&(window.location.href=`https://go.cb-w.com/dapp?cb_url=${n}`)}},Sa=Ur({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),xve={state:Sa,subscribeNetworkImages(r){return Fi(Sa.networkImages,()=>r(Sa.networkImages))},subscribeKey(r,e){return Ti(Sa,r,e)},subscribe(r){return Fi(Sa,()=>r(Sa))},setWalletImage(r,e){Sa.walletImages[r]=e},setNetworkImage(r,e){Sa.networkImages[r]=e},setChainImage(r,e){Sa.chainImages[r]=e},setConnectorImage(r,e){Sa.connectorImages={...Sa.connectorImages,[r]:e}},setTokenImage(r,e){Sa.tokenImages[r]=e},setCurrencyImage(r,e){Sa.currencyImages[r]=e}},Ys=Es(xve),Eve={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:""},aT=Ur({networkImagePromises:{}}),RJ={async fetchWalletImage(r){if(r)return await mt._fetchWalletImage(r),this.getWalletImageById(r)},async fetchNetworkImage(r){if(!r)return;const e=this.getNetworkImageById(r);return e||(aT.networkImagePromises[r]||(aT.networkImagePromises[r]=mt._fetchNetworkImage(r)),await aT.networkImagePromises[r],this.getNetworkImageById(r))},getWalletImageById(r){if(r)return Ys.state.walletImages[r]},getWalletImage(r){if(r!=null&&r.image_url)return r==null?void 0:r.image_url;if(r!=null&&r.image_id)return Ys.state.walletImages[r.image_id]},getNetworkImage(r){var e,n,i;if((e=r==null?void 0:r.assets)!=null&&e.imageUrl)return(n=r==null?void 0:r.assets)==null?void 0:n.imageUrl;if((i=r==null?void 0:r.assets)!=null&&i.imageId)return Ys.state.networkImages[r.assets.imageId]},getNetworkImageById(r){if(r)return Ys.state.networkImages[r]},getConnectorImage(r){if(r!=null&&r.imageUrl)return r.imageUrl;if(r!=null&&r.imageId)return Ys.state.connectorImages[r.imageId]},getChainImage(r){return Ys.state.networkImages[Eve[r]]}},Vl=Ur({message:"",variant:"info",open:!1}),Sve={state:Vl,subscribeKey(r,e){return Ti(Vl,r,e)},open(r,e){const{debug:n}=Se.state,{shortMessage:i,longMessage:a}=r;n&&(Vl.message=i,Vl.variant=e,Vl.open=!0),a&&console.error(typeof a=="function"?a():a)},close(){Vl.open=!1,Vl.message="",Vl.variant="info"}},Di=Es(Sve),Cve=ft.getAnalyticsUrl(),Ave=new pb({baseUrl:Cve,clientId:null}),Tve=["MODAL_CREATED"],bc=Ur({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),Lr={state:bc,subscribe(r){return Fi(bc,()=>r(bc))},getSdkProperties(){const{projectId:r,sdkType:e,sdkVersion:n}=Se.state;return{projectId:r,st:e,sv:n||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(r){try{const e=Je.state.address;if(Tve.includes(r.data.event)||typeof window>"u")return;await Ave.post({path:"/e",params:Lr.getSdkProperties(),body:{eventId:ft.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:r.timestamp,props:{...r.data,address:e}}}),bc.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===Ne.HTTP_STATUS_CODES.FORBIDDEN&&!bc.reportedErrors.FORBIDDEN&&(Di.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${Sy()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),bc.reportedErrors.FORBIDDEN=!0)}},sendEvent(r){var e;bc.timestamp=Date.now(),bc.data=r,(e=Se.state.features)!=null&&e.analytics&&Lr._sendAnalyticsEvent(bc)}},sT={PHANTOM:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",COINBASE:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393"},kve=ft.getApiUrl(),Ca=new pb({baseUrl:kve,clientId:null}),Pve=40,k8=4,Ove=20,Tt=Ur({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),mt={state:Tt,subscribeKey(r,e){return Ti(Tt,r,e)},_getSdkProperties(){const{projectId:r,sdkType:e,sdkVersion:n}=Se.state;return{projectId:r,st:e||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(r){return Se.state.isUniversalProvider?r.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):r},async _fetchWalletImage(r){const e=`${Ca.baseUrl}/getWalletImage/${r}`,n=await Ca.getBlob({path:e,params:mt._getSdkProperties()});Ys.setWalletImage(r,URL.createObjectURL(n))},async _fetchNetworkImage(r){const e=`${Ca.baseUrl}/public/getAssetImage/${r}`,n=await Ca.getBlob({path:e,params:mt._getSdkProperties()});Ys.setNetworkImage(r,URL.createObjectURL(n))},async _fetchConnectorImage(r){const e=`${Ca.baseUrl}/public/getAssetImage/${r}`,n=await Ca.getBlob({path:e,params:mt._getSdkProperties()});Ys.setConnectorImage(r,URL.createObjectURL(n))},async _fetchCurrencyImage(r){const e=`${Ca.baseUrl}/public/getCurrencyImage/${r}`,n=await Ca.getBlob({path:e,params:mt._getSdkProperties()});Ys.setCurrencyImage(r,URL.createObjectURL(n))},async _fetchTokenImage(r){const e=`${Ca.baseUrl}/public/getTokenImage/${r}`,n=await Ca.getBlob({path:e,params:mt._getSdkProperties()});Ys.setTokenImage(r,URL.createObjectURL(n))},_filterWalletsByPlatform(r){return ft.isMobile()?r==null?void 0:r.filter(n=>n.mobile_link||n.id===sT.COINBASE||n.id===sT.PHANTOM&&Z.state.activeChain==="solana"):r},async fetchAllowedOrigins(){try{const{allowedOrigins:r}=await Ca.get({path:"/projects/v1/origins",params:mt._getSdkProperties()});return r}catch{return[]}},async fetchNetworkImages(){const r=Z.getAllRequestedCaipNetworks(),e=r==null?void 0:r.map(({assets:n})=>n==null?void 0:n.imageId).filter(Boolean).filter(n=>!RJ.getNetworkImageById(n));e&&await Promise.allSettled(e.map(n=>mt._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:r}=Ve.state,e=r.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(e.map(n=>mt._fetchConnectorImage(n)))},async fetchCurrencyImages(r=[]){await Promise.allSettled(r.map(e=>mt._fetchCurrencyImage(e)))},async fetchTokenImages(r=[]){await Promise.allSettled(r.map(e=>mt._fetchTokenImage(e)))},async fetchWallets(r){var s;const e=r.exclude??[];mt._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Object.values(sT));const i=await Ca.get({path:"/getWallets",params:{...mt._getSdkProperties(),...r,page:String(r.page),entries:String(r.entries),include:(s=r.include)==null?void 0:s.join(","),exclude:e.join(",")}});return{data:mt._filterWalletsByPlatform(i==null?void 0:i.data)||[],count:i==null?void 0:i.count}},async fetchFeaturedWallets(){const{featuredWalletIds:r}=Se.state;if(r!=null&&r.length){const e={...mt._getSdkProperties(),page:1,entries:(r==null?void 0:r.length)??k8,include:r},{data:n}=await mt.fetchWallets(e);n.sort((a,s)=>r.indexOf(a.id)-r.indexOf(s.id));const i=n.map(a=>a.image_id).filter(Boolean);await Promise.allSettled(i.map(a=>mt._fetchWalletImage(a))),Tt.featured=n,Tt.allFeatured=n}},async fetchRecommendedWallets(){try{Tt.isFetchingRecommendedWallets=!0;const{includeWalletIds:r,excludeWalletIds:e,featuredWalletIds:n}=Se.state,i=[...e??[],...n??[]].filter(Boolean),a=Z.getRequestedCaipNetworkIds().join(","),s={page:1,entries:k8,include:r,exclude:i,chains:a},{data:o,count:c}=await mt.fetchWallets(s),l=Be.getRecentWallets(),u=o.map(f=>f.image_id).filter(Boolean),d=l.map(f=>f.image_id).filter(Boolean);await Promise.allSettled([...u,...d].map(f=>mt._fetchWalletImage(f))),Tt.recommended=o,Tt.allRecommended=o,Tt.count=c??0}catch{}finally{Tt.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:r}){const{includeWalletIds:e,excludeWalletIds:n,featuredWalletIds:i}=Se.state,a=Z.getRequestedCaipNetworkIds().join(","),s=[...Tt.recommended.map(({id:d})=>d),...n??[],...i??[]].filter(Boolean),o={page:r,entries:Pve,include:e,exclude:s,chains:a},{data:c,count:l}=await mt.fetchWallets(o),u=c.slice(0,Ove).map(d=>d.image_id).filter(Boolean);await Promise.allSettled(u.map(d=>mt._fetchWalletImage(d))),Tt.wallets=ft.uniqueBy([...Tt.wallets,...mt._filterOutExtensions(c)],"id").filter(d=>{var f;return(f=d.chains)==null?void 0:f.some(p=>a.includes(p))}),Tt.count=l>Tt.count?l:Tt.count,Tt.page=r},async initializeExcludedWallets({ids:r}){const e={page:1,entries:r.length,include:r},{data:n}=await mt.fetchWallets(e);n&&n.forEach(i=>{Tt.excludedWallets.push({rdns:i.rdns,name:i.name})})},async searchWallet({search:r,badge:e}){const{includeWalletIds:n,excludeWalletIds:i}=Se.state,a=Z.getRequestedCaipNetworkIds().join(",");Tt.search=[];const s={page:1,entries:100,search:r==null?void 0:r.trim(),badge_type:e,include:n,exclude:i,chains:a},{data:o}=await mt.fetchWallets(s);Lr.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:r??""}});const c=o.map(l=>l.image_id).filter(Boolean);await Promise.allSettled([...c.map(l=>mt._fetchWalletImage(l)),ft.wait(300)]),Tt.search=mt._filterOutExtensions(o)},initPromise(r,e){const n=Tt.promises[r];return n||(Tt.promises[r]=e())},prefetch({fetchConnectorImages:r=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:i=!0}={}){const a=[r&&mt.initPromise("connectorImages",mt.fetchConnectorImages),e&&mt.initPromise("featuredWallets",mt.fetchFeaturedWallets),n&&mt.initPromise("recommendedWallets",mt.fetchRecommendedWallets),i&&mt.initPromise("networkImages",mt.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(a)},prefetchAnalyticsConfig(){var r;(r=Se.state.features)!=null&&r.analytics&&mt.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:r}=await Ca.get({path:"/getAnalyticsConfig",params:mt._getSdkProperties()});Se.setFeatures({analytics:r})}catch{Se.setFeatures({analytics:!1})}},filterByNamespaces(r){if(!(r!=null&&r.length)){Tt.featured=Tt.allFeatured,Tt.recommended=Tt.allRecommended;return}const e=Z.getRequestedCaipNetworkIds().join(",");Tt.featured=Tt.allFeatured.filter(n=>{var i;return(i=n.chains)==null?void 0:i.some(a=>e.includes(a))}),Tt.recommended=Tt.allRecommended.filter(n=>{var i;return(i=n.chains)==null?void 0:i.some(a=>e.includes(a))}),Tt.filteredWallets=Tt.wallets.filter(n=>{var i;return(i=n.chains)==null?void 0:i.some(a=>e.includes(a))})},clearFilterByNamespaces(){Tt.filteredWallets=[]},setFilterByNamespace(r){if(!r){Tt.featured=Tt.allFeatured,Tt.recommended=Tt.allRecommended;return}const e=Z.getRequestedCaipNetworkIds().join(",");Tt.featured=Tt.allFeatured.filter(n=>{var i;return(i=n.chains)==null?void 0:i.some(a=>e.includes(a))}),Tt.recommended=Tt.allRecommended.filter(n=>{var i;return(i=n.chains)==null?void 0:i.some(a=>e.includes(a))}),Tt.filteredWallets=Tt.wallets.filter(n=>{var i;return(i=n.chains)==null?void 0:i.some(a=>e.includes(a))})}},cr=Ur({view:"Connect",history:["Connect"],transactionStack:[]}),Nve={state:cr,subscribeKey(r,e){return Ti(cr,r,e)},pushTransactionStack(r){cr.transactionStack.push(r)},popTransactionStack(r){var n,i;const e=cr.transactionStack.pop();if(e)if(r)Kt.goBack(),(n=e==null?void 0:e.onCancel)==null||n.call(e);else{if(e.goBack)Kt.goBack();else if(e.replace){const s=cr.history.indexOf("ConnectingSiwe");s>0?Kt.goBackToIndex(s-1):(pn.close(!0),cr.history=[])}else e.view&&Kt.reset(e.view);(i=e==null?void 0:e.onSuccess)==null||i.call(e)}},push(r,e){r!==cr.view&&(cr.view=r,cr.history.push(r),cr.data=e)},reset(r,e){cr.view=r,cr.history=[r],cr.data=e},replace(r,e){cr.history.at(-1)===r||(cr.view=r,cr.history[cr.history.length-1]=r,cr.data=e)},goBack(){var e;const r=!Z.state.activeCaipAddress&&Kt.state.view==="ConnectingFarcaster";if(cr.history.length>1&&!cr.history.includes("UnsupportedChain")){cr.history.pop();const[n]=cr.history.slice(-1);n&&(cr.view=n)}else pn.close();(e=cr.data)!=null&&e.wallet&&(cr.data.wallet=void 0),setTimeout(()=>{var n,i,a;if(r){Je.setFarcasterUrl(void 0,Z.state.activeChain);const s=Ve.getAuthConnector();(n=s==null?void 0:s.provider)==null||n.reload();const o=Fv(Se.state);(a=(i=s==null?void 0:s.provider)==null?void 0:i.syncDappData)==null||a.call(i,{metadata:o.metadata,sdkVersion:o.sdkVersion,projectId:o.projectId,sdkType:o.sdkType})}},100)},goBackToIndex(r){if(cr.history.length>1){cr.history=cr.history.slice(0,r+1);const[e]=cr.history.slice(-1);e&&(cr.view=e)}}},Kt=Es(Nve),wc=Ur({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),wR={state:wc,subscribe(r){return Fi(wc,()=>r(wc))},setThemeMode(r){wc.themeMode=r;try{const e=Ve.getAuthConnector();if(e){const n=wR.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:r,themeVariables:n,w3mThemeVariables:zc(n,r)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(r){wc.themeVariables={...wc.themeVariables,...r};try{const e=Ve.getAuthConnector();if(e){const n=wR.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:n,w3mThemeVariables:zc(wc.themeVariables,wc.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return Fv(wc)}},sa=Es(wR),$J={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},er=Ur({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...$J},filterByNamespaceMap:{eip155:!0,solana:!0,polkadot:!0,bip122:!0,cosmos:!0}}),Ive={state:er,subscribe(r){return Fi(er,()=>{r(er)})},subscribeKey(r,e){return Ti(er,r,e)},initialize(r){r.forEach(e=>{const n=Be.getConnectedConnectorId(e);n&&Ve.setConnectorId(n,e)})},setActiveConnector(r){r&&(er.activeConnector=ff(r))},setConnectors(r){r.filter(a=>!er.allConnectors.some(s=>s.id===a.id&&Ve.getConnectorName(s.name)===Ve.getConnectorName(a.name)&&s.chain===a.chain)).forEach(a=>{a.type!=="MULTI_CHAIN"&&er.allConnectors.push(ff(a))});const n=Ve.getEnabledNamespaces(),i=Ve.getEnabledConnectors(n);er.connectors=Ve.mergeMultiChainConnectors(i)},filterByNamespaces(r){Object.keys(er.filterByNamespaceMap).forEach(e=>{er.filterByNamespaceMap[e]=!1}),r.forEach(e=>{er.filterByNamespaceMap[e]=!0}),Ve.updateConnectorsForEnabledNamespaces()},filterByNamespace(r,e){er.filterByNamespaceMap[r]=e,Ve.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const r=Ve.getEnabledNamespaces(),e=Ve.getEnabledConnectors(r),n=Ve.areAllNamespacesEnabled();er.connectors=Ve.mergeMultiChainConnectors(e),n?mt.clearFilterByNamespaces():mt.filterByNamespaces(r)},getEnabledNamespaces(){return Object.entries(er.filterByNamespaceMap).filter(([r,e])=>e).map(([r])=>r)},getEnabledConnectors(r){return er.allConnectors.filter(e=>r.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(er.filterByNamespaceMap).every(r=>r)},mergeMultiChainConnectors(r){const e=Ve.generateConnectorMapByName(r),n=[];return e.forEach(i=>{const a=i[0],s=(a==null?void 0:a.id)===Ne.CONNECTOR_ID.AUTH;i.length>1&&a?n.push({name:a.name,imageUrl:a.imageUrl,imageId:a.imageId,connectors:[...i],type:s?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(a==null?void 0:a.id)||""}):a&&n.push(a)}),n},generateConnectorMapByName(r){const e=new Map;return r.forEach(n=>{const{name:i}=n,a=Ve.getConnectorName(i);if(!a)return;const s=e.get(a)||[];s.find(c=>c.chain===n.chain)||s.push(n),e.set(a,s)}),e},getConnectorName(r){return r&&({"Trust Wallet":"Trust"}[r]||r)},getUniqueConnectorsByName(r){const e=[];return r.forEach(n=>{e.find(i=>i.chain===n.chain)||e.push(n)}),e},addConnector(r){var e,n,i;if(r.id===Ne.CONNECTOR_ID.AUTH){const a=r,s=Fv(Se.state),o=sa.getSnapshot().themeMode,c=sa.getSnapshot().themeVariables;(n=(e=a==null?void 0:a.provider)==null?void 0:e.syncDappData)==null||n.call(e,{metadata:s.metadata,sdkVersion:s.sdkVersion,projectId:s.projectId,sdkType:s.sdkType}),(i=a==null?void 0:a.provider)==null||i.syncTheme({themeMode:o,themeVariables:c,w3mThemeVariables:zc(c,o)}),Ve.setConnectors([r])}else Ve.setConnectors([r])},getAuthConnector(r){var i;const e=r||Z.state.activeChain,n=er.connectors.find(a=>a.id===Ne.CONNECTOR_ID.AUTH);if(n)return(i=n==null?void 0:n.connectors)!=null&&i.length?n.connectors.find(s=>s.chain===e):n},getAnnouncedConnectorRdns(){return er.connectors.filter(r=>r.type==="ANNOUNCED").map(r=>{var e;return(e=r.info)==null?void 0:e.rdns})},getConnectorById(r){return er.allConnectors.find(e=>e.id===r)},getConnector(r,e){return er.allConnectors.filter(i=>i.chain===Z.state.activeChain).find(i=>{var a;return i.explorerId===r||((a=i.info)==null?void 0:a.rdns)===e})},syncIfAuthConnector(r){var s,o;if(r.id!=="ID_AUTH")return;const e=r,n=Fv(Se.state),i=sa.getSnapshot().themeMode,a=sa.getSnapshot().themeVariables;(o=(s=e==null?void 0:e.provider)==null?void 0:s.syncDappData)==null||o.call(s,{metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),e.provider.syncTheme({themeMode:i,themeVariables:a,w3mThemeVariables:zc(a,i)})},getConnectorsByNamespace(r){const e=er.allConnectors.filter(n=>n.chain===r);return Ve.mergeMultiChainConnectors(e)},selectWalletConnector(r){const e=Ve.getConnector(r.id,r.rdns);_ve.handleMobileDeeplinkRedirect((e==null?void 0:e.name)||r.name||""),e?Kt.push("ConnectingExternal",{connector:e}):Kt.push("ConnectingWalletConnect",{wallet:r})},getConnectors(r){return r?Ve.getConnectorsByNamespace(r):Ve.mergeMultiChainConnectors(er.allConnectors)},setFilterByNamespace(r){er.filterByNamespace=r,er.connectors=Ve.getConnectors(r),mt.setFilterByNamespace(r)},setConnectorId(r,e){r&&(er.activeConnectorIds={...er.activeConnectorIds,[e]:r},Be.setConnectedConnectorId(e,r))},removeConnectorId(r){er.activeConnectorIds={...er.activeConnectorIds,[r]:void 0},Be.deleteConnectedConnectorId(r)},getConnectorId(r){if(r)return er.activeConnectorIds[r]},isConnected(r){return r?!!er.activeConnectorIds[r]:Object.values(er.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){er.activeConnectorIds={...$J}}},Ve=Es(Ive);function y1(r,e){return Ve.getConnectorId(r)===e}function Rve(r){const e=Array.from(Z.state.chains.keys());let n=[];return r?(n.push([r,Z.state.chains.get(r)]),y1(r,Ne.CONNECTOR_ID.WALLET_CONNECT)?e.forEach(i=>{i!==r&&y1(i,Ne.CONNECTOR_ID.WALLET_CONNECT)&&n.push([i,Z.state.chains.get(i)])}):y1(r,Ne.CONNECTOR_ID.AUTH)&&e.forEach(i=>{i!==r&&y1(i,Ne.CONNECTOR_ID.AUTH)&&n.push([i,Z.state.chains.get(i)])})):n=Array.from(Z.state.chains.entries()),n}var v1={exports:{}},P8;function $ve(){if(P8)return v1.exports;P8=1;var r=typeof Reflect=="object"?Reflect:null,e=r&&typeof r.apply=="function"?r.apply:function(S,C,P){return Function.prototype.apply.call(S,C,P)},n;r&&typeof r.ownKeys=="function"?n=r.ownKeys:Object.getOwnPropertySymbols?n=function(S){return Object.getOwnPropertyNames(S).concat(Object.getOwnPropertySymbols(S))}:n=function(S){return Object.getOwnPropertyNames(S)};function i(A){console&&console.warn&&console.warn(A)}var a=Number.isNaN||function(S){return S!==S};function s(){s.init.call(this)}v1.exports=s,v1.exports.once=w,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function c(A){if(typeof A!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof A)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(A){if(typeof A!="number"||A<0||a(A))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+A+".");o=A}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(S){if(typeof S!="number"||S<0||a(S))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+S+".");return this._maxListeners=S,this};function l(A){return A._maxListeners===void 0?s.defaultMaxListeners:A._maxListeners}s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(S){for(var C=[],P=1;P<arguments.length;P++)C.push(arguments[P]);var O=S==="error",I=this._events;if(I!==void 0)O=O&&I.error===void 0;else if(!O)return!1;if(O){var M;if(C.length>0&&(M=C[0]),M instanceof Error)throw M;var D=new Error("Unhandled error."+(M?" ("+M.message+")":""));throw D.context=M,D}var q=I[S];if(q===void 0)return!1;if(typeof q=="function")e(q,this,C);else for(var K=q.length,L=y(q,K),P=0;P<K;++P)e(L[P],this,C);return!0};function u(A,S,C,P){var O,I,M;if(c(C),I=A._events,I===void 0?(I=A._events=Object.create(null),A._eventsCount=0):(I.newListener!==void 0&&(A.emit("newListener",S,C.listener?C.listener:C),I=A._events),M=I[S]),M===void 0)M=I[S]=C,++A._eventsCount;else if(typeof M=="function"?M=I[S]=P?[C,M]:[M,C]:P?M.unshift(C):M.push(C),O=l(A),O>0&&M.length>O&&!M.warned){M.warned=!0;var D=new Error("Possible EventEmitter memory leak detected. "+M.length+" "+String(S)+" listeners added. Use emitter.setMaxListeners() to increase limit");D.name="MaxListenersExceededWarning",D.emitter=A,D.type=S,D.count=M.length,i(D)}return A}s.prototype.addListener=function(S,C){return u(this,S,C,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(S,C){return u(this,S,C,!0)};function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(A,S,C){var P={fired:!1,wrapFn:void 0,target:A,type:S,listener:C},O=d.bind(P);return O.listener=C,P.wrapFn=O,O}s.prototype.once=function(S,C){return c(C),this.on(S,f(this,S,C)),this},s.prototype.prependOnceListener=function(S,C){return c(C),this.prependListener(S,f(this,S,C)),this},s.prototype.removeListener=function(S,C){var P,O,I,M,D;if(c(C),O=this._events,O===void 0)return this;if(P=O[S],P===void 0)return this;if(P===C||P.listener===C)--this._eventsCount===0?this._events=Object.create(null):(delete O[S],O.removeListener&&this.emit("removeListener",S,P.listener||C));else if(typeof P!="function"){for(I=-1,M=P.length-1;M>=0;M--)if(P[M]===C||P[M].listener===C){D=P[M].listener,I=M;break}if(I<0)return this;I===0?P.shift():v(P,I),P.length===1&&(O[S]=P[0]),O.removeListener!==void 0&&this.emit("removeListener",S,D||C)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(S){var C,P,O;if(P=this._events,P===void 0)return this;if(P.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):P[S]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete P[S]),this;if(arguments.length===0){var I=Object.keys(P),M;for(O=0;O<I.length;++O)M=I[O],M!=="removeListener"&&this.removeAllListeners(M);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(C=P[S],typeof C=="function")this.removeListener(S,C);else if(C!==void 0)for(O=C.length-1;O>=0;O--)this.removeListener(S,C[O]);return this};function p(A,S,C){var P=A._events;if(P===void 0)return[];var O=P[S];return O===void 0?[]:typeof O=="function"?C?[O.listener||O]:[O]:C?b(O):y(O,O.length)}s.prototype.listeners=function(S){return p(this,S,!0)},s.prototype.rawListeners=function(S){return p(this,S,!1)},s.listenerCount=function(A,S){return typeof A.listenerCount=="function"?A.listenerCount(S):m.call(A,S)},s.prototype.listenerCount=m;function m(A){var S=this._events;if(S!==void 0){var C=S[A];if(typeof C=="function")return 1;if(C!==void 0)return C.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function y(A,S){for(var C=new Array(S),P=0;P<S;++P)C[P]=A[P];return C}function v(A,S){for(;S+1<A.length;S++)A[S]=A[S+1];A.pop()}function b(A){for(var S=new Array(A.length),C=0;C<S.length;++C)S[C]=A[C].listener||A[C];return S}function w(A,S){return new Promise(function(C,P){function O(M){A.removeListener(S,I),P(M)}function I(){typeof A.removeListener=="function"&&A.removeListener("error",O),C([].slice.call(arguments))}E(A,S,I,{once:!0}),S!=="error"&&x(A,O,{once:!0})})}function x(A,S,C){typeof A.on=="function"&&E(A,"error",S,C)}function E(A,S,C,P){if(typeof A.on=="function")P.once?A.once(S,C):A.on(S,C);else if(typeof A.addEventListener=="function")A.addEventListener(S,function O(I){P.once&&A.removeEventListener(S,O),C(I)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof A)}return v1.exports}var Ss=$ve();const ED=Jt(Ss);var oT={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _R=function(r,e){return _R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},_R(r,e)};function jve(r,e){_R(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var xR=function(){return xR=Object.assign||function(e){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xR.apply(this,arguments)};function Dve(r,e){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(r);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(r,i[a])&&(n[i[a]]=r[i[a]]);return n}function Mve(r,e,n,i){var a=arguments.length,s=a<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,n,i);else for(var c=r.length-1;c>=0;c--)(o=r[c])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s}function Lve(r,e){return function(n,i){e(n,i,r)}}function Uve(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function Bve(r,e,n,i){function a(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(d){try{u(i.next(d))}catch(f){o(f)}}function l(d){try{u(i.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(c,l)}u((i=i.apply(r,e||[])).next())})}function Fve(r,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,a,s,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(u){return function(d){return l([u,d])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,a&&(s=u[0]&2?a.return:u[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,u[1])).done)return s;switch(a=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,a=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(r,n)}catch(d){u=[6,d],a=0}finally{i=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function qve(r,e,n,i){i===void 0&&(i=n),r[i]=e[n]}function zve(r,e){for(var n in r)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=r[n])}function ER(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],i=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function jJ(r,e){var n=typeof Symbol=="function"&&r[Symbol.iterator];if(!n)return r;var i=n.call(r),a,s=[],o;try{for(;(e===void 0||e-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(c){o={error:c}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function Hve(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(jJ(arguments[e]));return r}function Wve(){for(var r=0,e=0,n=arguments.length;e<n;e++)r+=arguments[e].length;for(var i=Array(r),a=0,e=0;e<n;e++)for(var s=arguments[e],o=0,c=s.length;o<c;o++,a++)i[a]=s[o];return i}function Hv(r){return this instanceof Hv?(this.v=r,this):new Hv(r)}function Vve(r,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(r,e||[]),a,s=[];return a={},o("next"),o("throw"),o("return"),a[Symbol.asyncIterator]=function(){return this},a;function o(p){i[p]&&(a[p]=function(m){return new Promise(function(y,v){s.push([p,m,y,v])>1||c(p,m)})})}function c(p,m){try{l(i[p](m))}catch(y){f(s[0][3],y)}}function l(p){p.value instanceof Hv?Promise.resolve(p.value.v).then(u,d):f(s[0][2],p)}function u(p){c("next",p)}function d(p){c("throw",p)}function f(p,m){p(m),s.shift(),s.length&&c(s[0][0],s[0][1])}}function Gve(r){var e,n;return e={},i("next"),i("throw",function(a){throw a}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(a,s){e[a]=r[a]?function(o){return(n=!n)?{value:Hv(r[a](o)),done:a==="return"}:s?s(o):o}:s}}function Kve(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],n;return e?e.call(r):(r=typeof ER=="function"?ER(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=r[s]&&function(o){return new Promise(function(c,l){o=r[s](o),a(c,l,o.done,o.value)})}}function a(s,o,c,l){Promise.resolve(l).then(function(u){s({value:u,done:c})},o)}}function Yve(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function Xve(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var n in r)Object.hasOwnProperty.call(r,n)&&(e[n]=r[n]);return e.default=r,e}function Jve(r){return r&&r.__esModule?r:{default:r}}function Zve(r,e){if(!e.has(r))throw new TypeError("attempted to get private field on non-instance");return e.get(r)}function Qve(r,e,n){if(!e.has(r))throw new TypeError("attempted to set private field on non-instance");return e.set(r,n),n}const e0e=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return xR},__asyncDelegator:Gve,__asyncGenerator:Vve,__asyncValues:Kve,__await:Hv,__awaiter:Bve,__classPrivateFieldGet:Zve,__classPrivateFieldSet:Qve,__createBinding:qve,__decorate:Mve,__exportStar:zve,__extends:jve,__generator:Fve,__importDefault:Jve,__importStar:Xve,__makeTemplateObject:Yve,__metadata:Uve,__param:Lve,__read:jJ,__rest:Dve,__spread:Hve,__spreadArrays:Wve,__values:ER},Symbol.toStringTag,{value:"Module"})),ES=W3(e0e);var cT={},Fm={},O8;function t0e(){if(O8)return Fm;O8=1,Object.defineProperty(Fm,"__esModule",{value:!0}),Fm.delay=void 0;function r(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return Fm.delay=r,Fm}var dd={},lT={},fd={},N8;function r0e(){return N8||(N8=1,Object.defineProperty(fd,"__esModule",{value:!0}),fd.ONE_THOUSAND=fd.ONE_HUNDRED=void 0,fd.ONE_HUNDRED=100,fd.ONE_THOUSAND=1e3),fd}var uT={},I8;function n0e(){return I8||(I8=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.ONE_YEAR=r.FOUR_WEEKS=r.THREE_WEEKS=r.TWO_WEEKS=r.ONE_WEEK=r.THIRTY_DAYS=r.SEVEN_DAYS=r.FIVE_DAYS=r.THREE_DAYS=r.ONE_DAY=r.TWENTY_FOUR_HOURS=r.TWELVE_HOURS=r.SIX_HOURS=r.THREE_HOURS=r.ONE_HOUR=r.SIXTY_MINUTES=r.THIRTY_MINUTES=r.TEN_MINUTES=r.FIVE_MINUTES=r.ONE_MINUTE=r.SIXTY_SECONDS=r.THIRTY_SECONDS=r.TEN_SECONDS=r.FIVE_SECONDS=r.ONE_SECOND=void 0,r.ONE_SECOND=1,r.FIVE_SECONDS=5,r.TEN_SECONDS=10,r.THIRTY_SECONDS=30,r.SIXTY_SECONDS=60,r.ONE_MINUTE=r.SIXTY_SECONDS,r.FIVE_MINUTES=r.ONE_MINUTE*5,r.TEN_MINUTES=r.ONE_MINUTE*10,r.THIRTY_MINUTES=r.ONE_MINUTE*30,r.SIXTY_MINUTES=r.ONE_MINUTE*60,r.ONE_HOUR=r.SIXTY_MINUTES,r.THREE_HOURS=r.ONE_HOUR*3,r.SIX_HOURS=r.ONE_HOUR*6,r.TWELVE_HOURS=r.ONE_HOUR*12,r.TWENTY_FOUR_HOURS=r.ONE_HOUR*24,r.ONE_DAY=r.TWENTY_FOUR_HOURS,r.THREE_DAYS=r.ONE_DAY*3,r.FIVE_DAYS=r.ONE_DAY*5,r.SEVEN_DAYS=r.ONE_DAY*7,r.THIRTY_DAYS=r.ONE_DAY*30,r.ONE_WEEK=r.SEVEN_DAYS,r.TWO_WEEKS=r.ONE_WEEK*2,r.THREE_WEEKS=r.ONE_WEEK*3,r.FOUR_WEEKS=r.ONE_WEEK*4,r.ONE_YEAR=r.ONE_DAY*365}(uT)),uT}var R8;function DJ(){return R8||(R8=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=ES;e.__exportStar(r0e(),r),e.__exportStar(n0e(),r)}(lT)),lT}var $8;function i0e(){if($8)return dd;$8=1,Object.defineProperty(dd,"__esModule",{value:!0}),dd.fromMiliseconds=dd.toMiliseconds=void 0;const r=DJ();function e(i){return i*r.ONE_THOUSAND}dd.toMiliseconds=e;function n(i){return Math.floor(i/r.ONE_THOUSAND)}return dd.fromMiliseconds=n,dd}var j8;function a0e(){return j8||(j8=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=ES;e.__exportStar(t0e(),r),e.__exportStar(i0e(),r)}(cT)),cT}var yh={},D8;function s0e(){if(D8)return yh;D8=1,Object.defineProperty(yh,"__esModule",{value:!0}),yh.Watch=void 0;class r{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const i=this.get(n);if(typeof i.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const a=Date.now()-i.started;this.timestamps.set(n,{started:i.started,elapsed:a})}get(n){const i=this.timestamps.get(n);if(typeof i>"u")throw new Error(`No timestamp found for label: ${n}`);return i}elapsed(n){const i=this.get(n);return i.elapsed||Date.now()-i.started}}return yh.Watch=r,yh.default=r,yh}var dT={},qm={},M8;function o0e(){if(M8)return qm;M8=1,Object.defineProperty(qm,"__esModule",{value:!0}),qm.IWatch=void 0;class r{}return qm.IWatch=r,qm}var L8;function c0e(){return L8||(L8=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),ES.__exportStar(o0e(),r)}(dT)),dT}var U8;function l0e(){return U8||(U8=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=ES;e.__exportStar(a0e(),r),e.__exportStar(s0e(),r),e.__exportStar(c0e(),r),e.__exportStar(DJ(),r)}(oT)),oT}var $e=l0e();class Mf{}let u0e=class extends Mf{constructor(e){super()}};const B8=$e.FIVE_SECONDS,Ng={pulse:"heartbeat_pulse"};let d0e=class MJ extends u0e{constructor(e){super(e),this.events=new Ss.EventEmitter,this.interval=B8,this.interval=(e==null?void 0:e.interval)||B8}static async init(e){const n=new MJ(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),$e.toMiliseconds(this.interval))}pulse(){this.events.emit(Ng.pulse)}};const f0e=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,h0e=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,p0e=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function g0e(r,e){if(r==="__proto__"||r==="constructor"&&e&&typeof e=="object"&&"prototype"in e){m0e(r);return}return e}function m0e(r){console.warn(`[destr] Dropping "${r}" key to prevent prototype pollution.`)}function b1(r,e={}){if(typeof r!="string")return r;if(r[0]==='"'&&r[r.length-1]==='"'&&r.indexOf("\\")===-1)return r.slice(1,-1);const n=r.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!p0e.test(r)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return r}try{if(f0e.test(r)||h0e.test(r)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(r,g0e)}return JSON.parse(r)}catch(i){if(e.strict)throw i;return r}}function y0e(r){return!r||typeof r.then!="function"?Promise.resolve(r):r}function Fn(r,...e){try{return y0e(r(...e))}catch(n){return Promise.reject(n)}}function v0e(r){const e=typeof r;return r===null||e!=="object"&&e!=="function"}function b0e(r){const e=Object.getPrototypeOf(r);return!e||e.isPrototypeOf(Object)}function C_(r){if(v0e(r))return String(r);if(b0e(r)||Array.isArray(r))return JSON.stringify(r);if(typeof r.toJSON=="function")return C_(r.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const SR="base64:";function w0e(r){return typeof r=="string"?r:SR+E0e(r)}function _0e(r){return typeof r!="string"||!r.startsWith(SR)?r:x0e(r.slice(SR.length))}function x0e(r){return globalThis.Buffer?Buffer.from(r,"base64"):Uint8Array.from(globalThis.atob(r),e=>e.codePointAt(0))}function E0e(r){return globalThis.Buffer?Buffer.from(r).toString("base64"):globalThis.btoa(String.fromCodePoint(...r))}function na(r){var e;return r&&((e=r.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function S0e(...r){return na(r.join(":"))}function w1(r){return r=na(r),r?r+":":""}function C0e(r,e){if(e===void 0)return!0;let n=0,i=r.indexOf(":");for(;i>-1;)n++,i=r.indexOf(":",i+1);return n<=e}function A0e(r,e){return e?r.startsWith(e)&&r[r.length-1]!=="$":r[r.length-1]!=="$"}const T0e="memory",k0e=()=>{const r=new Map;return{name:T0e,getInstance:()=>r,hasItem(e){return r.has(e)},getItem(e){return r.get(e)??null},getItemRaw(e){return r.get(e)??null},setItem(e,n){r.set(e,n)},setItemRaw(e,n){r.set(e,n)},removeItem(e){r.delete(e)},getKeys(){return[...r.keys()]},clear(){r.clear()},dispose(){r.clear()}}};function P0e(r={}){const e={mounts:{"":r.driver||k0e()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=u=>{for(const d of e.mountpoints)if(u.startsWith(d))return{base:d,relativeKey:u.slice(d.length),driver:e.mounts[d]};return{base:"",relativeKey:u,driver:e.mounts[""]}},i=(u,d)=>e.mountpoints.filter(f=>f.startsWith(u)||d&&u.startsWith(f)).map(f=>({relativeBase:u.length>f.length?u.slice(f.length):void 0,mountpoint:f,driver:e.mounts[f]})),a=(u,d)=>{if(e.watching){d=na(d);for(const f of e.watchListeners)f(u,d)}},s=async()=>{if(!e.watching){e.watching=!0;for(const u in e.mounts)e.unwatch[u]=await F8(e.mounts[u],a,u)}},o=async()=>{if(e.watching){for(const u in e.unwatch)await e.unwatch[u]();e.unwatch={},e.watching=!1}},c=(u,d,f)=>{const p=new Map,m=y=>{let v=p.get(y.base);return v||(v={driver:y.driver,base:y.base,items:[]},p.set(y.base,v)),v};for(const y of u){const v=typeof y=="string",b=na(v?y:y.key),w=v?void 0:y.value,x=v||!y.options?d:{...d,...y.options},E=n(b);m(E).items.push({key:b,value:w,relativeKey:E.relativeKey,options:x})}return Promise.all([...p.values()].map(y=>f(y))).then(y=>y.flat())},l={hasItem(u,d={}){u=na(u);const{relativeKey:f,driver:p}=n(u);return Fn(p.hasItem,f,d)},getItem(u,d={}){u=na(u);const{relativeKey:f,driver:p}=n(u);return Fn(p.getItem,f,d).then(m=>b1(m))},getItems(u,d={}){return c(u,d,f=>f.driver.getItems?Fn(f.driver.getItems,f.items.map(p=>({key:p.relativeKey,options:p.options})),d).then(p=>p.map(m=>({key:S0e(f.base,m.key),value:b1(m.value)}))):Promise.all(f.items.map(p=>Fn(f.driver.getItem,p.relativeKey,p.options).then(m=>({key:p.key,value:b1(m)})))))},getItemRaw(u,d={}){u=na(u);const{relativeKey:f,driver:p}=n(u);return p.getItemRaw?Fn(p.getItemRaw,f,d):Fn(p.getItem,f,d).then(m=>_0e(m))},async setItem(u,d,f={}){if(d===void 0)return l.removeItem(u);u=na(u);const{relativeKey:p,driver:m}=n(u);m.setItem&&(await Fn(m.setItem,p,C_(d),f),m.watch||a("update",u))},async setItems(u,d){await c(u,d,async f=>{if(f.driver.setItems)return Fn(f.driver.setItems,f.items.map(p=>({key:p.relativeKey,value:C_(p.value),options:p.options})),d);f.driver.setItem&&await Promise.all(f.items.map(p=>Fn(f.driver.setItem,p.relativeKey,C_(p.value),p.options)))})},async setItemRaw(u,d,f={}){if(d===void 0)return l.removeItem(u,f);u=na(u);const{relativeKey:p,driver:m}=n(u);if(m.setItemRaw)await Fn(m.setItemRaw,p,d,f);else if(m.setItem)await Fn(m.setItem,p,w0e(d),f);else return;m.watch||a("update",u)},async removeItem(u,d={}){typeof d=="boolean"&&(d={removeMeta:d}),u=na(u);const{relativeKey:f,driver:p}=n(u);p.removeItem&&(await Fn(p.removeItem,f,d),(d.removeMeta||d.removeMata)&&await Fn(p.removeItem,f+"$",d),p.watch||a("remove",u))},async getMeta(u,d={}){typeof d=="boolean"&&(d={nativeOnly:d}),u=na(u);const{relativeKey:f,driver:p}=n(u),m=Object.create(null);if(p.getMeta&&Object.assign(m,await Fn(p.getMeta,f,d)),!d.nativeOnly){const y=await Fn(p.getItem,f+"$",d).then(v=>b1(v));y&&typeof y=="object"&&(typeof y.atime=="string"&&(y.atime=new Date(y.atime)),typeof y.mtime=="string"&&(y.mtime=new Date(y.mtime)),Object.assign(m,y))}return m},setMeta(u,d,f={}){return this.setItem(u+"$",d,f)},removeMeta(u,d={}){return this.removeItem(u+"$",d)},async getKeys(u,d={}){var b;u=w1(u);const f=i(u,!0);let p=[];const m=[];let y=!0;for(const w of f){(b=w.driver.flags)!=null&&b.maxDepth||(y=!1);const x=await Fn(w.driver.getKeys,w.relativeBase,d);for(const E of x){const A=w.mountpoint+na(E);p.some(S=>A.startsWith(S))||m.push(A)}p=[w.mountpoint,...p.filter(E=>!E.startsWith(w.mountpoint))]}const v=d.maxDepth!==void 0&&!y;return m.filter(w=>(!v||C0e(w,d.maxDepth))&&A0e(w,u))},async clear(u,d={}){u=w1(u),await Promise.all(i(u,!1).map(async f=>{if(f.driver.clear)return Fn(f.driver.clear,f.relativeBase,d);if(f.driver.removeItem){const p=await f.driver.getKeys(f.relativeBase||"",d);return Promise.all(p.map(m=>f.driver.removeItem(m,d)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(u=>q8(u)))},async watch(u){return await s(),e.watchListeners.push(u),async()=>{e.watchListeners=e.watchListeners.filter(d=>d!==u),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(u,d){if(u=w1(u),u&&e.mounts[u])throw new Error(`already mounted at ${u}`);return u&&(e.mountpoints.push(u),e.mountpoints.sort((f,p)=>p.length-f.length)),e.mounts[u]=d,e.watching&&Promise.resolve(F8(d,a,u)).then(f=>{e.unwatch[u]=f}).catch(console.error),l},async unmount(u,d=!0){var f,p;u=w1(u),!(!u||!e.mounts[u])&&(e.watching&&u in e.unwatch&&((p=(f=e.unwatch)[u])==null||p.call(f),delete e.unwatch[u]),d&&await q8(e.mounts[u]),e.mountpoints=e.mountpoints.filter(m=>m!==u),delete e.mounts[u])},getMount(u=""){u=na(u)+":";const d=n(u);return{driver:d.driver,base:d.base}},getMounts(u="",d={}){return u=na(u),i(u,d.parents).map(p=>({driver:p.driver,base:p.mountpoint}))},keys:(u,d={})=>l.getKeys(u,d),get:(u,d={})=>l.getItem(u,d),set:(u,d,f={})=>l.setItem(u,d,f),has:(u,d={})=>l.hasItem(u,d),del:(u,d={})=>l.removeItem(u,d),remove:(u,d={})=>l.removeItem(u,d)};return l}function F8(r,e,n){return r.watch?r.watch((i,a)=>e(i,n+a)):()=>{}}async function q8(r){typeof r.dispose=="function"&&await Fn(r.dispose)}function Lf(r){return new Promise((e,n)=>{r.oncomplete=r.onsuccess=()=>e(r.result),r.onabort=r.onerror=()=>n(r.error)})}function LJ(r,e){let n;const i=()=>{if(n)return n;const a=indexedDB.open(r);return a.onupgradeneeded=()=>a.result.createObjectStore(e),n=Lf(a),n.then(s=>{s.onclose=()=>n=void 0},()=>{}),n};return(a,s)=>i().then(o=>s(o.transaction(e,a).objectStore(e)))}let fT;function gb(){return fT||(fT=LJ("keyval-store","keyval")),fT}function z8(r,e=gb()){return e("readonly",n=>Lf(n.get(r)))}function O0e(r,e,n=gb()){return n("readwrite",i=>(i.put(e,r),Lf(i.transaction)))}function N0e(r,e=gb()){return e("readwrite",n=>(n.delete(r),Lf(n.transaction)))}function I0e(r=gb()){return r("readwrite",e=>(e.clear(),Lf(e.transaction)))}function R0e(r,e){return r.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Lf(r.transaction)}function $0e(r=gb()){return r("readonly",e=>{if(e.getAllKeys)return Lf(e.getAllKeys());const n=[];return R0e(e,i=>n.push(i.key)).then(()=>n)})}const j0e=r=>JSON.stringify(r,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),D0e=r=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=r.replace(e,'$1"$2n"$3');return JSON.parse(n,(i,a)=>typeof a=="string"&&a.match(/^\d+n$/)?BigInt(a.substring(0,a.length-1)):a)};function hf(r){if(typeof r!="string")throw new Error(`Cannot safe json parse value of type ${typeof r}`);try{return D0e(r)}catch{return r}}function sl(r){return typeof r=="string"?r:j0e(r)||""}const M0e="idb-keyval";var L0e=(r={})=>{const e=r.base&&r.base.length>0?`${r.base}:`:"",n=a=>e+a;let i;return r.dbName&&r.storeName&&(i=LJ(r.dbName,r.storeName)),{name:M0e,options:r,async hasItem(a){return!(typeof await z8(n(a),i)>"u")},async getItem(a){return await z8(n(a),i)??null},setItem(a,s){return O0e(n(a),s,i)},removeItem(a){return N0e(n(a),i)},getKeys(){return $0e(i)},clear(){return I0e(i)}}};const U0e="WALLET_CONNECT_V2_INDEXED_DB",B0e="keyvaluestorage";let F0e=class{constructor(){this.indexedDb=P0e({driver:L0e({dbName:U0e,storeName:B0e})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,sl(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var hT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},A_={exports:{}};(function(){let r;function e(){}r=e,r.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},r.prototype.setItem=function(n,i){this[n]=String(i)},r.prototype.removeItem=function(n){delete this[n]},r.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(i){n[i]=void 0,delete n[i]})},r.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},r.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof hT<"u"&&hT.localStorage?A_.exports=hT.localStorage:typeof window<"u"&&window.localStorage?A_.exports=window.localStorage:A_.exports=new e})();function q0e(r){var e;return[r[0],hf((e=r[1])!=null?e:"")]}let z0e=class{constructor(){this.localStorage=A_.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(q0e)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return hf(n)}async setItem(e,n){this.localStorage.setItem(e,sl(n))}async removeItem(e){this.localStorage.removeItem(e)}};const H0e="wc_storage_version",H8=1,W0e=async(r,e,n)=>{const i=H0e,a=await e.getItem(i);if(a&&a>=H8){n(e);return}const s=await r.getKeys();if(!s.length){n(e);return}const o=[];for(;s.length;){const c=s.shift();if(!c)continue;const l=c.toLowerCase();if(l.includes("wc@")||l.includes("walletconnect")||l.includes("wc_")||l.includes("wallet_connect")){const u=await r.getItem(c);await e.setItem(c,u),o.push(c)}}await e.setItem(i,H8),n(e),V0e(r,o)},V0e=async(r,e)=>{e.length&&e.forEach(async n=>{await r.removeItem(n)})};let G0e=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new z0e;this.storage=e;try{const n=new F0e;W0e(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};var pT,W8;function K0e(){if(W8)return pT;W8=1;function r(n){try{return JSON.stringify(n)}catch{return'"[Circular]"'}}pT=e;function e(n,i,a){var s=a&&a.stringify||r,o=1;if(typeof n=="object"&&n!==null){var c=i.length+o;if(c===1)return n;var l=new Array(c);l[0]=s(n);for(var u=1;u<c;u++)l[u]=s(i[u]);return l.join(" ")}if(typeof n!="string")return n;var d=i.length;if(d===0)return n;for(var f="",p=1-o,m=-1,y=n&&n.length||0,v=0;v<y;){if(n.charCodeAt(v)===37&&v+1<y){switch(m=m>-1?m:0,n.charCodeAt(v+1)){case 100:case 102:if(p>=d||i[p]==null)break;m<v&&(f+=n.slice(m,v)),f+=Number(i[p]),m=v+2,v++;break;case 105:if(p>=d||i[p]==null)break;m<v&&(f+=n.slice(m,v)),f+=Math.floor(Number(i[p])),m=v+2,v++;break;case 79:case 111:case 106:if(p>=d||i[p]===void 0)break;m<v&&(f+=n.slice(m,v));var b=typeof i[p];if(b==="string"){f+="'"+i[p]+"'",m=v+2,v++;break}if(b==="function"){f+=i[p].name||"<anonymous>",m=v+2,v++;break}f+=s(i[p]),m=v+2,v++;break;case 115:if(p>=d)break;m<v&&(f+=n.slice(m,v)),f+=String(i[p]),m=v+2,v++;break;case 37:m<v&&(f+=n.slice(m,v)),f+="%",m=v+2,v++,p--;break}++p}++v}return m===-1?n:(m<y&&(f+=n.slice(m)),f)}return pT}var gT,V8;function Y0e(){if(V8)return gT;V8=1;const r=K0e();gT=a;const e=S().console||{},n={mapHttpRequest:y,mapHttpResponse:y,wrapRequestSerializer:v,wrapResponseSerializer:v,wrapErrorSerializer:v,req:y,res:y,err:p};function i(C,P){return Array.isArray(C)?C.filter(function(I){return I!=="!stdSerializers.err"}):C===!0?Object.keys(P):!1}function a(C){C=C||{},C.browser=C.browser||{};const P=C.browser.transmit;if(P&&typeof P.send!="function")throw Error("pino: transmit option must have a send function");const O=C.browser.write||e;C.browser.write&&(C.browser.asObject=!0);const I=C.serializers||{},M=i(C.browser.serialize,I);let D=C.browser.serialize;Array.isArray(C.browser.serialize)&&C.browser.serialize.indexOf("!stdSerializers.err")>-1&&(D=!1);const q=["error","fatal","warn","info","debug","trace"];typeof O=="function"&&(O.error=O.fatal=O.warn=O.info=O.debug=O.trace=O),C.enabled===!1&&(C.level="silent");const K=C.level||"info",L=Object.create(O);L.log||(L.log=b),Object.defineProperty(L,"levelVal",{get:j}),Object.defineProperty(L,"level",{get:W,set:H});const R={transmit:P,serialize:M,asObject:C.browser.asObject,levels:q,timestamp:m(C)};L.levels=a.levels,L.level=K,L.setMaxListeners=L.getMaxListeners=L.emit=L.addListener=L.on=L.prependListener=L.once=L.prependOnceListener=L.removeListener=L.removeAllListeners=L.listeners=L.listenerCount=L.eventNames=L.write=L.flush=b,L.serializers=I,L._serialize=M,L._stdErrSerialize=D,L.child=z,P&&(L._logEvent=f());function j(){return this.level==="silent"?1/0:this.levels.values[this.level]}function W(){return this._level}function H(B){if(B!=="silent"&&!this.levels.values[B])throw Error("unknown level "+B);this._level=B,s(R,L,"error","log"),s(R,L,"fatal","error"),s(R,L,"warn","error"),s(R,L,"info","log"),s(R,L,"debug","log"),s(R,L,"trace","log")}function z(B,F){if(!B)throw new Error("missing bindings for child Pino");F=F||{},M&&B.serializers&&(F.serializers=B.serializers);const G=F.serializers;if(M&&G){var Q=Object.assign({},I,G),te=C.browser.serialize===!0?Object.keys(Q):M;delete B.serializers,l([B],te,Q,this._stdErrSerialize)}function ae(fe){this._childLevel=(fe._childLevel|0)+1,this.error=u(fe,B,"error"),this.fatal=u(fe,B,"fatal"),this.warn=u(fe,B,"warn"),this.info=u(fe,B,"info"),this.debug=u(fe,B,"debug"),this.trace=u(fe,B,"trace"),Q&&(this.serializers=Q,this._serialize=te),P&&(this._logEvent=f([].concat(fe._logEvent.bindings,B)))}return ae.prototype=this,new ae(this)}return L}a.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},a.stdSerializers=n,a.stdTimeFunctions=Object.assign({},{nullTime:w,epochTime:x,unixTime:E,isoTime:A});function s(C,P,O,I){const M=Object.getPrototypeOf(P);P[O]=P.levelVal>P.levels.values[O]?b:M[O]?M[O]:e[O]||e[I]||b,o(C,P,O)}function o(C,P,O){!C.transmit&&P[O]===b||(P[O]=function(I){return function(){const D=C.timestamp(),q=new Array(arguments.length),K=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var L=0;L<q.length;L++)q[L]=arguments[L];if(C.serialize&&!C.asObject&&l(q,this._serialize,this.serializers,this._stdErrSerialize),C.asObject?I.call(K,c(this,O,q,D)):I.apply(K,q),C.transmit){const R=C.transmit.level||P.level,j=a.levels.values[R],W=a.levels.values[O];if(W<j)return;d(this,{ts:D,methodLevel:O,methodValue:W,transmitValue:a.levels.values[C.transmit.level||P.level],send:C.transmit.send,val:P.levelVal},q)}}}(P[O]))}function c(C,P,O,I){C._serialize&&l(O,C._serialize,C.serializers,C._stdErrSerialize);const M=O.slice();let D=M[0];const q={};I&&(q.time=I),q.level=a.levels.values[P];let K=(C._childLevel|0)+1;if(K<1&&(K=1),D!==null&&typeof D=="object"){for(;K--&&typeof M[0]=="object";)Object.assign(q,M.shift());D=M.length?r(M.shift(),M):void 0}else typeof D=="string"&&(D=r(M.shift(),M));return D!==void 0&&(q.msg=D),q}function l(C,P,O,I){for(const M in C)if(I&&C[M]instanceof Error)C[M]=a.stdSerializers.err(C[M]);else if(typeof C[M]=="object"&&!Array.isArray(C[M]))for(const D in C[M])P&&P.indexOf(D)>-1&&D in O&&(C[M][D]=O[D](C[M][D]))}function u(C,P,O){return function(){const I=new Array(1+arguments.length);I[0]=P;for(var M=1;M<I.length;M++)I[M]=arguments[M-1];return C[O].apply(this,I)}}function d(C,P,O){const I=P.send,M=P.ts,D=P.methodLevel,q=P.methodValue,K=P.val,L=C._logEvent.bindings;l(O,C._serialize||Object.keys(C.serializers),C.serializers,C._stdErrSerialize===void 0?!0:C._stdErrSerialize),C._logEvent.ts=M,C._logEvent.messages=O.filter(function(R){return L.indexOf(R)===-1}),C._logEvent.level.label=D,C._logEvent.level.value=q,I(D,C._logEvent,K),C._logEvent=f(L)}function f(C){return{ts:0,messages:[],bindings:C||[],level:{label:"",value:0}}}function p(C){const P={type:C.constructor.name,msg:C.message,stack:C.stack};for(const O in C)P[O]===void 0&&(P[O]=C[O]);return P}function m(C){return typeof C.timestamp=="function"?C.timestamp:C.timestamp===!1?w:x}function y(){return{}}function v(C){return C}function b(){}function w(){return!1}function x(){return Date.now()}function E(){return Math.round(Date.now()/1e3)}function A(){return new Date(Date.now()).toISOString()}function S(){function C(P){return typeof P<"u"&&P}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return C(self)||C(window)||C(this)||{}}}return gT}var Jh=Y0e();const mb=Jt(Jh),X0e={level:"info"},yb="custom_context",SD=1e3*1024;let J0e=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},G8=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new J0e(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},UJ=class{constructor(e,n=SD){this.level=e??"error",this.levelValue=Jh.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new G8(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===Jh.levels.values.error?console.error(e):n===Jh.levels.values.warn?console.warn(e):n===Jh.levels.values.debug?console.debug(e):n===Jh.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(sl({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new G8(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(sl({extraMetadata:e})),new Blob(n,{type:"application/json"})}},Z0e=class{constructor(e,n=SD){this.baseChunkLogger=new UJ(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),i=document.createElement("a");i.href=n,i.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n)}},Q0e=class{constructor(e,n=SD){this.baseChunkLogger=new UJ(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var ebe=Object.defineProperty,tbe=Object.defineProperties,rbe=Object.getOwnPropertyDescriptors,K8=Object.getOwnPropertySymbols,nbe=Object.prototype.hasOwnProperty,ibe=Object.prototype.propertyIsEnumerable,Y8=(r,e,n)=>e in r?ebe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,cx=(r,e)=>{for(var n in e||(e={}))nbe.call(e,n)&&Y8(r,n,e[n]);if(K8)for(var n of K8(e))ibe.call(e,n)&&Y8(r,n,e[n]);return r},lx=(r,e)=>tbe(r,rbe(e));function Ig(r){return lx(cx({},r),{level:(r==null?void 0:r.level)||X0e.level})}function abe(r,e=yb){return r[e]||""}function sbe(r,e,n=yb){return r[n]=e,r}function ya(r,e=yb){let n="";return typeof r.bindings>"u"?n=abe(r,e):n=r.bindings().context||"",n}function obe(r,e,n=yb){const i=ya(r,n);return i.trim()?`${i}/${e}`:e}function ki(r,e,n=yb){const i=obe(r,e,n),a=r.child({context:i});return sbe(a,i,n)}function cbe(r){var e,n;const i=new Z0e((e=r.opts)==null?void 0:e.level,r.maxSizeInBytes);return{logger:mb(lx(cx({},r.opts),{level:"trace",browser:lx(cx({},(n=r.opts)==null?void 0:n.browser),{write:a=>i.write(a)})})),chunkLoggerController:i}}function lbe(r){var e;const n=new Q0e((e=r.opts)==null?void 0:e.level,r.maxSizeInBytes);return{logger:mb(lx(cx({},r.opts),{level:"trace"}),n),chunkLoggerController:n}}function CD(r){return typeof r.loggerOverride<"u"&&typeof r.loggerOverride!="string"?{logger:r.loggerOverride,chunkLoggerController:null}:typeof window<"u"?cbe(r):lbe(r)}var ube=Object.defineProperty,dbe=(r,e,n)=>e in r?ube(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,X8=(r,e,n)=>dbe(r,typeof e!="symbol"?e+"":e,n);let fbe=class extends Mf{constructor(e){super(),this.opts=e,X8(this,"protocol","wc"),X8(this,"version",2)}};var hbe=Object.defineProperty,pbe=(r,e,n)=>e in r?hbe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,gbe=(r,e,n)=>pbe(r,e+"",n);let mbe=class extends Mf{constructor(e,n){super(),this.core=e,this.logger=n,gbe(this,"records",new Map)}},ybe=class{constructor(e,n){this.logger=e,this.core=n}},vbe=class extends Mf{constructor(e,n){super(),this.relayer=e,this.logger=n}},bbe=class extends Mf{constructor(e){super()}},wbe=class{constructor(e,n,i,a){this.core=e,this.logger=n,this.name=i}},_be=class extends Mf{constructor(e,n){super(),this.relayer=e,this.logger=n}},xbe=class extends Mf{constructor(e,n){super(),this.core=e,this.logger=n}},Ebe=class{constructor(e,n,i){this.core=e,this.logger=n,this.store=i}},Sbe=class{constructor(e,n){this.projectId=e,this.logger=n}},Cbe=class{constructor(e,n,i){this.core=e,this.logger=n,this.telemetryEnabled=i}};var Abe=Object.defineProperty,Tbe=(r,e,n)=>e in r?Abe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,J8=(r,e,n)=>Tbe(r,typeof e!="symbol"?e+"":e,n);let kbe=class{constructor(e){this.opts=e,J8(this,"protocol","wc"),J8(this,"version",2)}},Pbe=class{constructor(e){this.client=e}};function Obe(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function BJ(r,...e){if(!Obe(r))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw new Error("Uint8Array expected of length "+e+", got length="+r.length)}function Z8(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function Nbe(r,e){BJ(r);const n=e.outputLen;if(r.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const vh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mT=r=>new DataView(r.buffer,r.byteOffset,r.byteLength);function Ibe(r){if(typeof r!="string")throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array(new TextEncoder().encode(r))}function FJ(r){return typeof r=="string"&&(r=Ibe(r)),BJ(r),r}let Rbe=class{clone(){return this._cloneInto()}};function $be(r){const e=i=>r().update(FJ(i)).digest(),n=r();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>r(),e}function qJ(r=32){if(vh&&typeof vh.getRandomValues=="function")return vh.getRandomValues(new Uint8Array(r));if(vh&&typeof vh.randomBytes=="function")return vh.randomBytes(r);throw new Error("crypto.getRandomValues must be defined")}function jbe(r,e,n,i){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,n,i);const a=BigInt(32),s=BigInt(4294967295),o=Number(n>>a&s),c=Number(n&s),l=i?4:0,u=i?0:4;r.setUint32(e+l,o,i),r.setUint32(e+u,c,i)}let Dbe=class extends Rbe{constructor(e,n,i,a){super(),this.blockLen=e,this.outputLen=n,this.padOffset=i,this.isLE=a,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=mT(this.buffer)}update(e){Z8(this);const{view:n,buffer:i,blockLen:a}=this;e=FJ(e);const s=e.length;for(let o=0;o<s;){const c=Math.min(a-this.pos,s-o);if(c===a){const l=mT(e);for(;a<=s-o;o+=a)this.process(l,o);continue}i.set(e.subarray(o,o+c),this.pos),this.pos+=c,o+=c,this.pos===a&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Z8(this),Nbe(e,this),this.finished=!0;const{buffer:n,view:i,blockLen:a,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>a-o&&(this.process(i,0),o=0);for(let f=o;f<a;f++)n[f]=0;jbe(i,a-8,BigInt(this.length*8),s),this.process(i,0);const c=mT(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)c.setUint32(4*f,d[f],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const i=e.slice(0,n);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:i,length:a,finished:s,destroyed:o,pos:c}=this;return e.length=a,e.pos=c,e.finished=s,e.destroyed=o,a%n&&e.buffer.set(i),e}};const _1=BigInt(2**32-1),CR=BigInt(32);function zJ(r,e=!1){return e?{h:Number(r&_1),l:Number(r>>CR&_1)}:{h:Number(r>>CR&_1)|0,l:Number(r&_1)|0}}function Mbe(r,e=!1){let n=new Uint32Array(r.length),i=new Uint32Array(r.length);for(let a=0;a<r.length;a++){const{h:s,l:o}=zJ(r[a],e);[n[a],i[a]]=[s,o]}return[n,i]}const Lbe=(r,e)=>BigInt(r>>>0)<<CR|BigInt(e>>>0),Ube=(r,e,n)=>r>>>n,Bbe=(r,e,n)=>r<<32-n|e>>>n,Fbe=(r,e,n)=>r>>>n|e<<32-n,qbe=(r,e,n)=>r<<32-n|e>>>n,zbe=(r,e,n)=>r<<64-n|e>>>n-32,Hbe=(r,e,n)=>r>>>n-32|e<<64-n,Wbe=(r,e)=>e,Vbe=(r,e)=>r,Gbe=(r,e,n)=>r<<n|e>>>32-n,Kbe=(r,e,n)=>e<<n|r>>>32-n,Ybe=(r,e,n)=>e<<n-32|r>>>64-n,Xbe=(r,e,n)=>r<<n-32|e>>>64-n;function Jbe(r,e,n,i){const a=(e>>>0)+(i>>>0);return{h:r+n+(a/2**32|0)|0,l:a|0}}const Zbe=(r,e,n)=>(r>>>0)+(e>>>0)+(n>>>0),Qbe=(r,e,n,i)=>e+n+i+(r/2**32|0)|0,ewe=(r,e,n,i)=>(r>>>0)+(e>>>0)+(n>>>0)+(i>>>0),twe=(r,e,n,i,a)=>e+n+i+a+(r/2**32|0)|0,rwe=(r,e,n,i,a)=>(r>>>0)+(e>>>0)+(n>>>0)+(i>>>0)+(a>>>0),nwe=(r,e,n,i,a,s)=>e+n+i+a+s+(r/2**32|0)|0,Rt={fromBig:zJ,split:Mbe,toBig:Lbe,shrSH:Ube,shrSL:Bbe,rotrSH:Fbe,rotrSL:qbe,rotrBH:zbe,rotrBL:Hbe,rotr32H:Wbe,rotr32L:Vbe,rotlSH:Gbe,rotlSL:Kbe,rotlBH:Ybe,rotlBL:Xbe,add:Jbe,add3L:Zbe,add3H:Qbe,add4L:ewe,add4H:twe,add5H:nwe,add5L:rwe},[iwe,awe]=Rt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),Gl=new Uint32Array(80),Kl=new Uint32Array(80);let swe=class extends Dbe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:i,Bl:a,Ch:s,Cl:o,Dh:c,Dl:l,Eh:u,El:d,Fh:f,Fl:p,Gh:m,Gl:y,Hh:v,Hl:b}=this;return[e,n,i,a,s,o,c,l,u,d,f,p,m,y,v,b]}set(e,n,i,a,s,o,c,l,u,d,f,p,m,y,v,b){this.Ah=e|0,this.Al=n|0,this.Bh=i|0,this.Bl=a|0,this.Ch=s|0,this.Cl=o|0,this.Dh=c|0,this.Dl=l|0,this.Eh=u|0,this.El=d|0,this.Fh=f|0,this.Fl=p|0,this.Gh=m|0,this.Gl=y|0,this.Hh=v|0,this.Hl=b|0}process(e,n){for(let E=0;E<16;E++,n+=4)Gl[E]=e.getUint32(n),Kl[E]=e.getUint32(n+=4);for(let E=16;E<80;E++){const A=Gl[E-15]|0,S=Kl[E-15]|0,C=Rt.rotrSH(A,S,1)^Rt.rotrSH(A,S,8)^Rt.shrSH(A,S,7),P=Rt.rotrSL(A,S,1)^Rt.rotrSL(A,S,8)^Rt.shrSL(A,S,7),O=Gl[E-2]|0,I=Kl[E-2]|0,M=Rt.rotrSH(O,I,19)^Rt.rotrBH(O,I,61)^Rt.shrSH(O,I,6),D=Rt.rotrSL(O,I,19)^Rt.rotrBL(O,I,61)^Rt.shrSL(O,I,6),q=Rt.add4L(P,D,Kl[E-7],Kl[E-16]),K=Rt.add4H(q,C,M,Gl[E-7],Gl[E-16]);Gl[E]=K|0,Kl[E]=q|0}let{Ah:i,Al:a,Bh:s,Bl:o,Ch:c,Cl:l,Dh:u,Dl:d,Eh:f,El:p,Fh:m,Fl:y,Gh:v,Gl:b,Hh:w,Hl:x}=this;for(let E=0;E<80;E++){const A=Rt.rotrSH(f,p,14)^Rt.rotrSH(f,p,18)^Rt.rotrBH(f,p,41),S=Rt.rotrSL(f,p,14)^Rt.rotrSL(f,p,18)^Rt.rotrBL(f,p,41),C=f&m^~f&v,P=p&y^~p&b,O=Rt.add5L(x,S,P,awe[E],Kl[E]),I=Rt.add5H(O,w,A,C,iwe[E],Gl[E]),M=O|0,D=Rt.rotrSH(i,a,28)^Rt.rotrBH(i,a,34)^Rt.rotrBH(i,a,39),q=Rt.rotrSL(i,a,28)^Rt.rotrBL(i,a,34)^Rt.rotrBL(i,a,39),K=i&s^i&c^s&c,L=a&o^a&l^o&l;w=v|0,x=b|0,v=m|0,b=y|0,m=f|0,y=p|0,{h:f,l:p}=Rt.add(u|0,d|0,I|0,M|0),u=c|0,d=l|0,c=s|0,l=o|0,s=i|0,o=a|0;const R=Rt.add3L(M,q,L);i=Rt.add3H(R,I,D,K),a=R|0}({h:i,l:a}=Rt.add(this.Ah|0,this.Al|0,i|0,a|0)),{h:s,l:o}=Rt.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:c,l}=Rt.add(this.Ch|0,this.Cl|0,c|0,l|0),{h:u,l:d}=Rt.add(this.Dh|0,this.Dl|0,u|0,d|0),{h:f,l:p}=Rt.add(this.Eh|0,this.El|0,f|0,p|0),{h:m,l:y}=Rt.add(this.Fh|0,this.Fl|0,m|0,y|0),{h:v,l:b}=Rt.add(this.Gh|0,this.Gl|0,v|0,b|0),{h:w,l:x}=Rt.add(this.Hh|0,this.Hl|0,w|0,x|0),this.set(i,a,s,o,c,l,u,d,f,p,m,y,v,b,w,x)}roundClean(){Gl.fill(0),Kl.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const owe=$be(()=>new swe);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const AD=BigInt(0),HJ=BigInt(1),cwe=BigInt(2);function TD(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function kD(r){if(!TD(r))throw new Error("Uint8Array expected")}function yT(r,e){if(typeof e!="boolean")throw new Error(r+" boolean expected, got "+e)}const lwe=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function PD(r){kD(r);let e="";for(let n=0;n<r.length;n++)e+=lwe[r[n]];return e}function WJ(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return r===""?AD:BigInt("0x"+r)}const _c={_0:48,_9:57,A:65,F:70,a:97,f:102};function Q8(r){if(r>=_c._0&&r<=_c._9)return r-_c._0;if(r>=_c.A&&r<=_c.F)return r-(_c.A-10);if(r>=_c.a&&r<=_c.f)return r-(_c.a-10)}function VJ(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);const e=r.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const i=new Uint8Array(n);for(let a=0,s=0;a<n;a++,s+=2){const o=Q8(r.charCodeAt(s)),c=Q8(r.charCodeAt(s+1));if(o===void 0||c===void 0){const l=r[s]+r[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}i[a]=o*16+c}return i}function uwe(r){return WJ(PD(r))}function T_(r){return kD(r),WJ(PD(Uint8Array.from(r).reverse()))}function GJ(r,e){return VJ(r.toString(16).padStart(e*2,"0"))}function AR(r,e){return GJ(r,e).reverse()}function xc(r,e,n){let i;if(typeof e=="string")try{i=VJ(e)}catch(s){throw new Error(r+" must be hex string or Uint8Array, cause: "+s)}else if(TD(e))i=Uint8Array.from(e);else throw new Error(r+" must be hex string or Uint8Array");const a=i.length;if(typeof n=="number"&&a!==n)throw new Error(r+" of length "+n+" expected, got "+a);return i}function eU(...r){let e=0;for(let i=0;i<r.length;i++){const a=r[i];kD(a),e+=a.length}const n=new Uint8Array(e);for(let i=0,a=0;i<r.length;i++){const s=r[i];n.set(s,a),a+=s.length}return n}const vT=r=>typeof r=="bigint"&&AD<=r;function dwe(r,e,n){return vT(r)&&vT(e)&&vT(n)&&e<=r&&r<n}function zm(r,e,n,i){if(!dwe(e,n,i))throw new Error("expected valid "+r+": "+n+" <= n < "+i+", got "+e)}function fwe(r){let e;for(e=0;r>AD;r>>=HJ,e+=1);return e}const hwe=r=>(cwe<<BigInt(r-1))-HJ,pwe={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||TD(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,e)=>e.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function OD(r,e,n={}){const i=(a,s,o)=>{const c=pwe[s];if(typeof c!="function")throw new Error("invalid validator function");const l=r[a];if(!(o&&l===void 0)&&!c(l,r))throw new Error("param "+String(a)+" is invalid. Expected "+s+", got "+l)};for(const[a,s]of Object.entries(e))i(a,s,!1);for(const[a,s]of Object.entries(n))i(a,s,!0);return r}function tU(r){const e=new WeakMap;return(n,...i)=>{const a=e.get(n);if(a!==void 0)return a;const s=r(n,...i);return e.set(n,s),s}}const Kn=BigInt(0),fn=BigInt(1),Cd=BigInt(2),gwe=BigInt(3),TR=BigInt(4),rU=BigInt(5),nU=BigInt(8);function Nn(r,e){const n=r%e;return n>=Kn?n:e+n}function mwe(r,e,n){if(e<Kn)throw new Error("invalid exponent, negatives unsupported");if(n<=Kn)throw new Error("invalid modulus");if(n===fn)return Kn;let i=fn;for(;e>Kn;)e&fn&&(i=i*r%n),r=r*r%n,e>>=fn;return i}function wo(r,e,n){let i=r;for(;e-- >Kn;)i*=i,i%=n;return i}function iU(r,e){if(r===Kn)throw new Error("invert: expected non-zero number");if(e<=Kn)throw new Error("invert: expected positive modulus, got "+e);let n=Nn(r,e),i=e,a=Kn,s=fn;for(;n!==Kn;){const o=i/n,c=i%n,l=a-s*o;i=n,n=c,a=s,s=l}if(i!==fn)throw new Error("invert: does not exist");return Nn(a,e)}function ywe(r){const e=(r-fn)/Cd;let n,i,a;for(n=r-fn,i=0;n%Cd===Kn;n/=Cd,i++);for(a=Cd;a<r&&mwe(a,e,r)!==r-fn;a++)if(a>1e3)throw new Error("Cannot find square root: likely non-prime P");if(i===1){const o=(r+fn)/TR;return function(c,l){const u=c.pow(l,o);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}const s=(n+fn)/Cd;return function(o,c){if(o.pow(c,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let l=i,u=o.pow(o.mul(o.ONE,a),n),d=o.pow(c,s),f=o.pow(c,n);for(;!o.eql(f,o.ONE);){if(o.eql(f,o.ZERO))return o.ZERO;let p=1;for(let y=o.sqr(f);p<l&&!o.eql(y,o.ONE);p++)y=o.sqr(y);const m=o.pow(u,fn<<BigInt(l-p-1));u=o.sqr(m),d=o.mul(d,m),f=o.mul(f,u),l=p}return d}}function vwe(r){if(r%TR===gwe){const e=(r+fn)/TR;return function(n,i){const a=n.pow(i,e);if(!n.eql(n.sqr(a),i))throw new Error("Cannot find square root");return a}}if(r%nU===rU){const e=(r-rU)/nU;return function(n,i){const a=n.mul(i,Cd),s=n.pow(a,e),o=n.mul(i,s),c=n.mul(n.mul(o,Cd),s),l=n.mul(o,n.sub(c,n.ONE));if(!n.eql(n.sqr(l),i))throw new Error("Cannot find square root");return l}}return ywe(r)}const bwe=(r,e)=>(Nn(r,e)&fn)===fn,wwe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function _we(r){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=wwe.reduce((i,a)=>(i[a]="function",i),e);return OD(r,n)}function xwe(r,e,n){if(n<Kn)throw new Error("invalid exponent, negatives unsupported");if(n===Kn)return r.ONE;if(n===fn)return e;let i=r.ONE,a=e;for(;n>Kn;)n&fn&&(i=r.mul(i,a)),a=r.sqr(a),n>>=fn;return i}function Ewe(r,e){const n=new Array(e.length),i=e.reduce((s,o,c)=>r.is0(o)?s:(n[c]=s,r.mul(s,o)),r.ONE),a=r.inv(i);return e.reduceRight((s,o,c)=>r.is0(o)?s:(n[c]=r.mul(s,n[c]),r.mul(s,o)),a),n}function KJ(r,e){const n=e!==void 0?e:r.toString(2).length,i=Math.ceil(n/8);return{nBitLength:n,nByteLength:i}}function YJ(r,e,n=!1,i={}){if(r<=Kn)throw new Error("invalid field: expected ORDER > 0, got "+r);const{nBitLength:a,nByteLength:s}=KJ(r,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const c=Object.freeze({ORDER:r,isLE:n,BITS:a,BYTES:s,MASK:hwe(a),ZERO:Kn,ONE:fn,create:l=>Nn(l,r),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return Kn<=l&&l<r},is0:l=>l===Kn,isOdd:l=>(l&fn)===fn,neg:l=>Nn(-l,r),eql:(l,u)=>l===u,sqr:l=>Nn(l*l,r),add:(l,u)=>Nn(l+u,r),sub:(l,u)=>Nn(l-u,r),mul:(l,u)=>Nn(l*u,r),pow:(l,u)=>xwe(c,l,u),div:(l,u)=>Nn(l*iU(u,r),r),sqrN:l=>l*l,addN:(l,u)=>l+u,subN:(l,u)=>l-u,mulN:(l,u)=>l*u,inv:l=>iU(l,r),sqrt:i.sqrt||(l=>(o||(o=vwe(r)),o(c,l))),invertBatch:l=>Ewe(c,l),cmov:(l,u,d)=>d?u:l,toBytes:l=>n?AR(l,s):GJ(l,s),fromBytes:l=>{if(l.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+l.length);return n?T_(l):uwe(l)}});return Object.freeze(c)}const aU=BigInt(0),x1=BigInt(1);function bT(r,e){const n=e.negate();return r?n:e}function XJ(r,e){if(!Number.isSafeInteger(r)||r<=0||r>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+r)}function wT(r,e){XJ(r,e);const n=Math.ceil(e/r)+1,i=2**(r-1);return{windows:n,windowSize:i}}function Swe(r,e){if(!Array.isArray(r))throw new Error("array expected");r.forEach((n,i)=>{if(!(n instanceof e))throw new Error("invalid point at index "+i)})}function Cwe(r,e){if(!Array.isArray(r))throw new Error("array of scalars expected");r.forEach((n,i)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+i)})}const _T=new WeakMap,JJ=new WeakMap;function xT(r){return JJ.get(r)||1}function Awe(r,e){return{constTimeNegate:bT,hasPrecomputes(n){return xT(n)!==1},unsafeLadder(n,i,a=r.ZERO){let s=n;for(;i>aU;)i&x1&&(a=a.add(s)),s=s.double(),i>>=x1;return a},precomputeWindow(n,i){const{windows:a,windowSize:s}=wT(i,e),o=[];let c=n,l=c;for(let u=0;u<a;u++){l=c,o.push(l);for(let d=1;d<s;d++)l=l.add(c),o.push(l);c=l.double()}return o},wNAF(n,i,a){const{windows:s,windowSize:o}=wT(n,e);let c=r.ZERO,l=r.BASE;const u=BigInt(2**n-1),d=2**n,f=BigInt(n);for(let p=0;p<s;p++){const m=p*o;let y=Number(a&u);a>>=f,y>o&&(y-=d,a+=x1);const v=m,b=m+Math.abs(y)-1,w=p%2!==0,x=y<0;y===0?l=l.add(bT(w,i[v])):c=c.add(bT(x,i[b]))}return{p:c,f:l}},wNAFUnsafe(n,i,a,s=r.ZERO){const{windows:o,windowSize:c}=wT(n,e),l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let f=0;f<o;f++){const p=f*c;if(a===aU)break;let m=Number(a&l);if(a>>=d,m>c&&(m-=u,a+=x1),m===0)continue;let y=i[p+Math.abs(m)-1];m<0&&(y=y.negate()),s=s.add(y)}return s},getPrecomputes(n,i,a){let s=_T.get(i);return s||(s=this.precomputeWindow(i,n),n!==1&&_T.set(i,a(s))),s},wNAFCached(n,i,a){const s=xT(n);return this.wNAF(s,this.getPrecomputes(s,n,a),i)},wNAFCachedUnsafe(n,i,a,s){const o=xT(n);return o===1?this.unsafeLadder(n,i,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,a),i,s)},setWindowSize(n,i){XJ(i,e),JJ.set(n,i),_T.delete(n)}}}function Twe(r,e,n,i){if(Swe(n,r),Cwe(i,e),n.length!==i.length)throw new Error("arrays of points and scalars must have equal length");const a=r.ZERO,s=fwe(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,c=(1<<o)-1,l=new Array(c+1).fill(a),u=Math.floor((e.BITS-1)/o)*o;let d=a;for(let f=u;f>=0;f-=o){l.fill(a);for(let m=0;m<i.length;m++){const y=i[m],v=Number(y>>BigInt(f)&BigInt(c));l[v]=l[v].add(n[m])}let p=a;for(let m=l.length-1,y=a;m>0;m--)y=y.add(l[m]),p=p.add(y);if(d=d.add(p),f!==0)for(let m=0;m<o;m++)d=d.double()}return d}function kwe(r){return _we(r.Fp),OD(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...KJ(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}const Ds=BigInt(0),Ji=BigInt(1),E1=BigInt(2),Pwe=BigInt(8),Owe={zip215:!0};function Nwe(r){const e=kwe(r);return OD(r,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function Iwe(r){const e=Nwe(r),{Fp:n,n:i,prehash:a,hash:s,randomBytes:o,nByteLength:c,h:l}=e,u=E1<<BigInt(c*8)-Ji,d=n.create,f=YJ(e.n,e.nBitLength),p=e.uvRatio||((R,j)=>{try{return{isValid:!0,value:n.sqrt(R*n.inv(j))}}catch{return{isValid:!1,value:Ds}}}),m=e.adjustScalarBytes||(R=>R),y=e.domain||((R,j,W)=>{if(yT("phflag",W),j.length||W)throw new Error("Contexts/pre-hash are not supported");return R});function v(R,j){zm("coordinate "+R,j,Ds,u)}function b(R){if(!(R instanceof E))throw new Error("ExtendedPoint expected")}const w=tU((R,j)=>{const{ex:W,ey:H,ez:z}=R,B=R.is0();j==null&&(j=B?Pwe:n.inv(z));const F=d(W*j),G=d(H*j),Q=d(z*j);if(B)return{x:Ds,y:Ji};if(Q!==Ji)throw new Error("invZ was invalid");return{x:F,y:G}}),x=tU(R=>{const{a:j,d:W}=e;if(R.is0())throw new Error("bad point: ZERO");const{ex:H,ey:z,ez:B,et:F}=R,G=d(H*H),Q=d(z*z),te=d(B*B),ae=d(te*te),fe=d(G*j),xe=d(te*d(fe+Q)),Ee=d(ae+d(W*d(G*Q)));if(xe!==Ee)throw new Error("bad point: equation left != right (1)");const le=d(H*z),Ce=d(B*F);if(le!==Ce)throw new Error("bad point: equation left != right (2)");return!0});class E{constructor(j,W,H,z){this.ex=j,this.ey=W,this.ez=H,this.et=z,v("x",j),v("y",W),v("z",H),v("t",z),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(j){if(j instanceof E)throw new Error("extended point not allowed");const{x:W,y:H}=j||{};return v("x",W),v("y",H),new E(W,H,Ji,d(W*H))}static normalizeZ(j){const W=n.invertBatch(j.map(H=>H.ez));return j.map((H,z)=>H.toAffine(W[z])).map(E.fromAffine)}static msm(j,W){return Twe(E,f,j,W)}_setWindowSize(j){C.setWindowSize(this,j)}assertValidity(){x(this)}equals(j){b(j);const{ex:W,ey:H,ez:z}=this,{ex:B,ey:F,ez:G}=j,Q=d(W*G),te=d(B*z),ae=d(H*G),fe=d(F*z);return Q===te&&ae===fe}is0(){return this.equals(E.ZERO)}negate(){return new E(d(-this.ex),this.ey,this.ez,d(-this.et))}double(){const{a:j}=e,{ex:W,ey:H,ez:z}=this,B=d(W*W),F=d(H*H),G=d(E1*d(z*z)),Q=d(j*B),te=W+H,ae=d(d(te*te)-B-F),fe=Q+F,xe=fe-G,Ee=Q-F,le=d(ae*xe),Ce=d(fe*Ee),Me=d(ae*Ee),he=d(xe*fe);return new E(le,Ce,he,Me)}add(j){b(j);const{a:W,d:H}=e,{ex:z,ey:B,ez:F,et:G}=this,{ex:Q,ey:te,ez:ae,et:fe}=j;if(W===BigInt(-1)){const Br=d((B-z)*(te+Q)),on=d((B+z)*(te-Q)),Kr=d(on-Br);if(Kr===Ds)return this.double();const mn=d(F*E1*fe),Jn=d(G*E1*ae),Re=Jn+mn,rt=on+Br,oe=Jn-mn,be=d(Re*Kr),Qe=d(rt*oe),st=d(Re*oe),ke=d(Kr*rt);return new E(be,Qe,ke,st)}const xe=d(z*Q),Ee=d(B*te),le=d(G*H*fe),Ce=d(F*ae),Me=d((z+B)*(Q+te)-xe-Ee),he=Ce-le,me=Ce+le,Ae=d(Ee-W*xe),tt=d(Me*he),Nt=d(me*Ae),ct=d(Me*Ae),Wt=d(he*me);return new E(tt,Nt,Wt,ct)}subtract(j){return this.add(j.negate())}wNAF(j){return C.wNAFCached(this,j,E.normalizeZ)}multiply(j){const W=j;zm("scalar",W,Ji,i);const{p:H,f:z}=this.wNAF(W);return E.normalizeZ([H,z])[0]}multiplyUnsafe(j,W=E.ZERO){const H=j;return zm("scalar",H,Ds,i),H===Ds?S:this.is0()||H===Ji?this:C.wNAFCachedUnsafe(this,H,E.normalizeZ,W)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return C.unsafeLadder(this,i).is0()}toAffine(j){return w(this,j)}clearCofactor(){const{h:j}=e;return j===Ji?this:this.multiplyUnsafe(j)}static fromHex(j,W=!1){const{d:H,a:z}=e,B=n.BYTES;j=xc("pointHex",j,B),yT("zip215",W);const F=j.slice(),G=j[B-1];F[B-1]=G&-129;const Q=T_(F),te=W?u:n.ORDER;zm("pointHex.y",Q,Ds,te);const ae=d(Q*Q),fe=d(ae-Ji),xe=d(H*ae-z);let{isValid:Ee,value:le}=p(fe,xe);if(!Ee)throw new Error("Point.fromHex: invalid y coordinate");const Ce=(le&Ji)===Ji,Me=(G&128)!==0;if(!W&&le===Ds&&Me)throw new Error("Point.fromHex: x=0 and x_0=1");return Me!==Ce&&(le=d(-le)),E.fromAffine({x:le,y:Q})}static fromPrivateKey(j){return I(j).point}toRawBytes(){const{x:j,y:W}=this.toAffine(),H=AR(W,n.BYTES);return H[H.length-1]|=j&Ji?128:0,H}toHex(){return PD(this.toRawBytes())}}E.BASE=new E(e.Gx,e.Gy,Ji,d(e.Gx*e.Gy)),E.ZERO=new E(Ds,Ji,Ji,Ds);const{BASE:A,ZERO:S}=E,C=Awe(E,c*8);function P(R){return Nn(R,i)}function O(R){return P(T_(R))}function I(R){const j=n.BYTES;R=xc("private key",R,j);const W=xc("hashed private key",s(R),2*j),H=m(W.slice(0,j)),z=W.slice(j,2*j),B=O(H),F=A.multiply(B),G=F.toRawBytes();return{head:H,prefix:z,scalar:B,point:F,pointBytes:G}}function M(R){return I(R).pointBytes}function D(R=new Uint8Array,...j){const W=eU(...j);return O(s(y(W,xc("context",R),!!a)))}function q(R,j,W={}){R=xc("message",R),a&&(R=a(R));const{prefix:H,scalar:z,pointBytes:B}=I(j),F=D(W.context,H,R),G=A.multiply(F).toRawBytes(),Q=D(W.context,G,B,R),te=P(F+Q*z);zm("signature.s",te,Ds,i);const ae=eU(G,AR(te,n.BYTES));return xc("result",ae,n.BYTES*2)}const K=Owe;function L(R,j,W,H=K){const{context:z,zip215:B}=H,F=n.BYTES;R=xc("signature",R,2*F),j=xc("message",j),W=xc("publicKey",W,F),B!==void 0&&yT("zip215",B),a&&(j=a(j));const G=T_(R.slice(F,2*F));let Q,te,ae;try{Q=E.fromHex(W,B),te=E.fromHex(R.slice(0,F),B),ae=A.multiplyUnsafe(G)}catch{return!1}if(!B&&Q.isSmallOrder())return!1;const fe=D(z,te.toRawBytes(),Q.toRawBytes(),j);return te.add(Q.multiplyUnsafe(fe)).subtract(ae).clearCofactor().equals(E.ZERO)}return A._setWindowSize(8),{CURVE:e,getPublicKey:M,sign:q,verify:L,ExtendedPoint:E,utils:{getExtendedPublicKey:I,randomPrivateKey:()=>o(n.BYTES),precompute(R=8,j=E.BASE){return j._setWindowSize(R),j.multiply(BigInt(3)),j}}}}BigInt(0),BigInt(1);const ND=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),sU=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Rwe=BigInt(1),oU=BigInt(2);BigInt(3);const $we=BigInt(5),jwe=BigInt(8);function Dwe(r){const e=BigInt(10),n=BigInt(20),i=BigInt(40),a=BigInt(80),s=ND,o=r*r%s*r%s,c=wo(o,oU,s)*o%s,l=wo(c,Rwe,s)*r%s,u=wo(l,$we,s)*l%s,d=wo(u,e,s)*u%s,f=wo(d,n,s)*d%s,p=wo(f,i,s)*f%s,m=wo(p,a,s)*p%s,y=wo(m,a,s)*p%s,v=wo(y,e,s)*u%s;return{pow_p_5_8:wo(v,oU,s)*r%s,b2:o}}function Mwe(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}function Lwe(r,e){const n=ND,i=Nn(e*e*e,n),a=Nn(i*i*e,n),s=Dwe(r*a).pow_p_5_8;let o=Nn(r*i*s,n);const c=Nn(e*o*o,n),l=o,u=Nn(o*sU,n),d=c===r,f=c===Nn(-r,n),p=c===Nn(-r*sU,n);return d&&(o=l),(f||p)&&(o=u),bwe(o,n)&&(o=Nn(-o,n)),{isValid:d||f,value:o}}const Uwe=YJ(ND,void 0,!0),Bwe={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Uwe,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:jwe,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:owe,randomBytes:qJ,adjustScalarBytes:Mwe,uvRatio:Lwe},ZJ=Iwe(Bwe),Fwe="EdDSA",qwe="JWT",ux=".",SS="base64url",QJ="utf8",eZ="utf8",zwe=":",Hwe="did",Wwe="key",cU="base58btc",Vwe="z",Gwe="K36",Kwe=32;function ID(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function tZ(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?ID(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function rZ(r,e){e||(e=r.reduce((a,s)=>a+s.length,0));const n=tZ(e);let i=0;for(const a of r)n.set(a,i),i+=a.length;return ID(n)}function Ywe(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var a=0;a<r.length;a++){var s=r.charAt(a),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=a}var c=r.length,l=r.charAt(0),u=Math.log(c)/Math.log(256),d=Math.log(256)/Math.log(c);function f(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";for(var v=0,b=0,w=0,x=y.length;w!==x&&y[w]===0;)w++,v++;for(var E=(x-w)*d+1>>>0,A=new Uint8Array(E);w!==x;){for(var S=y[w],C=0,P=E-1;(S!==0||C<b)&&P!==-1;P--,C++)S+=256*A[P]>>>0,A[P]=S%c>>>0,S=S/c>>>0;if(S!==0)throw new Error("Non-zero carry");b=C,w++}for(var O=E-b;O!==E&&A[O]===0;)O++;for(var I=l.repeat(v);O<E;++O)I+=r.charAt(A[O]);return I}function p(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;var v=0;if(y[v]!==" "){for(var b=0,w=0;y[v]===l;)b++,v++;for(var x=(y.length-v)*u+1>>>0,E=new Uint8Array(x);y[v];){var A=n[y.charCodeAt(v)];if(A===255)return;for(var S=0,C=x-1;(A!==0||S<w)&&C!==-1;C--,S++)A+=c*E[C]>>>0,E[C]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");w=S,v++}if(y[v]!==" "){for(var P=x-w;P!==x&&E[P]===0;)P++;for(var O=new Uint8Array(b+(x-P)),I=b;P!==x;)O[I++]=E[P++];return O}}}function m(y){var v=p(y);if(v)return v;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:p,decode:m}}var Xwe=Ywe,Jwe=Xwe;const nZ=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},Zwe=r=>new TextEncoder().encode(r),Qwe=r=>new TextDecoder().decode(r);let e1e=class{constructor(e,n,i){this.name=e,this.prefix=n,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},t1e=class{constructor(e,n,i){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return iZ(this,e)}},r1e=class{constructor(e){this.decoders=e}or(e){return iZ(this,e)}decode(e){const n=e[0],i=this.decoders[n];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const iZ=(r,e)=>new r1e({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});let n1e=class{constructor(e,n,i,a){this.name=e,this.prefix=n,this.baseEncode=i,this.baseDecode=a,this.encoder=new e1e(e,n,i),this.decoder=new t1e(e,n,a)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const CS=({name:r,prefix:e,encode:n,decode:i})=>new n1e(r,e,n,i),vb=({prefix:r,name:e,alphabet:n})=>{const{encode:i,decode:a}=Jwe(n,e);return CS({prefix:r,name:e,encode:i,decode:s=>nZ(a(s))})},i1e=(r,e,n,i)=>{const a={};for(let d=0;d<e.length;++d)a[e[d]]=d;let s=r.length;for(;r[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let c=0,l=0,u=0;for(let d=0;d<s;++d){const f=a[r[d]];if(f===void 0)throw new SyntaxError(`Non-${i} character`);l=l<<n|f,c+=n,c>=8&&(c-=8,o[u++]=255&l>>c)}if(c>=n||255&l<<8-c)throw new SyntaxError("Unexpected end of data");return o},a1e=(r,e,n)=>{const i=e[e.length-1]==="=",a=(1<<n)-1;let s="",o=0,c=0;for(let l=0;l<r.length;++l)for(c=c<<8|r[l],o+=8;o>n;)o-=n,s+=e[a&c>>o];if(o&&(s+=e[a&c<<n-o]),i)for(;s.length*n&7;)s+="=";return s},ui=({name:r,prefix:e,bitsPerChar:n,alphabet:i})=>CS({prefix:e,name:r,encode(a){return a1e(a,i,n)},decode(a){return i1e(a,i,n,r)}}),s1e=CS({prefix:"\0",name:"identity",encode:r=>Qwe(r),decode:r=>Zwe(r)});var o1e=Object.freeze({__proto__:null,identity:s1e});const c1e=ui({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var l1e=Object.freeze({__proto__:null,base2:c1e});const u1e=ui({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var d1e=Object.freeze({__proto__:null,base8:u1e});const f1e=vb({prefix:"9",name:"base10",alphabet:"0123456789"});var h1e=Object.freeze({__proto__:null,base10:f1e});const p1e=ui({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),g1e=ui({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var m1e=Object.freeze({__proto__:null,base16:p1e,base16upper:g1e});const y1e=ui({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),v1e=ui({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),b1e=ui({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),w1e=ui({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),_1e=ui({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),x1e=ui({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),E1e=ui({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),S1e=ui({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),C1e=ui({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var A1e=Object.freeze({__proto__:null,base32:y1e,base32upper:v1e,base32pad:b1e,base32padupper:w1e,base32hex:_1e,base32hexupper:x1e,base32hexpad:E1e,base32hexpadupper:S1e,base32z:C1e});const T1e=vb({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),k1e=vb({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var P1e=Object.freeze({__proto__:null,base36:T1e,base36upper:k1e});const O1e=vb({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),N1e=vb({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var I1e=Object.freeze({__proto__:null,base58btc:O1e,base58flickr:N1e});const R1e=ui({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),$1e=ui({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),j1e=ui({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),D1e=ui({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var M1e=Object.freeze({__proto__:null,base64:R1e,base64pad:$1e,base64url:j1e,base64urlpad:D1e});const aZ=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),L1e=aZ.reduce((r,e,n)=>(r[n]=e,r),[]),U1e=aZ.reduce((r,e,n)=>(r[e.codePointAt(0)]=n,r),[]);function B1e(r){return r.reduce((e,n)=>(e+=L1e[n],e),"")}function F1e(r){const e=[];for(const n of r){const i=U1e[n.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(i)}return new Uint8Array(e)}const q1e=CS({prefix:"🚀",name:"base256emoji",encode:B1e,decode:F1e});var z1e=Object.freeze({__proto__:null,base256emoji:q1e}),H1e=sZ,lU=128,W1e=-128,V1e=Math.pow(2,31);function sZ(r,e,n){e=e||[],n=n||0;for(var i=n;r>=V1e;)e[n++]=r&255|lU,r/=128;for(;r&W1e;)e[n++]=r&255|lU,r>>>=7;return e[n]=r|0,sZ.bytes=n-i+1,e}var G1e=kR,K1e=128,uU=127;function kR(r,i){var n=0,i=i||0,a=0,s=i,o,c=r.length;do{if(s>=c)throw kR.bytes=0,new RangeError("Could not decode varint");o=r[s++],n+=a<28?(o&uU)<<a:(o&uU)*Math.pow(2,a),a+=7}while(o>=K1e);return kR.bytes=s-i,n}var Y1e=Math.pow(2,7),X1e=Math.pow(2,14),J1e=Math.pow(2,21),Z1e=Math.pow(2,28),Q1e=Math.pow(2,35),e_e=Math.pow(2,42),t_e=Math.pow(2,49),r_e=Math.pow(2,56),n_e=Math.pow(2,63),i_e=function(r){return r<Y1e?1:r<X1e?2:r<J1e?3:r<Z1e?4:r<Q1e?5:r<e_e?6:r<t_e?7:r<r_e?8:r<n_e?9:10},a_e={encode:H1e,decode:G1e,encodingLength:i_e},oZ=a_e;const dU=(r,e,n=0)=>(oZ.encode(r,e,n),e),fU=r=>oZ.encodingLength(r),PR=(r,e)=>{const n=e.byteLength,i=fU(r),a=i+fU(n),s=new Uint8Array(a+n);return dU(r,s,0),dU(n,s,i),s.set(e,a),new s_e(r,n,e,s)};let s_e=class{constructor(e,n,i,a){this.code=e,this.size=n,this.digest=i,this.bytes=a}};const cZ=({name:r,code:e,encode:n})=>new o_e(r,e,n);let o_e=class{constructor(e,n,i){this.name=e,this.code=n,this.encode=i}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?PR(this.code,n):n.then(i=>PR(this.code,i))}else throw Error("Unknown type, must be binary type")}};const lZ=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),c_e=cZ({name:"sha2-256",code:18,encode:lZ("SHA-256")}),l_e=cZ({name:"sha2-512",code:19,encode:lZ("SHA-512")});var u_e=Object.freeze({__proto__:null,sha256:c_e,sha512:l_e});const uZ=0,d_e="identity",dZ=nZ,f_e=r=>PR(uZ,dZ(r)),h_e={code:uZ,name:d_e,encode:dZ,digest:f_e};var p_e=Object.freeze({__proto__:null,identity:h_e});new TextEncoder,new TextDecoder;const hU={...o1e,...l1e,...d1e,...h1e,...m1e,...A1e,...P1e,...I1e,...M1e,...z1e};({...u_e,...p_e});function fZ(r,e,n,i){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:n},decoder:{decode:i}}}const pU=fZ("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),ET=fZ("ascii","a",r=>{let e="a";for(let n=0;n<r.length;n++)e+=String.fromCharCode(r[n]);return e},r=>{r=r.substring(1);const e=tZ(r.length);for(let n=0;n<r.length;n++)e[n]=r.charCodeAt(n);return e}),hZ={utf8:pU,"utf-8":pU,hex:hU.base16,latin1:ET,ascii:ET,binary:ET,...hU};function AS(r,e="utf8"){const n=hZ[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8"):n.encoder.encode(r).substring(1)}function Rg(r,e="utf8"){const n=hZ[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?ID(globalThis.Buffer.from(r,"utf-8")):n.decoder.decode(`${n.prefix}${r}`)}function gU(r){return hf(AS(Rg(r,SS),QJ))}function dx(r){return AS(Rg(sl(r),QJ),SS)}function pZ(r){const e=Rg(Gwe,cU),n=Vwe+AS(rZ([e,r]),cU);return[Hwe,Wwe,n].join(zwe)}function g_e(r){return AS(r,SS)}function m_e(r){return Rg(r,SS)}function y_e(r){return Rg([dx(r.header),dx(r.payload)].join(ux),eZ)}function v_e(r){return[dx(r.header),dx(r.payload),g_e(r.signature)].join(ux)}function OR(r){const e=r.split(ux),n=gU(e[0]),i=gU(e[1]),a=m_e(e[2]),s=Rg(e.slice(0,2).join(ux),eZ);return{header:n,payload:i,signature:a,data:s}}function mU(r=qJ(Kwe)){const e=ZJ.getPublicKey(r);return{secretKey:rZ([r,e]),publicKey:e}}async function b_e(r,e,n,i,a=$e.fromMiliseconds(Date.now())){const s={alg:Fwe,typ:qwe},o=pZ(i.publicKey),c=a+n,l={iss:o,sub:r,aud:e,iat:a,exp:c},u=y_e({header:s,payload:l}),d=ZJ.sign(u,i.secretKey.slice(0,32));return v_e({header:s,payload:l,signature:d})}var yU=function(r,e,n){if(n||arguments.length===2)for(var i=0,a=e.length,s;i<a;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return r.concat(s||Array.prototype.slice.call(e))},w_e=function(){function r(e,n,i){this.name=e,this.version=n,this.os=i,this.type="browser"}return r}(),__e=function(){function r(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return r}(),x_e=function(){function r(e,n,i,a){this.name=e,this.version=n,this.os=i,this.bot=a,this.type="bot-device"}return r}(),E_e=function(){function r(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return r}(),S_e=function(){function r(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return r}(),C_e=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,A_e=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,vU=3,T_e=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",C_e]],bU=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function k_e(r){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new S_e:typeof navigator<"u"?O_e(navigator.userAgent):I_e()}function P_e(r){return r!==""&&T_e.reduce(function(e,n){var i=n[0],a=n[1];if(e)return e;var s=a.exec(r);return!!s&&[i,s]},!1)}function O_e(r){var e=P_e(r);if(!e)return null;var n=e[0],i=e[1];if(n==="searchbot")return new E_e;var a=i[1]&&i[1].split(".").join("_").split("_").slice(0,3);a?a.length<vU&&(a=yU(yU([],a,!0),R_e(vU-a.length),!0)):a=[];var s=a.join("."),o=N_e(r),c=A_e.exec(r);return c&&c[1]?new x_e(n,s,o,c[1]):new w_e(n,s,o)}function N_e(r){for(var e=0,n=bU.length;e<n;e++){var i=bU[e],a=i[0],s=i[1],o=s.exec(r);if(o)return a}return null}function I_e(){var r=typeof process<"u"&&process.version;return r?new __e(process.version.slice(1)):null}function R_e(r){for(var e=[],n=0;n<r;n++)e.push("0");return e}var wr={},wU;function gZ(){if(wU)return wr;wU=1,Object.defineProperty(wr,"__esModule",{value:!0}),wr.getLocalStorage=wr.getLocalStorageOrThrow=wr.getCrypto=wr.getCryptoOrThrow=wr.getLocation=wr.getLocationOrThrow=wr.getNavigator=wr.getNavigatorOrThrow=wr.getDocument=wr.getDocumentOrThrow=wr.getFromWindowOrThrow=wr.getFromWindow=void 0;function r(p){let m;return typeof window<"u"&&typeof window[p]<"u"&&(m=window[p]),m}wr.getFromWindow=r;function e(p){const m=r(p);if(!m)throw new Error(`${p} is not defined in Window`);return m}wr.getFromWindowOrThrow=e;function n(){return e("document")}wr.getDocumentOrThrow=n;function i(){return r("document")}wr.getDocument=i;function a(){return e("navigator")}wr.getNavigatorOrThrow=a;function s(){return r("navigator")}wr.getNavigator=s;function o(){return e("location")}wr.getLocationOrThrow=o;function c(){return r("location")}wr.getLocation=c;function l(){return e("crypto")}wr.getCryptoOrThrow=l;function u(){return r("crypto")}wr.getCrypto=u;function d(){return e("localStorage")}wr.getLocalStorageOrThrow=d;function f(){return r("localStorage")}return wr.getLocalStorage=f,wr}var pf=gZ(),Hm={},_U;function $_e(){if(_U)return Hm;_U=1,Object.defineProperty(Hm,"__esModule",{value:!0}),Hm.getWindowMetadata=void 0;const r=gZ();function e(){let n,i;try{n=r.getDocumentOrThrow(),i=r.getLocationOrThrow()}catch{return null}function a(){const m=n.getElementsByTagName("link"),y=[];for(let v=0;v<m.length;v++){const b=m[v],w=b.getAttribute("rel");if(w&&w.toLowerCase().indexOf("icon")>-1){const x=b.getAttribute("href");if(x)if(x.toLowerCase().indexOf("https:")===-1&&x.toLowerCase().indexOf("http:")===-1&&x.indexOf("//")!==0){let E=i.protocol+"//"+i.host;if(x.indexOf("/")===0)E+=x;else{const A=i.pathname.split("/");A.pop();const S=A.join("/");E+=S+"/"+x}y.push(E)}else if(x.indexOf("//")===0){const E=i.protocol+x;y.push(E)}else y.push(x)}}return y}function s(...m){const y=n.getElementsByTagName("meta");for(let v=0;v<y.length;v++){const b=y[v],w=["itemprop","property","name"].map(x=>b.getAttribute(x)).filter(x=>x?m.includes(x):!1);if(w.length&&w){const x=b.getAttribute("content");if(x)return x}}return""}function o(){let m=s("name","og:site_name","og:title","twitter:title");return m||(m=n.title),m}function c(){return s("description","og:description","twitter:description","keywords")}const l=o(),u=c(),d=i.origin,f=a();return{description:u,url:d,icons:f,name:l}}return Hm.getWindowMetadata=e,Hm}var j_e=$_e();function Wv(r,{strict:e=!0}={}){return!r||typeof r!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(r):r.startsWith("0x")}function xU(r){return Wv(r,{strict:!1})?Math.ceil((r.length-2)/2):r.length}const mZ="2.23.2";let Wm={getDocsUrl:({docsBaseUrl:r,docsPath:e="",docsSlug:n})=>e?`${r??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${mZ}`};class gf extends Error{constructor(e,n={}){var c;const i=(()=>{var l;return n.cause instanceof gf?n.cause.details:(l=n.cause)!=null&&l.message?n.cause.message:n.details})(),a=n.cause instanceof gf&&n.cause.docsPath||n.docsPath,s=(c=Wm.getDocsUrl)==null?void 0:c.call(Wm,{...n,docsPath:a}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...i?[`Details: ${i}`]:[],...Wm.version?[`Version: ${Wm.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=i,this.docsPath=a,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=mZ}walk(e){return yZ(this,e)}}function yZ(r,e){return e!=null&&e(r)?r:r&&typeof r=="object"&&"cause"in r&&r.cause!==void 0?yZ(r.cause,e):e?null:r}class vZ extends gf{constructor({size:e,targetSize:n,type:i}){super(`${i.charAt(0).toUpperCase()}${i.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function $g(r,{dir:e,size:n=32}={}){return typeof r=="string"?D_e(r,{dir:e,size:n}):M_e(r,{dir:e,size:n})}function D_e(r,{dir:e,size:n=32}={}){if(n===null)return r;const i=r.replace("0x","");if(i.length>n*2)throw new vZ({size:Math.ceil(i.length/2),targetSize:n,type:"hex"});return`0x${i[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function M_e(r,{dir:e,size:n=32}={}){if(n===null)return r;if(r.length>n)throw new vZ({size:r.length,targetSize:n,type:"bytes"});const i=new Uint8Array(n);for(let a=0;a<n;a++){const s=e==="right";i[s?a:n-a-1]=r[s?a:r.length-a-1]}return i}class L_e extends gf{constructor({max:e,min:n,signed:i,size:a,value:s}){super(`Number "${s}" is not in safe ${a?`${a*8}-bit ${i?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class U_e extends gf{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function jg(r,{size:e}){if(xU(r)>e)throw new U_e({givenSize:xU(r),maxSize:e})}function NR(r,e={}){const{signed:n}=e;e.size&&jg(r,{size:e.size});const i=BigInt(r);if(!n)return i;const a=(r.length-2)/2,s=(1n<<BigInt(a)*8n-1n)-1n;return i<=s?i:i-BigInt(`0x${"f".padStart(a*2,"f")}`)-1n}function B_e(r,e={}){return Number(NR(r,e))}const F_e=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function IR(r,e={}){return typeof r=="number"||typeof r=="bigint"?wZ(r,e):typeof r=="string"?H_e(r,e):typeof r=="boolean"?q_e(r,e):bZ(r,e)}function q_e(r,e={}){const n=`0x${Number(r)}`;return typeof e.size=="number"?(jg(n,{size:e.size}),$g(n,{size:e.size})):n}function bZ(r,e={}){let n="";for(let a=0;a<r.length;a++)n+=F_e[r[a]];const i=`0x${n}`;return typeof e.size=="number"?(jg(i,{size:e.size}),$g(i,{dir:"right",size:e.size})):i}function wZ(r,e={}){const{signed:n,size:i}=e,a=BigInt(r);let s;i?n?s=(1n<<BigInt(i)*8n-1n)-1n:s=2n**(BigInt(i)*8n)-1n:typeof r=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&a>s||a<o){const l=typeof r=="bigint"?"n":"";throw new L_e({max:s?`${s}${l}`:void 0,min:`${o}${l}`,signed:n,size:i,value:`${r}${l}`})}const c=`0x${(n&&a<0?(1n<<BigInt(i*8))+BigInt(a):a).toString(16)}`;return i?$g(c,{size:i}):c}const z_e=new TextEncoder;function H_e(r,e={}){const n=z_e.encode(r);return bZ(n,e)}const W_e=new TextEncoder;function V_e(r,e={}){return typeof r=="number"||typeof r=="bigint"?K_e(r,e):typeof r=="boolean"?G_e(r,e):Wv(r)?_Z(r,e):xZ(r,e)}function G_e(r,e={}){const n=new Uint8Array(1);return n[0]=Number(r),typeof e.size=="number"?(jg(n,{size:e.size}),$g(n,{size:e.size})):n}const Ec={zero:48,nine:57,A:65,F:70,a:97,f:102};function EU(r){if(r>=Ec.zero&&r<=Ec.nine)return r-Ec.zero;if(r>=Ec.A&&r<=Ec.F)return r-(Ec.A-10);if(r>=Ec.a&&r<=Ec.f)return r-(Ec.a-10)}function _Z(r,e={}){let n=r;e.size&&(jg(n,{size:e.size}),n=$g(n,{dir:"right",size:e.size}));let i=n.slice(2);i.length%2&&(i=`0${i}`);const a=i.length/2,s=new Uint8Array(a);for(let o=0,c=0;o<a;o++){const l=EU(i.charCodeAt(c++)),u=EU(i.charCodeAt(c++));if(l===void 0||u===void 0)throw new gf(`Invalid byte sequence ("${i[c-2]}${i[c-1]}" in "${i}").`);s[o]=l*16+u}return s}function K_e(r,e){const n=wZ(r,e);return _Z(n)}function xZ(r,e={}){const n=W_e.encode(r);return typeof e.size=="number"?(jg(n,{size:e.size}),$g(n,{dir:"right",size:e.size})):n}function fx(r){if(!Number.isSafeInteger(r)||r<0)throw new Error("positive integer expected, got "+r)}function Y_e(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function TS(r,...e){if(!Y_e(r))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw new Error("Uint8Array expected of length "+e+", got length="+r.length)}function wlt(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");fx(r.outputLen),fx(r.blockLen)}function SU(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function X_e(r,e){TS(r);const n=e.outputLen;if(r.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const S1=BigInt(2**32-1),CU=BigInt(32);function J_e(r,e=!1){return e?{h:Number(r&S1),l:Number(r>>CU&S1)}:{h:Number(r>>CU&S1)|0,l:Number(r&S1)|0}}function Z_e(r,e=!1){let n=new Uint32Array(r.length),i=new Uint32Array(r.length);for(let a=0;a<r.length;a++){const{h:s,l:o}=J_e(r[a],e);[n[a],i[a]]=[s,o]}return[n,i]}const Q_e=(r,e,n)=>r<<n|e>>>32-n,exe=(r,e,n)=>e<<n|r>>>32-n,txe=(r,e,n)=>e<<n-32|r>>>64-n,rxe=(r,e,n)=>r<<n-32|e>>>64-n,bh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function nxe(r){return new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4))}function _lt(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function xlt(r,e){return r<<32-e|r>>>e}const AU=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function ixe(r){return r<<24&4278190080|r<<8&16711680|r>>>8&65280|r>>>24&255}function TU(r){for(let e=0;e<r.length;e++)r[e]=ixe(r[e])}function axe(r){if(typeof r!="string")throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array(new TextEncoder().encode(r))}function EZ(r){return typeof r=="string"&&(r=axe(r)),TS(r),r}function Elt(...r){let e=0;for(let i=0;i<r.length;i++){const a=r[i];TS(a),e+=a.length}const n=new Uint8Array(e);for(let i=0,a=0;i<r.length;i++){const s=r[i];n.set(s,a),a+=s.length}return n}class sxe{clone(){return this._cloneInto()}}function oxe(r){const e=i=>r().update(EZ(i)).digest(),n=r();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>r(),e}function Slt(r=32){if(bh&&typeof bh.getRandomValues=="function")return bh.getRandomValues(new Uint8Array(r));if(bh&&typeof bh.randomBytes=="function")return bh.randomBytes(r);throw new Error("crypto.getRandomValues must be defined")}const SZ=[],CZ=[],AZ=[],cxe=BigInt(0),Vm=BigInt(1),lxe=BigInt(2),uxe=BigInt(7),dxe=BigInt(256),fxe=BigInt(113);for(let r=0,e=Vm,n=1,i=0;r<24;r++){[n,i]=[i,(2*n+3*i)%5],SZ.push(2*(5*i+n)),CZ.push((r+1)*(r+2)/2%64);let a=cxe;for(let s=0;s<7;s++)e=(e<<Vm^(e>>uxe)*fxe)%dxe,e&lxe&&(a^=Vm<<(Vm<<BigInt(s))-Vm);AZ.push(a)}const[hxe,pxe]=Z_e(AZ,!0),kU=(r,e,n)=>n>32?txe(r,e,n):Q_e(r,e,n),PU=(r,e,n)=>n>32?rxe(r,e,n):exe(r,e,n);function gxe(r,e=24){const n=new Uint32Array(10);for(let i=24-e;i<24;i++){for(let o=0;o<10;o++)n[o]=r[o]^r[o+10]^r[o+20]^r[o+30]^r[o+40];for(let o=0;o<10;o+=2){const c=(o+8)%10,l=(o+2)%10,u=n[l],d=n[l+1],f=kU(u,d,1)^n[c],p=PU(u,d,1)^n[c+1];for(let m=0;m<50;m+=10)r[o+m]^=f,r[o+m+1]^=p}let a=r[2],s=r[3];for(let o=0;o<24;o++){const c=CZ[o],l=kU(a,s,c),u=PU(a,s,c),d=SZ[o];a=r[d],s=r[d+1],r[d]=l,r[d+1]=u}for(let o=0;o<50;o+=10){for(let c=0;c<10;c++)n[c]=r[o+c];for(let c=0;c<10;c++)r[o+c]^=~n[(c+2)%10]&n[(c+4)%10]}r[0]^=hxe[i],r[1]^=pxe[i]}n.fill(0)}class RD extends sxe{constructor(e,n,i,a=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=i,this.enableXOF=a,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,fx(i),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=nxe(this.state)}keccak(){AU||TU(this.state32),gxe(this.state32,this.rounds),AU||TU(this.state32),this.posOut=0,this.pos=0}update(e){SU(this);const{blockLen:n,state:i}=this;e=EZ(e);const a=e.length;for(let s=0;s<a;){const o=Math.min(n-this.pos,a-s);for(let c=0;c<o;c++)i[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:i,blockLen:a}=this;e[i]^=n,(n&128)!==0&&i===a-1&&this.keccak(),e[a-1]^=128,this.keccak()}writeInto(e){SU(this,!1),TS(e),this.finish();const n=this.state,{blockLen:i}=this;for(let a=0,s=e.length;a<s;){this.posOut>=i&&this.keccak();const o=Math.min(i-this.posOut,s-a);e.set(n.subarray(this.posOut,this.posOut+o),a),this.posOut+=o,a+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return fx(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(X_e(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:i,outputLen:a,rounds:s,enableXOF:o}=this;return e||(e=new RD(n,i,a,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=i,e.outputLen=a,e.enableXOF=o,e.destroyed=this.destroyed,e}}const mxe=(r,e,n)=>oxe(()=>new RD(e,r,n)),yxe=mxe(1,136,256/8);function TZ(r,e){const n=e||"hex",i=yxe(Wv(r,{strict:!1})?V_e(r):r);return n==="bytes"?i:IR(i)}class vxe extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const i=this.keys().next().value;i&&this.delete(i)}return this}}const ST=new vxe(8192);function bxe(r,e){if(ST.has(`${r}.${e}`))return ST.get(`${r}.${e}`);const n=r.substring(2).toLowerCase(),i=TZ(xZ(n),"bytes"),a=n.split("");for(let o=0;o<40;o+=2)i[o>>1]>>4>=8&&a[o]&&(a[o]=a[o].toUpperCase()),(i[o>>1]&15)>=8&&a[o+1]&&(a[o+1]=a[o+1].toUpperCase());const s=`0x${a.join("")}`;return ST.set(`${r}.${e}`,s),s}function wxe(r){const e=TZ(`0x${r.substring(4)}`).substring(26);return bxe(`0x${e}`)}async function _xe({hash:r,signature:e}){const n=Wv(r)?r:IR(r),{secp256k1:i}=await dn(async()=>{const{secp256k1:o}=await import("./secp256k1-BiwCvvPG.js");return{secp256k1:o}},[],import.meta.url);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:u,s:d,v:f,yParity:p}=e,m=Number(p??f),y=OU(m);return new i.Signature(NR(u),NR(d)).addRecoveryBit(y)}const o=Wv(e)?e:IR(e),c=B_e(`0x${o.slice(130)}`),l=OU(c);return i.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(l)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function OU(r){if(r===0||r===1)return r;if(r===27)return 0;if(r===28)return 1;throw new Error("Invalid yParityOrV value")}async function xxe({hash:r,signature:e}){return wxe(await _xe({hash:r,signature:e}))}function Exe(r){if(r.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let u=0;u<e.length;u++)e[u]=255;for(let u=0;u<r.length;u++){const d=r.charAt(u),f=d.charCodeAt(0);if(e[f]!==255)throw new TypeError(d+" is ambiguous");e[f]=u}const n=r.length,i=r.charAt(0),a=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function o(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";let d=0,f=0,p=0;const m=u.length;for(;p!==m&&u[p]===0;)p++,d++;const y=(m-p)*s+1>>>0,v=new Uint8Array(y);for(;p!==m;){let x=u[p],E=0;for(let A=y-1;(x!==0||E<f)&&A!==-1;A--,E++)x+=256*v[A]>>>0,v[A]=x%n>>>0,x=x/n>>>0;if(x!==0)throw new Error("Non-zero carry");f=E,p++}let b=y-f;for(;b!==y&&v[b]===0;)b++;let w=i.repeat(d);for(;b<y;++b)w+=r.charAt(v[b]);return w}function c(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;let d=0,f=0,p=0;for(;u[d]===i;)f++,d++;const m=(u.length-d)*a+1>>>0,y=new Uint8Array(m);for(;d<u.length;){const x=u.charCodeAt(d);if(x>255)return;let E=e[x];if(E===255)return;let A=0;for(let S=m-1;(E!==0||A<p)&&S!==-1;S--,A++)E+=n*y[S]>>>0,y[S]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");p=A,d++}let v=m-p;for(;v!==m&&y[v]===0;)v++;const b=new Uint8Array(f+(m-v));let w=f;for(;v!==m;)b[w++]=y[v++];return b}function l(u){const d=c(u);if(d)return d;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:c,decode:l}}var Sxe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const kZ=Exe(Sxe);function PZ(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(r):new Uint8Array(r)}function zy(r,e){e||(e=r.reduce((a,s)=>a+s.length,0));const n=PZ(e);let i=0;for(const a of r)n.set(a,i),i+=a.length;return n}function Cxe(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var a=0;a<r.length;a++){var s=r.charAt(a),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=a}var c=r.length,l=r.charAt(0),u=Math.log(c)/Math.log(256),d=Math.log(256)/Math.log(c);function f(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";for(var v=0,b=0,w=0,x=y.length;w!==x&&y[w]===0;)w++,v++;for(var E=(x-w)*d+1>>>0,A=new Uint8Array(E);w!==x;){for(var S=y[w],C=0,P=E-1;(S!==0||C<b)&&P!==-1;P--,C++)S+=256*A[P]>>>0,A[P]=S%c>>>0,S=S/c>>>0;if(S!==0)throw new Error("Non-zero carry");b=C,w++}for(var O=E-b;O!==E&&A[O]===0;)O++;for(var I=l.repeat(v);O<E;++O)I+=r.charAt(A[O]);return I}function p(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;var v=0;if(y[v]!==" "){for(var b=0,w=0;y[v]===l;)b++,v++;for(var x=(y.length-v)*u+1>>>0,E=new Uint8Array(x);y[v];){var A=n[y.charCodeAt(v)];if(A===255)return;for(var S=0,C=x-1;(A!==0||S<w)&&C!==-1;C--,S++)A+=c*E[C]>>>0,E[C]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");w=S,v++}if(y[v]!==" "){for(var P=x-w;P!==x&&E[P]===0;)P++;for(var O=new Uint8Array(b+(x-P)),I=b;P!==x;)O[I++]=E[P++];return O}}}function m(y){var v=p(y);if(v)return v;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:p,decode:m}}var Axe=Cxe,Txe=Axe;const kxe=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},Pxe=r=>new TextEncoder().encode(r),Oxe=r=>new TextDecoder().decode(r);class Nxe{constructor(e,n,i){this.name=e,this.prefix=n,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Ixe{constructor(e,n,i){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return OZ(this,e)}}class Rxe{constructor(e){this.decoders=e}or(e){return OZ(this,e)}decode(e){const n=e[0],i=this.decoders[n];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const OZ=(r,e)=>new Rxe({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class $xe{constructor(e,n,i,a){this.name=e,this.prefix=n,this.baseEncode=i,this.baseDecode=a,this.encoder=new Nxe(e,n,i),this.decoder=new Ixe(e,n,a)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const kS=({name:r,prefix:e,encode:n,decode:i})=>new $xe(r,e,n,i),bb=({prefix:r,name:e,alphabet:n})=>{const{encode:i,decode:a}=Txe(n,e);return kS({prefix:r,name:e,encode:i,decode:s=>kxe(a(s))})},jxe=(r,e,n,i)=>{const a={};for(let d=0;d<e.length;++d)a[e[d]]=d;let s=r.length;for(;r[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let c=0,l=0,u=0;for(let d=0;d<s;++d){const f=a[r[d]];if(f===void 0)throw new SyntaxError(`Non-${i} character`);l=l<<n|f,c+=n,c>=8&&(c-=8,o[u++]=255&l>>c)}if(c>=n||255&l<<8-c)throw new SyntaxError("Unexpected end of data");return o},Dxe=(r,e,n)=>{const i=e[e.length-1]==="=",a=(1<<n)-1;let s="",o=0,c=0;for(let l=0;l<r.length;++l)for(c=c<<8|r[l],o+=8;o>n;)o-=n,s+=e[a&c>>o];if(o&&(s+=e[a&c<<n-o]),i)for(;s.length*n&7;)s+="=";return s},di=({name:r,prefix:e,bitsPerChar:n,alphabet:i})=>kS({prefix:e,name:r,encode(a){return Dxe(a,i,n)},decode(a){return jxe(a,i,n,r)}}),Mxe=kS({prefix:"\0",name:"identity",encode:r=>Oxe(r),decode:r=>Pxe(r)}),Lxe=Object.freeze(Object.defineProperty({__proto__:null,identity:Mxe},Symbol.toStringTag,{value:"Module"})),Uxe=di({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Bxe=Object.freeze(Object.defineProperty({__proto__:null,base2:Uxe},Symbol.toStringTag,{value:"Module"})),Fxe=di({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),qxe=Object.freeze(Object.defineProperty({__proto__:null,base8:Fxe},Symbol.toStringTag,{value:"Module"})),zxe=bb({prefix:"9",name:"base10",alphabet:"0123456789"}),Hxe=Object.freeze(Object.defineProperty({__proto__:null,base10:zxe},Symbol.toStringTag,{value:"Module"})),Wxe=di({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Vxe=di({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Gxe=Object.freeze(Object.defineProperty({__proto__:null,base16:Wxe,base16upper:Vxe},Symbol.toStringTag,{value:"Module"})),Kxe=di({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Yxe=di({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Xxe=di({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Jxe=di({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Zxe=di({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Qxe=di({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),eEe=di({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),tEe=di({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),rEe=di({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),nEe=Object.freeze(Object.defineProperty({__proto__:null,base32:Kxe,base32hex:Zxe,base32hexpad:eEe,base32hexpadupper:tEe,base32hexupper:Qxe,base32pad:Xxe,base32padupper:Jxe,base32upper:Yxe,base32z:rEe},Symbol.toStringTag,{value:"Module"})),iEe=bb({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),aEe=bb({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),sEe=Object.freeze(Object.defineProperty({__proto__:null,base36:iEe,base36upper:aEe},Symbol.toStringTag,{value:"Module"})),oEe=bb({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),cEe=bb({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),lEe=Object.freeze(Object.defineProperty({__proto__:null,base58btc:oEe,base58flickr:cEe},Symbol.toStringTag,{value:"Module"})),uEe=di({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),dEe=di({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),fEe=di({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),hEe=di({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),pEe=Object.freeze(Object.defineProperty({__proto__:null,base64:uEe,base64pad:dEe,base64url:fEe,base64urlpad:hEe},Symbol.toStringTag,{value:"Module"})),NZ=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),gEe=NZ.reduce((r,e,n)=>(r[n]=e,r),[]),mEe=NZ.reduce((r,e,n)=>(r[e.codePointAt(0)]=n,r),[]);function yEe(r){return r.reduce((e,n)=>(e+=gEe[n],e),"")}function vEe(r){const e=[];for(const n of r){const i=mEe[n.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(i)}return new Uint8Array(e)}const bEe=kS({prefix:"🚀",name:"base256emoji",encode:yEe,decode:vEe}),wEe=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:bEe},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const NU={...Lxe,...Bxe,...qxe,...Hxe,...Gxe,...nEe,...sEe,...lEe,...pEe,...wEe};function IZ(r,e,n,i){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:n},decoder:{decode:i}}}const IU=IZ("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),CT=IZ("ascii","a",r=>{let e="a";for(let n=0;n<r.length;n++)e+=String.fromCharCode(r[n]);return e},r=>{r=r.substring(1);const e=PZ(r.length);for(let n=0;n<r.length;n++)e[n]=r.charCodeAt(n);return e}),RZ={utf8:IU,"utf-8":IU,hex:NU.base16,latin1:CT,ascii:CT,binary:CT,...NU};function fs(r,e="utf8"){const n=RZ[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r,"utf8"):n.decoder.decode(`${n.prefix}${r}`)}function da(r,e="utf8"){const n=RZ[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8"):n.encoder.encode(r).substring(1)}const _Ee={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var xEe={};const EEe=":";function dp(r){const[e,n]=r.split(EEe);return{namespace:e,reference:n}}function $Z(r,e){return r.includes(":")?[r]:e.chains||[]}var SEe=Object.defineProperty,CEe=Object.defineProperties,AEe=Object.getOwnPropertyDescriptors,RU=Object.getOwnPropertySymbols,TEe=Object.prototype.hasOwnProperty,kEe=Object.prototype.propertyIsEnumerable,$U=(r,e,n)=>e in r?SEe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,jU=(r,e)=>{for(var n in e||(e={}))TEe.call(e,n)&&$U(r,n,e[n]);if(RU)for(var n of RU(e))kEe.call(e,n)&&$U(r,n,e[n]);return r},PEe=(r,e)=>CEe(r,AEe(e));const OEe="ReactNative",La={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},NEe="js";function hx(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Bu(){return!pf.getDocument()&&!!pf.getNavigator()&&navigator.product===OEe}function IEe(){return Bu()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function REe(){return Bu()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function wb(){return!hx()&&!!pf.getNavigator()&&!!pf.getDocument()}function _b(){return Bu()?La.reactNative:hx()?La.node:wb()?La.browser:La.unknown}function DU(){var r;try{return Bu()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(r=global.Application)==null?void 0:r.applicationId:void 0}catch{return}}function $Ee(r,e){const n=new URLSearchParams(r);for(const i of Object.keys(e).sort())if(e.hasOwnProperty(i)){const a=e[i];a!==void 0&&n.set(i,a)}return n.toString()}function jEe(r){var e,n;const i=jZ();try{return r!=null&&r.url&&i.url&&r.url!==i.url&&(console.warn(`The configured WalletConnect 'metadata.url':${r.url} differs from the actual page url:${i.url}. This is probably unintended and can lead to issues.`),r.url=i.url),(e=r==null?void 0:r.icons)!=null&&e.length&&r.icons.length>0&&(r.icons=r.icons.filter(a=>a!=="")),PEe(jU(jU({},i),r),{url:(r==null?void 0:r.url)||i.url,name:(r==null?void 0:r.name)||i.name,description:(r==null?void 0:r.description)||i.description,icons:(n=r==null?void 0:r.icons)!=null&&n.length&&r.icons.length>0?r.icons:i.icons})}catch(a){return console.warn("Error populating app metadata",a),r||i}}function jZ(){return j_e.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function DEe(){if(_b()===La.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:i}=global.Platform;return[n,i].join("-")}const r=k_e();if(r===null)return"unknown";const e=r.os?r.os.replace(" ","").toLowerCase():"unknown";return r.type==="browser"?[e,r.name,r.version].join("-"):[e,r.version].join("-")}function MEe(){var r;const e=_b();return e===La.browser?[e,((r=pf.getLocation())==null?void 0:r.host)||"unknown"].join(":"):e}function DZ(r,e,n){const i=DEe(),a=MEe();return[[r,e].join("-"),[NEe,n].join("-"),i,a].join("/")}function LEe({protocol:r,version:e,relayUrl:n,sdkVersion:i,auth:a,projectId:s,useOnCloseEvent:o,bundleId:c,packageName:l}){const u=n.split("?"),d=DZ(r,e,i),f={auth:a,ua:d,projectId:s,useOnCloseEvent:o,packageName:l||void 0,bundleId:c||void 0},p=$Ee(u[1]||"",f);return u[0]+"?"+p}function Dd(r,e){return r.filter(n=>e.includes(n)).length===r.length}function RR(r){return Object.fromEntries(r.entries())}function $R(r){return new Map(Object.entries(r))}function wd(r=$e.FIVE_MINUTES,e){const n=$e.toMiliseconds(r||$e.FIVE_MINUTES);let i,a,s,o;return{resolve:c=>{s&&i&&(clearTimeout(s),i(c),o=Promise.resolve(c))},reject:c=>{s&&a&&(clearTimeout(s),a(c))},done:()=>new Promise((c,l)=>{if(o)return c(o);s=setTimeout(()=>{const u=new Error(e);o=Promise.reject(u),l(u)},n),i=c,a=l})}}function xu(r,e,n){return new Promise(async(i,a)=>{const s=setTimeout(()=>a(new Error(n)),e);try{const o=await r;i(o)}catch(o){a(o)}clearTimeout(s)})}function MZ(r,e){if(typeof e=="string"&&e.startsWith(`${r}:`))return e;if(r.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(r.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${r}`)}function UEe(r){return MZ("topic",r)}function BEe(r){return MZ("id",r)}function LZ(r){const[e,n]=r.split(":"),i={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")i.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))i.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return i}function Pn(r,e){return $e.fromMiliseconds(Date.now()+$e.toMiliseconds(r))}function su(r){return Date.now()>=$e.toMiliseconds(r)}function ur(r,e){return`${r}${e?`:${e}`:""}`}function k_(r=[],e=[]){return[...new Set([...r,...e])]}async function FEe({id:r,topic:e,wcDeepLink:n}){var i;try{if(!n)return;const a=typeof n=="string"?JSON.parse(n):n,s=a==null?void 0:a.href;if(typeof s!="string")return;const o=qEe(s,r,e),c=_b();if(c===La.browser){if(!((i=pf.getDocument())!=null&&i.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}zEe(o)}else c===La.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(a){console.error(a)}}function qEe(r,e,n){const i=`requestId=${e}&sessionTopic=${n}`;r.endsWith("/")&&(r=r.slice(0,-1));let a=`${r}`;if(r.startsWith("https://t.me")){const s=r.includes("?")?"&startapp=":"?startapp=";a=`${a}${s}${GEe(i,!0)}`}else a=`${a}/wc?${i}`;return a}function zEe(r){let e="_self";VEe()?e="_top":(WEe()||r.startsWith("https://")||r.startsWith("http://"))&&(e="_blank"),window.open(r,e,"noreferrer noopener")}async function HEe(r,e){let n="";try{if(wb()&&(n=localStorage.getItem(e),n))return n;n=await r.getItem(e)}catch(i){console.error(i)}return n}function MU(r,e){if(!r.includes(e))return null;const n=r.split(/([&,?,=])/),i=n.indexOf(e);return n[i+2]}function LU(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,r=>{const e=Math.random()*16|0;return(r==="x"?e:e&3|8).toString(16)})}function $D(){return typeof process<"u"&&xEe.IS_VITEST==="true"}function WEe(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function VEe(){try{return window.self!==window.top}catch{return!1}}function GEe(r,e=!1){const n=Buffer.from(r).toString("base64");return e?n.replace(/[=]/g,""):n}function UZ(r){return Buffer.from(r,"base64").toString("utf-8")}function KEe(r){return new Promise(e=>setTimeout(e,r))}function Vv(r){if(!Number.isSafeInteger(r)||r<0)throw new Error("positive integer expected, got "+r)}function YEe(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function xb(r,...e){if(!YEe(r))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw new Error("Uint8Array expected of length "+e+", got length="+r.length)}function jD(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Vv(r.outputLen),Vv(r.blockLen)}function Dp(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function BZ(r,e){xb(r);const n=e.outputLen;if(r.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const C1=BigInt(2**32-1),UU=BigInt(32);function XEe(r,e=!1){return e?{h:Number(r&C1),l:Number(r>>UU&C1)}:{h:Number(r>>UU&C1)|0,l:Number(r&C1)|0}}function JEe(r,e=!1){let n=new Uint32Array(r.length),i=new Uint32Array(r.length);for(let a=0;a<r.length;a++){const{h:s,l:o}=XEe(r[a],e);[n[a],i[a]]=[s,o]}return[n,i]}const ZEe=(r,e,n)=>r<<n|e>>>32-n,QEe=(r,e,n)=>e<<n|r>>>32-n,eSe=(r,e,n)=>e<<n-32|r>>>64-n,tSe=(r,e,n)=>r<<n-32|e>>>64-n,wh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function rSe(r){return new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4))}function AT(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function _o(r,e){return r<<32-e|r>>>e}const BU=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function nSe(r){return r<<24&4278190080|r<<8&16711680|r>>>8&65280|r>>>24&255}function FU(r){for(let e=0;e<r.length;e++)r[e]=nSe(r[e])}function iSe(r){if(typeof r!="string")throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array(new TextEncoder().encode(r))}function Mp(r){return typeof r=="string"&&(r=iSe(r)),xb(r),r}function aSe(...r){let e=0;for(let i=0;i<r.length;i++){const a=r[i];xb(a),e+=a.length}const n=new Uint8Array(e);for(let i=0,a=0;i<r.length;i++){const s=r[i];n.set(s,a),a+=s.length}return n}let DD=class{clone(){return this._cloneInto()}};function FZ(r){const e=i=>r().update(Mp(i)).digest(),n=r();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>r(),e}function Dg(r=32){if(wh&&typeof wh.getRandomValues=="function")return wh.getRandomValues(new Uint8Array(r));if(wh&&typeof wh.randomBytes=="function")return wh.randomBytes(r);throw new Error("crypto.getRandomValues must be defined")}const qZ=[],zZ=[],HZ=[],sSe=BigInt(0),Gm=BigInt(1),oSe=BigInt(2),cSe=BigInt(7),lSe=BigInt(256),uSe=BigInt(113);for(let r=0,e=Gm,n=1,i=0;r<24;r++){[n,i]=[i,(2*n+3*i)%5],qZ.push(2*(5*i+n)),zZ.push((r+1)*(r+2)/2%64);let a=sSe;for(let s=0;s<7;s++)e=(e<<Gm^(e>>cSe)*uSe)%lSe,e&oSe&&(a^=Gm<<(Gm<<BigInt(s))-Gm);HZ.push(a)}const[dSe,fSe]=JEe(HZ,!0),qU=(r,e,n)=>n>32?eSe(r,e,n):ZEe(r,e,n),zU=(r,e,n)=>n>32?tSe(r,e,n):QEe(r,e,n);function hSe(r,e=24){const n=new Uint32Array(10);for(let i=24-e;i<24;i++){for(let o=0;o<10;o++)n[o]=r[o]^r[o+10]^r[o+20]^r[o+30]^r[o+40];for(let o=0;o<10;o+=2){const c=(o+8)%10,l=(o+2)%10,u=n[l],d=n[l+1],f=qU(u,d,1)^n[c],p=zU(u,d,1)^n[c+1];for(let m=0;m<50;m+=10)r[o+m]^=f,r[o+m+1]^=p}let a=r[2],s=r[3];for(let o=0;o<24;o++){const c=zZ[o],l=qU(a,s,c),u=zU(a,s,c),d=qZ[o];a=r[d],s=r[d+1],r[d]=l,r[d+1]=u}for(let o=0;o<50;o+=10){for(let c=0;c<10;c++)n[c]=r[o+c];for(let c=0;c<10;c++)r[o+c]^=~n[(c+2)%10]&n[(c+4)%10]}r[0]^=dSe[i],r[1]^=fSe[i]}n.fill(0)}let pSe=class WZ extends DD{constructor(e,n,i,a=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=i,this.enableXOF=a,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Vv(i),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=rSe(this.state)}keccak(){BU||FU(this.state32),hSe(this.state32,this.rounds),BU||FU(this.state32),this.posOut=0,this.pos=0}update(e){Dp(this);const{blockLen:n,state:i}=this;e=Mp(e);const a=e.length;for(let s=0;s<a;){const o=Math.min(n-this.pos,a-s);for(let c=0;c<o;c++)i[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:i,blockLen:a}=this;e[i]^=n,(n&128)!==0&&i===a-1&&this.keccak(),e[a-1]^=128,this.keccak()}writeInto(e){Dp(this,!1),xb(e),this.finish();const n=this.state,{blockLen:i}=this;for(let a=0,s=e.length;a<s;){this.posOut>=i&&this.keccak();const o=Math.min(i-this.posOut,s-a);e.set(n.subarray(this.posOut,this.posOut+o),a),this.posOut+=o,a+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Vv(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(BZ(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:i,outputLen:a,rounds:s,enableXOF:o}=this;return e||(e=new WZ(n,i,a,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=i,e.outputLen=a,e.enableXOF=o,e.destroyed=this.destroyed,e}};const gSe=(r,e,n)=>FZ(()=>new pSe(e,r,n)),mSe=gSe(1,136,256/8),ySe="https://rpc.walletconnect.org/v1";function VZ(r){const e=`Ethereum Signed Message:
${r.length}`,n=new TextEncoder().encode(e+r);return"0x"+Buffer.from(mSe(n)).toString("hex")}async function vSe(r,e,n,i,a,s){switch(n.t){case"eip191":return await bSe(r,e,n.s);case"eip1271":return await wSe(r,e,n.s,i,a,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function bSe(r,e,n){return(await xxe({hash:VZ(e),signature:n})).toLowerCase()===r.toLowerCase()}async function wSe(r,e,n,i,a,s){const o=dp(i);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${i}`);try{const c="0x1626ba7e",l="0000000000000000000000000000000000000000000000000000000000000040",u="0000000000000000000000000000000000000000000000000000000000000041",d=n.substring(2),f=VZ(e).substring(2),p=c+f+l+u+d,m=await fetch(`${s||ySe}/?chainId=${i}&projectId=${a}`,{method:"POST",body:JSON.stringify({id:_Se(),jsonrpc:"2.0",method:"eth_call",params:[{to:r,data:p},"latest"]})}),{result:y}=await m.json();return y?y.slice(0,c.length).toLowerCase()===c.toLowerCase():!1}catch(c){return console.error("isValidEip1271Signature: ",c),!1}}function _Se(){return Date.now()+Math.floor(Math.random()*1e3)}function xSe(r){const e=atob(r),n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);const i=n[0];if(i===0)throw new Error("No signatures found");const a=1+i*64;if(n.length<a)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const s=Buffer.from(r,"base64").slice(1,65);return kZ.encode(s)}var ESe=Object.defineProperty,SSe=Object.defineProperties,CSe=Object.getOwnPropertyDescriptors,HU=Object.getOwnPropertySymbols,ASe=Object.prototype.hasOwnProperty,TSe=Object.prototype.propertyIsEnumerable,WU=(r,e,n)=>e in r?ESe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,kSe=(r,e)=>{for(var n in e||(e={}))ASe.call(e,n)&&WU(r,n,e[n]);if(HU)for(var n of HU(e))TSe.call(e,n)&&WU(r,n,e[n]);return r},PSe=(r,e)=>SSe(r,CSe(e));const OSe="did:pkh:",MD=r=>r==null?void 0:r.split(":"),NSe=r=>{const e=r&&MD(r);if(e)return r.includes(OSe)?e[3]:e[1]},jR=r=>{const e=r&&MD(r);if(e)return e[2]+":"+e[3]},px=r=>{const e=r&&MD(r);if(e)return e.pop()};async function VU(r){const{cacao:e,projectId:n}=r,{s:i,p:a}=e,s=GZ(a,a.iss),o=px(a.iss);return await vSe(o,s,i,jR(a.iss),n)}const GZ=(r,e)=>{const n=`${r.domain} wants you to sign in with your Ethereum account:`,i=px(e);if(!r.aud&&!r.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let a=r.statement||void 0;const s=`URI: ${r.aud||r.uri}`,o=`Version: ${r.version}`,c=`Chain ID: ${NSe(e)}`,l=`Nonce: ${r.nonce}`,u=`Issued At: ${r.iat}`,d=r.exp?`Expiration Time: ${r.exp}`:void 0,f=r.nbf?`Not Before: ${r.nbf}`:void 0,p=r.requestId?`Request ID: ${r.requestId}`:void 0,m=r.resources?`Resources:${r.resources.map(v=>`
- ${v}`).join("")}`:void 0,y=P_(r.resources);if(y){const v=Gv(y);a=BSe(a,v)}return[n,i,"",a,"",s,o,c,l,u,d,f,p,m].filter(v=>v!=null).join(`
`)};function ISe(r){return Buffer.from(JSON.stringify(r)).toString("base64")}function RSe(r){return JSON.parse(Buffer.from(r,"base64").toString("utf-8"))}function mf(r){if(!r)throw new Error("No recap provided, value is undefined");if(!r.att)throw new Error("No `att` property found");const e=Object.keys(r.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const i=r.att[n];if(Array.isArray(i))throw new Error(`Resource must be an object: ${n}`);if(typeof i!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(i).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(i).forEach(a=>{const s=i[a];if(!Array.isArray(s))throw new Error(`Ability limits ${a} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${a} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${a}) must be an array of objects, found: ${o}`)})})})}function $Se(r,e,n,i={}){return n==null||n.sort((a,s)=>a.localeCompare(s)),{att:{[r]:jSe(e,n,i)}}}function jSe(r,e,n={}){e=e==null?void 0:e.sort((a,s)=>a.localeCompare(s));const i=e.map(a=>({[`${r}/${a}`]:[n]}));return Object.assign({},...i)}function KZ(r){return mf(r),`urn:recap:${ISe(r).replace(/=/g,"")}`}function Gv(r){const e=RSe(r.replace("urn:recap:",""));return mf(e),e}function DSe(r,e,n){const i=$Se(r,e,n);return KZ(i)}function MSe(r){return r&&r.includes("urn:recap:")}function LSe(r,e){const n=Gv(r),i=Gv(e),a=USe(n,i);return KZ(a)}function USe(r,e){mf(r),mf(e);const n=Object.keys(r.att).concat(Object.keys(e.att)).sort((a,s)=>a.localeCompare(s)),i={att:{}};return n.forEach(a=>{var s,o;Object.keys(((s=r.att)==null?void 0:s[a])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[a])||{})).sort((c,l)=>c.localeCompare(l)).forEach(c=>{var l,u;i.att[a]=PSe(kSe({},i.att[a]),{[c]:((l=r.att[a])==null?void 0:l[c])||((u=e.att[a])==null?void 0:u[c])})})}),i}function BSe(r="",e){mf(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(r.includes(n))return r;const i=[];let a=0;Object.keys(e.att).forEach(c=>{const l=Object.keys(e.att[c]).map(f=>({ability:f.split("/")[0],action:f.split("/")[1]}));l.sort((f,p)=>f.action.localeCompare(p.action));const u={};l.forEach(f=>{u[f.ability]||(u[f.ability]=[]),u[f.ability].push(f.action)});const d=Object.keys(u).map(f=>(a++,`(${a}) '${f}': '${u[f].join("', '")}' for '${c}'.`));i.push(d.join(", ").replace(".,","."))});const s=i.join(" "),o=`${n}${s}`;return`${r?r+" ":""}${o}`}function GU(r){var e;const n=Gv(r);mf(n);const i=(e=n.att)==null?void 0:e.eip155;return i?Object.keys(i).map(a=>a.split("/")[1]):[]}function KU(r){const e=Gv(r);mf(e);const n=[];return Object.values(e.att).forEach(i=>{Object.values(i).forEach(a=>{var s;(s=a==null?void 0:a[0])!=null&&s.chains&&n.push(a[0].chains)})}),[...new Set(n.flat())]}function P_(r){if(!r)return;const e=r==null?void 0:r[r.length-1];return MSe(e)?e:void 0}function TT(r){if(!Number.isSafeInteger(r)||r<0)throw new Error("positive integer expected, got "+r)}function YZ(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function ja(r,...e){if(!YZ(r))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw new Error("Uint8Array expected of length "+e+", got length="+r.length)}function YU(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function FSe(r,e){ja(r);const n=e.outputLen;if(r.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function XU(r){if(typeof r!="boolean")throw new Error(`boolean expected, not ${r}`)}const ku=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4)),qSe=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),zSe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!zSe)throw new Error("Non little-endian hardware is not supported");function HSe(r){if(typeof r!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(r))}function DR(r){if(typeof r=="string")r=HSe(r);else if(YZ(r))r=MR(r);else throw new Error("Uint8Array expected, got "+typeof r);return r}function WSe(r,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(r,e)}function VSe(r,e){if(r.length!==e.length)return!1;let n=0;for(let i=0;i<r.length;i++)n|=r[i]^e[i];return n===0}const GSe=(r,e)=>{function n(i,...a){if(ja(i),r.nonceLength!==void 0){const u=a[0];if(!u)throw new Error("nonce / iv required");r.varSizeNonce?ja(u):ja(u,r.nonceLength)}const s=r.tagLength;s&&a[1]!==void 0&&ja(a[1]);const o=e(i,...a),c=(u,d)=>{if(d!==void 0){if(u!==2)throw new Error("cipher output not supported");ja(d)}};let l=!1;return{encrypt(u,d){if(l)throw new Error("cannot encrypt() twice with same key + nonce");return l=!0,ja(u),c(o.encrypt.length,d),o.encrypt(u,d)},decrypt(u,d){if(ja(u),s&&u.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return c(o.decrypt.length,d),o.decrypt(u,d)}}}return Object.assign(n,r),n};function JU(r,e,n=!0){if(e===void 0)return new Uint8Array(r);if(e.length!==r)throw new Error("invalid output length, expected "+r+", got: "+e.length);if(n&&!KSe(e))throw new Error("invalid output, must be aligned");return e}function ZU(r,e,n,i){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,n,i);const a=BigInt(32),s=BigInt(4294967295),o=Number(n>>a&s),c=Number(n&s);r.setUint32(e+4,o,i),r.setUint32(e+0,c,i)}function KSe(r){return r.byteOffset%4===0}function MR(r){return Uint8Array.from(r)}function Lp(...r){for(let e=0;e<r.length;e++)r[e].fill(0)}const XZ=r=>Uint8Array.from(r.split("").map(e=>e.charCodeAt(0))),YSe=XZ("expand 16-byte k"),XSe=XZ("expand 32-byte k"),JSe=ku(YSe),ZSe=ku(XSe);function tr(r,e){return r<<e|r>>>32-e}function LR(r){return r.byteOffset%4===0}const A1=64,QSe=16,JZ=2**32-1,QU=new Uint32Array;function eCe(r,e,n,i,a,s,o,c){const l=a.length,u=new Uint8Array(A1),d=ku(u),f=LR(a)&&LR(s),p=f?ku(a):QU,m=f?ku(s):QU;for(let y=0;y<l;o++){if(r(e,n,i,d,o,c),o>=JZ)throw new Error("arx: counter overflow");const v=Math.min(A1,l-y);if(f&&v===A1){const b=y/4;if(y%4!==0)throw new Error("arx: invalid block position");for(let w=0,x;w<QSe;w++)x=b+w,m[x]=p[x]^d[w];y+=A1;continue}for(let b=0,w;b<v;b++)w=y+b,s[w]=a[w]^u[b];y+=v}}function tCe(r,e){const{allowShortKeys:n,extendNonceFn:i,counterLength:a,counterRight:s,rounds:o}=WSe({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof r!="function")throw new Error("core must be a function");return TT(a),TT(o),XU(s),XU(n),(c,l,u,d,f=0)=>{ja(c),ja(l),ja(u);const p=u.length;if(d===void 0&&(d=new Uint8Array(p)),ja(d),TT(f),f<0||f>=JZ)throw new Error("arx: counter overflow");if(d.length<p)throw new Error(`arx: output (${d.length}) is shorter than data (${p})`);const m=[];let y=c.length,v,b;if(y===32)m.push(v=MR(c)),b=ZSe;else if(y===16&&n)v=new Uint8Array(32),v.set(c),v.set(c,16),b=JSe,m.push(v);else throw new Error(`arx: invalid 32-byte key, got length=${y}`);LR(l)||m.push(l=MR(l));const w=ku(v);if(i){if(l.length!==24)throw new Error("arx: extended nonce must be 24 bytes");i(b,w,ku(l.subarray(0,16)),w),l=l.subarray(16)}const x=16-a;if(x!==l.length)throw new Error(`arx: nonce must be ${x} or 16 bytes`);if(x!==12){const A=new Uint8Array(12);A.set(l,s?0:12-l.length),l=A,m.push(l)}const E=ku(l);return eCe(r,b,w,E,u,d,f,o),Lp(...m),d}}const ei=(r,e)=>r[e++]&255|(r[e++]&255)<<8;class rCe{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=DR(e),ja(e,32);const n=ei(e,0),i=ei(e,2),a=ei(e,4),s=ei(e,6),o=ei(e,8),c=ei(e,10),l=ei(e,12),u=ei(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|i<<3)&8191,this.r[2]=(i>>>10|a<<6)&7939,this.r[3]=(a>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|c<<2)&8191,this.r[7]=(c>>>11|l<<5)&8065,this.r[8]=(l>>>8|u<<8)&8191,this.r[9]=u>>>5&127;for(let d=0;d<8;d++)this.pad[d]=ei(e,16+2*d)}process(e,n,i=!1){const a=i?0:2048,{h:s,r:o}=this,c=o[0],l=o[1],u=o[2],d=o[3],f=o[4],p=o[5],m=o[6],y=o[7],v=o[8],b=o[9],w=ei(e,n+0),x=ei(e,n+2),E=ei(e,n+4),A=ei(e,n+6),S=ei(e,n+8),C=ei(e,n+10),P=ei(e,n+12),O=ei(e,n+14);let I=s[0]+(w&8191),M=s[1]+((w>>>13|x<<3)&8191),D=s[2]+((x>>>10|E<<6)&8191),q=s[3]+((E>>>7|A<<9)&8191),K=s[4]+((A>>>4|S<<12)&8191),L=s[5]+(S>>>1&8191),R=s[6]+((S>>>14|C<<2)&8191),j=s[7]+((C>>>11|P<<5)&8191),W=s[8]+((P>>>8|O<<8)&8191),H=s[9]+(O>>>5|a),z=0,B=z+I*c+M*(5*b)+D*(5*v)+q*(5*y)+K*(5*m);z=B>>>13,B&=8191,B+=L*(5*p)+R*(5*f)+j*(5*d)+W*(5*u)+H*(5*l),z+=B>>>13,B&=8191;let F=z+I*l+M*c+D*(5*b)+q*(5*v)+K*(5*y);z=F>>>13,F&=8191,F+=L*(5*m)+R*(5*p)+j*(5*f)+W*(5*d)+H*(5*u),z+=F>>>13,F&=8191;let G=z+I*u+M*l+D*c+q*(5*b)+K*(5*v);z=G>>>13,G&=8191,G+=L*(5*y)+R*(5*m)+j*(5*p)+W*(5*f)+H*(5*d),z+=G>>>13,G&=8191;let Q=z+I*d+M*u+D*l+q*c+K*(5*b);z=Q>>>13,Q&=8191,Q+=L*(5*v)+R*(5*y)+j*(5*m)+W*(5*p)+H*(5*f),z+=Q>>>13,Q&=8191;let te=z+I*f+M*d+D*u+q*l+K*c;z=te>>>13,te&=8191,te+=L*(5*b)+R*(5*v)+j*(5*y)+W*(5*m)+H*(5*p),z+=te>>>13,te&=8191;let ae=z+I*p+M*f+D*d+q*u+K*l;z=ae>>>13,ae&=8191,ae+=L*c+R*(5*b)+j*(5*v)+W*(5*y)+H*(5*m),z+=ae>>>13,ae&=8191;let fe=z+I*m+M*p+D*f+q*d+K*u;z=fe>>>13,fe&=8191,fe+=L*l+R*c+j*(5*b)+W*(5*v)+H*(5*y),z+=fe>>>13,fe&=8191;let xe=z+I*y+M*m+D*p+q*f+K*d;z=xe>>>13,xe&=8191,xe+=L*u+R*l+j*c+W*(5*b)+H*(5*v),z+=xe>>>13,xe&=8191;let Ee=z+I*v+M*y+D*m+q*p+K*f;z=Ee>>>13,Ee&=8191,Ee+=L*d+R*u+j*l+W*c+H*(5*b),z+=Ee>>>13,Ee&=8191;let le=z+I*b+M*v+D*y+q*m+K*p;z=le>>>13,le&=8191,le+=L*f+R*d+j*u+W*l+H*c,z+=le>>>13,le&=8191,z=(z<<2)+z|0,z=z+B|0,B=z&8191,z=z>>>13,F+=z,s[0]=B,s[1]=F,s[2]=G,s[3]=Q,s[4]=te,s[5]=ae,s[6]=fe,s[7]=xe,s[8]=Ee,s[9]=le}finalize(){const{h:e,pad:n}=this,i=new Uint16Array(10);let a=e[1]>>>13;e[1]&=8191;for(let c=2;c<10;c++)e[c]+=a,a=e[c]>>>13,e[c]&=8191;e[0]+=a*5,a=e[0]>>>13,e[0]&=8191,e[1]+=a,a=e[1]>>>13,e[1]&=8191,e[2]+=a,i[0]=e[0]+5,a=i[0]>>>13,i[0]&=8191;for(let c=1;c<10;c++)i[c]=e[c]+a,a=i[c]>>>13,i[c]&=8191;i[9]-=8192;let s=(a^1)-1;for(let c=0;c<10;c++)i[c]&=s;s=~s;for(let c=0;c<10;c++)e[c]=e[c]&s|i[c];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let c=1;c<8;c++)o=(e[c]+n[c]|0)+(o>>>16)|0,e[c]=o&65535;Lp(i)}update(e){YU(this);const{buffer:n,blockLen:i}=this;e=DR(e);const a=e.length;for(let s=0;s<a;){const o=Math.min(i-this.pos,a-s);if(o===i){for(;i<=a-s;s+=i)this.process(e,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===i&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Lp(this.h,this.r,this.buffer,this.pad)}digestInto(e){YU(this),FSe(e,this),this.finished=!0;const{buffer:n,h:i}=this;let{pos:a}=this;if(a){for(n[a++]=1;a<16;a++)n[a]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=i[o]>>>0,e[s++]=i[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const i=e.slice(0,n);return this.destroy(),i}}function nCe(r){const e=(i,a)=>r(a).update(DR(i)).digest(),n=r(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=i=>r(i),e}const iCe=nCe(r=>new rCe(r));function aCe(r,e,n,i,a,s=20){let o=r[0],c=r[1],l=r[2],u=r[3],d=e[0],f=e[1],p=e[2],m=e[3],y=e[4],v=e[5],b=e[6],w=e[7],x=a,E=n[0],A=n[1],S=n[2],C=o,P=c,O=l,I=u,M=d,D=f,q=p,K=m,L=y,R=v,j=b,W=w,H=x,z=E,B=A,F=S;for(let Q=0;Q<s;Q+=2)C=C+M|0,H=tr(H^C,16),L=L+H|0,M=tr(M^L,12),C=C+M|0,H=tr(H^C,8),L=L+H|0,M=tr(M^L,7),P=P+D|0,z=tr(z^P,16),R=R+z|0,D=tr(D^R,12),P=P+D|0,z=tr(z^P,8),R=R+z|0,D=tr(D^R,7),O=O+q|0,B=tr(B^O,16),j=j+B|0,q=tr(q^j,12),O=O+q|0,B=tr(B^O,8),j=j+B|0,q=tr(q^j,7),I=I+K|0,F=tr(F^I,16),W=W+F|0,K=tr(K^W,12),I=I+K|0,F=tr(F^I,8),W=W+F|0,K=tr(K^W,7),C=C+D|0,F=tr(F^C,16),j=j+F|0,D=tr(D^j,12),C=C+D|0,F=tr(F^C,8),j=j+F|0,D=tr(D^j,7),P=P+q|0,H=tr(H^P,16),W=W+H|0,q=tr(q^W,12),P=P+q|0,H=tr(H^P,8),W=W+H|0,q=tr(q^W,7),O=O+K|0,z=tr(z^O,16),L=L+z|0,K=tr(K^L,12),O=O+K|0,z=tr(z^O,8),L=L+z|0,K=tr(K^L,7),I=I+M|0,B=tr(B^I,16),R=R+B|0,M=tr(M^R,12),I=I+M|0,B=tr(B^I,8),R=R+B|0,M=tr(M^R,7);let G=0;i[G++]=o+C|0,i[G++]=c+P|0,i[G++]=l+O|0,i[G++]=u+I|0,i[G++]=d+M|0,i[G++]=f+D|0,i[G++]=p+q|0,i[G++]=m+K|0,i[G++]=y+L|0,i[G++]=v+R|0,i[G++]=b+j|0,i[G++]=w+W|0,i[G++]=x+H|0,i[G++]=E+z|0,i[G++]=A+B|0,i[G++]=S+F|0}const sCe=tCe(aCe,{counterRight:!1,counterLength:4,allowShortKeys:!1}),oCe=new Uint8Array(16),eB=(r,e)=>{r.update(e);const n=e.length%16;n&&r.update(oCe.subarray(n))},cCe=new Uint8Array(32);function tB(r,e,n,i,a){const s=r(e,n,cCe),o=iCe.create(s);a&&eB(o,a),eB(o,i);const c=new Uint8Array(16),l=qSe(c);ZU(l,0,BigInt(a?a.length:0),!0),ZU(l,8,BigInt(i.length),!0),o.update(c);const u=o.digest();return Lp(s,c),u}const lCe=r=>(e,n,i)=>({encrypt(a,s){const o=a.length;s=JU(o+16,s,!1),s.set(a);const c=s.subarray(0,-16);r(e,n,c,c,1);const l=tB(r,e,n,c,i);return s.set(l,o),Lp(l),s},decrypt(a,s){s=JU(a.length-16,s,!1);const o=a.subarray(0,-16),c=a.subarray(-16),l=tB(r,e,n,o,i);if(!VSe(c,l))throw new Error("invalid tag");return s.set(a.subarray(0,-16)),r(e,n,s,s,1),Lp(l),s}}),ZZ=GSe({blockSize:64,nonceLength:12,tagLength:16},lCe(sCe));let QZ=class extends DD{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,jD(e);const i=Mp(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const a=this.blockLen,s=new Uint8Array(a);s.set(i.length>a?e.create().update(i).digest():i);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return Dp(this),this.iHash.update(e),this}digestInto(e){Dp(this),xb(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:i,finished:a,destroyed:s,blockLen:o,outputLen:c}=this;return e=e,e.finished=a,e.destroyed=s,e.blockLen=o,e.outputLen=c,e.oHash=n._cloneInto(e.oHash),e.iHash=i._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const PS=(r,e,n)=>new QZ(r,e).update(n).digest();PS.create=(r,e)=>new QZ(r,e);function uCe(r,e,n){return jD(r),n===void 0&&(n=new Uint8Array(r.outputLen)),PS(r,Mp(n),Mp(e))}const kT=new Uint8Array([0]),rB=new Uint8Array;function dCe(r,e,n,i=32){if(jD(r),Vv(i),i>255*r.outputLen)throw new Error("Length should be <= 255*HashLen");const a=Math.ceil(i/r.outputLen);n===void 0&&(n=rB);const s=new Uint8Array(a*r.outputLen),o=PS.create(r,e),c=o._cloneInto(),l=new Uint8Array(o.outputLen);for(let u=0;u<a;u++)kT[0]=u+1,c.update(u===0?rB:l).update(n).update(kT).digestInto(l),s.set(l,r.outputLen*u),o._cloneInto(c);return o.destroy(),c.destroy(),l.fill(0),kT.fill(0),s.slice(0,i)}const fCe=(r,e,n,i,a)=>dCe(r,uCe(r,e,n),i,a);function hCe(r,e,n,i){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,n,i);const a=BigInt(32),s=BigInt(4294967295),o=Number(n>>a&s),c=Number(n&s),l=i?4:0,u=i?0:4;r.setUint32(e+l,o,i),r.setUint32(e+u,c,i)}function pCe(r,e,n){return r&e^~r&n}function gCe(r,e,n){return r&e^r&n^e&n}let mCe=class extends DD{constructor(e,n,i,a){super(),this.blockLen=e,this.outputLen=n,this.padOffset=i,this.isLE=a,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=AT(this.buffer)}update(e){Dp(this);const{view:n,buffer:i,blockLen:a}=this;e=Mp(e);const s=e.length;for(let o=0;o<s;){const c=Math.min(a-this.pos,s-o);if(c===a){const l=AT(e);for(;a<=s-o;o+=a)this.process(l,o);continue}i.set(e.subarray(o,o+c),this.pos),this.pos+=c,o+=c,this.pos===a&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Dp(this),BZ(e,this),this.finished=!0;const{buffer:n,view:i,blockLen:a,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>a-o&&(this.process(i,0),o=0);for(let f=o;f<a;f++)n[f]=0;hCe(i,a-8,BigInt(this.length*8),s),this.process(i,0);const c=AT(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)c.setUint32(4*f,d[f],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const i=e.slice(0,n);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:i,length:a,finished:s,destroyed:o,pos:c}=this;return e.length=a,e.pos=c,e.finished=s,e.destroyed=o,a%n&&e.buffer.set(i),e}};const yCe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Yl=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Xl=new Uint32Array(64);class vCe extends mCe{constructor(){super(64,32,8,!1),this.A=Yl[0]|0,this.B=Yl[1]|0,this.C=Yl[2]|0,this.D=Yl[3]|0,this.E=Yl[4]|0,this.F=Yl[5]|0,this.G=Yl[6]|0,this.H=Yl[7]|0}get(){const{A:e,B:n,C:i,D:a,E:s,F:o,G:c,H:l}=this;return[e,n,i,a,s,o,c,l]}set(e,n,i,a,s,o,c,l){this.A=e|0,this.B=n|0,this.C=i|0,this.D=a|0,this.E=s|0,this.F=o|0,this.G=c|0,this.H=l|0}process(e,n){for(let f=0;f<16;f++,n+=4)Xl[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const p=Xl[f-15],m=Xl[f-2],y=_o(p,7)^_o(p,18)^p>>>3,v=_o(m,17)^_o(m,19)^m>>>10;Xl[f]=v+Xl[f-7]+y+Xl[f-16]|0}let{A:i,B:a,C:s,D:o,E:c,F:l,G:u,H:d}=this;for(let f=0;f<64;f++){const p=_o(c,6)^_o(c,11)^_o(c,25),m=d+p+pCe(c,l,u)+yCe[f]+Xl[f]|0,y=(_o(i,2)^_o(i,13)^_o(i,22))+gCe(i,a,s)|0;d=u,u=l,l=c,c=o+m|0,o=s,s=a,a=i,i=m+y|0}i=i+this.A|0,a=a+this.B|0,s=s+this.C|0,o=o+this.D|0,c=c+this.E|0,l=l+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(i,a,s,o,c,l,u,d)}roundClean(){Xl.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Eb=FZ(()=>new vCe);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const OS=BigInt(0),NS=BigInt(1),bCe=BigInt(2);function yf(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function Sb(r){if(!yf(r))throw new Error("Uint8Array expected")}function Up(r,e){if(typeof e!="boolean")throw new Error(r+" boolean expected, got "+e)}const wCe=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function Bp(r){Sb(r);let e="";for(let n=0;n<r.length;n++)e+=wCe[r[n]];return e}function np(r){const e=r.toString(16);return e.length&1?"0"+e:e}function LD(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return r===""?OS:BigInt("0x"+r)}const Sc={_0:48,_9:57,A:65,F:70,a:97,f:102};function nB(r){if(r>=Sc._0&&r<=Sc._9)return r-Sc._0;if(r>=Sc.A&&r<=Sc.F)return r-(Sc.A-10);if(r>=Sc.a&&r<=Sc.f)return r-(Sc.a-10)}function Fp(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);const e=r.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const i=new Uint8Array(n);for(let a=0,s=0;a<n;a++,s+=2){const o=nB(r.charCodeAt(s)),c=nB(r.charCodeAt(s+1));if(o===void 0||c===void 0){const l=r[s]+r[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}i[a]=o*16+c}return i}function Yd(r){return LD(Bp(r))}function Kv(r){return Sb(r),LD(Bp(Uint8Array.from(r).reverse()))}function qp(r,e){return Fp(r.toString(16).padStart(e*2,"0"))}function IS(r,e){return qp(r,e).reverse()}function _Ce(r){return Fp(np(r))}function Ra(r,e,n){let i;if(typeof e=="string")try{i=Fp(e)}catch(s){throw new Error(r+" must be hex string or Uint8Array, cause: "+s)}else if(yf(e))i=Uint8Array.from(e);else throw new Error(r+" must be hex string or Uint8Array");const a=i.length;if(typeof n=="number"&&a!==n)throw new Error(r+" of length "+n+" expected, got "+a);return i}function Yv(...r){let e=0;for(let i=0;i<r.length;i++){const a=r[i];Sb(a),e+=a.length}const n=new Uint8Array(e);for(let i=0,a=0;i<r.length;i++){const s=r[i];n.set(s,a),a+=s.length}return n}function xCe(r,e){if(r.length!==e.length)return!1;let n=0;for(let i=0;i<r.length;i++)n|=r[i]^e[i];return n===0}function ECe(r){if(typeof r!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(r))}const PT=r=>typeof r=="bigint"&&OS<=r;function RS(r,e,n){return PT(r)&&PT(e)&&PT(n)&&e<=r&&r<n}function Jc(r,e,n,i){if(!RS(e,n,i))throw new Error("expected valid "+r+": "+n+" <= n < "+i+", got "+e)}function eQ(r){let e;for(e=0;r>OS;r>>=NS,e+=1);return e}function SCe(r,e){return r>>BigInt(e)&NS}function CCe(r,e,n){return r|(n?NS:OS)<<BigInt(e)}const UD=r=>(bCe<<BigInt(r-1))-NS,OT=r=>new Uint8Array(r),iB=r=>Uint8Array.from(r);function tQ(r,e,n){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let i=OT(r),a=OT(r),s=0;const o=()=>{i.fill(1),a.fill(0),s=0},c=(...d)=>n(a,i,...d),l=(d=OT())=>{a=c(iB([0]),d),i=c(),d.length!==0&&(a=c(iB([1]),d),i=c())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const f=[];for(;d<e;){i=c();const p=i.slice();f.push(p),d+=i.length}return Yv(...f)};return(d,f)=>{o(),l(d);let p;for(;!(p=f(u()));)l();return o(),p}}const ACe={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||yf(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,e)=>e.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function Mg(r,e,n={}){const i=(a,s,o)=>{const c=ACe[s];if(typeof c!="function")throw new Error("invalid validator function");const l=r[a];if(!(o&&l===void 0)&&!c(l,r))throw new Error("param "+String(a)+" is invalid. Expected "+s+", got "+l)};for(const[a,s]of Object.entries(e))i(a,s,!1);for(const[a,s]of Object.entries(n))i(a,s,!0);return r}const TCe=()=>{throw new Error("not implemented")};function UR(r){const e=new WeakMap;return(n,...i)=>{const a=e.get(n);if(a!==void 0)return a;const s=r(n,...i);return e.set(n,s),s}}var kCe=Object.freeze({__proto__:null,isBytes:yf,abytes:Sb,abool:Up,bytesToHex:Bp,numberToHexUnpadded:np,hexToNumber:LD,hexToBytes:Fp,bytesToNumberBE:Yd,bytesToNumberLE:Kv,numberToBytesBE:qp,numberToBytesLE:IS,numberToVarBytesBE:_Ce,ensureBytes:Ra,concatBytes:Yv,equalBytes:xCe,utf8ToBytes:ECe,inRange:RS,aInRange:Jc,bitLen:eQ,bitGet:SCe,bitSet:CCe,bitMask:UD,createHmacDrbg:tQ,validateObject:Mg,notImplemented:TCe,memoized:UR});const Yn=BigInt(0),hn=BigInt(1),Ad=BigInt(2),PCe=BigInt(3),BR=BigInt(4),aB=BigInt(5),sB=BigInt(8);function oa(r,e){const n=r%e;return n>=Yn?n:e+n}function rQ(r,e,n){if(e<Yn)throw new Error("invalid exponent, negatives unsupported");if(n<=Yn)throw new Error("invalid modulus");if(n===hn)return Yn;let i=hn;for(;e>Yn;)e&hn&&(i=i*r%n),r=r*r%n,e>>=hn;return i}function qs(r,e,n){let i=r;for(;e-- >Yn;)i*=i,i%=n;return i}function FR(r,e){if(r===Yn)throw new Error("invert: expected non-zero number");if(e<=Yn)throw new Error("invert: expected positive modulus, got "+e);let n=oa(r,e),i=e,a=Yn,s=hn;for(;n!==Yn;){const o=i/n,c=i%n,l=a-s*o;i=n,n=c,a=s,s=l}if(i!==hn)throw new Error("invert: does not exist");return oa(a,e)}function OCe(r){const e=(r-hn)/Ad;let n,i,a;for(n=r-hn,i=0;n%Ad===Yn;n/=Ad,i++);for(a=Ad;a<r&&rQ(a,e,r)!==r-hn;a++)if(a>1e3)throw new Error("Cannot find square root: likely non-prime P");if(i===1){const o=(r+hn)/BR;return function(c,l){const u=c.pow(l,o);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}const s=(n+hn)/Ad;return function(o,c){if(o.pow(c,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let l=i,u=o.pow(o.mul(o.ONE,a),n),d=o.pow(c,s),f=o.pow(c,n);for(;!o.eql(f,o.ONE);){if(o.eql(f,o.ZERO))return o.ZERO;let p=1;for(let y=o.sqr(f);p<l&&!o.eql(y,o.ONE);p++)y=o.sqr(y);const m=o.pow(u,hn<<BigInt(l-p-1));u=o.sqr(m),d=o.mul(d,m),f=o.mul(f,u),l=p}return d}}function NCe(r){if(r%BR===PCe){const e=(r+hn)/BR;return function(n,i){const a=n.pow(i,e);if(!n.eql(n.sqr(a),i))throw new Error("Cannot find square root");return a}}if(r%sB===aB){const e=(r-aB)/sB;return function(n,i){const a=n.mul(i,Ad),s=n.pow(a,e),o=n.mul(i,s),c=n.mul(n.mul(o,Ad),s),l=n.mul(o,n.sub(c,n.ONE));if(!n.eql(n.sqr(l),i))throw new Error("Cannot find square root");return l}}return OCe(r)}const ICe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function RCe(r){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=ICe.reduce((i,a)=>(i[a]="function",i),e);return Mg(r,n)}function $Ce(r,e,n){if(n<Yn)throw new Error("invalid exponent, negatives unsupported");if(n===Yn)return r.ONE;if(n===hn)return e;let i=r.ONE,a=e;for(;n>Yn;)n&hn&&(i=r.mul(i,a)),a=r.sqr(a),n>>=hn;return i}function jCe(r,e){const n=new Array(e.length),i=e.reduce((s,o,c)=>r.is0(o)?s:(n[c]=s,r.mul(s,o)),r.ONE),a=r.inv(i);return e.reduceRight((s,o,c)=>r.is0(o)?s:(n[c]=r.mul(s,n[c]),r.mul(s,o)),a),n}function nQ(r,e){const n=e!==void 0?e:r.toString(2).length,i=Math.ceil(n/8);return{nBitLength:n,nByteLength:i}}function iQ(r,e,n=!1,i={}){if(r<=Yn)throw new Error("invalid field: expected ORDER > 0, got "+r);const{nBitLength:a,nByteLength:s}=nQ(r,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const c=Object.freeze({ORDER:r,isLE:n,BITS:a,BYTES:s,MASK:UD(a),ZERO:Yn,ONE:hn,create:l=>oa(l,r),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return Yn<=l&&l<r},is0:l=>l===Yn,isOdd:l=>(l&hn)===hn,neg:l=>oa(-l,r),eql:(l,u)=>l===u,sqr:l=>oa(l*l,r),add:(l,u)=>oa(l+u,r),sub:(l,u)=>oa(l-u,r),mul:(l,u)=>oa(l*u,r),pow:(l,u)=>$Ce(c,l,u),div:(l,u)=>oa(l*FR(u,r),r),sqrN:l=>l*l,addN:(l,u)=>l+u,subN:(l,u)=>l-u,mulN:(l,u)=>l*u,inv:l=>FR(l,r),sqrt:i.sqrt||(l=>(o||(o=NCe(r)),o(c,l))),invertBatch:l=>jCe(c,l),cmov:(l,u,d)=>d?u:l,toBytes:l=>n?IS(l,s):qp(l,s),fromBytes:l=>{if(l.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+l.length);return n?Kv(l):Yd(l)}});return Object.freeze(c)}function aQ(r){if(typeof r!="bigint")throw new Error("field order must be bigint");const e=r.toString(2).length;return Math.ceil(e/8)}function sQ(r){const e=aQ(r);return e+Math.ceil(e/2)}function DCe(r,e,n=!1){const i=r.length,a=aQ(e),s=sQ(e);if(i<16||i<s||i>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+i);const o=n?Kv(r):Yd(r),c=oa(o,e-hn)+hn;return n?IS(c,a):qp(c,a)}const oB=BigInt(0),T1=BigInt(1);function NT(r,e){const n=e.negate();return r?n:e}function oQ(r,e){if(!Number.isSafeInteger(r)||r<=0||r>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+r)}function IT(r,e){oQ(r,e);const n=Math.ceil(e/r)+1,i=2**(r-1);return{windows:n,windowSize:i}}function MCe(r,e){if(!Array.isArray(r))throw new Error("array expected");r.forEach((n,i)=>{if(!(n instanceof e))throw new Error("invalid point at index "+i)})}function LCe(r,e){if(!Array.isArray(r))throw new Error("array of scalars expected");r.forEach((n,i)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+i)})}const RT=new WeakMap,cQ=new WeakMap;function $T(r){return cQ.get(r)||1}function UCe(r,e){return{constTimeNegate:NT,hasPrecomputes(n){return $T(n)!==1},unsafeLadder(n,i,a=r.ZERO){let s=n;for(;i>oB;)i&T1&&(a=a.add(s)),s=s.double(),i>>=T1;return a},precomputeWindow(n,i){const{windows:a,windowSize:s}=IT(i,e),o=[];let c=n,l=c;for(let u=0;u<a;u++){l=c,o.push(l);for(let d=1;d<s;d++)l=l.add(c),o.push(l);c=l.double()}return o},wNAF(n,i,a){const{windows:s,windowSize:o}=IT(n,e);let c=r.ZERO,l=r.BASE;const u=BigInt(2**n-1),d=2**n,f=BigInt(n);for(let p=0;p<s;p++){const m=p*o;let y=Number(a&u);a>>=f,y>o&&(y-=d,a+=T1);const v=m,b=m+Math.abs(y)-1,w=p%2!==0,x=y<0;y===0?l=l.add(NT(w,i[v])):c=c.add(NT(x,i[b]))}return{p:c,f:l}},wNAFUnsafe(n,i,a,s=r.ZERO){const{windows:o,windowSize:c}=IT(n,e),l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let f=0;f<o;f++){const p=f*c;if(a===oB)break;let m=Number(a&l);if(a>>=d,m>c&&(m-=u,a+=T1),m===0)continue;let y=i[p+Math.abs(m)-1];m<0&&(y=y.negate()),s=s.add(y)}return s},getPrecomputes(n,i,a){let s=RT.get(i);return s||(s=this.precomputeWindow(i,n),n!==1&&RT.set(i,a(s))),s},wNAFCached(n,i,a){const s=$T(n);return this.wNAF(s,this.getPrecomputes(s,n,a),i)},wNAFCachedUnsafe(n,i,a,s){const o=$T(n);return o===1?this.unsafeLadder(n,i,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,a),i,s)},setWindowSize(n,i){oQ(i,e),cQ.set(n,i),RT.delete(n)}}}function BCe(r,e,n,i){if(MCe(n,r),LCe(i,e),n.length!==i.length)throw new Error("arrays of points and scalars must have equal length");const a=r.ZERO,s=eQ(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,c=(1<<o)-1,l=new Array(c+1).fill(a),u=Math.floor((e.BITS-1)/o)*o;let d=a;for(let f=u;f>=0;f-=o){l.fill(a);for(let m=0;m<i.length;m++){const y=i[m],v=Number(y>>BigInt(f)&BigInt(c));l[v]=l[v].add(n[m])}let p=a;for(let m=l.length-1,y=a;m>0;m--)y=y.add(l[m]),p=p.add(y);if(d=d.add(p),f!==0)for(let m=0;m<o;m++)d=d.double()}return d}function lQ(r){return RCe(r.Fp),Mg(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nQ(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const _h=BigInt(0),jT=BigInt(1);function FCe(r){return Mg(r,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...r})}function qCe(r){const e=FCe(r),{P:n}=e,i=x=>oa(x,n),a=e.montgomeryBits,s=Math.ceil(a/8),o=e.nByteLength,c=e.adjustScalarBytes||(x=>x),l=e.powPminus2||(x=>rQ(x,n-BigInt(2),n));function u(x,E,A){const S=i(x*(E-A));return E=i(E-S),A=i(A+S),[E,A]}const d=(e.a-BigInt(2))/BigInt(4);function f(x,E){Jc("u",x,_h,n),Jc("scalar",E,_h,n);const A=E,S=x;let C=jT,P=_h,O=x,I=jT,M=_h,D;for(let K=BigInt(a-1);K>=_h;K--){const L=A>>K&jT;M^=L,D=u(M,C,O),C=D[0],O=D[1],D=u(M,P,I),P=D[0],I=D[1],M=L;const R=C+P,j=i(R*R),W=C-P,H=i(W*W),z=j-H,B=O+I,F=O-I,G=i(F*R),Q=i(B*W),te=G+Q,ae=G-Q;O=i(te*te),I=i(S*i(ae*ae)),C=i(j*H),P=i(z*(j+i(d*z)))}D=u(M,C,O),C=D[0],O=D[1],D=u(M,P,I),P=D[0],I=D[1];const q=l(P);return i(C*q)}function p(x){return IS(i(x),s)}function m(x){const E=Ra("u coordinate",x,s);return o===32&&(E[31]&=127),Kv(E)}function y(x){const E=Ra("scalar",x),A=E.length;if(A!==s&&A!==o){let S=""+s+" or "+o;throw new Error("invalid scalar, expected "+S+" bytes, got "+A)}return Kv(c(E))}function v(x,E){const A=m(E),S=y(x),C=f(A,S);if(C===_h)throw new Error("invalid private or public key received");return p(C)}const b=p(e.Gu);function w(x){return v(x,b)}return{scalarMult:v,scalarMultBase:w,getSharedSecret:(x,E)=>v(x,E),getPublicKey:x=>w(x),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:b}}const qR=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const zCe=BigInt(1),cB=BigInt(2),HCe=BigInt(3),WCe=BigInt(5);BigInt(8);function VCe(r){const e=BigInt(10),n=BigInt(20),i=BigInt(40),a=BigInt(80),s=qR,o=r*r%s*r%s,c=qs(o,cB,s)*o%s,l=qs(c,zCe,s)*r%s,u=qs(l,WCe,s)*l%s,d=qs(u,e,s)*u%s,f=qs(d,n,s)*d%s,p=qs(f,i,s)*f%s,m=qs(p,a,s)*p%s,y=qs(m,a,s)*p%s,v=qs(y,e,s)*u%s;return{pow_p_5_8:qs(v,cB,s)*r%s,b2:o}}function GCe(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}const zR=qCe({P:qR,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:r=>{const e=qR,{pow_p_5_8:n,b2:i}=VCe(r);return oa(qs(n,HCe,e)*i,e)},adjustScalarBytes:GCe,randomBytes:Dg});function lB(r){r.lowS!==void 0&&Up("lowS",r.lowS),r.prehash!==void 0&&Up("prehash",r.prehash)}function KCe(r){const e=lQ(r);Mg(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:i,a}=e;if(n){if(!i.eql(a,i.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:YCe,hexToBytes:XCe}=kCe;class JCe extends Error{constructor(e=""){super(e)}}const Mc={Err:JCe,_tlv:{encode:(r,e)=>{const{Err:n}=Mc;if(r<0||r>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const i=e.length/2,a=np(i);if(a.length/2&128)throw new n("tlv.encode: long form length too big");const s=i>127?np(a.length/2|128):"";return np(r)+s+a+e},decode(r,e){const{Err:n}=Mc;let i=0;if(r<0||r>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[i++]!==r)throw new n("tlv.decode: wrong tlv");const a=e[i++],s=!!(a&128);let o=0;if(!s)o=a;else{const l=a&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const u=e.subarray(i,i+l);if(u.length!==l)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of u)o=o<<8|d;if(i+=l,o<128)throw new n("tlv.decode(long): not minimal encoding")}const c=e.subarray(i,i+o);if(c.length!==o)throw new n("tlv.decode: wrong value length");return{v:c,l:e.subarray(i+o)}}},_int:{encode(r){const{Err:e}=Mc;if(r<Fc)throw new e("integer: negative integers are not allowed");let n=np(r);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(r){const{Err:e}=Mc;if(r[0]&128)throw new e("invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return YCe(r)}},toSig(r){const{Err:e,_int:n,_tlv:i}=Mc,a=typeof r=="string"?XCe(r):r;Sb(a);const{v:s,l:o}=i.decode(48,a);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:c,l}=i.decode(2,s),{v:u,l:d}=i.decode(2,l);if(d.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(u)}},hexFromSig(r){const{_tlv:e,_int:n}=Mc,i=e.encode(2,n.encode(r.r)),a=e.encode(2,n.encode(r.s)),s=i+a;return e.encode(48,s)}},Fc=BigInt(0),zn=BigInt(1);BigInt(2);const uB=BigInt(3);BigInt(4);function ZCe(r){const e=KCe(r),{Fp:n}=e,i=iQ(e.n,e.nBitLength),a=e.toBytes||((v,b,w)=>{const x=b.toAffine();return Yv(Uint8Array.from([4]),n.toBytes(x.x),n.toBytes(x.y))}),s=e.fromBytes||(v=>{const b=v.subarray(1),w=n.fromBytes(b.subarray(0,n.BYTES)),x=n.fromBytes(b.subarray(n.BYTES,2*n.BYTES));return{x:w,y:x}});function o(v){const{a:b,b:w}=e,x=n.sqr(v),E=n.mul(x,v);return n.add(n.add(E,n.mul(v,b)),w)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function c(v){return RS(v,zn,e.n)}function l(v){const{allowedPrivateKeyLengths:b,nByteLength:w,wrapPrivateKey:x,n:E}=e;if(b&&typeof v!="bigint"){if(yf(v)&&(v=Bp(v)),typeof v!="string"||!b.includes(v.length))throw new Error("invalid private key");v=v.padStart(w*2,"0")}let A;try{A=typeof v=="bigint"?v:Yd(Ra("private key",v,w))}catch{throw new Error("invalid private key, expected hex or "+w+" bytes, got "+typeof v)}return x&&(A=oa(A,E)),Jc("private key",A,zn,E),A}function u(v){if(!(v instanceof p))throw new Error("ProjectivePoint expected")}const d=UR((v,b)=>{const{px:w,py:x,pz:E}=v;if(n.eql(E,n.ONE))return{x:w,y:x};const A=v.is0();b==null&&(b=A?n.ONE:n.inv(E));const S=n.mul(w,b),C=n.mul(x,b),P=n.mul(E,b);if(A)return{x:n.ZERO,y:n.ZERO};if(!n.eql(P,n.ONE))throw new Error("invZ was invalid");return{x:S,y:C}}),f=UR(v=>{if(v.is0()){if(e.allowInfinityPoint&&!n.is0(v.py))return;throw new Error("bad point: ZERO")}const{x:b,y:w}=v.toAffine();if(!n.isValid(b)||!n.isValid(w))throw new Error("bad point: x or y not FE");const x=n.sqr(w),E=o(b);if(!n.eql(x,E))throw new Error("bad point: equation left != right");if(!v.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class p{constructor(b,w,x){if(this.px=b,this.py=w,this.pz=x,b==null||!n.isValid(b))throw new Error("x required");if(w==null||!n.isValid(w))throw new Error("y required");if(x==null||!n.isValid(x))throw new Error("z required");Object.freeze(this)}static fromAffine(b){const{x:w,y:x}=b||{};if(!b||!n.isValid(w)||!n.isValid(x))throw new Error("invalid affine point");if(b instanceof p)throw new Error("projective point not allowed");const E=A=>n.eql(A,n.ZERO);return E(w)&&E(x)?p.ZERO:new p(w,x,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(b){const w=n.invertBatch(b.map(x=>x.pz));return b.map((x,E)=>x.toAffine(w[E])).map(p.fromAffine)}static fromHex(b){const w=p.fromAffine(s(Ra("pointHex",b)));return w.assertValidity(),w}static fromPrivateKey(b){return p.BASE.multiply(l(b))}static msm(b,w){return BCe(p,i,b,w)}_setWindowSize(b){y.setWindowSize(this,b)}assertValidity(){f(this)}hasEvenY(){const{y:b}=this.toAffine();if(n.isOdd)return!n.isOdd(b);throw new Error("Field doesn't support isOdd")}equals(b){u(b);const{px:w,py:x,pz:E}=this,{px:A,py:S,pz:C}=b,P=n.eql(n.mul(w,C),n.mul(A,E)),O=n.eql(n.mul(x,C),n.mul(S,E));return P&&O}negate(){return new p(this.px,n.neg(this.py),this.pz)}double(){const{a:b,b:w}=e,x=n.mul(w,uB),{px:E,py:A,pz:S}=this;let C=n.ZERO,P=n.ZERO,O=n.ZERO,I=n.mul(E,E),M=n.mul(A,A),D=n.mul(S,S),q=n.mul(E,A);return q=n.add(q,q),O=n.mul(E,S),O=n.add(O,O),C=n.mul(b,O),P=n.mul(x,D),P=n.add(C,P),C=n.sub(M,P),P=n.add(M,P),P=n.mul(C,P),C=n.mul(q,C),O=n.mul(x,O),D=n.mul(b,D),q=n.sub(I,D),q=n.mul(b,q),q=n.add(q,O),O=n.add(I,I),I=n.add(O,I),I=n.add(I,D),I=n.mul(I,q),P=n.add(P,I),D=n.mul(A,S),D=n.add(D,D),I=n.mul(D,q),C=n.sub(C,I),O=n.mul(D,M),O=n.add(O,O),O=n.add(O,O),new p(C,P,O)}add(b){u(b);const{px:w,py:x,pz:E}=this,{px:A,py:S,pz:C}=b;let P=n.ZERO,O=n.ZERO,I=n.ZERO;const M=e.a,D=n.mul(e.b,uB);let q=n.mul(w,A),K=n.mul(x,S),L=n.mul(E,C),R=n.add(w,x),j=n.add(A,S);R=n.mul(R,j),j=n.add(q,K),R=n.sub(R,j),j=n.add(w,E);let W=n.add(A,C);return j=n.mul(j,W),W=n.add(q,L),j=n.sub(j,W),W=n.add(x,E),P=n.add(S,C),W=n.mul(W,P),P=n.add(K,L),W=n.sub(W,P),I=n.mul(M,j),P=n.mul(D,L),I=n.add(P,I),P=n.sub(K,I),I=n.add(K,I),O=n.mul(P,I),K=n.add(q,q),K=n.add(K,q),L=n.mul(M,L),j=n.mul(D,j),K=n.add(K,L),L=n.sub(q,L),L=n.mul(M,L),j=n.add(j,L),q=n.mul(K,j),O=n.add(O,q),q=n.mul(W,j),P=n.mul(R,P),P=n.sub(P,q),q=n.mul(R,K),I=n.mul(W,I),I=n.add(I,q),new p(P,O,I)}subtract(b){return this.add(b.negate())}is0(){return this.equals(p.ZERO)}wNAF(b){return y.wNAFCached(this,b,p.normalizeZ)}multiplyUnsafe(b){const{endo:w,n:x}=e;Jc("scalar",b,Fc,x);const E=p.ZERO;if(b===Fc)return E;if(this.is0()||b===zn)return this;if(!w||y.hasPrecomputes(this))return y.wNAFCachedUnsafe(this,b,p.normalizeZ);let{k1neg:A,k1:S,k2neg:C,k2:P}=w.splitScalar(b),O=E,I=E,M=this;for(;S>Fc||P>Fc;)S&zn&&(O=O.add(M)),P&zn&&(I=I.add(M)),M=M.double(),S>>=zn,P>>=zn;return A&&(O=O.negate()),C&&(I=I.negate()),I=new p(n.mul(I.px,w.beta),I.py,I.pz),O.add(I)}multiply(b){const{endo:w,n:x}=e;Jc("scalar",b,zn,x);let E,A;if(w){const{k1neg:S,k1:C,k2neg:P,k2:O}=w.splitScalar(b);let{p:I,f:M}=this.wNAF(C),{p:D,f:q}=this.wNAF(O);I=y.constTimeNegate(S,I),D=y.constTimeNegate(P,D),D=new p(n.mul(D.px,w.beta),D.py,D.pz),E=I.add(D),A=M.add(q)}else{const{p:S,f:C}=this.wNAF(b);E=S,A=C}return p.normalizeZ([E,A])[0]}multiplyAndAddUnsafe(b,w,x){const E=p.BASE,A=(C,P)=>P===Fc||P===zn||!C.equals(E)?C.multiplyUnsafe(P):C.multiply(P),S=A(this,w).add(A(b,x));return S.is0()?void 0:S}toAffine(b){return d(this,b)}isTorsionFree(){const{h:b,isTorsionFree:w}=e;if(b===zn)return!0;if(w)return w(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:b,clearCofactor:w}=e;return b===zn?this:w?w(p,this):this.multiplyUnsafe(e.h)}toRawBytes(b=!0){return Up("isCompressed",b),this.assertValidity(),a(p,this,b)}toHex(b=!0){return Up("isCompressed",b),Bp(this.toRawBytes(b))}}p.BASE=new p(e.Gx,e.Gy,n.ONE),p.ZERO=new p(n.ZERO,n.ONE,n.ZERO);const m=e.nBitLength,y=UCe(p,e.endo?Math.ceil(m/2):m);return{CURVE:e,ProjectivePoint:p,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:c}}function QCe(r){const e=lQ(r);return Mg(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function eAe(r){const e=QCe(r),{Fp:n,n:i}=e,a=n.BYTES+1,s=2*n.BYTES+1;function o(L){return oa(L,i)}function c(L){return FR(L,i)}const{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:d,isWithinCurveOrder:f}=ZCe({...e,toBytes(L,R,j){const W=R.toAffine(),H=n.toBytes(W.x),z=Yv;return Up("isCompressed",j),j?z(Uint8Array.from([R.hasEvenY()?2:3]),H):z(Uint8Array.from([4]),H,n.toBytes(W.y))},fromBytes(L){const R=L.length,j=L[0],W=L.subarray(1);if(R===a&&(j===2||j===3)){const H=Yd(W);if(!RS(H,zn,n.ORDER))throw new Error("Point is not on curve");const z=d(H);let B;try{B=n.sqrt(z)}catch(G){const Q=G instanceof Error?": "+G.message:"";throw new Error("Point is not on curve"+Q)}const F=(B&zn)===zn;return(j&1)===1!==F&&(B=n.neg(B)),{x:H,y:B}}else if(R===s&&j===4){const H=n.fromBytes(W.subarray(0,n.BYTES)),z=n.fromBytes(W.subarray(n.BYTES,2*n.BYTES));return{x:H,y:z}}else{const H=a,z=s;throw new Error("invalid Point, expected length of "+H+", or uncompressed "+z+", got "+R)}}}),p=L=>Bp(qp(L,e.nByteLength));function m(L){const R=i>>zn;return L>R}function y(L){return m(L)?o(-L):L}const v=(L,R,j)=>Yd(L.slice(R,j));class b{constructor(R,j,W){this.r=R,this.s=j,this.recovery=W,this.assertValidity()}static fromCompact(R){const j=e.nByteLength;return R=Ra("compactSignature",R,j*2),new b(v(R,0,j),v(R,j,2*j))}static fromDER(R){const{r:j,s:W}=Mc.toSig(Ra("DER",R));return new b(j,W)}assertValidity(){Jc("r",this.r,zn,i),Jc("s",this.s,zn,i)}addRecoveryBit(R){return new b(this.r,this.s,R)}recoverPublicKey(R){const{r:j,s:W,recovery:H}=this,z=C(Ra("msgHash",R));if(H==null||![0,1,2,3].includes(H))throw new Error("recovery id invalid");const B=H===2||H===3?j+e.n:j;if(B>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const F=(H&1)===0?"02":"03",G=l.fromHex(F+p(B)),Q=c(B),te=o(-z*Q),ae=o(W*Q),fe=l.BASE.multiplyAndAddUnsafe(G,te,ae);if(!fe)throw new Error("point at infinify");return fe.assertValidity(),fe}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return Fp(this.toDERHex())}toDERHex(){return Mc.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Fp(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const w={isValidPrivateKey(L){try{return u(L),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const L=sQ(e.n);return DCe(e.randomBytes(L),e.n)},precompute(L=8,R=l.BASE){return R._setWindowSize(L),R.multiply(BigInt(3)),R}};function x(L,R=!0){return l.fromPrivateKey(L).toRawBytes(R)}function E(L){const R=yf(L),j=typeof L=="string",W=(R||j)&&L.length;return R?W===a||W===s:j?W===2*a||W===2*s:L instanceof l}function A(L,R,j=!0){if(E(L))throw new Error("first arg must be private key");if(!E(R))throw new Error("second arg must be public key");return l.fromHex(R).multiply(u(L)).toRawBytes(j)}const S=e.bits2int||function(L){if(L.length>8192)throw new Error("input is too large");const R=Yd(L),j=L.length*8-e.nBitLength;return j>0?R>>BigInt(j):R},C=e.bits2int_modN||function(L){return o(S(L))},P=UD(e.nBitLength);function O(L){return Jc("num < 2^"+e.nBitLength,L,Fc,P),qp(L,e.nByteLength)}function I(L,R,j=M){if(["recovered","canonical"].some(Ee=>Ee in j))throw new Error("sign() legacy options not supported");const{hash:W,randomBytes:H}=e;let{lowS:z,prehash:B,extraEntropy:F}=j;z==null&&(z=!0),L=Ra("msgHash",L),lB(j),B&&(L=Ra("prehashed msgHash",W(L)));const G=C(L),Q=u(R),te=[O(Q),O(G)];if(F!=null&&F!==!1){const Ee=F===!0?H(n.BYTES):F;te.push(Ra("extraEntropy",Ee))}const ae=Yv(...te),fe=G;function xe(Ee){const le=S(Ee);if(!f(le))return;const Ce=c(le),Me=l.BASE.multiply(le).toAffine(),he=o(Me.x);if(he===Fc)return;const me=o(Ce*o(fe+he*Q));if(me===Fc)return;let Ae=(Me.x===he?0:2)|Number(Me.y&zn),tt=me;return z&&m(me)&&(tt=y(me),Ae^=1),new b(he,tt,Ae)}return{seed:ae,k2sig:xe}}const M={lowS:e.lowS,prehash:!1},D={lowS:e.lowS,prehash:!1};function q(L,R,j=M){const{seed:W,k2sig:H}=I(L,R,j),z=e;return tQ(z.hash.outputLen,z.nByteLength,z.hmac)(W,H)}l.BASE._setWindowSize(8);function K(L,R,j,W=D){var me;const H=L;R=Ra("msgHash",R),j=Ra("publicKey",j);const{lowS:z,prehash:B,format:F}=W;if(lB(W),"strict"in W)throw new Error("options.strict was renamed to lowS");if(F!==void 0&&F!=="compact"&&F!=="der")throw new Error("format must be compact or der");const G=typeof H=="string"||yf(H),Q=!G&&!F&&typeof H=="object"&&H!==null&&typeof H.r=="bigint"&&typeof H.s=="bigint";if(!G&&!Q)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let te,ae;try{if(Q&&(te=new b(H.r,H.s)),G){try{F!=="compact"&&(te=b.fromDER(H))}catch(Ae){if(!(Ae instanceof Mc.Err))throw Ae}!te&&F!=="der"&&(te=b.fromCompact(H))}ae=l.fromHex(j)}catch{return!1}if(!te||z&&te.hasHighS())return!1;B&&(R=e.hash(R));const{r:fe,s:xe}=te,Ee=C(R),le=c(xe),Ce=o(Ee*le),Me=o(fe*le),he=(me=l.BASE.multiplyAndAddUnsafe(ae,Ce,Me))==null?void 0:me.toAffine();return he?o(he.x)===fe:!1}return{CURVE:e,getPublicKey:x,getSharedSecret:A,sign:q,verify:K,ProjectivePoint:l,Signature:b,utils:w}}function tAe(r){return{hash:r,hmac:(e,...n)=>PS(r,e,aSe(...n)),randomBytes:Dg}}function rAe(r,e){const n=i=>eAe({...r,...tAe(i)});return{...n(e),create:n}}const uQ=iQ(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),nAe=uQ.create(BigInt("-3")),iAe=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),aAe=rAe({a:nAe,b:iAe,Fp:uQ,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},Eb),dQ="base10",Bi="base16",to="base64pad",lu="base64url",Cb="utf8",fQ=0,Zc=1,Ab=2,sAe=0,dB=1,Hy=12,BD=32;function oAe(){const r=zR.utils.randomPrivateKey(),e=zR.getPublicKey(r);return{privateKey:da(r,Bi),publicKey:da(e,Bi)}}function HR(){const r=Dg(BD);return da(r,Bi)}function cAe(r,e){const n=zR.getSharedSecret(fs(r,Bi),fs(e,Bi)),i=fCe(Eb,n,void 0,void 0,BD);return da(i,Bi)}function O_(r){const e=Eb(fs(r,Bi));return da(e,Bi)}function Do(r){const e=Eb(fs(r,Cb));return da(e,Bi)}function hQ(r){return fs(`${r}`,dQ)}function vf(r){return Number(da(r,dQ))}function pQ(r){return r.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function gQ(r){const e=r.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function lAe(r){const e=hQ(typeof r.type<"u"?r.type:fQ);if(vf(e)===Zc&&typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof r.senderPublicKey<"u"?fs(r.senderPublicKey,Bi):void 0,i=typeof r.iv<"u"?fs(r.iv,Bi):Dg(Hy),a=fs(r.symKey,Bi),s=ZZ(a,i).encrypt(fs(r.message,Cb)),o=mQ({type:e,sealed:s,iv:i,senderPublicKey:n});return r.encoding===lu?pQ(o):o}function uAe(r){const e=fs(r.symKey,Bi),{sealed:n,iv:i}=Xv({encoded:r.encoded,encoding:r.encoding}),a=ZZ(e,i).decrypt(n);if(a===null)throw new Error("Failed to decrypt");return da(a,Cb)}function dAe(r,e){const n=hQ(Ab),i=Dg(Hy),a=fs(r,Cb),s=mQ({type:n,sealed:a,iv:i});return e===lu?pQ(s):s}function fAe(r,e){const{sealed:n}=Xv({encoded:r,encoding:e});return da(n,Cb)}function mQ(r){if(vf(r.type)===Ab)return da(zy([r.type,r.sealed]),to);if(vf(r.type)===Zc){if(typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return da(zy([r.type,r.senderPublicKey,r.iv,r.sealed]),to)}return da(zy([r.type,r.iv,r.sealed]),to)}function Xv(r){const e=(r.encoding||to)===lu?gQ(r.encoded):r.encoded,n=fs(e,to),i=n.slice(sAe,dB),a=dB;if(vf(i)===Zc){const l=a+BD,u=l+Hy,d=n.slice(a,l),f=n.slice(l,u),p=n.slice(u);return{type:i,sealed:p,iv:f,senderPublicKey:d}}if(vf(i)===Ab){const l=n.slice(a),u=Dg(Hy);return{type:i,sealed:l,iv:u}}const s=a+Hy,o=n.slice(a,s),c=n.slice(s);return{type:i,sealed:c,iv:o}}function hAe(r,e){const n=Xv({encoded:r,encoding:e==null?void 0:e.encoding});return yQ({type:vf(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?da(n.senderPublicKey,Bi):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function yQ(r){const e=(r==null?void 0:r.type)||fQ;if(e===Zc){if(typeof(r==null?void 0:r.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(r==null?void 0:r.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:r==null?void 0:r.senderPublicKey,receiverPublicKey:r==null?void 0:r.receiverPublicKey}}function fB(r){return r.type===Zc&&typeof r.senderPublicKey=="string"&&typeof r.receiverPublicKey=="string"}function hB(r){return r.type===Ab}function pAe(r){const e=Buffer.from(r.x,"base64"),n=Buffer.from(r.y,"base64");return zy([new Uint8Array([4]),e,n])}function gAe(r,e){const[n,i,a]=r.split("."),s=Buffer.from(gQ(a),"base64");if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32),c=s.slice(32,64),l=`${n}.${i}`,u=Eb(l),d=pAe(e);if(!aAe.verify(zy([o,c]),u,d))throw new Error("Invalid signature");return OR(r).payload}const mAe="irn";function gx(r){return(r==null?void 0:r.relay)||{protocol:mAe}}function Cy(r){const e=_Ee[r];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${r}`);return e}function yAe(r,e="-"){const n={},i="relay"+e;return Object.keys(r).forEach(a=>{if(a.startsWith(i)){const s=a.replace(i,""),o=r[a];n[s]=o}}),n}function pB(r){if(!r.includes("wc:")){const u=UZ(r);u!=null&&u.includes("wc:")&&(r=u)}r=r.includes("wc://")?r.replace("wc://",""):r,r=r.includes("wc:")?r.replace("wc:",""):r;const e=r.indexOf(":"),n=r.indexOf("?")!==-1?r.indexOf("?"):void 0,i=r.substring(0,e),a=r.substring(e+1,n).split("@"),s=typeof n<"u"?r.substring(n):"",o=new URLSearchParams(s),c={};o.forEach((u,d)=>{c[d]=u});const l=typeof c.methods=="string"?c.methods.split(","):void 0;return{protocol:i,topic:vAe(a[0]),version:parseInt(a[1],10),symKey:c.symKey,relay:yAe(c),methods:l,expiryTimestamp:c.expiryTimestamp?parseInt(c.expiryTimestamp,10):void 0}}function vAe(r){return r.startsWith("//")?r.substring(2):r}function bAe(r,e="-"){const n="relay",i={};return Object.keys(r).forEach(a=>{const s=a,o=n+e+s;r[s]&&(i[o]=r[s])}),i}function gB(r){const e=new URLSearchParams,n=bAe(r.relay);Object.keys(n).sort().forEach(a=>{e.set(a,n[a])}),e.set("symKey",r.symKey),r.expiryTimestamp&&e.set("expiryTimestamp",r.expiryTimestamp.toString()),r.methods&&e.set("methods",r.methods.join(","));const i=e.toString();return`${r.protocol}:${r.topic}@${r.version}?${i}`}function k1(r,e,n){return`${r}?wc_ev=${n}&topic=${e}`}function Lg(r){const e=[];return r.forEach(n=>{const[i,a]=n.split(":");e.push(`${i}:${a}`)}),e}function wAe(r){const e=[];return Object.values(r).forEach(n=>{e.push(...Lg(n.accounts))}),e}function _Ae(r,e){const n=[];return Object.values(r).forEach(i=>{Lg(i.accounts).includes(e)&&n.push(...i.methods)}),n}function xAe(r,e){const n=[];return Object.values(r).forEach(i=>{Lg(i.accounts).includes(e)&&n.push(...i.events)}),n}function FD(r){return r.includes(":")}function Ay(r){return FD(r)?r.split(":")[0]:r}function EAe(r){const e={};return r==null||r.forEach(n=>{var i;const[a,s]=n.split(":");e[a]||(e[a]={accounts:[],chains:[],events:[],methods:[]}),e[a].accounts.push(n),(i=e[a].chains)==null||i.push(`${a}:${s}`)}),e}function mB(r,e){e=e.map(i=>i.replace("did:pkh:",""));const n=EAe(e);for(const[i,a]of Object.entries(n))a.methods?a.methods=k_(a.methods,r):a.methods=r,a.events=["chainChanged","accountsChanged"];return n}const SAe={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},CAe={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function je(r,e){const{message:n,code:i}=CAe[r];return{message:e?`${n} ${e}`:n,code:i}}function vr(r,e){const{message:n,code:i}=SAe[r];return{message:e?`${n} ${e}`:n,code:i}}function Pu(r,e){return!!Array.isArray(r)}function Jv(r){return Object.getPrototypeOf(r)===Object.prototype&&Object.keys(r).length}function ai(r){return typeof r>"u"}function wn(r,e){return e&&ai(r)?!0:typeof r=="string"&&!!r.trim().length}function qD(r,e){return e&&ai(r)?!0:typeof r=="number"&&!isNaN(r)}function AAe(r,e){const{requiredNamespaces:n}=e,i=Object.keys(r.namespaces),a=Object.keys(n);let s=!0;return Dd(a,i)?(i.forEach(o=>{const{accounts:c,methods:l,events:u}=r.namespaces[o],d=Lg(c),f=n[o];(!Dd($Z(o,f),d)||!Dd(f.methods,l)||!Dd(f.events,u))&&(s=!1)}),s):!1}function mx(r){return wn(r,!1)&&r.includes(":")?r.split(":").length===2:!1}function TAe(r){if(wn(r,!1)&&r.includes(":")){const e=r.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&mx(n)}}return!1}function kAe(r){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(wn(r,!1)){if(e(r))return!0;const n=UZ(r);return e(n)}}catch{}return!1}function PAe(r){var e;return(e=r==null?void 0:r.proposer)==null?void 0:e.publicKey}function OAe(r){return r==null?void 0:r.topic}function NAe(r,e){let n=null;return wn(r==null?void 0:r.publicKey,!1)||(n=je("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function yB(r){let e=!0;return Pu(r)?r.length&&(e=r.every(n=>wn(n,!1))):e=!1,e}function IAe(r,e,n){let i=null;return Pu(e)&&e.length?e.forEach(a=>{i||mx(a)||(i=vr("UNSUPPORTED_CHAINS",`${n}, chain ${a} should be a string and conform to "namespace:chainId" format`))}):mx(r)||(i=vr("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),i}function RAe(r,e,n){let i=null;return Object.entries(r).forEach(([a,s])=>{if(i)return;const o=IAe(a,$Z(a,s),`${e} ${n}`);o&&(i=o)}),i}function $Ae(r,e){let n=null;return Pu(r)?r.forEach(i=>{n||TAe(i)||(n=vr("UNSUPPORTED_ACCOUNTS",`${e}, account ${i} should be a string and conform to "namespace:chainId:address" format`))}):n=vr("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function jAe(r,e){let n=null;return Object.values(r).forEach(i=>{if(n)return;const a=$Ae(i==null?void 0:i.accounts,`${e} namespace`);a&&(n=a)}),n}function DAe(r,e){let n=null;return yB(r==null?void 0:r.methods)?yB(r==null?void 0:r.events)||(n=vr("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=vr("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function vQ(r,e){let n=null;return Object.values(r).forEach(i=>{if(n)return;const a=DAe(i,`${e}, namespace`);a&&(n=a)}),n}function MAe(r,e,n){let i=null;if(r&&Jv(r)){const a=vQ(r,e);a&&(i=a);const s=RAe(r,e,n);s&&(i=s)}else i=je("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return i}function DT(r,e){let n=null;if(r&&Jv(r)){const i=vQ(r,e);i&&(n=i);const a=jAe(r,e);a&&(n=a)}else n=je("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function bQ(r){return wn(r.protocol,!0)}function LAe(r,e){let n=!1;return r?r&&Pu(r)&&r.length&&r.forEach(i=>{n=bQ(i)}):n=!0,n}function UAe(r){return typeof r=="number"}function ia(r){return typeof r<"u"&&typeof r!==null}function BAe(r){return!(!r||typeof r!="object"||!r.code||!qD(r.code,!1)||!r.message||!wn(r.message,!1))}function FAe(r){return!(ai(r)||!wn(r.method,!1))}function qAe(r){return!(ai(r)||ai(r.result)&&ai(r.error)||!qD(r.id,!1)||!wn(r.jsonrpc,!1))}function zAe(r){return!(ai(r)||!wn(r.name,!1))}function vB(r,e){return!(!mx(e)||!wAe(r).includes(e))}function HAe(r,e,n){return wn(n,!1)?_Ae(r,e).includes(n):!1}function WAe(r,e,n){return wn(n,!1)?xAe(r,e).includes(n):!1}function bB(r,e,n){let i=null;const a=VAe(r),s=GAe(e),o=Object.keys(a),c=Object.keys(s),l=wB(Object.keys(r)),u=wB(Object.keys(e)),d=l.filter(f=>!u.includes(f));return d.length&&(i=je("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${d.toString()}
      Received: ${Object.keys(e).toString()}`)),Dd(o,c)||(i=je("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${c.toString()}`)),Object.keys(e).forEach(f=>{if(!f.includes(":")||i)return;const p=Lg(e[f].accounts);p.includes(f)||(i=je("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${f}
        Required: ${f}
        Approved: ${p.toString()}`))}),o.forEach(f=>{i||(Dd(a[f].methods,s[f].methods)?Dd(a[f].events,s[f].events)||(i=je("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${f}`)):i=je("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${f}`))}),i}function VAe(r){const e={};return Object.keys(r).forEach(n=>{var i;n.includes(":")?e[n]=r[n]:(i=r[n].chains)==null||i.forEach(a=>{e[a]={methods:r[n].methods,events:r[n].events}})}),e}function wB(r){return[...new Set(r.map(e=>e.includes(":")?e.split(":")[0]:e))]}function GAe(r){const e={};return Object.keys(r).forEach(n=>{if(n.includes(":"))e[n]=r[n];else{const i=Lg(r[n].accounts);i==null||i.forEach(a=>{e[a]={accounts:r[n].accounts.filter(s=>s.includes(`${a}:`)),methods:r[n].methods,events:r[n].events}})}}),e}function KAe(r,e){return qD(r,!1)&&r<=e.max&&r>=e.min}function _B(){const r=_b();return new Promise(e=>{switch(r){case La.browser:e(YAe());break;case La.reactNative:e(XAe());break;case La.node:e(JAe());break;default:e(!0)}})}function YAe(){return wb()&&(navigator==null?void 0:navigator.onLine)}async function XAe(){if(Bu()&&typeof global<"u"&&global!=null&&global.NetInfo){const r=await(global==null?void 0:global.NetInfo.fetch());return r==null?void 0:r.isConnected}return!0}function JAe(){return!0}function ZAe(r){switch(_b()){case La.browser:QAe(r);break;case La.reactNative:e2e(r);break}}function QAe(r){!Bu()&&wb()&&(window.addEventListener("online",()=>r(!0)),window.addEventListener("offline",()=>r(!1)))}function e2e(r){Bu()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>r(e==null?void 0:e.isConnected)))}const MT={};class Km{static get(e){return MT[e]}static set(e,n){MT[e]=n}static delete(e){delete MT[e]}}const t2e="PARSE_ERROR",r2e="INVALID_REQUEST",n2e="METHOD_NOT_FOUND",i2e="INVALID_PARAMS",wQ="INTERNAL_ERROR",zD="SERVER_ERROR",a2e=[-32700,-32600,-32601,-32602,-32603],Wy={[t2e]:{code:-32700,message:"Parse error"},[r2e]:{code:-32600,message:"Invalid Request"},[n2e]:{code:-32601,message:"Method not found"},[i2e]:{code:-32602,message:"Invalid params"},[wQ]:{code:-32603,message:"Internal error"},[zD]:{code:-32e3,message:"Server error"}},_Q=zD;function s2e(r){return a2e.includes(r)}function xB(r){return Object.keys(Wy).includes(r)?Wy[r]:Wy[_Q]}function o2e(r){const e=Object.values(Wy).find(n=>n.code===r);return e||Wy[_Q]}function xQ(r,e,n){return r.message.includes("getaddrinfo ENOTFOUND")||r.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):r}var LT={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var WR=function(r,e){return WR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},WR(r,e)};function c2e(r,e){WR(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var VR=function(){return VR=Object.assign||function(e){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},VR.apply(this,arguments)};function l2e(r,e){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(r);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(r,i[a])&&(n[i[a]]=r[i[a]]);return n}function u2e(r,e,n,i){var a=arguments.length,s=a<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,n,i);else for(var c=r.length-1;c>=0;c--)(o=r[c])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s}function d2e(r,e){return function(n,i){e(n,i,r)}}function f2e(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function h2e(r,e,n,i){function a(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(d){try{u(i.next(d))}catch(f){o(f)}}function l(d){try{u(i.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(c,l)}u((i=i.apply(r,e||[])).next())})}function p2e(r,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,a,s,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(u){return function(d){return l([u,d])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,a&&(s=u[0]&2?a.return:u[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,u[1])).done)return s;switch(a=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,a=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(r,n)}catch(d){u=[6,d],a=0}finally{i=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function g2e(r,e,n,i){i===void 0&&(i=n),r[i]=e[n]}function m2e(r,e){for(var n in r)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=r[n])}function GR(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],i=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function EQ(r,e){var n=typeof Symbol=="function"&&r[Symbol.iterator];if(!n)return r;var i=n.call(r),a,s=[],o;try{for(;(e===void 0||e-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(c){o={error:c}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function y2e(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(EQ(arguments[e]));return r}function v2e(){for(var r=0,e=0,n=arguments.length;e<n;e++)r+=arguments[e].length;for(var i=Array(r),a=0,e=0;e<n;e++)for(var s=arguments[e],o=0,c=s.length;o<c;o++,a++)i[a]=s[o];return i}function Zv(r){return this instanceof Zv?(this.v=r,this):new Zv(r)}function b2e(r,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(r,e||[]),a,s=[];return a={},o("next"),o("throw"),o("return"),a[Symbol.asyncIterator]=function(){return this},a;function o(p){i[p]&&(a[p]=function(m){return new Promise(function(y,v){s.push([p,m,y,v])>1||c(p,m)})})}function c(p,m){try{l(i[p](m))}catch(y){f(s[0][3],y)}}function l(p){p.value instanceof Zv?Promise.resolve(p.value.v).then(u,d):f(s[0][2],p)}function u(p){c("next",p)}function d(p){c("throw",p)}function f(p,m){p(m),s.shift(),s.length&&c(s[0][0],s[0][1])}}function w2e(r){var e,n;return e={},i("next"),i("throw",function(a){throw a}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(a,s){e[a]=r[a]?function(o){return(n=!n)?{value:Zv(r[a](o)),done:a==="return"}:s?s(o):o}:s}}function _2e(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],n;return e?e.call(r):(r=typeof GR=="function"?GR(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=r[s]&&function(o){return new Promise(function(c,l){o=r[s](o),a(c,l,o.done,o.value)})}}function a(s,o,c,l){Promise.resolve(l).then(function(u){s({value:u,done:c})},o)}}function x2e(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function E2e(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var n in r)Object.hasOwnProperty.call(r,n)&&(e[n]=r[n]);return e.default=r,e}function S2e(r){return r&&r.__esModule?r:{default:r}}function C2e(r,e){if(!e.has(r))throw new TypeError("attempted to get private field on non-instance");return e.get(r)}function A2e(r,e,n){if(!e.has(r))throw new TypeError("attempted to set private field on non-instance");return e.set(r,n),n}const T2e=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return VR},__asyncDelegator:w2e,__asyncGenerator:b2e,__asyncValues:_2e,__await:Zv,__awaiter:h2e,__classPrivateFieldGet:C2e,__classPrivateFieldSet:A2e,__createBinding:g2e,__decorate:u2e,__exportStar:m2e,__extends:c2e,__generator:p2e,__importDefault:S2e,__importStar:E2e,__makeTemplateObject:x2e,__metadata:f2e,__param:d2e,__read:EQ,__rest:l2e,__spread:y2e,__spreadArrays:v2e,__values:GR},Symbol.toStringTag,{value:"Module"})),k2e=W3(T2e);var Cc={},EB;function P2e(){if(EB)return Cc;EB=1,Object.defineProperty(Cc,"__esModule",{value:!0}),Cc.isBrowserCryptoAvailable=Cc.getSubtleCrypto=Cc.getBrowerCrypto=void 0;function r(){return(ca==null?void 0:ca.crypto)||(ca==null?void 0:ca.msCrypto)||{}}Cc.getBrowerCrypto=r;function e(){const i=r();return i.subtle||i.webkitSubtle}Cc.getSubtleCrypto=e;function n(){return!!r()&&!!e()}return Cc.isBrowserCryptoAvailable=n,Cc}var Ac={},SB;function O2e(){if(SB)return Ac;SB=1,Object.defineProperty(Ac,"__esModule",{value:!0}),Ac.isBrowser=Ac.isNode=Ac.isReactNative=void 0;function r(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Ac.isReactNative=r;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Ac.isNode=e;function n(){return!r()&&!e()}return Ac.isBrowser=n,Ac}var CB;function N2e(){return CB||(CB=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=k2e;e.__exportStar(P2e(),r),e.__exportStar(O2e(),r)}(LT)),LT}var I2e=N2e();function ko(r=3){const e=Date.now()*Math.pow(10,r),n=Math.floor(Math.random()*Math.pow(10,r));return e+n}function Md(r=6){return BigInt(ko(r))}function Eu(r,e,n){return{id:n||ko(),jsonrpc:"2.0",method:r,params:e}}function $S(r,e){return{id:r,jsonrpc:"2.0",result:e}}function jS(r,e,n){return{id:r,jsonrpc:"2.0",error:R2e(e)}}function R2e(r,e){return typeof r>"u"?xB(wQ):(typeof r=="string"&&(r=Object.assign(Object.assign({},xB(zD)),{message:r})),s2e(r.code)&&(r=o2e(r.code)),r)}let $2e=class{},j2e=class extends $2e{constructor(){super()}},D2e=class extends j2e{constructor(e){super()}};const M2e="^https?:",L2e="^wss?:";function U2e(r){const e=r.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function SQ(r,e){const n=U2e(r);return typeof n>"u"?!1:new RegExp(e).test(n)}function AB(r){return SQ(r,M2e)}function TB(r){return SQ(r,L2e)}function B2e(r){return new RegExp("wss?://localhost(:d{2,5})?").test(r)}function CQ(r){return typeof r=="object"&&"id"in r&&"jsonrpc"in r&&r.jsonrpc==="2.0"}function HD(r){return CQ(r)&&"method"in r}function DS(r){return CQ(r)&&(Po(r)||cs(r))}function Po(r){return"result"in r}function cs(r){return"error"in r}let Cs=class extends D2e{constructor(e){super(e),this.events=new Ss.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(Eu(e.method,e.params||[],e.id||Md().toString()),n)}async requestStrict(e,n){return new Promise(async(i,a)=>{if(!this.connection.connected)try{await this.open()}catch(s){a(s)}this.events.on(`${e.id}`,s=>{cs(s)?a(s.error):i(s.result)});try{await this.connection.send(e,n)}catch(s){a(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),DS(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const F2e=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),q2e=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",kB=r=>r.split("?")[0],PB=10,z2e=F2e();let H2e=class{constructor(e){if(this.url=e,this.events=new Ss.EventEmitter,this.registering=!1,!TB(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=i=>{this.onClose(i),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(sl(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!TB(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((i,a)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),a(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return a(new Error("WebSocket connection is missing or invalid"));i(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,i)=>{const a=I2e.isReactNative()?void 0:{rejectUnauthorized:!B2e(e)},s=new z2e(e,[],a);q2e()?s.onerror=o=>{const c=o;i(this.emitError(c.error))}:s.on("error",o=>{i(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),n(s)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?hf(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const i=this.parseError(n),a=i.message||i.toString(),s=jS(e,a);this.events.emit("payload",s)}parseError(e,n=this.url){return xQ(e,kB(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>PB&&this.events.setMaxListeners(PB)}emitError(e){const n=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${kB(this.url)}`));return this.events.emit("register_error",n),n}};var W2e={};const AQ="wc",TQ=2,KR="core",Jo=`${AQ}@2:${KR}:`,V2e={logger:"error"},G2e={database:":memory:"},K2e="crypto",OB="client_ed25519_seed",Y2e=$e.ONE_DAY,X2e="keychain",J2e="0.3",Z2e="messages",Q2e="0.3",NB=$e.SIX_HOURS,eTe="publisher",kQ="irn",tTe="error",PQ="wss://relay.walletconnect.org",rTe="relayer",Vn={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},nTe="_subscription",Xa={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},iTe=.1,YR="2.20.2",jr={link_mode:"link_mode",relay:"relay"},N_={inbound:"inbound",outbound:"outbound"},aTe="0.3",sTe="WALLETCONNECT_CLIENT_ID",IB="WALLETCONNECT_LINK_MODE_APPS",Oa={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},oTe="subscription",cTe="0.3",lTe="pairing",uTe="0.3",Ym={wc_pairingDelete:{req:{ttl:$e.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:$e.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:$e.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:$e.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:$e.ONE_DAY,prompt:!1,tag:0},res:{ttl:$e.ONE_DAY,prompt:!1,tag:0}}},Td={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Ms={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},dTe="history",fTe="0.3",hTe="expirer",is={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},pTe="0.3",gTe="verify-api",mTe="https://verify.walletconnect.com",OQ="https://verify.walletconnect.org",Vy=OQ,yTe=`${Vy}/v3`,vTe=[mTe,OQ],bTe="echo",wTe="https://echo.walletconnect.com",Ao={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},$c={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Ls={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},hd={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},pd={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},Xm={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},_Te=.1,xTe="event-client",ETe=86400,STe="https://pulse.walletconnect.org/batch";function CTe(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var a=0;a<r.length;a++){var s=r.charAt(a),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=a}var c=r.length,l=r.charAt(0),u=Math.log(c)/Math.log(256),d=Math.log(256)/Math.log(c);function f(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";for(var v=0,b=0,w=0,x=y.length;w!==x&&y[w]===0;)w++,v++;for(var E=(x-w)*d+1>>>0,A=new Uint8Array(E);w!==x;){for(var S=y[w],C=0,P=E-1;(S!==0||C<b)&&P!==-1;P--,C++)S+=256*A[P]>>>0,A[P]=S%c>>>0,S=S/c>>>0;if(S!==0)throw new Error("Non-zero carry");b=C,w++}for(var O=E-b;O!==E&&A[O]===0;)O++;for(var I=l.repeat(v);O<E;++O)I+=r.charAt(A[O]);return I}function p(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;var v=0;if(y[v]!==" "){for(var b=0,w=0;y[v]===l;)b++,v++;for(var x=(y.length-v)*u+1>>>0,E=new Uint8Array(x);y[v];){var A=n[y.charCodeAt(v)];if(A===255)return;for(var S=0,C=x-1;(A!==0||S<w)&&C!==-1;C--,S++)A+=c*E[C]>>>0,E[C]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");w=S,v++}if(y[v]!==" "){for(var P=x-w;P!==x&&E[P]===0;)P++;for(var O=new Uint8Array(b+(x-P)),I=b;P!==x;)O[I++]=E[P++];return O}}}function m(y){var v=p(y);if(v)return v;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:p,decode:m}}var ATe=CTe,TTe=ATe;const NQ=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},kTe=r=>new TextEncoder().encode(r),PTe=r=>new TextDecoder().decode(r);class OTe{constructor(e,n,i){this.name=e,this.prefix=n,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class NTe{constructor(e,n,i){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return IQ(this,e)}}class ITe{constructor(e){this.decoders=e}or(e){return IQ(this,e)}decode(e){const n=e[0],i=this.decoders[n];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const IQ=(r,e)=>new ITe({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class RTe{constructor(e,n,i,a){this.name=e,this.prefix=n,this.baseEncode=i,this.baseDecode=a,this.encoder=new OTe(e,n,i),this.decoder=new NTe(e,n,a)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const MS=({name:r,prefix:e,encode:n,decode:i})=>new RTe(r,e,n,i),Tb=({prefix:r,name:e,alphabet:n})=>{const{encode:i,decode:a}=TTe(n,e);return MS({prefix:r,name:e,encode:i,decode:s=>NQ(a(s))})},$Te=(r,e,n,i)=>{const a={};for(let d=0;d<e.length;++d)a[e[d]]=d;let s=r.length;for(;r[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let c=0,l=0,u=0;for(let d=0;d<s;++d){const f=a[r[d]];if(f===void 0)throw new SyntaxError(`Non-${i} character`);l=l<<n|f,c+=n,c>=8&&(c-=8,o[u++]=255&l>>c)}if(c>=n||255&l<<8-c)throw new SyntaxError("Unexpected end of data");return o},jTe=(r,e,n)=>{const i=e[e.length-1]==="=",a=(1<<n)-1;let s="",o=0,c=0;for(let l=0;l<r.length;++l)for(c=c<<8|r[l],o+=8;o>n;)o-=n,s+=e[a&c>>o];if(o&&(s+=e[a&c<<n-o]),i)for(;s.length*n&7;)s+="=";return s},fi=({name:r,prefix:e,bitsPerChar:n,alphabet:i})=>MS({prefix:e,name:r,encode(a){return jTe(a,i,n)},decode(a){return $Te(a,i,n,r)}}),DTe=MS({prefix:"\0",name:"identity",encode:r=>PTe(r),decode:r=>kTe(r)});var MTe=Object.freeze({__proto__:null,identity:DTe});const LTe=fi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var UTe=Object.freeze({__proto__:null,base2:LTe});const BTe=fi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var FTe=Object.freeze({__proto__:null,base8:BTe});const qTe=Tb({prefix:"9",name:"base10",alphabet:"0123456789"});var zTe=Object.freeze({__proto__:null,base10:qTe});const HTe=fi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),WTe=fi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var VTe=Object.freeze({__proto__:null,base16:HTe,base16upper:WTe});const GTe=fi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),KTe=fi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),YTe=fi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),XTe=fi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),JTe=fi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ZTe=fi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),QTe=fi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),eke=fi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),tke=fi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var rke=Object.freeze({__proto__:null,base32:GTe,base32upper:KTe,base32pad:YTe,base32padupper:XTe,base32hex:JTe,base32hexupper:ZTe,base32hexpad:QTe,base32hexpadupper:eke,base32z:tke});const nke=Tb({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),ike=Tb({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var ake=Object.freeze({__proto__:null,base36:nke,base36upper:ike});const ske=Tb({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),oke=Tb({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var cke=Object.freeze({__proto__:null,base58btc:ske,base58flickr:oke});const lke=fi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),uke=fi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),dke=fi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),fke=fi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var hke=Object.freeze({__proto__:null,base64:lke,base64pad:uke,base64url:dke,base64urlpad:fke});const RQ=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),pke=RQ.reduce((r,e,n)=>(r[n]=e,r),[]),gke=RQ.reduce((r,e,n)=>(r[e.codePointAt(0)]=n,r),[]);function mke(r){return r.reduce((e,n)=>(e+=pke[n],e),"")}function yke(r){const e=[];for(const n of r){const i=gke[n.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(i)}return new Uint8Array(e)}const vke=MS({prefix:"🚀",name:"base256emoji",encode:mke,decode:yke});var bke=Object.freeze({__proto__:null,base256emoji:vke}),wke=$Q,RB=128,_ke=-128,xke=Math.pow(2,31);function $Q(r,e,n){e=e||[],n=n||0;for(var i=n;r>=xke;)e[n++]=r&255|RB,r/=128;for(;r&_ke;)e[n++]=r&255|RB,r>>>=7;return e[n]=r|0,$Q.bytes=n-i+1,e}var Eke=XR,Ske=128,$B=127;function XR(r,i){var n=0,i=i||0,a=0,s=i,o,c=r.length;do{if(s>=c)throw XR.bytes=0,new RangeError("Could not decode varint");o=r[s++],n+=a<28?(o&$B)<<a:(o&$B)*Math.pow(2,a),a+=7}while(o>=Ske);return XR.bytes=s-i,n}var Cke=Math.pow(2,7),Ake=Math.pow(2,14),Tke=Math.pow(2,21),kke=Math.pow(2,28),Pke=Math.pow(2,35),Oke=Math.pow(2,42),Nke=Math.pow(2,49),Ike=Math.pow(2,56),Rke=Math.pow(2,63),$ke=function(r){return r<Cke?1:r<Ake?2:r<Tke?3:r<kke?4:r<Pke?5:r<Oke?6:r<Nke?7:r<Ike?8:r<Rke?9:10},jke={encode:wke,decode:Eke,encodingLength:$ke},jQ=jke;const jB=(r,e,n=0)=>(jQ.encode(r,e,n),e),DB=r=>jQ.encodingLength(r),JR=(r,e)=>{const n=e.byteLength,i=DB(r),a=i+DB(n),s=new Uint8Array(a+n);return jB(r,s,0),jB(n,s,i),s.set(e,a),new Dke(r,n,e,s)};class Dke{constructor(e,n,i,a){this.code=e,this.size=n,this.digest=i,this.bytes=a}}const DQ=({name:r,code:e,encode:n})=>new Mke(r,e,n);class Mke{constructor(e,n,i){this.name=e,this.code=n,this.encode=i}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?JR(this.code,n):n.then(i=>JR(this.code,i))}else throw Error("Unknown type, must be binary type")}}const MQ=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),Lke=DQ({name:"sha2-256",code:18,encode:MQ("SHA-256")}),Uke=DQ({name:"sha2-512",code:19,encode:MQ("SHA-512")});var Bke=Object.freeze({__proto__:null,sha256:Lke,sha512:Uke});const LQ=0,Fke="identity",UQ=NQ,qke=r=>JR(LQ,UQ(r)),zke={code:LQ,name:Fke,encode:UQ,digest:qke};var Hke=Object.freeze({__proto__:null,identity:zke});new TextEncoder,new TextDecoder;const MB={...MTe,...UTe,...FTe,...zTe,...VTe,...rke,...ake,...cke,...hke,...bke};({...Bke,...Hke});function Wke(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(r):new Uint8Array(r)}function BQ(r,e,n,i){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:n},decoder:{decode:i}}}const LB=BQ("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),UT=BQ("ascii","a",r=>{let e="a";for(let n=0;n<r.length;n++)e+=String.fromCharCode(r[n]);return e},r=>{r=r.substring(1);const e=Wke(r.length);for(let n=0;n<r.length;n++)e[n]=r.charCodeAt(n);return e}),Vke={utf8:LB,"utf-8":LB,hex:MB.base16,latin1:UT,ascii:UT,binary:UT,...MB};function Gke(r,e="utf8"){const n=Vke[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r,"utf8"):n.decoder.decode(`${n.prefix}${r}`)}var Kke=Object.defineProperty,Yke=(r,e,n)=>e in r?Kke(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,xo=(r,e,n)=>Yke(r,typeof e!="symbol"?e+"":e,n);class Xke{constructor(e,n){this.core=e,this.logger=n,xo(this,"keychain",new Map),xo(this,"name",X2e),xo(this,"version",J2e),xo(this,"initialized",!1),xo(this,"storagePrefix",Jo),xo(this,"init",async()=>{if(!this.initialized){const i=await this.getKeyChain();typeof i<"u"&&(this.keychain=i),this.initialized=!0}}),xo(this,"has",i=>(this.isInitialized(),this.keychain.has(i))),xo(this,"set",async(i,a)=>{this.isInitialized(),this.keychain.set(i,a),await this.persist()}),xo(this,"get",i=>{this.isInitialized();const a=this.keychain.get(i);if(typeof a>"u"){const{message:s}=je("NO_MATCHING_KEY",`${this.name}: ${i}`);throw new Error(s)}return a}),xo(this,"del",async i=>{this.isInitialized(),this.keychain.delete(i),await this.persist()}),this.core=e,this.logger=ki(n,this.name)}get context(){return ya(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,RR(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?$R(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=je("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Jke=Object.defineProperty,Zke=(r,e,n)=>e in r?Jke(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,ti=(r,e,n)=>Zke(r,typeof e!="symbol"?e+"":e,n);class Qke{constructor(e,n,i){this.core=e,this.logger=n,ti(this,"name",K2e),ti(this,"keychain"),ti(this,"randomSessionIdentifier",HR()),ti(this,"initialized",!1),ti(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),ti(this,"hasKeys",a=>(this.isInitialized(),this.keychain.has(a))),ti(this,"getClientId",async()=>{this.isInitialized();const a=await this.getClientSeed(),s=mU(a);return pZ(s.publicKey)}),ti(this,"generateKeyPair",()=>{this.isInitialized();const a=oAe();return this.setPrivateKey(a.publicKey,a.privateKey)}),ti(this,"signJWT",async a=>{this.isInitialized();const s=await this.getClientSeed(),o=mU(s),c=this.randomSessionIdentifier;return await b_e(c,a,Y2e,o)}),ti(this,"generateSharedKey",(a,s,o)=>{this.isInitialized();const c=this.getPrivateKey(a),l=cAe(c,s);return this.setSymKey(l,o)}),ti(this,"setSymKey",async(a,s)=>{this.isInitialized();const o=s||O_(a);return await this.keychain.set(o,a),o}),ti(this,"deleteKeyPair",async a=>{this.isInitialized(),await this.keychain.del(a)}),ti(this,"deleteSymKey",async a=>{this.isInitialized(),await this.keychain.del(a)}),ti(this,"encode",async(a,s,o)=>{this.isInitialized();const c=yQ(o),l=sl(s);if(hB(c))return dAe(l,o==null?void 0:o.encoding);if(fB(c)){const p=c.senderPublicKey,m=c.receiverPublicKey;a=await this.generateSharedKey(p,m)}const u=this.getSymKey(a),{type:d,senderPublicKey:f}=c;return lAe({type:d,symKey:u,message:l,senderPublicKey:f,encoding:o==null?void 0:o.encoding})}),ti(this,"decode",async(a,s,o)=>{this.isInitialized();const c=hAe(s,o);if(hB(c)){const l=fAe(s,o==null?void 0:o.encoding);return hf(l)}if(fB(c)){const l=c.receiverPublicKey,u=c.senderPublicKey;a=await this.generateSharedKey(l,u)}try{const l=this.getSymKey(a),u=uAe({symKey:l,encoded:s,encoding:o==null?void 0:o.encoding});return hf(u)}catch(l){this.logger.error(`Failed to decode message from topic: '${a}', clientId: '${await this.getClientId()}'`),this.logger.error(l)}}),ti(this,"getPayloadType",(a,s=to)=>{const o=Xv({encoded:a,encoding:s});return vf(o.type)}),ti(this,"getPayloadSenderPublicKey",(a,s=to)=>{const o=Xv({encoded:a,encoding:s});return o.senderPublicKey?da(o.senderPublicKey,Bi):void 0}),this.core=e,this.logger=ki(n,this.name),this.keychain=i||new Xke(this.core,this.logger)}get context(){return ya(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(OB)}catch{e=HR(),await this.keychain.set(OB,e)}return Gke(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=je("NOT_INITIALIZED",this.name);throw new Error(e)}}}var ePe=Object.defineProperty,tPe=Object.defineProperties,rPe=Object.getOwnPropertyDescriptors,UB=Object.getOwnPropertySymbols,nPe=Object.prototype.hasOwnProperty,iPe=Object.prototype.propertyIsEnumerable,ZR=(r,e,n)=>e in r?ePe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,aPe=(r,e)=>{for(var n in e||(e={}))nPe.call(e,n)&&ZR(r,n,e[n]);if(UB)for(var n of UB(e))iPe.call(e,n)&&ZR(r,n,e[n]);return r},sPe=(r,e)=>tPe(r,rPe(e)),Aa=(r,e,n)=>ZR(r,typeof e!="symbol"?e+"":e,n);class oPe extends ybe{constructor(e,n){super(e,n),this.logger=e,this.core=n,Aa(this,"messages",new Map),Aa(this,"messagesWithoutClientAck",new Map),Aa(this,"name",Z2e),Aa(this,"version",Q2e),Aa(this,"initialized",!1),Aa(this,"storagePrefix",Jo),Aa(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const i=await this.getRelayerMessages();typeof i<"u"&&(this.messages=i);const a=await this.getRelayerMessagesWithoutClientAck();typeof a<"u"&&(this.messagesWithoutClientAck=a),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(i){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(i)}finally{this.initialized=!0}}}),Aa(this,"set",async(i,a,s)=>{this.isInitialized();const o=Do(a);let c=this.messages.get(i);if(typeof c>"u"&&(c={}),typeof c[o]<"u")return o;if(c[o]=a,this.messages.set(i,c),s===N_.inbound){const l=this.messagesWithoutClientAck.get(i)||{};this.messagesWithoutClientAck.set(i,sPe(aPe({},l),{[o]:a}))}return await this.persist(),o}),Aa(this,"get",i=>{this.isInitialized();let a=this.messages.get(i);return typeof a>"u"&&(a={}),a}),Aa(this,"getWithoutAck",i=>{this.isInitialized();const a={};for(const s of i){const o=this.messagesWithoutClientAck.get(s)||{};a[s]=Object.values(o)}return a}),Aa(this,"has",(i,a)=>{this.isInitialized();const s=this.get(i),o=Do(a);return typeof s[o]<"u"}),Aa(this,"ack",async(i,a)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(i);if(typeof s>"u")return;const o=Do(a);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(i):this.messagesWithoutClientAck.set(i,s),await this.persist()}),Aa(this,"del",async i=>{this.isInitialized(),this.messages.delete(i),this.messagesWithoutClientAck.delete(i),await this.persist()}),this.logger=ki(e,this.name),this.core=n}get context(){return ya(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,RR(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,RR(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?$R(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?$R(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=je("NOT_INITIALIZED",this.name);throw new Error(e)}}}var cPe=Object.defineProperty,lPe=Object.defineProperties,uPe=Object.getOwnPropertyDescriptors,BB=Object.getOwnPropertySymbols,dPe=Object.prototype.hasOwnProperty,fPe=Object.prototype.propertyIsEnumerable,QR=(r,e,n)=>e in r?cPe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,P1=(r,e)=>{for(var n in e||(e={}))dPe.call(e,n)&&QR(r,n,e[n]);if(BB)for(var n of BB(e))fPe.call(e,n)&&QR(r,n,e[n]);return r},BT=(r,e)=>lPe(r,uPe(e)),Us=(r,e,n)=>QR(r,typeof e!="symbol"?e+"":e,n);class hPe extends vbe{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,Us(this,"events",new Ss.EventEmitter),Us(this,"name",eTe),Us(this,"queue",new Map),Us(this,"publishTimeout",$e.toMiliseconds($e.ONE_MINUTE)),Us(this,"initialPublishTimeout",$e.toMiliseconds($e.ONE_SECOND*15)),Us(this,"needsTransportRestart",!1),Us(this,"publish",async(i,a,s)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:i,message:a,opts:s}});const c=(s==null?void 0:s.ttl)||NB,l=gx(s),u=(s==null?void 0:s.prompt)||!1,d=(s==null?void 0:s.tag)||0,f=(s==null?void 0:s.id)||Md().toString(),p={topic:i,message:a,opts:{ttl:c,relay:l,prompt:u,tag:d,id:f,attestation:s==null?void 0:s.attestation,tvf:s==null?void 0:s.tvf}},m=`Failed to publish payload, please try again. id:${f} tag:${d}`;try{const y=new Promise(async v=>{const b=({id:x})=>{p.opts.id===x&&(this.removeRequestFromQueue(x),this.relayer.events.removeListener(Vn.publish,b),v(p))};this.relayer.events.on(Vn.publish,b);const w=xu(new Promise((x,E)=>{this.rpcPublish({topic:i,message:a,ttl:c,prompt:u,tag:d,id:f,attestation:s==null?void 0:s.attestation,tvf:s==null?void 0:s.tvf}).then(x).catch(A=>{this.logger.warn(A,A==null?void 0:A.message),E(A)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${f} tag:${d}`);try{await w,this.events.removeListener(Vn.publish,b)}catch(x){this.queue.set(f,BT(P1({},p),{attempt:1})),this.logger.warn(x,x==null?void 0:x.message)}});this.logger.trace({type:"method",method:"publish",params:{id:f,topic:i,message:a,opts:s}}),await xu(y,this.publishTimeout,m)}catch(y){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(y),(o=s==null?void 0:s.internal)!=null&&o.throwOnFailedPublish)throw y}finally{this.queue.delete(f)}}),Us(this,"on",(i,a)=>{this.events.on(i,a)}),Us(this,"once",(i,a)=>{this.events.once(i,a)}),Us(this,"off",(i,a)=>{this.events.off(i,a)}),Us(this,"removeListener",(i,a)=>{this.events.removeListener(i,a)}),this.relayer=e,this.logger=ki(n,this.name),this.registerEventListeners()}get context(){return ya(this.logger)}async rpcPublish(e){var n,i,a,s;const{topic:o,message:c,ttl:l=NB,prompt:u,tag:d,id:f,attestation:p,tvf:m}=e,y={method:Cy(gx().protocol).publish,params:P1({topic:o,message:c,ttl:l,prompt:u,tag:d,attestation:p},m),id:f};ai((n=y.params)==null?void 0:n.prompt)&&((i=y.params)==null||delete i.prompt),ai((a=y.params)==null?void 0:a.tag)&&((s=y.params)==null||delete s.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:y});const v=await this.relayer.request(y);return this.relayer.events.emit(Vn.publish,e),this.logger.debug("Successfully Published Payload"),v}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{const i=e.attempt+1;this.queue.set(n,BT(P1({},e),{attempt:i}));const{topic:a,message:s,opts:o,attestation:c}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${i}`),await this.rpcPublish(BT(P1({},e),{topic:a,message:s,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:c,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Ng.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Vn.connection_stalled);return}this.checkQueue()}),this.relayer.on(Vn.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var pPe=Object.defineProperty,gPe=(r,e,n)=>e in r?pPe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,xh=(r,e,n)=>gPe(r,typeof e!="symbol"?e+"":e,n);class mPe{constructor(){xh(this,"map",new Map),xh(this,"set",(e,n)=>{const i=this.get(e);this.exists(e,n)||this.map.set(e,[...i,n])}),xh(this,"get",e=>this.map.get(e)||[]),xh(this,"exists",(e,n)=>this.get(e).includes(n)),xh(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const i=this.get(e);if(!this.exists(e,n))return;const a=i.filter(s=>s!==n);if(!a.length){this.map.delete(e);return}this.map.set(e,a)}),xh(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var yPe=Object.defineProperty,vPe=Object.defineProperties,bPe=Object.getOwnPropertyDescriptors,FB=Object.getOwnPropertySymbols,wPe=Object.prototype.hasOwnProperty,_Pe=Object.prototype.propertyIsEnumerable,e$=(r,e,n)=>e in r?yPe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,Jm=(r,e)=>{for(var n in e||(e={}))wPe.call(e,n)&&e$(r,n,e[n]);if(FB)for(var n of FB(e))_Pe.call(e,n)&&e$(r,n,e[n]);return r},FT=(r,e)=>vPe(r,bPe(e)),_r=(r,e,n)=>e$(r,typeof e!="symbol"?e+"":e,n);class xPe extends _be{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,_r(this,"subscriptions",new Map),_r(this,"topicMap",new mPe),_r(this,"events",new Ss.EventEmitter),_r(this,"name",oTe),_r(this,"version",cTe),_r(this,"pending",new Map),_r(this,"cached",[]),_r(this,"initialized",!1),_r(this,"storagePrefix",Jo),_r(this,"subscribeTimeout",$e.toMiliseconds($e.ONE_MINUTE)),_r(this,"initialSubscribeTimeout",$e.toMiliseconds($e.ONE_SECOND*15)),_r(this,"clientId"),_r(this,"batchSubscribeTopicsLimit",500),_r(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),_r(this,"subscribe",async(i,a)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:a}});try{const s=gx(a),o={topic:i,relay:s,transportType:a==null?void 0:a.transportType};this.pending.set(i,o);const c=await this.rpcSubscribe(i,s,a);return typeof c=="string"&&(this.onSubscribe(c,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:a}})),c}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}}),_r(this,"unsubscribe",async(i,a)=>{this.isInitialized(),typeof(a==null?void 0:a.id)<"u"?await this.unsubscribeById(i,a.id,a):await this.unsubscribeByTopic(i,a)}),_r(this,"isSubscribed",i=>new Promise(a=>{a(this.topicMap.topics.includes(i))})),_r(this,"isKnownTopic",i=>new Promise(a=>{a(this.topicMap.topics.includes(i)||this.pending.has(i)||this.cached.some(s=>s.topic===i))})),_r(this,"on",(i,a)=>{this.events.on(i,a)}),_r(this,"once",(i,a)=>{this.events.once(i,a)}),_r(this,"off",(i,a)=>{this.events.off(i,a)}),_r(this,"removeListener",(i,a)=>{this.events.removeListener(i,a)}),_r(this,"start",async()=>{await this.onConnect()}),_r(this,"stop",async()=>{await this.onDisconnect()}),_r(this,"restart",async()=>{await this.restore(),await this.onRestart()}),_r(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const i=[];this.pending.forEach(a=>{i.push(a)}),await this.batchSubscribe(i)}),_r(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Ng.pulse,async()=>{await this.checkPending()}),this.events.on(Oa.created,async i=>{const a=Oa.created;this.logger.info(`Emitting ${a}`),this.logger.debug({type:"event",event:a,data:i}),await this.persist()}),this.events.on(Oa.deleted,async i=>{const a=Oa.deleted;this.logger.info(`Emitting ${a}`),this.logger.debug({type:"event",event:a,data:i}),await this.persist()})}),this.relayer=e,this.logger=ki(n,this.name),this.clientId=""}get context(){return ya(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let i=!1;try{i=this.getSubscription(e).topic===n}catch{}return i}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const i=this.topicMap.get(e);await Promise.all(i.map(async a=>await this.unsubscribeById(e,a,n)))}async unsubscribeById(e,n,i){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:i}});try{const a=gx(i);await this.restartToComplete({topic:e,id:n,relay:a}),await this.rpcUnsubscribe(e,n,a);const s=vr("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:i}})}catch(a){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(a),a}}async rpcSubscribe(e,n,i){var a;(!i||(i==null?void 0:i.transportType)===jr.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const s={method:Cy(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s});const o=(a=i==null?void 0:i.internal)==null?void 0:a.throwOnFailedPublish;try{const c=await this.getSubscriptionId(e);if((i==null?void 0:i.transportType)===jr.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(s).catch(d=>this.logger.warn(d))},$e.toMiliseconds($e.ONE_SECOND)),c;const l=new Promise(async d=>{const f=p=>{p.topic===e&&(this.events.removeListener(Oa.created,f),d(p.id))};this.events.on(Oa.created,f);try{const p=await xu(new Promise((m,y)=>{this.relayer.request(s).catch(v=>{this.logger.warn(v,v==null?void 0:v.message),y(v)}).then(m)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Oa.created,f),d(p)}catch{}}),u=await xu(l,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!u&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return u?c:null}catch(c){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Vn.connection_stalled),o)throw c}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,i={method:Cy(n.protocol).batchSubscribe,params:{topics:e.map(a=>a.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});try{await await xu(new Promise(a=>{this.relayer.request(i).catch(s=>this.logger.warn(s)).then(a)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Vn.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,i={method:Cy(n.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});let a;try{a=await await xu(new Promise((s,o)=>{this.relayer.request(i).catch(c=>{this.logger.warn(c),o(c)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Vn.connection_stalled)}return a}rpcUnsubscribe(e,n,i){const a={method:Cy(i.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a}),this.relayer.request(a)}onSubscribe(e,n){this.setSubscription(e,FT(Jm({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,Jm({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,i){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,i),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,Jm({},n)),this.topicMap.set(n.topic,e),this.events.emit(Oa.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:i}=je("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(i)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const i=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(i.topic,e),this.events.emit(Oa.deleted,FT(Jm({},i),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Oa.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let i=0;i<n;i++){const a=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(a)}}this.events.emit(Oa.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:n}=je("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>FT(Jm({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await KEe($e.toMiliseconds($e.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=je("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Do(e+await this.getClientId())}}var EPe=Object.defineProperty,qB=Object.getOwnPropertySymbols,SPe=Object.prototype.hasOwnProperty,CPe=Object.prototype.propertyIsEnumerable,t$=(r,e,n)=>e in r?EPe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,zB=(r,e)=>{for(var n in e||(e={}))SPe.call(e,n)&&t$(r,n,e[n]);if(qB)for(var n of qB(e))CPe.call(e,n)&&t$(r,n,e[n]);return r},rr=(r,e,n)=>t$(r,typeof e!="symbol"?e+"":e,n);class APe extends bbe{constructor(e){super(e),rr(this,"protocol","wc"),rr(this,"version",2),rr(this,"core"),rr(this,"logger"),rr(this,"events",new Ss.EventEmitter),rr(this,"provider"),rr(this,"messages"),rr(this,"subscriber"),rr(this,"publisher"),rr(this,"name",rTe),rr(this,"transportExplicitlyClosed",!1),rr(this,"initialized",!1),rr(this,"connectionAttemptInProgress",!1),rr(this,"relayUrl"),rr(this,"projectId"),rr(this,"packageName"),rr(this,"bundleId"),rr(this,"hasExperiencedNetworkDisruption",!1),rr(this,"pingTimeout"),rr(this,"heartBeatTimeout",$e.toMiliseconds($e.THIRTY_SECONDS+$e.FIVE_SECONDS)),rr(this,"reconnectTimeout"),rr(this,"connectPromise"),rr(this,"reconnectInProgress",!1),rr(this,"requestsInFlight",[]),rr(this,"connectTimeout",$e.toMiliseconds($e.ONE_SECOND*15)),rr(this,"request",async n=>{var i,a;this.logger.debug("Publishing Request Payload");const s=n.id||Md().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:n.method,topic:(i=n.params)==null?void 0:i.topic},"relayer.request - publishing...");const o=`${s}:${((a=n.params)==null?void 0:a.tag)||""}`;this.requestsInFlight.push(o);const c=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(l=>l!==o),c}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}}),rr(this,"resetPingTimeout",()=>{hx()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,i,a,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(a=(i=(n=this.provider)==null?void 0:n.connection)==null?void 0:i.socket)==null?void 0:a.terminate)==null||s.call(a)}catch(o){this.logger.warn(o,o==null?void 0:o.message)}},this.heartBeatTimeout))}),rr(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),rr(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected 🛜"),this.startPingTimeout(),this.events.emit(Vn.connect)}),rr(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected 🛑"),this.requestsInFlight=[],this.onProviderDisconnect()}),rr(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(Vn.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),rr(this,"registerProviderListeners",()=>{this.provider.on(Xa.payload,this.onPayloadHandler),this.provider.on(Xa.connect,this.onConnectHandler),this.provider.on(Xa.disconnect,this.onDisconnectHandler),this.provider.on(Xa.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?ki(e.logger,this.name):mb(Ig({level:e.logger||tTe})),this.messages=new oPe(this.logger,e.core),this.subscriber=new xPe(this,this.logger),this.publisher=new hPe(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||PQ,this.projectId=e.projectId,IEe()?this.packageName=DU():REe()&&(this.bundleId=DU()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(e){this.logger.warn(e,e==null?void 0:e.message)}}get context(){return ya(this.logger)}get connected(){var e,n,i;return((i=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:i.readyState)===1||!1}get connecting(){var e,n,i;return((i=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:i.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,i){this.isInitialized(),await this.publisher.publish(e,n,i),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:jr.relay},N_.outbound)}async subscribe(e,n){var i,a,s;this.isInitialized(),(!(n!=null&&n.transportType)||(n==null?void 0:n.transportType)==="relay")&&await this.toEstablishConnection();const o=typeof((i=n==null?void 0:n.internal)==null?void 0:i.throwOnFailedPublish)>"u"?!0:(a=n==null?void 0:n.internal)==null?void 0:a.throwOnFailedPublish;let c=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",l;const u=d=>{d.topic===e&&(this.subscriber.off(Oa.created,u),l())};return await Promise.all([new Promise(d=>{l=d,this.subscriber.on(Oa.created,u)}),new Promise(async(d,f)=>{c=await this.subscriber.subscribe(e,zB({internal:{throwOnFailedPublish:o}},n)).catch(p=>{o&&f(p)})||c,d()})]),c}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await xu(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,i)=>{await this.connect(e).then(n).catch(i).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await _B())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((i,a)=>i.publishedAt-a.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const i of n)try{await this.onMessageEvent(i)}catch(a){this.logger.warn(a,"Error while processing batch message event: "+(a==null?void 0:a.message))}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:i}=e;if(!n.sessionExists){const a=Pn($e.FIVE_MINUTES),s={topic:i,expiry:a,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(i,s)}this.events.emit(Vn.message,e),await this.recordMessageEvent(e,N_.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(i,a)=>{const s=()=>{a(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Xa.disconnect,s),await xu(new Promise((o,c)=>{this.provider.connect().then(o).catch(c)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{a(o)}).finally(()=>{this.provider.off(Xa.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,c)=>{const l=()=>{c(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Xa.disconnect,l),await this.subscriber.start().then(o).catch(c).finally(()=>{this.provider.off(Xa.disconnect,l)})}),this.hasExperiencedNetworkDisruption=!1,i()})}catch(i){await this.subscriber.stop();const a=i;this.logger.warn({},a.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(i=>setTimeout(i,$e.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,i,a,s;if(hx())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((s=(a=(i=this.provider)==null?void 0:i.connection)==null?void 0:a.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Cs(new H2e(LEe({sdkVersion:YR,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:i,message:a}=e;await this.messages.set(i,a,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:i}=e;if(!i||i.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${i}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const a=this.messages.has(n,i);return a&&this.logger.warn(`Ignoring duplicate message: ${i}`),a}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),HD(e)){if(!e.method.endsWith(nTe))return;const n=e.params,{topic:i,message:a,publishedAt:s,attestation:o}=n.data,c={topic:i,message:a,publishedAt:s,transportType:jr.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(zB({type:"event",event:n.id},c)),this.events.emit(n.id,c),await this.acknowledgePayload(e),await this.onMessageEvent(c)}else DS(e)&&this.events.emit(Vn.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,N_.inbound),this.events.emit(Vn.message,e))}async acknowledgePayload(e){const n=$S(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(Xa.payload,this.onPayloadHandler),this.provider.off(Xa.connect,this.onConnectHandler),this.provider.off(Xa.disconnect,this.onDisconnectHandler),this.provider.off(Xa.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await _B();ZAe(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(i=>this.logger.error(i,i==null?void 0:i.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Vn.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},$e.toMiliseconds(iTe)))))}isInitialized(){if(!this.initialized){const{message:e}=je("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function TPe(){}function HB(r){if(!r||typeof r!="object")return!1;const e=Object.getPrototypeOf(r);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(r)==="[object Object]":!1}function WB(r){return Object.getOwnPropertySymbols(r).filter(e=>Object.prototype.propertyIsEnumerable.call(r,e))}function VB(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}const kPe="[object RegExp]",PPe="[object String]",OPe="[object Number]",NPe="[object Boolean]",GB="[object Arguments]",IPe="[object Symbol]",RPe="[object Date]",$Pe="[object Map]",jPe="[object Set]",DPe="[object Array]",MPe="[object Function]",LPe="[object ArrayBuffer]",qT="[object Object]",UPe="[object Error]",BPe="[object DataView]",FPe="[object Uint8Array]",qPe="[object Uint8ClampedArray]",zPe="[object Uint16Array]",HPe="[object Uint32Array]",WPe="[object BigUint64Array]",VPe="[object Int8Array]",GPe="[object Int16Array]",KPe="[object Int32Array]",YPe="[object BigInt64Array]",XPe="[object Float32Array]",JPe="[object Float64Array]";function ZPe(r,e){return r===e||Number.isNaN(r)&&Number.isNaN(e)}function QPe(r,e,n){return Ty(r,e,void 0,void 0,void 0,void 0,n)}function Ty(r,e,n,i,a,s,o){const c=o(r,e,n,i,a,s);if(c!==void 0)return c;if(typeof r==typeof e)switch(typeof r){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return r===e;case"number":return r===e||Object.is(r,e);case"function":return r===e;case"object":return Gy(r,e,s,o)}return Gy(r,e,s,o)}function Gy(r,e,n,i){if(Object.is(r,e))return!0;let a=VB(r),s=VB(e);if(a===GB&&(a=qT),s===GB&&(s=qT),a!==s)return!1;switch(a){case PPe:return r.toString()===e.toString();case OPe:{const l=r.valueOf(),u=e.valueOf();return ZPe(l,u)}case NPe:case RPe:case IPe:return Object.is(r.valueOf(),e.valueOf());case kPe:return r.source===e.source&&r.flags===e.flags;case MPe:return r===e}n=n??new Map;const o=n.get(r),c=n.get(e);if(o!=null&&c!=null)return o===e;n.set(r,e),n.set(e,r);try{switch(a){case $Pe:{if(r.size!==e.size)return!1;for(const[l,u]of r.entries())if(!e.has(l)||!Ty(u,e.get(l),l,r,e,n,i))return!1;return!0}case jPe:{if(r.size!==e.size)return!1;const l=Array.from(r.values()),u=Array.from(e.values());for(let d=0;d<l.length;d++){const f=l[d],p=u.findIndex(m=>Ty(f,m,void 0,r,e,n,i));if(p===-1)return!1;u.splice(p,1)}return!0}case DPe:case FPe:case qPe:case zPe:case HPe:case WPe:case VPe:case GPe:case KPe:case YPe:case XPe:case JPe:{if(typeof Buffer<"u"&&Buffer.isBuffer(r)!==Buffer.isBuffer(e)||r.length!==e.length)return!1;for(let l=0;l<r.length;l++)if(!Ty(r[l],e[l],l,r,e,n,i))return!1;return!0}case LPe:return r.byteLength!==e.byteLength?!1:Gy(new Uint8Array(r),new Uint8Array(e),n,i);case BPe:return r.byteLength!==e.byteLength||r.byteOffset!==e.byteOffset?!1:Gy(new Uint8Array(r),new Uint8Array(e),n,i);case UPe:return r.name===e.name&&r.message===e.message;case qT:{if(!(Gy(r.constructor,e.constructor,n,i)||HB(r)&&HB(e)))return!1;const l=[...Object.keys(r),...WB(r)],u=[...Object.keys(e),...WB(e)];if(l.length!==u.length)return!1;for(let d=0;d<l.length;d++){const f=l[d],p=r[f];if(!Object.hasOwn(e,f))return!1;const m=e[f];if(!Ty(p,m,f,r,e,n,i))return!1}return!0}default:return!1}}finally{n.delete(r),n.delete(e)}}function eOe(r,e){return QPe(r,e,TPe)}var tOe=Object.defineProperty,KB=Object.getOwnPropertySymbols,rOe=Object.prototype.hasOwnProperty,nOe=Object.prototype.propertyIsEnumerable,r$=(r,e,n)=>e in r?tOe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,YB=(r,e)=>{for(var n in e||(e={}))rOe.call(e,n)&&r$(r,n,e[n]);if(KB)for(var n of KB(e))nOe.call(e,n)&&r$(r,n,e[n]);return r},Zi=(r,e,n)=>r$(r,typeof e!="symbol"?e+"":e,n);class Uf extends wbe{constructor(e,n,i,a=Jo,s=void 0){super(e,n,i,a),this.core=e,this.logger=n,this.name=i,Zi(this,"map",new Map),Zi(this,"version",aTe),Zi(this,"cached",[]),Zi(this,"initialized",!1),Zi(this,"getKey"),Zi(this,"storagePrefix",Jo),Zi(this,"recentlyDeleted",[]),Zi(this,"recentlyDeletedLimit",200),Zi(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!ai(o)?this.map.set(this.getKey(o),o):PAe(o)?this.map.set(o.id,o):OAe(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),Zi(this,"set",async(o,c)=>{this.isInitialized(),this.map.has(o)?await this.update(o,c):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:c}),this.map.set(o,c),await this.persist())}),Zi(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),Zi(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(c=>Object.keys(o).every(l=>eOe(c[l],o[l]))):this.values)),Zi(this,"update",async(o,c)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:c});const l=YB(YB({},this.getData(o)),c);this.map.set(o,l),await this.persist()}),Zi(this,"delete",async(o,c)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:c}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=ki(n,this.name),this.storagePrefix=a,this.getKey=s}get context(){return ya(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:a}=je("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(a),new Error(a)}const{message:i}=je("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=je("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=je("NOT_INITIALIZED",this.name);throw new Error(e)}}}var iOe=Object.defineProperty,aOe=(r,e,n)=>e in r?iOe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,Vt=(r,e,n)=>aOe(r,typeof e!="symbol"?e+"":e,n);class sOe{constructor(e,n){this.core=e,this.logger=n,Vt(this,"name",lTe),Vt(this,"version",uTe),Vt(this,"events",new ED),Vt(this,"pairings"),Vt(this,"initialized",!1),Vt(this,"storagePrefix",Jo),Vt(this,"ignoredPayloadTypes",[Zc]),Vt(this,"registeredMethods",[]),Vt(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Vt(this,"register",({methods:i})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...i])]}),Vt(this,"create",async i=>{this.isInitialized();const a=HR(),s=await this.core.crypto.setSymKey(a),o=Pn($e.FIVE_MINUTES),c={protocol:kQ},l={topic:s,expiry:o,relay:c,active:!1,methods:i==null?void 0:i.methods},u=gB({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:a,relay:c,expiryTimestamp:o,methods:i==null?void 0:i.methods});return this.events.emit(Td.create,l),this.core.expirer.set(s,o),await this.pairings.set(s,l),await this.core.relayer.subscribe(s,{transportType:i==null?void 0:i.transportType}),{topic:s,uri:u}}),Vt(this,"pair",async i=>{this.isInitialized();const a=this.core.eventClient.createEvent({properties:{topic:i==null?void 0:i.uri,trace:[Ao.pairing_started]}});this.isValidPair(i,a);const{topic:s,symKey:o,relay:c,expiryTimestamp:l,methods:u}=pB(i.uri);a.props.properties.topic=s,a.addTrace(Ao.pairing_uri_validation_success),a.addTrace(Ao.pairing_uri_not_expired);let d;if(this.pairings.keys.includes(s)){if(d=this.pairings.get(s),a.addTrace(Ao.existing_pairing),d.active)throw a.setError($c.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);a.addTrace(Ao.pairing_not_expired)}const f=l||Pn($e.FIVE_MINUTES),p={topic:s,relay:c,expiry:f,active:!1,methods:u};this.core.expirer.set(s,f),await this.pairings.set(s,p),a.addTrace(Ao.store_new_pairing),i.activatePairing&&await this.activate({topic:s}),this.events.emit(Td.create,p),a.addTrace(Ao.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),a.addTrace(Ao.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{a.setError($c.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:c})}catch(m){throw a.setError($c.subscribe_pairing_topic_failure),m}return a.addTrace(Ao.subscribe_pairing_topic_success),p}),Vt(this,"activate",async({topic:i})=>{this.isInitialized();const a=Pn($e.FIVE_MINUTES);this.core.expirer.set(i,a),await this.pairings.update(i,{active:!0,expiry:a})}),Vt(this,"ping",async i=>{this.isInitialized(),await this.isValidPing(i),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:a}=i;if(this.pairings.keys.includes(a)){const s=await this.sendRequest(a,"wc_pairingPing",{}),{done:o,resolve:c,reject:l}=wd();this.events.once(ur("pairing_ping",s),({error:u})=>{u?l(u):c()}),await o()}}),Vt(this,"updateExpiry",async({topic:i,expiry:a})=>{this.isInitialized(),await this.pairings.update(i,{expiry:a})}),Vt(this,"updateMetadata",async({topic:i,metadata:a})=>{this.isInitialized(),await this.pairings.update(i,{peerMetadata:a})}),Vt(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Vt(this,"disconnect",async i=>{this.isInitialized(),await this.isValidDisconnect(i);const{topic:a}=i;this.pairings.keys.includes(a)&&(await this.sendRequest(a,"wc_pairingDelete",vr("USER_DISCONNECTED")),await this.deletePairing(a))}),Vt(this,"formatUriFromPairing",i=>{this.isInitialized();const{topic:a,relay:s,expiry:o,methods:c}=i,l=this.core.crypto.keychain.get(a);return gB({protocol:this.core.protocol,version:this.core.version,topic:a,symKey:l,relay:s,expiryTimestamp:o,methods:c})}),Vt(this,"sendRequest",async(i,a,s)=>{const o=Eu(a,s),c=await this.core.crypto.encode(i,o),l=Ym[a].req;return this.core.history.set(i,o),this.core.relayer.publish(i,c,l),o.id}),Vt(this,"sendResult",async(i,a,s)=>{const o=$S(i,s),c=await this.core.crypto.encode(a,o),l=(await this.core.history.get(a,i)).request.method,u=Ym[l].res;await this.core.relayer.publish(a,c,u),await this.core.history.resolve(o)}),Vt(this,"sendError",async(i,a,s)=>{const o=jS(i,s),c=await this.core.crypto.encode(a,o),l=(await this.core.history.get(a,i)).request.method,u=Ym[l]?Ym[l].res:Ym.unregistered_method.res;await this.core.relayer.publish(a,c,u),await this.core.history.resolve(o)}),Vt(this,"deletePairing",async(i,a)=>{await this.core.relayer.unsubscribe(i),await Promise.all([this.pairings.delete(i,vr("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(i),a?Promise.resolve():this.core.expirer.del(i)])}),Vt(this,"cleanup",async()=>{const i=this.pairings.getAll().filter(a=>su(a.expiry));await Promise.all(i.map(a=>this.deletePairing(a.topic)))}),Vt(this,"onRelayEventRequest",async i=>{const{topic:a,payload:s}=i;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(a,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(a,s);default:return await this.onUnknownRpcMethodRequest(a,s)}}),Vt(this,"onRelayEventResponse",async i=>{const{topic:a,payload:s}=i,o=(await this.core.history.get(a,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(a,s);default:return this.onUnknownRpcMethodResponse(o)}}),Vt(this,"onPairingPingRequest",async(i,a)=>{const{id:s}=a;try{this.isValidPing({topic:i}),await this.sendResult(s,i,!0),this.events.emit(Td.ping,{id:s,topic:i})}catch(o){await this.sendError(s,i,o),this.logger.error(o)}}),Vt(this,"onPairingPingResponse",(i,a)=>{const{id:s}=a;setTimeout(()=>{Po(a)?this.events.emit(ur("pairing_ping",s),{}):cs(a)&&this.events.emit(ur("pairing_ping",s),{error:a.error})},500)}),Vt(this,"onPairingDeleteRequest",async(i,a)=>{const{id:s}=a;try{this.isValidDisconnect({topic:i}),await this.deletePairing(i),this.events.emit(Td.delete,{id:s,topic:i})}catch(o){await this.sendError(s,i,o),this.logger.error(o)}}),Vt(this,"onUnknownRpcMethodRequest",async(i,a)=>{const{id:s,method:o}=a;try{if(this.registeredMethods.includes(o))return;const c=vr("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,i,c),this.logger.error(c)}catch(c){await this.sendError(s,i,c),this.logger.error(c)}}),Vt(this,"onUnknownRpcMethodResponse",i=>{this.registeredMethods.includes(i)||this.logger.error(vr("WC_METHOD_UNSUPPORTED",i))}),Vt(this,"isValidPair",(i,a)=>{var s;if(!ia(i)){const{message:c}=je("MISSING_OR_INVALID",`pair() params: ${i}`);throw a.setError($c.malformed_pairing_uri),new Error(c)}if(!kAe(i.uri)){const{message:c}=je("MISSING_OR_INVALID",`pair() uri: ${i.uri}`);throw a.setError($c.malformed_pairing_uri),new Error(c)}const o=pB(i==null?void 0:i.uri);if(!((s=o==null?void 0:o.relay)!=null&&s.protocol)){const{message:c}=je("MISSING_OR_INVALID","pair() uri#relay-protocol");throw a.setError($c.malformed_pairing_uri),new Error(c)}if(!(o!=null&&o.symKey)){const{message:c}=je("MISSING_OR_INVALID","pair() uri#symKey");throw a.setError($c.malformed_pairing_uri),new Error(c)}if(o!=null&&o.expiryTimestamp&&$e.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){a.setError($c.pairing_expired);const{message:c}=je("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(c)}}),Vt(this,"isValidPing",async i=>{if(!ia(i)){const{message:s}=je("MISSING_OR_INVALID",`ping() params: ${i}`);throw new Error(s)}const{topic:a}=i;await this.isValidPairingTopic(a)}),Vt(this,"isValidDisconnect",async i=>{if(!ia(i)){const{message:s}=je("MISSING_OR_INVALID",`disconnect() params: ${i}`);throw new Error(s)}const{topic:a}=i;await this.isValidPairingTopic(a)}),Vt(this,"isValidPairingTopic",async i=>{if(!wn(i,!1)){const{message:a}=je("MISSING_OR_INVALID",`pairing topic should be a string: ${i}`);throw new Error(a)}if(!this.pairings.keys.includes(i)){const{message:a}=je("NO_MATCHING_KEY",`pairing topic doesn't exist: ${i}`);throw new Error(a)}if(su(this.pairings.get(i).expiry)){await this.deletePairing(i);const{message:a}=je("EXPIRED",`pairing topic: ${i}`);throw new Error(a)}}),this.core=e,this.logger=ki(n,this.name),this.pairings=new Uf(this.core,this.logger,this.name,this.storagePrefix)}get context(){return ya(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=je("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Vn.message,async e=>{const{topic:n,message:i,transportType:a}=e;if(this.pairings.keys.includes(n)&&a!==jr.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(i)))try{const s=await this.core.crypto.decode(n,i);HD(s)?(this.core.history.set(n,s),await this.onRelayEventRequest({topic:n,payload:s})):DS(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:n,payload:s}),this.core.history.delete(n,s.id)),await this.core.relayer.messages.ack(n,i)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(is.expired,async e=>{const{topic:n}=LZ(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(Td.expire,{topic:n}))})}}var oOe=Object.defineProperty,cOe=(r,e,n)=>e in r?oOe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,ri=(r,e,n)=>cOe(r,typeof e!="symbol"?e+"":e,n);class lOe extends mbe{constructor(e,n){super(e,n),this.core=e,this.logger=n,ri(this,"records",new Map),ri(this,"events",new Ss.EventEmitter),ri(this,"name",dTe),ri(this,"version",fTe),ri(this,"cached",[]),ri(this,"initialized",!1),ri(this,"storagePrefix",Jo),ri(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.records.set(i.id,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),ri(this,"set",(i,a,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:i,request:a,chainId:s}),this.records.has(a.id))return;const o={id:a.id,topic:i,request:{method:a.method,params:a.params||null},chainId:s,expiry:Pn($e.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(Ms.created,o)}),ri(this,"resolve",async i=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:i}),!this.records.has(i.id))return;const a=await this.getRecord(i.id);typeof a.response>"u"&&(a.response=cs(i)?{error:i.error}:{result:i.result},this.records.set(a.id,a),this.persist(),this.events.emit(Ms.updated,a))}),ri(this,"get",async(i,a)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:i,id:a}),await this.getRecord(a))),ri(this,"delete",(i,a)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:a}),this.values.forEach(s=>{if(s.topic===i){if(typeof a<"u"&&s.id!==a)return;this.records.delete(s.id),this.events.emit(Ms.deleted,s)}}),this.persist()}),ri(this,"exists",async(i,a)=>(this.isInitialized(),this.records.has(a)?(await this.getRecord(a)).topic===i:!1)),ri(this,"on",(i,a)=>{this.events.on(i,a)}),ri(this,"once",(i,a)=>{this.events.once(i,a)}),ri(this,"off",(i,a)=>{this.events.off(i,a)}),ri(this,"removeListener",(i,a)=>{this.events.removeListener(i,a)}),this.logger=ki(n,this.name)}get context(){return ya(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const i={topic:n.topic,request:Eu(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(i)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:i}=je("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(i)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Ms.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=je("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Ms.created,e=>{const n=Ms.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Ms.updated,e=>{const n=Ms.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Ms.deleted,e=>{const n=Ms.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(Ng.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{$e.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(Ms.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=je("NOT_INITIALIZED",this.name);throw new Error(e)}}}var uOe=Object.defineProperty,dOe=(r,e,n)=>e in r?uOe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,bi=(r,e,n)=>dOe(r,typeof e!="symbol"?e+"":e,n);class fOe extends xbe{constructor(e,n){super(e,n),this.core=e,this.logger=n,bi(this,"expirations",new Map),bi(this,"events",new Ss.EventEmitter),bi(this,"name",hTe),bi(this,"version",pTe),bi(this,"cached",[]),bi(this,"initialized",!1),bi(this,"storagePrefix",Jo),bi(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.expirations.set(i.target,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),bi(this,"has",i=>{try{const a=this.formatTarget(i);return typeof this.getExpiration(a)<"u"}catch{return!1}}),bi(this,"set",(i,a)=>{this.isInitialized();const s=this.formatTarget(i),o={target:s,expiry:a};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(is.created,{target:s,expiration:o})}),bi(this,"get",i=>{this.isInitialized();const a=this.formatTarget(i);return this.getExpiration(a)}),bi(this,"del",i=>{if(this.isInitialized(),this.has(i)){const a=this.formatTarget(i),s=this.getExpiration(a);this.expirations.delete(a),this.events.emit(is.deleted,{target:a,expiration:s})}}),bi(this,"on",(i,a)=>{this.events.on(i,a)}),bi(this,"once",(i,a)=>{this.events.once(i,a)}),bi(this,"off",(i,a)=>{this.events.off(i,a)}),bi(this,"removeListener",(i,a)=>{this.events.removeListener(i,a)}),this.logger=ki(n,this.name)}get context(){return ya(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return UEe(e);if(typeof e=="number")return BEe(e);const{message:n}=je("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(is.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=je("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:i}=je("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(i),new Error(i)}return n}checkExpiry(e,n){const{expiry:i}=n;$e.toMiliseconds(i)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(is.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(Ng.pulse,()=>this.checkExpirations()),this.events.on(is.created,e=>{const n=is.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(is.expired,e=>{const n=is.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(is.deleted,e=>{const n=is.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=je("NOT_INITIALIZED",this.name);throw new Error(e)}}}var hOe=Object.defineProperty,pOe=(r,e,n)=>e in r?hOe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,vn=(r,e,n)=>pOe(r,typeof e!="symbol"?e+"":e,n);class gOe extends Ebe{constructor(e,n,i){super(e,n,i),this.core=e,this.logger=n,this.store=i,vn(this,"name",gTe),vn(this,"abortController"),vn(this,"isDevEnv"),vn(this,"verifyUrlV3",yTe),vn(this,"storagePrefix",Jo),vn(this,"version",TQ),vn(this,"publicKey"),vn(this,"fetchPromise"),vn(this,"init",async()=>{var a;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&$e.toMiliseconds((a=this.publicKey)==null?void 0:a.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),vn(this,"register",async a=>{if(!wb()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:c}=a,l=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${c}`;try{const u=pf.getDocument(),d=this.startAbortTimer($e.ONE_SECOND*5),f=await new Promise((p,m)=>{const y=()=>{window.removeEventListener("message",b),u.body.removeChild(v),m("attestation aborted")};this.abortController.signal.addEventListener("abort",y);const v=u.createElement("iframe");v.src=l,v.style.display="none",v.addEventListener("error",y,{signal:this.abortController.signal});const b=w=>{if(w.data&&typeof w.data=="string")try{const x=JSON.parse(w.data);if(x.type==="verify_attestation"){if(OR(x.attestation).payload.id!==o)return;clearInterval(d),u.body.removeChild(v),this.abortController.signal.removeEventListener("abort",y),window.removeEventListener("message",b),p(x.attestation===null?"":x.attestation)}}catch(x){this.logger.warn(x)}};u.body.appendChild(v),window.addEventListener("message",b,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",f),f}catch(u){this.logger.warn(u)}return""}),vn(this,"resolve",async a=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:c}=a;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(OR(s).payload.id!==c)return;const u=await this.isValidJwtAttestation(s);if(u){if(!u.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return u}}if(!o)return;const l=this.getVerifyUrl(a==null?void 0:a.verifyUrl);return this.fetchAttestation(o,l)}),vn(this,"fetchAttestation",async(a,s)=>{this.logger.debug(`resolving attestation: ${a} from url: ${s}`);const o=this.startAbortTimer($e.ONE_SECOND*5),c=await fetch(`${s}/attestation/${a}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),c.status===200?await c.json():void 0}),vn(this,"getVerifyUrl",a=>{let s=a||Vy;return vTe.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${Vy}`),s=Vy),s}),vn(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const a=this.startAbortTimer($e.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(a),await s.json()}catch(a){this.logger.warn(a)}}),vn(this,"persistPublicKey",async a=>{this.logger.debug("persisting public key to local storage",a),await this.store.setItem(this.storeKey,a),this.publicKey=a}),vn(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),vn(this,"isValidJwtAttestation",async a=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(a,s)}catch(c){this.logger.error(c),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(a,o)}catch(c){this.logger.error(c),this.logger.warn("error validating attestation")}}),vn(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),vn(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const a=await this.fetchPromise;return this.fetchPromise=void 0,a}),vn(this,"validateAttestation",(a,s)=>{const o=gAe(a,s.publicKey),c={hasExpired:$e.toMiliseconds(o.exp)<Date.now(),payload:o};if(c.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:c.payload.origin,isScam:c.payload.isScam,isVerified:c.payload.isVerified}}),this.logger=ki(n,this.name),this.abortController=new AbortController,this.isDevEnv=$D(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return ya(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),$e.toMiliseconds(e))}}var mOe=Object.defineProperty,yOe=(r,e,n)=>e in r?mOe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,XB=(r,e,n)=>yOe(r,typeof e!="symbol"?e+"":e,n);class vOe extends Sbe{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,XB(this,"context",bTe),XB(this,"registerDeviceToken",async i=>{const{clientId:a,token:s,notificationType:o,enableEncrypted:c=!1}=i,l=`${wTe}/${this.projectId}/clients`;await fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:a,type:o,token:s,always_raw:c})})}),this.logger=ki(n,this.context)}}var bOe=Object.defineProperty,JB=Object.getOwnPropertySymbols,wOe=Object.prototype.hasOwnProperty,_Oe=Object.prototype.propertyIsEnumerable,n$=(r,e,n)=>e in r?bOe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,Zm=(r,e)=>{for(var n in e||(e={}))wOe.call(e,n)&&n$(r,n,e[n]);if(JB)for(var n of JB(e))_Oe.call(e,n)&&n$(r,n,e[n]);return r},Ln=(r,e,n)=>n$(r,typeof e!="symbol"?e+"":e,n);class xOe extends Cbe{constructor(e,n,i=!0){super(e,n,i),this.core=e,this.logger=n,Ln(this,"context",xTe),Ln(this,"storagePrefix",Jo),Ln(this,"storageVersion",_Te),Ln(this,"events",new Map),Ln(this,"shouldPersist",!1),Ln(this,"init",async()=>{if(!$D())try{const a={eventId:LU(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:DZ(this.core.relayer.protocol,this.core.relayer.version,YR)}}};await this.sendEvent([a])}catch(a){this.logger.warn(a)}}),Ln(this,"createEvent",a=>{const{event:s="ERROR",type:o="",properties:{topic:c,trace:l}}=a,u=LU(),d=this.core.projectId||"",f=Date.now(),p=Zm({eventId:u,timestamp:f,props:{event:s,type:o,properties:{topic:c,trace:l}},bundleId:d,domain:this.getAppDomain()},this.setMethods(u));return this.telemetryEnabled&&(this.events.set(u,p),this.shouldPersist=!0),p}),Ln(this,"getEvent",a=>{const{eventId:s,topic:o}=a;if(s)return this.events.get(s);const c=Array.from(this.events.values()).find(l=>l.props.properties.topic===o);if(c)return Zm(Zm({},c),this.setMethods(c.eventId))}),Ln(this,"deleteEvent",a=>{const{eventId:s}=a;this.events.delete(s),this.shouldPersist=!0}),Ln(this,"setEventListeners",()=>{this.core.heartbeat.on(Ng.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(a=>{$e.fromMiliseconds(Date.now())-$e.fromMiliseconds(a.timestamp)>ETe&&(this.events.delete(a.eventId),this.shouldPersist=!0)})})}),Ln(this,"setMethods",a=>({addTrace:s=>this.addTrace(a,s),setError:s=>this.setError(a,s)})),Ln(this,"addTrace",(a,s)=>{const o=this.events.get(a);o&&(o.props.properties.trace.push(s),this.events.set(a,o),this.shouldPersist=!0)}),Ln(this,"setError",(a,s)=>{const o=this.events.get(a);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(a,o),this.shouldPersist=!0)}),Ln(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Ln(this,"restore",async()=>{try{const a=await this.core.storage.getItem(this.storageKey)||[];if(!a.length)return;a.forEach(s=>{this.events.set(s.eventId,Zm(Zm({},s),this.setMethods(s.eventId)))})}catch(a){this.logger.warn(a)}}),Ln(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const a=[];for(const[s,o]of this.events)o.props.type&&a.push(o);if(a.length!==0)try{if((await this.sendEvent(a)).ok)for(const s of a)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),Ln(this,"sendEvent",async a=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${STe}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${YR}${s}`,{method:"POST",body:JSON.stringify(a)})}),Ln(this,"getAppDomain",()=>jZ().url),this.logger=ki(n,this.context),this.telemetryEnabled=i,i?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var EOe=Object.defineProperty,ZB=Object.getOwnPropertySymbols,SOe=Object.prototype.hasOwnProperty,COe=Object.prototype.propertyIsEnumerable,i$=(r,e,n)=>e in r?EOe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,QB=(r,e)=>{for(var n in e||(e={}))SOe.call(e,n)&&i$(r,n,e[n]);if(ZB)for(var n of ZB(e))COe.call(e,n)&&i$(r,n,e[n]);return r},kr=(r,e,n)=>i$(r,typeof e!="symbol"?e+"":e,n);let AOe=class FQ extends fbe{constructor(e){var n;super(e),kr(this,"protocol",AQ),kr(this,"version",TQ),kr(this,"name",KR),kr(this,"relayUrl"),kr(this,"projectId"),kr(this,"customStoragePrefix"),kr(this,"events",new Ss.EventEmitter),kr(this,"logger"),kr(this,"heartbeat"),kr(this,"relayer"),kr(this,"crypto"),kr(this,"storage"),kr(this,"history"),kr(this,"expirer"),kr(this,"pairing"),kr(this,"verify"),kr(this,"echoClient"),kr(this,"linkModeSupportedApps"),kr(this,"eventClient"),kr(this,"initialized",!1),kr(this,"logChunkController"),kr(this,"on",(c,l)=>this.events.on(c,l)),kr(this,"once",(c,l)=>this.events.once(c,l)),kr(this,"off",(c,l)=>this.events.off(c,l)),kr(this,"removeListener",(c,l)=>this.events.removeListener(c,l)),kr(this,"dispatchEnvelope",({topic:c,message:l,sessionExists:u})=>{if(!c||!l)return;const d={topic:c,message:l,publishedAt:Date.now(),transportType:jr.link_mode};this.relayer.onLinkMessageEvent(d,{sessionExists:u})});const i=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(i)try{return this.customStoragePrefix=i.customStoragePrefix,this.logger=i.logger,this.heartbeat=i.heartbeat,this.crypto=i.crypto,this.history=i.history,this.expirer=i.expirer,this.storage=i.storage,this.relayer=i.relayer,this.pairing=i.pairing,this.verify=i.verify,this.echoClient=i.echoClient,this.linkModeSupportedApps=i.linkModeSupportedApps,this.eventClient=i.eventClient,this.initialized=i.initialized,this.logChunkController=i.logChunkController,i}catch(c){console.warn("Failed to copy global core",c)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||PQ,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const a=Ig({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:V2e.logger,name:KR}),{logger:s,chunkLoggerController:o}=CD({opts:a,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var c,l;(c=this.logChunkController)!=null&&c.downloadLogsBlobInBrowser&&((l=this.logChunkController)==null||l.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=ki(s,this.name),this.heartbeat=new d0e,this.crypto=new Qke(this,this.logger,e==null?void 0:e.keychain),this.history=new lOe(this,this.logger),this.expirer=new fOe(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new G0e(QB(QB({},G2e),e==null?void 0:e.storageOptions)),this.relayer=new APe({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new sOe(this,this.logger),this.verify=new gOe(this,this.logger,this.storage),this.echoClient=new vOe(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new xOe(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new FQ(e);await n.initialize();const i=await n.crypto.getClientId();return await n.storage.setItem(sTe,i),n}get context(){return ya(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(IB,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(IB)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,i=`${n}_count`;return globalThis[i]=(globalThis[i]||0)+1,globalThis[i]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[i]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const i=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[i]=e}catch(i){console.warn("Failed to set global WalletConnect core",i)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&W2e.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const TOe=AOe,qQ="wc",zQ=2,HQ="client",WD=`${qQ}@${zQ}:${HQ}:`,zT={name:HQ,logger:"error"},eF="WALLETCONNECT_DEEPLINK_CHOICE",kOe="proposal",tF="Proposal expired",POe="session",Eh=$e.SEVEN_DAYS,OOe="engine",Un={wc_sessionPropose:{req:{ttl:$e.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:$e.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:$e.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:$e.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:$e.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:$e.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:$e.ONE_DAY,prompt:!1,tag:1104},res:{ttl:$e.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:$e.ONE_DAY,prompt:!1,tag:1106},res:{ttl:$e.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:$e.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:$e.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:$e.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:$e.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:$e.ONE_DAY,prompt:!1,tag:1112},res:{ttl:$e.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:$e.ONE_DAY,prompt:!1,tag:1114},res:{ttl:$e.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:$e.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:$e.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:$e.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:$e.FIVE_MINUTES,prompt:!1,tag:1119}}},HT={min:$e.FIVE_MINUTES,max:$e.SEVEN_DAYS},Eo={idle:"IDLE",active:"ACTIVE"},rF={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},NOe="request",IOe=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],ROe="wc",$Oe="auth",jOe="authKeys",DOe="pairingTopics",MOe="requests",LS=`${ROe}@${1.5}:${$Oe}:`,I_=`${LS}:PUB_KEY`;var LOe=Object.defineProperty,UOe=Object.defineProperties,BOe=Object.getOwnPropertyDescriptors,nF=Object.getOwnPropertySymbols,FOe=Object.prototype.hasOwnProperty,qOe=Object.prototype.propertyIsEnumerable,a$=(r,e,n)=>e in r?LOe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,xr=(r,e)=>{for(var n in e||(e={}))FOe.call(e,n)&&a$(r,n,e[n]);if(nF)for(var n of nF(e))qOe.call(e,n)&&a$(r,n,e[n]);return r},Ii=(r,e)=>UOe(r,BOe(e)),we=(r,e,n)=>a$(r,typeof e!="symbol"?e+"":e,n);class zOe extends Pbe{constructor(e){super(e),we(this,"name",OOe),we(this,"events",new ED),we(this,"initialized",!1),we(this,"requestQueue",{state:Eo.idle,queue:[]}),we(this,"sessionRequestQueue",{state:Eo.idle,queue:[]}),we(this,"requestQueueDelay",$e.ONE_SECOND),we(this,"expectedPairingMethodMap",new Map),we(this,"recentlyDeletedMap",new Map),we(this,"recentlyDeletedLimit",200),we(this,"relayMessageCache",[]),we(this,"pendingSessions",new Map),we(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Un)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},$e.toMiliseconds(this.requestQueueDelay)))}),we(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const i=Ii(xr({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(i);const{pairingTopic:a,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:c,scopedProperties:l,relays:u}=i;let d=a,f,p=!1;try{if(d){const C=this.client.core.pairing.pairings.get(d);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),p=C.active}}catch(C){throw this.client.logger.error(`connect() -> pairing.get(${d}) failed`),C}if(!d||!p){const{topic:C,uri:P}=await this.client.core.pairing.create();d=C,f=P}if(!d){const{message:C}=je("NO_MATCHING_KEY",`connect() pairing topic: ${d}`);throw new Error(C)}const m=await this.client.core.crypto.generateKeyPair(),y=Un.wc_sessionPropose.req.ttl||$e.FIVE_MINUTES,v=Pn(y),b=Ii(xr(xr({requiredNamespaces:s,optionalNamespaces:o,relays:u??[{protocol:kQ}],proposer:{publicKey:m,metadata:this.client.metadata},expiryTimestamp:v,pairingTopic:d},c&&{sessionProperties:c}),l&&{scopedProperties:l}),{id:ko()}),w=ur("session_connect",b.id),{reject:x,resolve:E,done:A}=wd(y,tF),S=({id:C})=>{C===b.id&&(this.client.events.off("proposal_expire",S),this.pendingSessions.delete(b.id),this.events.emit(w,{error:{message:tF,code:0}}))};return this.client.events.on("proposal_expire",S),this.events.once(w,({error:C,session:P})=>{this.client.events.off("proposal_expire",S),C?x(C):P&&E(P)}),await this.sendRequest({topic:d,method:"wc_sessionPropose",params:b,throwOnFailedPublish:!0,clientRpcId:b.id}),await this.setProposal(b.id,b),{uri:f,approval:A}}),we(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(i){throw this.client.logger.error("pair() failed"),i}}),we(this,"approve",async n=>{var i,a,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(i=n==null?void 0:n.id)==null?void 0:i.toString(),trace:[Ls.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(I){throw o.setError(hd.no_internet_connection),I}try{await this.isValidProposalId(n==null?void 0:n.id)}catch(I){throw this.client.logger.error(`approve() -> proposal.get(${n==null?void 0:n.id}) failed`),o.setError(hd.proposal_not_found),I}try{await this.isValidApprove(n)}catch(I){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(hd.session_approve_namespace_validation_failure),I}const{id:c,relayProtocol:l,namespaces:u,sessionProperties:d,scopedProperties:f,sessionConfig:p}=n,m=this.client.proposal.get(c);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:y,proposer:v,requiredNamespaces:b,optionalNamespaces:w}=m;let x=(a=this.client.core.eventClient)==null?void 0:a.getEvent({topic:y});x||(x=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:Ls.session_approve_started,properties:{topic:y,trace:[Ls.session_approve_started,Ls.session_namespaces_validation_success]}}));const E=await this.client.core.crypto.generateKeyPair(),A=v.publicKey,S=await this.client.core.crypto.generateSharedKey(E,A),C=xr(xr(xr({relay:{protocol:l??"irn"},namespaces:u,controller:{publicKey:E,metadata:this.client.metadata},expiry:Pn(Eh)},d&&{sessionProperties:d}),f&&{scopedProperties:f}),p&&{sessionConfig:p}),P=jr.relay;x.addTrace(Ls.subscribing_session_topic);try{await this.client.core.relayer.subscribe(S,{transportType:P})}catch(I){throw x.setError(hd.subscribe_session_topic_failure),I}x.addTrace(Ls.subscribe_session_topic_success);const O=Ii(xr({},C),{topic:S,requiredNamespaces:b,optionalNamespaces:w,pairingTopic:y,acknowledged:!1,self:C.controller,peer:{publicKey:v.publicKey,metadata:v.metadata},controller:E,transportType:jr.relay});await this.client.session.set(S,O),x.addTrace(Ls.store_session);try{x.addTrace(Ls.publishing_session_settle),await this.sendRequest({topic:S,method:"wc_sessionSettle",params:C,throwOnFailedPublish:!0}).catch(I=>{throw x==null||x.setError(hd.session_settle_publish_failure),I}),x.addTrace(Ls.session_settle_publish_success),x.addTrace(Ls.publishing_session_approve),await this.sendResult({id:c,topic:y,result:{relay:{protocol:l??"irn"},responderPublicKey:E},throwOnFailedPublish:!0}).catch(I=>{throw x==null||x.setError(hd.session_approve_publish_failure),I}),x.addTrace(Ls.session_approve_publish_success)}catch(I){throw this.client.logger.error(I),this.client.session.delete(S,vr("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(S),I}return this.client.core.eventClient.deleteEvent({eventId:x.eventId}),await this.client.core.pairing.updateMetadata({topic:y,metadata:v.metadata}),await this.client.proposal.delete(c,vr("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:y}),await this.setExpiry(S,Pn(Eh)),{topic:S,acknowledged:()=>Promise.resolve(this.client.session.get(S))}}),we(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:i,reason:a}=n;let s;try{s=this.client.proposal.get(i).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${i}) failed`),o}s&&(await this.sendError({id:i,topic:s,error:a,rpcOpts:Un.wc_sessionPropose.reject}),await this.client.proposal.delete(i,vr("USER_DISCONNECTED")))}),we(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(f){throw this.client.logger.error("update() -> isValidUpdate() failed"),f}const{topic:i,namespaces:a}=n,{done:s,resolve:o,reject:c}=wd(),l=ko(),u=Md().toString(),d=this.client.session.get(i).namespaces;return this.events.once(ur("session_update",l),({error:f})=>{f?c(f):o()}),await this.client.session.update(i,{namespaces:a}),await this.sendRequest({topic:i,method:"wc_sessionUpdate",params:{namespaces:a},throwOnFailedPublish:!0,clientRpcId:l,relayRpcId:u}).catch(f=>{this.client.logger.error(f),this.client.session.update(i,{namespaces:d}),c(f)}),{acknowledged:s}}),we(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(l){throw this.client.logger.error("extend() -> isValidExtend() failed"),l}const{topic:i}=n,a=ko(),{done:s,resolve:o,reject:c}=wd();return this.events.once(ur("session_extend",a),({error:l})=>{l?c(l):o()}),await this.setExpiry(i,Pn(Eh)),this.sendRequest({topic:i,method:"wc_sessionExtend",params:{},clientRpcId:a,throwOnFailedPublish:!0}).catch(l=>{c(l)}),{acknowledged:s}}),we(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(w){throw this.client.logger.error("request() -> isValidRequest() failed"),w}const{chainId:i,request:a,topic:s,expiry:o=Un.wc_sessionRequest.req.ttl}=n,c=this.client.session.get(s);(c==null?void 0:c.transportType)===jr.relay&&await this.confirmOnlineStateOrThrow();const l=ko(),u=Md().toString(),{done:d,resolve:f,reject:p}=wd(o,"Request expired. Please try again.");this.events.once(ur("session_request",l),({error:w,result:x})=>{w?p(w):f(x)});const m="wc_sessionRequest",y=this.getAppLinkIfEnabled(c.peer.metadata,c.transportType);if(y)return await this.sendRequest({clientRpcId:l,relayRpcId:u,topic:s,method:m,params:{request:Ii(xr({},a),{expiryTimestamp:Pn(o)}),chainId:i},expiry:o,throwOnFailedPublish:!0,appLink:y}).catch(w=>p(w)),this.client.events.emit("session_request_sent",{topic:s,request:a,chainId:i,id:l}),await d();const v={request:Ii(xr({},a),{expiryTimestamp:Pn(o)}),chainId:i},b=this.shouldSetTVF(m,v);return await Promise.all([new Promise(async w=>{await this.sendRequest(xr({clientRpcId:l,relayRpcId:u,topic:s,method:m,params:v,expiry:o,throwOnFailedPublish:!0},b&&{tvf:this.getTVFParams(l,v)})).catch(x=>p(x)),this.client.events.emit("session_request_sent",{topic:s,request:a,chainId:i,id:l}),w()}),new Promise(async w=>{var x;if(!((x=c.sessionConfig)!=null&&x.disableDeepLink)){const E=await HEe(this.client.core.storage,eF);await FEe({id:l,topic:s,wcDeepLink:E})}w()}),d()]).then(w=>w[2])}),we(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:i,response:a}=n,{id:s}=a,o=this.client.session.get(i);o.transportType===jr.relay&&await this.confirmOnlineStateOrThrow();const c=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);Po(a)?await this.sendResult({id:s,topic:i,result:a.result,throwOnFailedPublish:!0,appLink:c}):cs(a)&&await this.sendError({id:s,topic:i,error:a.error,appLink:c}),this.cleanupAfterResponse(n)}),we(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(a){throw this.client.logger.error("ping() -> isValidPing() failed"),a}const{topic:i}=n;if(this.client.session.keys.includes(i)){const a=ko(),s=Md().toString(),{done:o,resolve:c,reject:l}=wd();this.events.once(ur("session_ping",a),({error:u})=>{u?l(u):c()}),await Promise.all([this.sendRequest({topic:i,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:a,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(i)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:i}))}),we(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:i,event:a,chainId:s}=n,o=Md().toString(),c=ko();await this.sendRequest({topic:i,method:"wc_sessionEvent",params:{event:a,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:c})}),we(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:i}=n;if(this.client.session.keys.includes(i))await this.sendRequest({topic:i,method:"wc_sessionDelete",params:vr("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:i,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(i))await this.client.core.pairing.disconnect({topic:i});else{const{message:a}=je("MISMATCHED_TOPIC",`Session or pairing topic not found: ${i}`);throw new Error(a)}}),we(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(i=>AAe(i,n)))),we(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),we(this,"authenticate",async(n,i)=>{var a;this.isInitialized(),this.isValidAuthenticate(n);const s=i&&this.client.core.linkModeSupportedApps.includes(i)&&((a=this.client.metadata.redirect)==null?void 0:a.linkMode),o=s?jr.link_mode:jr.relay;o===jr.relay&&await this.confirmOnlineStateOrThrow();const{chains:c,statement:l="",uri:u,domain:d,nonce:f,type:p,exp:m,nbf:y,methods:v=[],expiry:b}=n,w=[...n.resources||[]],{topic:x,uri:E}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:x,uri:E}});const A=await this.client.core.crypto.generateKeyPair(),S=O_(A);if(await Promise.all([this.client.auth.authKeys.set(I_,{responseTopic:S,publicKey:A}),this.client.auth.pairingTopics.set(S,{topic:S,pairingTopic:x})]),await this.client.core.relayer.subscribe(S,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${x}`),v.length>0){const{namespace:z}=dp(c[0]);let B=DSe(z,"request",v);P_(w)&&(B=LSe(B,w.pop())),w.push(B)}const C=b&&b>Un.wc_sessionAuthenticate.req.ttl?b:Un.wc_sessionAuthenticate.req.ttl,P={authPayload:{type:p??"caip122",chains:c,statement:l,aud:u,domain:d,version:"1",nonce:f,iat:new Date().toISOString(),exp:m,nbf:y,resources:w},requester:{publicKey:A,metadata:this.client.metadata},expiryTimestamp:Pn(C)},O={eip155:{chains:c,methods:[...new Set(["personal_sign",...v])],events:["chainChanged","accountsChanged"]}},I={requiredNamespaces:{},optionalNamespaces:O,relays:[{protocol:"irn"}],pairingTopic:x,proposer:{publicKey:A,metadata:this.client.metadata},expiryTimestamp:Pn(Un.wc_sessionPropose.req.ttl),id:ko()},{done:M,resolve:D,reject:q}=wd(C,"Request expired"),K=ko(),L=ur("session_connect",I.id),R=ur("session_request",K),j=async({error:z,session:B})=>{this.events.off(R,W),z?q(z):B&&D({session:B})},W=async z=>{var B,F,G;if(await this.deletePendingAuthRequest(K,{message:"fulfilled",code:0}),z.error){const le=vr("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return z.error.code===le.code?void 0:(this.events.off(L,j),q(z.error.message))}await this.deleteProposal(I.id),this.events.off(L,j);const{cacaos:Q,responder:te}=z.result,ae=[],fe=[];for(const le of Q){await VU({cacao:le,projectId:this.client.core.projectId})||(this.client.logger.error(le,"Signature verification failed"),q(vr("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:Ce}=le,Me=P_(Ce.resources),he=[jR(Ce.iss)],me=px(Ce.iss);if(Me){const Ae=GU(Me),tt=KU(Me);ae.push(...Ae),he.push(...tt)}for(const Ae of he)fe.push(`${Ae}:${me}`)}const xe=await this.client.core.crypto.generateSharedKey(A,te.publicKey);let Ee;ae.length>0&&(Ee={topic:xe,acknowledged:!0,self:{publicKey:A,metadata:this.client.metadata},peer:te,controller:te.publicKey,expiry:Pn(Eh),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:x,namespaces:mB([...new Set(ae)],[...new Set(fe)]),transportType:o},await this.client.core.relayer.subscribe(xe,{transportType:o}),await this.client.session.set(xe,Ee),x&&await this.client.core.pairing.updateMetadata({topic:x,metadata:te.metadata}),Ee=this.client.session.get(xe)),(B=this.client.metadata.redirect)!=null&&B.linkMode&&(F=te.metadata.redirect)!=null&&F.linkMode&&(G=te.metadata.redirect)!=null&&G.universal&&i&&(this.client.core.addLinkModeSupportedApp(te.metadata.redirect.universal),this.client.session.update(xe,{transportType:jr.link_mode})),D({auths:Q,session:Ee})};this.events.once(L,j),this.events.once(R,W);let H;try{if(s){const z=Eu("wc_sessionAuthenticate",P,K);this.client.core.history.set(x,z);const B=await this.client.core.crypto.encode("",z,{type:Ab,encoding:lu});H=k1(i,x,B)}else await Promise.all([this.sendRequest({topic:x,method:"wc_sessionAuthenticate",params:P,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:K}),this.sendRequest({topic:x,method:"wc_sessionPropose",params:I,expiry:Un.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:I.id})])}catch(z){throw this.events.off(L,j),this.events.off(R,W),z}return await this.setProposal(I.id,I),await this.setAuthRequest(K,{request:Ii(xr({},P),{verifyContext:{}}),pairingTopic:x,transportType:o}),{uri:H??E,response:M}}),we(this,"approveSessionAuthenticate",async n=>{const{id:i,auths:a}=n,s=this.client.core.eventClient.createEvent({properties:{topic:i.toString(),trace:[pd.authenticated_session_approve_started]}});try{this.isInitialized()}catch(b){throw s.setError(Xm.no_internet_connection),b}const o=this.getPendingAuthRequest(i);if(!o)throw s.setError(Xm.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${i}`);const c=o.transportType||jr.relay;c===jr.relay&&await this.confirmOnlineStateOrThrow();const l=o.requester.publicKey,u=await this.client.core.crypto.generateKeyPair(),d=O_(l),f={type:Zc,receiverPublicKey:l,senderPublicKey:u},p=[],m=[];for(const b of a){if(!await VU({cacao:b,projectId:this.client.core.projectId})){s.setError(Xm.invalid_cacao);const S=vr("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:i,topic:d,error:S,encodeOpts:f}),new Error(S.message)}s.addTrace(pd.cacaos_verified);const{p:w}=b,x=P_(w.resources),E=[jR(w.iss)],A=px(w.iss);if(x){const S=GU(x),C=KU(x);p.push(...S),E.push(...C)}for(const S of E)m.push(`${S}:${A}`)}const y=await this.client.core.crypto.generateSharedKey(u,l);s.addTrace(pd.create_authenticated_session_topic);let v;if((p==null?void 0:p.length)>0){v={topic:y,acknowledged:!0,self:{publicKey:u,metadata:this.client.metadata},peer:{publicKey:l,metadata:o.requester.metadata},controller:l,expiry:Pn(Eh),authentication:a,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:mB([...new Set(p)],[...new Set(m)]),transportType:c},s.addTrace(pd.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(y,{transportType:c})}catch(b){throw s.setError(Xm.subscribe_authenticated_session_topic_failure),b}s.addTrace(pd.subscribe_authenticated_session_topic_success),await this.client.session.set(y,v),s.addTrace(pd.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(pd.publishing_authenticated_session_approve);try{await this.sendResult({topic:d,id:i,result:{cacaos:a,responder:{publicKey:u,metadata:this.client.metadata}},encodeOpts:f,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,c)})}catch(b){throw s.setError(Xm.authenticated_session_approve_publish_failure),b}return await this.client.auth.requests.delete(i,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:v}}),we(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:i,reason:a}=n,s=this.getPendingAuthRequest(i);if(!s)throw new Error(`Could not find pending auth request with id ${i}`);s.transportType===jr.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,c=await this.client.core.crypto.generateKeyPair(),l=O_(o),u={type:Zc,receiverPublicKey:o,senderPublicKey:c};await this.sendError({id:i,topic:l,error:a,encodeOpts:u,rpcOpts:Un.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(i,{message:"rejected",code:0}),await this.client.proposal.delete(i,vr("USER_DISCONNECTED"))}),we(this,"formatAuthMessage",n=>{this.isInitialized();const{request:i,iss:a}=n;return GZ(i,a)}),we(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),we(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const i=this.client.core.pairing.pairings.get(n.pairingTopic),a=this.client.core.pairing.pairings.getAll().filter(s=>{var o,c;return((o=s.peerMetadata)==null?void 0:o.url)&&((c=s.peerMetadata)==null?void 0:c.url)===n.peer.metadata.url&&s.topic&&s.topic!==i.topic});if(a.length===0)return;this.client.logger.info(`Cleaning up ${a.length} duplicate pairing(s)`),await Promise.all(a.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(i){this.client.logger.error(i)}}),we(this,"deleteSession",async n=>{var i;const{topic:a,expirerHasDeleted:s=!1,emitEvent:o=!0,id:c=0}=n,{self:l}=this.client.session.get(a);await this.client.core.relayer.unsubscribe(a),await this.client.session.delete(a,vr("USER_DISCONNECTED")),this.addToRecentlyDeleted(a,"session"),this.client.core.crypto.keychain.has(l.publicKey)&&await this.client.core.crypto.deleteKeyPair(l.publicKey),this.client.core.crypto.keychain.has(a)&&await this.client.core.crypto.deleteSymKey(a),s||this.client.core.expirer.del(a),this.client.core.storage.removeItem(eF).catch(u=>this.client.logger.warn(u)),this.getPendingSessionRequests().forEach(u=>{u.topic===a&&this.deletePendingSessionRequest(u.id,vr("USER_DISCONNECTED"))}),a===((i=this.sessionRequestQueue.queue[0])==null?void 0:i.topic)&&(this.sessionRequestQueue.state=Eo.idle),o&&this.client.events.emit("session_delete",{id:c,topic:a})}),we(this,"deleteProposal",async(n,i)=>{if(i)try{const a=this.client.proposal.get(n),s=this.client.core.eventClient.getEvent({topic:a.pairingTopic});s==null||s.setError(hd.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,vr("USER_DISCONNECTED")),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),we(this,"deletePendingSessionRequest",async(n,i,a=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,i),a?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==n),a&&(this.sessionRequestQueue.state=Eo.idle,this.client.events.emit("session_request_expire",{id:n}))}),we(this,"deletePendingAuthRequest",async(n,i,a=!1)=>{await Promise.all([this.client.auth.requests.delete(n,i),a?Promise.resolve():this.client.core.expirer.del(n)])}),we(this,"setExpiry",async(n,i)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,i),await this.client.session.update(n,{expiry:i}))}),we(this,"setProposal",async(n,i)=>{this.client.core.expirer.set(n,Pn(Un.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,i)}),we(this,"setAuthRequest",async(n,i)=>{const{request:a,pairingTopic:s,transportType:o=jr.relay}=i;this.client.core.expirer.set(n,a.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:a.authPayload,requester:a.requester,expiryTimestamp:a.expiryTimestamp,id:n,pairingTopic:s,verifyContext:a.verifyContext,transportType:o})}),we(this,"setPendingSessionRequest",async n=>{const{id:i,topic:a,params:s,verifyContext:o}=n,c=s.request.expiryTimestamp||Pn(Un.wc_sessionRequest.req.ttl);this.client.core.expirer.set(i,c),await this.client.pendingRequest.set(i,{id:i,topic:a,params:s,verifyContext:o})}),we(this,"sendRequest",async n=>{const{topic:i,method:a,params:s,expiry:o,relayRpcId:c,clientRpcId:l,throwOnFailedPublish:u,appLink:d,tvf:f}=n,p=Eu(a,s,l);let m;const y=!!d;try{const w=y?lu:to;m=await this.client.core.crypto.encode(i,p,{encoding:w})}catch(w){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${i} failed`),w}let v;if(IOe.includes(a)){const w=Do(JSON.stringify(p)),x=Do(m);v=await this.client.core.verify.register({id:x,decryptedId:w})}const b=Un[a].req;if(b.attestation=v,o&&(b.ttl=o),c&&(b.id=c),this.client.core.history.set(i,p),y){const w=k1(d,i,m);await global.Linking.openURL(w,this.client.name)}else{const w=Un[a].req;o&&(w.ttl=o),c&&(w.id=c),w.tvf=Ii(xr({},f),{correlationId:p.id}),u?(w.internal=Ii(xr({},w.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,m,w)):this.client.core.relayer.publish(i,m,w).catch(x=>this.client.logger.error(x))}return p.id}),we(this,"sendResult",async n=>{const{id:i,topic:a,result:s,throwOnFailedPublish:o,encodeOpts:c,appLink:l}=n,u=$S(i,s);let d;const f=l&&typeof(global==null?void 0:global.Linking)<"u";try{const y=f?lu:to;d=await this.client.core.crypto.encode(a,u,Ii(xr({},c||{}),{encoding:y}))}catch(y){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${a} failed`),y}let p,m;try{p=await this.client.core.history.get(a,i);const y=p.request;try{this.shouldSetTVF(y.method,y.params)&&(m=this.getTVFParams(i,y.params,s))}catch(v){this.client.logger.warn("sendResult() -> getTVFParams() failed",v)}}catch(y){throw this.client.logger.error(`sendResult() -> history.get(${a}, ${i}) failed`),y}if(f){const y=k1(l,a,d);await global.Linking.openURL(y,this.client.name)}else{const y=p.request.method,v=Un[y].res;v.tvf=Ii(xr({},m),{correlationId:i}),o?(v.internal=Ii(xr({},v.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(a,d,v)):this.client.core.relayer.publish(a,d,v).catch(b=>this.client.logger.error(b))}await this.client.core.history.resolve(u)}),we(this,"sendError",async n=>{const{id:i,topic:a,error:s,encodeOpts:o,rpcOpts:c,appLink:l}=n,u=jS(i,s);let d;const f=l&&typeof(global==null?void 0:global.Linking)<"u";try{const m=f?lu:to;d=await this.client.core.crypto.encode(a,u,Ii(xr({},o||{}),{encoding:m}))}catch(m){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${a} failed`),m}let p;try{p=await this.client.core.history.get(a,i)}catch(m){throw this.client.logger.error(`sendError() -> history.get(${a}, ${i}) failed`),m}if(f){const m=k1(l,a,d);await global.Linking.openURL(m,this.client.name)}else{const m=p.request.method,y=c||Un[m].res;this.client.core.relayer.publish(a,d,y)}await this.client.core.history.resolve(u)}),we(this,"cleanup",async()=>{const n=[],i=[];this.client.session.getAll().forEach(a=>{let s=!1;su(a.expiry)&&(s=!0),this.client.core.crypto.keychain.has(a.topic)||(s=!0),s&&n.push(a.topic)}),this.client.proposal.getAll().forEach(a=>{su(a.expiryTimestamp)&&i.push(a.id)}),await Promise.all([...n.map(a=>this.deleteSession({topic:a})),...i.map(a=>this.deleteProposal(a))])}),we(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),we(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),we(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Eo.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Eo.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(i){this.client.logger.warn(i)}}this.requestQueue.state=Eo.idle}),we(this,"processRequest",async n=>{const{topic:i,payload:a,attestation:s,transportType:o,encryptedId:c}=n,l=a.method;if(!this.shouldIgnorePairingRequest({topic:i,requestMethod:l}))switch(l){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:i,payload:a,attestation:s,encryptedId:c});case"wc_sessionSettle":return await this.onSessionSettleRequest(i,a);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(i,a);case"wc_sessionExtend":return await this.onSessionExtendRequest(i,a);case"wc_sessionPing":return await this.onSessionPingRequest(i,a);case"wc_sessionDelete":return await this.onSessionDeleteRequest(i,a);case"wc_sessionRequest":return await this.onSessionRequest({topic:i,payload:a,attestation:s,encryptedId:c,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(i,a);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:i,payload:a,attestation:s,encryptedId:c,transportType:o});default:return this.client.logger.info(`Unsupported request method ${l}`)}}),we(this,"onRelayEventResponse",async n=>{const{topic:i,payload:a,transportType:s}=n,o=(await this.client.core.history.get(i,a.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(i,a,s);case"wc_sessionSettle":return this.onSessionSettleResponse(i,a);case"wc_sessionUpdate":return this.onSessionUpdateResponse(i,a);case"wc_sessionExtend":return this.onSessionExtendResponse(i,a);case"wc_sessionPing":return this.onSessionPingResponse(i,a);case"wc_sessionRequest":return this.onSessionRequestResponse(i,a);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(i,a);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),we(this,"onRelayEventUnknownPayload",n=>{const{topic:i}=n,{message:a}=je("MISSING_OR_INVALID",`Decoded payload on topic ${i} is not identifiable as a JSON-RPC request or a response.`);throw new Error(a)}),we(this,"shouldIgnorePairingRequest",n=>{const{topic:i,requestMethod:a}=n,s=this.expectedPairingMethodMap.get(i);return!s||s.includes(a)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),we(this,"onSessionProposeRequest",async n=>{const{topic:i,payload:a,attestation:s,encryptedId:o}=n,{params:c,id:l}=a;try{const u=this.client.core.eventClient.getEvent({topic:i});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),u==null||u.setError($c.proposal_listener_not_found)),this.isValidConnect(xr({},a.params));const d=c.expiryTimestamp||Pn(Un.wc_sessionPropose.req.ttl),f=xr({id:l,pairingTopic:i,expiryTimestamp:d},c);await this.setProposal(l,f);const p=await this.getVerifyContext({attestationId:s,hash:Do(JSON.stringify(a)),encryptedId:o,metadata:f.proposer.metadata});u==null||u.addTrace(Ao.emit_session_proposal),this.client.events.emit("session_proposal",{id:l,params:f,verifyContext:p})}catch(u){await this.sendError({id:l,topic:i,error:u,rpcOpts:Un.wc_sessionPropose.autoReject}),this.client.logger.error(u)}}),we(this,"onSessionProposeResponse",async(n,i,a)=>{const{id:s}=i;if(Po(i)){const{result:o}=i;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const c=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:c});const l=c.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:l});const u=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:u});const d=await this.client.core.crypto.generateSharedKey(l,u);this.pendingSessions.set(s,{sessionTopic:d,pairingTopic:n,proposalId:s,publicKey:l});const f=await this.client.core.relayer.subscribe(d,{transportType:a});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:f}),await this.client.core.pairing.activate({topic:n})}else if(cs(i)){await this.client.proposal.delete(s,vr("USER_DISCONNECTED"));const o=ur("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:i.error})}}),we(this,"onSessionSettleRequest",async(n,i)=>{const{id:a,params:s}=i;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:c,expiry:l,namespaces:u,sessionProperties:d,scopedProperties:f,sessionConfig:p}=i.params,m=[...this.pendingSessions.values()].find(b=>b.sessionTopic===n);if(!m)return this.client.logger.error(`Pending session not found for topic ${n}`);const y=this.client.proposal.get(m.proposalId),v=Ii(xr(xr(xr({topic:n,relay:o,expiry:l,namespaces:u,acknowledged:!0,pairingTopic:m.pairingTopic,requiredNamespaces:y.requiredNamespaces,optionalNamespaces:y.optionalNamespaces,controller:c.publicKey,self:{publicKey:m.publicKey,metadata:this.client.metadata},peer:{publicKey:c.publicKey,metadata:c.metadata}},d&&{sessionProperties:d}),f&&{scopedProperties:f}),p&&{sessionConfig:p}),{transportType:jr.relay});await this.client.session.set(v.topic,v),await this.setExpiry(v.topic,v.expiry),await this.client.core.pairing.updateMetadata({topic:m.pairingTopic,metadata:v.peer.metadata}),this.client.events.emit("session_connect",{session:v}),this.events.emit(ur("session_connect",m.proposalId),{session:v}),this.pendingSessions.delete(m.proposalId),this.deleteProposal(m.proposalId,!1),this.cleanupDuplicatePairings(v),await this.sendResult({id:i.id,topic:n,result:!0,throwOnFailedPublish:!0})}catch(o){await this.sendError({id:a,topic:n,error:o}),this.client.logger.error(o)}}),we(this,"onSessionSettleResponse",async(n,i)=>{const{id:a}=i;Po(i)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(ur("session_approve",a),{})):cs(i)&&(await this.client.session.delete(n,vr("USER_DISCONNECTED")),this.events.emit(ur("session_approve",a),{error:i.error}))}),we(this,"onSessionUpdateRequest",async(n,i)=>{const{params:a,id:s}=i;try{const o=`${n}_session_update`,c=Km.get(o);if(c&&this.isRequestOutOfSync(c,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:n,error:vr("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(xr({topic:n},a));try{Km.set(o,s),await this.client.session.update(n,{namespaces:a.namespaces}),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0})}catch(l){throw Km.delete(o),l}this.client.events.emit("session_update",{id:s,topic:n,params:a})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),we(this,"isRequestOutOfSync",(n,i)=>i.toString().slice(0,-3)<n.toString().slice(0,-3)),we(this,"onSessionUpdateResponse",(n,i)=>{const{id:a}=i,s=ur("session_update",a);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Po(i)?this.events.emit(ur("session_update",a),{}):cs(i)&&this.events.emit(ur("session_update",a),{error:i.error})}),we(this,"onSessionExtendRequest",async(n,i)=>{const{id:a}=i;try{this.isValidExtend({topic:n}),await this.setExpiry(n,Pn(Eh)),await this.sendResult({id:a,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:a,topic:n})}catch(s){await this.sendError({id:a,topic:n,error:s}),this.client.logger.error(s)}}),we(this,"onSessionExtendResponse",(n,i)=>{const{id:a}=i,s=ur("session_extend",a);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Po(i)?this.events.emit(ur("session_extend",a),{}):cs(i)&&this.events.emit(ur("session_extend",a),{error:i.error})}),we(this,"onSessionPingRequest",async(n,i)=>{const{id:a}=i;try{this.isValidPing({topic:n}),await this.sendResult({id:a,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:a,topic:n})}catch(s){await this.sendError({id:a,topic:n,error:s}),this.client.logger.error(s)}}),we(this,"onSessionPingResponse",(n,i)=>{const{id:a}=i,s=ur("session_ping",a);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);Po(i)?this.events.emit(ur("session_ping",a),{}):cs(i)&&this.events.emit(ur("session_ping",a),{error:i.error})},500)}),we(this,"onSessionDeleteRequest",async(n,i)=>{const{id:a}=i;try{this.isValidDisconnect({topic:n,reason:i.params}),Promise.all([new Promise(s=>{this.client.core.relayer.once(Vn.publish,async()=>{s(await this.deleteSession({topic:n,id:a}))})}),this.sendResult({id:a,topic:n,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:vr("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),we(this,"onSessionRequest",async n=>{var i,a,s;const{topic:o,payload:c,attestation:l,encryptedId:u,transportType:d}=n,{id:f,params:p}=c;try{await this.isValidRequest(xr({topic:o},p));const m=this.client.session.get(o),y=await this.getVerifyContext({attestationId:l,hash:Do(JSON.stringify(Eu("wc_sessionRequest",p,f))),encryptedId:u,metadata:m.peer.metadata,transportType:d}),v={id:f,topic:o,params:p,verifyContext:y};await this.setPendingSessionRequest(v),d===jr.link_mode&&(i=m.peer.metadata.redirect)!=null&&i.universal&&this.client.core.addLinkModeSupportedApp((a=m.peer.metadata.redirect)==null?void 0:a.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(v):(this.addSessionRequestToSessionRequestQueue(v),this.processSessionRequestQueue())}catch(m){await this.sendError({id:f,topic:o,error:m}),this.client.logger.error(m)}}),we(this,"onSessionRequestResponse",(n,i)=>{const{id:a}=i,s=ur("session_request",a);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Po(i)?this.events.emit(ur("session_request",a),{result:i.result}):cs(i)&&this.events.emit(ur("session_request",a),{error:i.error})}),we(this,"onSessionEventRequest",async(n,i)=>{const{id:a,params:s}=i;try{const o=`${n}_session_event_${s.event.name}`,c=Km.get(o);if(c&&this.isRequestOutOfSync(c,a)){this.client.logger.info(`Discarding out of sync request - ${a}`);return}this.isValidEmit(xr({topic:n},s)),this.client.events.emit("session_event",{id:a,topic:n,params:s}),Km.set(o,a)}catch(o){await this.sendError({id:a,topic:n,error:o}),this.client.logger.error(o)}}),we(this,"onSessionAuthenticateResponse",(n,i)=>{const{id:a}=i;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:i}),Po(i)?this.events.emit(ur("session_request",a),{result:i.result}):cs(i)&&this.events.emit(ur("session_request",a),{error:i.error})}),we(this,"onSessionAuthenticateRequest",async n=>{var i;const{topic:a,payload:s,attestation:o,encryptedId:c,transportType:l}=n;try{const{requester:u,authPayload:d,expiryTimestamp:f}=s.params,p=await this.getVerifyContext({attestationId:o,hash:Do(JSON.stringify(s)),encryptedId:c,metadata:u.metadata,transportType:l}),m={requester:u,pairingTopic:a,id:s.id,authPayload:d,verifyContext:p,expiryTimestamp:f};await this.setAuthRequest(s.id,{request:m,pairingTopic:a,transportType:l}),l===jr.link_mode&&(i=u.metadata.redirect)!=null&&i.universal&&this.client.core.addLinkModeSupportedApp(u.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:a,params:s.params,id:s.id,verifyContext:p})}catch(u){this.client.logger.error(u);const d=s.params.requester.publicKey,f=await this.client.core.crypto.generateKeyPair(),p=this.getAppLinkIfEnabled(s.params.requester.metadata,l),m={type:Zc,receiverPublicKey:d,senderPublicKey:f};await this.sendError({id:s.id,topic:a,error:u,encodeOpts:m,rpcOpts:Un.wc_sessionAuthenticate.autoReject,appLink:p})}}),we(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),we(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Eo.idle,this.processSessionRequestQueue()},$e.toMiliseconds(this.requestQueueDelay))}),we(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:i})=>{const a=this.client.core.history.pending;a.length>0&&a.filter(s=>s.topic===n&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,c=ur("session_request",o);if(this.events.listenerCount(c)===0)throw new Error(`emitting ${c} without any listeners`);this.events.emit(ur("session_request",s.request.id),{error:i})})}),we(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Eo.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=Eo.active,this.emitSessionRequest(n)}catch(i){this.client.logger.error(i)}}),we(this,"emitSessionRequest",n=>{this.client.events.emit("session_request",n)}),we(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const i=this.client.proposal.getAll().find(a=>a.pairingTopic===n.topic);i&&this.onSessionProposeRequest({topic:n.topic,payload:Eu("wc_sessionPropose",Ii(xr({},i),{requiredNamespaces:i.requiredNamespaces,optionalNamespaces:i.optionalNamespaces,relays:i.relays,proposer:i.proposer,sessionProperties:i.sessionProperties,scopedProperties:i.scopedProperties}),i.id)})}),we(this,"isValidConnect",async n=>{if(!ia(n)){const{message:u}=je("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(u)}const{pairingTopic:i,requiredNamespaces:a,optionalNamespaces:s,sessionProperties:o,scopedProperties:c,relays:l}=n;if(ai(i)||await this.isValidPairingTopic(i),!LAe(l)){const{message:u}=je("MISSING_OR_INVALID",`connect() relays: ${l}`);throw new Error(u)}if(!ai(a)&&Jv(a)!==0&&this.validateNamespaces(a,"requiredNamespaces"),!ai(s)&&Jv(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),ai(o)||this.validateSessionProps(o,"sessionProperties"),!ai(c)){this.validateSessionProps(c,"scopedProperties");const u=Object.keys(a||{}).concat(Object.keys(s||{}));if(!Object.keys(c).every(d=>u.includes(d)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(c)}, required/optional namespaces: ${JSON.stringify(u)}`)}}),we(this,"validateNamespaces",(n,i)=>{const a=MAe(n,"connect()",i);if(a)throw new Error(a.message)}),we(this,"isValidApprove",async n=>{if(!ia(n))throw new Error(je("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:i,namespaces:a,relayProtocol:s,sessionProperties:o,scopedProperties:c}=n;this.checkRecentlyDeleted(i),await this.isValidProposalId(i);const l=this.client.proposal.get(i),u=DT(a,"approve()");if(u)throw new Error(u.message);const d=bB(l.requiredNamespaces,a,"approve()");if(d)throw new Error(d.message);if(!wn(s,!0)){const{message:f}=je("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(f)}if(ai(o)||this.validateSessionProps(o,"sessionProperties"),!ai(c)){this.validateSessionProps(c,"scopedProperties");const f=new Set(Object.keys(a));if(!Object.keys(c).every(p=>f.has(p)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(c)}, approved namespaces: ${Array.from(f).join(", ")}`)}}),we(this,"isValidReject",async n=>{if(!ia(n)){const{message:s}=je("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(s)}const{id:i,reason:a}=n;if(this.checkRecentlyDeleted(i),await this.isValidProposalId(i),!BAe(a)){const{message:s}=je("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(a)}`);throw new Error(s)}}),we(this,"isValidSessionSettleRequest",n=>{if(!ia(n)){const{message:u}=je("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(u)}const{relay:i,controller:a,namespaces:s,expiry:o}=n;if(!bQ(i)){const{message:u}=je("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(u)}const c=NAe(a,"onSessionSettleRequest()");if(c)throw new Error(c.message);const l=DT(s,"onSessionSettleRequest()");if(l)throw new Error(l.message);if(su(o)){const{message:u}=je("EXPIRED","onSessionSettleRequest()");throw new Error(u)}}),we(this,"isValidUpdate",async n=>{if(!ia(n)){const{message:l}=je("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(l)}const{topic:i,namespaces:a}=n;this.checkRecentlyDeleted(i),await this.isValidSessionTopic(i);const s=this.client.session.get(i),o=DT(a,"update()");if(o)throw new Error(o.message);const c=bB(s.requiredNamespaces,a,"update()");if(c)throw new Error(c.message)}),we(this,"isValidExtend",async n=>{if(!ia(n)){const{message:a}=je("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(a)}const{topic:i}=n;this.checkRecentlyDeleted(i),await this.isValidSessionTopic(i)}),we(this,"isValidRequest",async n=>{if(!ia(n)){const{message:l}=je("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(l)}const{topic:i,request:a,chainId:s,expiry:o}=n;this.checkRecentlyDeleted(i),await this.isValidSessionTopic(i);const{namespaces:c}=this.client.session.get(i);if(!vB(c,s)){const{message:l}=je("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(l)}if(!FAe(a)){const{message:l}=je("MISSING_OR_INVALID",`request() ${JSON.stringify(a)}`);throw new Error(l)}if(!HAe(c,s,a.method)){const{message:l}=je("MISSING_OR_INVALID",`request() method: ${a.method}`);throw new Error(l)}if(o&&!KAe(o,HT)){const{message:l}=je("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${HT.min} and ${HT.max}`);throw new Error(l)}}),we(this,"isValidRespond",async n=>{var i;if(!ia(n)){const{message:o}=je("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(o)}const{topic:a,response:s}=n;try{await this.isValidSessionTopic(a)}catch(o){throw(i=n==null?void 0:n.response)!=null&&i.id&&this.cleanupAfterResponse(n),o}if(!qAe(s)){const{message:o}=je("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}}),we(this,"isValidPing",async n=>{if(!ia(n)){const{message:a}=je("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(a)}const{topic:i}=n;await this.isValidSessionOrPairingTopic(i)}),we(this,"isValidEmit",async n=>{if(!ia(n)){const{message:c}=je("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(c)}const{topic:i,event:a,chainId:s}=n;await this.isValidSessionTopic(i);const{namespaces:o}=this.client.session.get(i);if(!vB(o,s)){const{message:c}=je("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(c)}if(!zAe(a)){const{message:c}=je("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(a)}`);throw new Error(c)}if(!WAe(o,s,a.name)){const{message:c}=je("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(a)}`);throw new Error(c)}}),we(this,"isValidDisconnect",async n=>{if(!ia(n)){const{message:a}=je("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(a)}const{topic:i}=n;await this.isValidSessionOrPairingTopic(i)}),we(this,"isValidAuthenticate",n=>{const{chains:i,uri:a,domain:s,nonce:o}=n;if(!Array.isArray(i)||i.length===0)throw new Error("chains is required and must be a non-empty array");if(!wn(a,!1))throw new Error("uri is required parameter");if(!wn(s,!1))throw new Error("domain is required parameter");if(!wn(o,!1))throw new Error("nonce is required parameter");if([...new Set(i.map(l=>dp(l).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:c}=dp(i[0]);if(c!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),we(this,"getVerifyContext",async n=>{const{attestationId:i,hash:a,encryptedId:s,metadata:o,transportType:c}=n,l={verified:{verifyUrl:o.verifyUrl||Vy,validation:"UNKNOWN",origin:o.url||""}};try{if(c===jr.link_mode){const d=this.getAppLinkIfEnabled(o,c);return l.verified.validation=d&&new URL(d).origin===new URL(o.url).origin?"VALID":"INVALID",l}const u=await this.client.core.verify.resolve({attestationId:i,hash:a,encryptedId:s,verifyUrl:o.verifyUrl});u&&(l.verified.origin=u.origin,l.verified.isScam=u.isScam,l.verified.validation=u.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(u){this.client.logger.warn(u)}return this.client.logger.debug(`Verify context: ${JSON.stringify(l)}`),l}),we(this,"validateSessionProps",(n,i)=>{Object.values(n).forEach((a,s)=>{if(a==null){const{message:o}=je("MISSING_OR_INVALID",`${i} must contain an existing value for each key. Received: ${a} for key ${Object.keys(n)[s]}`);throw new Error(o)}})}),we(this,"getPendingAuthRequest",n=>{const i=this.client.auth.requests.get(n);return typeof i=="object"?i:void 0}),we(this,"addToRecentlyDeleted",(n,i)=>{if(this.recentlyDeletedMap.set(n,i),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let a=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(a++>=s)break;this.recentlyDeletedMap.delete(o)}}}),we(this,"checkRecentlyDeleted",n=>{const i=this.recentlyDeletedMap.get(n);if(i){const{message:a}=je("MISSING_OR_INVALID",`Record was recently deleted - ${i}: ${n}`);throw new Error(a)}}),we(this,"isLinkModeEnabled",(n,i)=>{var a,s,o,c,l,u,d,f,p;return!n||i!==jr.link_mode?!1:((s=(a=this.client.metadata)==null?void 0:a.redirect)==null?void 0:s.linkMode)===!0&&((c=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:c.universal)!==void 0&&((u=(l=this.client.metadata)==null?void 0:l.redirect)==null?void 0:u.universal)!==""&&((d=n==null?void 0:n.redirect)==null?void 0:d.universal)!==void 0&&((f=n==null?void 0:n.redirect)==null?void 0:f.universal)!==""&&((p=n==null?void 0:n.redirect)==null?void 0:p.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),we(this,"getAppLinkIfEnabled",(n,i)=>{var a;return this.isLinkModeEnabled(n,i)?(a=n==null?void 0:n.redirect)==null?void 0:a.universal:void 0}),we(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const i=MU(n,"topic")||"",a=decodeURIComponent(MU(n,"wc_ev")||""),s=this.client.session.keys.includes(i);s&&this.client.session.update(i,{transportType:jr.link_mode}),this.client.core.dispatchEnvelope({topic:i,message:a,sessionExists:s})}),we(this,"registerLinkModeListeners",async()=>{var n;if($D()||Bu()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const i=global==null?void 0:global.Linking;if(typeof i<"u"){i.addEventListener("url",this.handleLinkModeMessage,this.client.name);const a=await i.getInitialURL();a&&setTimeout(()=>{this.handleLinkModeMessage({url:a})},50)}}}),we(this,"shouldSetTVF",(n,i)=>{if(!i||n!=="wc_sessionRequest")return!1;const{request:a}=i;return Object.keys(rF).includes(a.method)}),we(this,"getTVFParams",(n,i,a)=>{var s,o;try{const c=i.request.method,l=this.extractTxHashesFromResult(c,a);return Ii(xr({correlationId:n,rpcMethods:[c],chainId:i.chainId},this.isValidContractData(i.request.params)&&{contractAddresses:[(o=(s=i.request.params)==null?void 0:s[0])==null?void 0:o.to]}),{txHashes:l})}catch(c){this.client.logger.warn("Error getting TVF params",c)}return{}}),we(this,"isValidContractData",n=>{var i;if(!n)return!1;try{const a=(n==null?void 0:n.data)||((i=n==null?void 0:n[0])==null?void 0:i.data);if(!a.startsWith("0x"))return!1;const s=a.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),we(this,"extractTxHashesFromResult",(n,i)=>{try{const a=rF[n];if(typeof i=="string")return[i];const s=i[a.key];if(Pu(s))return n==="solana_signAllTransactions"?s.map(o=>xSe(o)):s;if(typeof s=="string")return[s]}catch(a){this.client.logger.warn("Error extracting tx hashes from result",a)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[i,a]of Object.entries(n))for(const s of a)try{await this.onProviderMessageEvent({topic:i,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${i}, message: ${s}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=je("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Vn.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:i,attestation:a,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(I_)?this.client.auth.authKeys.get(I_):{publicKey:void 0};try{const c=await this.client.core.crypto.decode(n,i,{receiverPublicKey:o,encoding:s===jr.link_mode?lu:to});HD(c)?(this.client.core.history.set(n,c),await this.onRelayEventRequest({topic:n,payload:c,attestation:a,transportType:s,encryptedId:Do(i)})):DS(c)?(await this.client.core.history.resolve(c),await this.onRelayEventResponse({topic:n,payload:c,transportType:s}),this.client.core.history.delete(n,c.id)):await this.onRelayEventUnknownPayload({topic:n,payload:c,transportType:s}),await this.client.core.relayer.messages.ack(n,i)}catch(c){this.client.logger.error(c)}}registerExpirerEvents(){this.client.core.expirer.on(is.expired,async e=>{const{topic:n,id:i}=LZ(e.target);if(i&&this.client.pendingRequest.keys.includes(i))return await this.deletePendingSessionRequest(i,je("EXPIRED"),!0);if(i&&this.client.auth.requests.keys.includes(i))return await this.deletePendingAuthRequest(i,je("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):i&&(await this.deleteProposal(i,!0),this.client.events.emit("proposal_expire",{id:i}))})}registerPairingEvents(){this.client.core.pairing.events.on(Td.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(Td.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!wn(e,!1)){const{message:n}=je("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=je("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(su(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=je("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!wn(e,!1)){const{message:n}=je("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=je("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(su(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=je("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=je("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(wn(e,!1)){const{message:n}=je("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=je("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!UAe(e)){const{message:n}=je("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=je("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(su(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=je("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}}class HOe extends Uf{constructor(e,n){super(e,n,kOe,WD),this.core=e,this.logger=n}}let WOe=class extends Uf{constructor(e,n){super(e,n,POe,WD),this.core=e,this.logger=n}};class VOe extends Uf{constructor(e,n){super(e,n,NOe,WD,i=>i.id),this.core=e,this.logger=n}}class GOe extends Uf{constructor(e,n){super(e,n,jOe,LS,()=>I_),this.core=e,this.logger=n}}class KOe extends Uf{constructor(e,n){super(e,n,DOe,LS),this.core=e,this.logger=n}}class YOe extends Uf{constructor(e,n){super(e,n,MOe,LS,i=>i.id),this.core=e,this.logger=n}}var XOe=Object.defineProperty,JOe=(r,e,n)=>e in r?XOe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,WT=(r,e,n)=>JOe(r,typeof e!="symbol"?e+"":e,n);class ZOe{constructor(e,n){this.core=e,this.logger=n,WT(this,"authKeys"),WT(this,"pairingTopics"),WT(this,"requests"),this.authKeys=new GOe(this.core,this.logger),this.pairingTopics=new KOe(this.core,this.logger),this.requests=new YOe(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var QOe=Object.defineProperty,eNe=(r,e,n)=>e in r?QOe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,Gt=(r,e,n)=>eNe(r,typeof e!="symbol"?e+"":e,n);let tNe=class WQ extends kbe{constructor(e){super(e),Gt(this,"protocol",qQ),Gt(this,"version",zQ),Gt(this,"name",zT.name),Gt(this,"metadata"),Gt(this,"core"),Gt(this,"logger"),Gt(this,"events",new Ss.EventEmitter),Gt(this,"engine"),Gt(this,"session"),Gt(this,"proposal"),Gt(this,"pendingRequest"),Gt(this,"auth"),Gt(this,"signConfig"),Gt(this,"on",(i,a)=>this.events.on(i,a)),Gt(this,"once",(i,a)=>this.events.once(i,a)),Gt(this,"off",(i,a)=>this.events.off(i,a)),Gt(this,"removeListener",(i,a)=>this.events.removeListener(i,a)),Gt(this,"removeAllListeners",i=>this.events.removeAllListeners(i)),Gt(this,"connect",async i=>{try{return await this.engine.connect(i)}catch(a){throw this.logger.error(a.message),a}}),Gt(this,"pair",async i=>{try{return await this.engine.pair(i)}catch(a){throw this.logger.error(a.message),a}}),Gt(this,"approve",async i=>{try{return await this.engine.approve(i)}catch(a){throw this.logger.error(a.message),a}}),Gt(this,"reject",async i=>{try{return await this.engine.reject(i)}catch(a){throw this.logger.error(a.message),a}}),Gt(this,"update",async i=>{try{return await this.engine.update(i)}catch(a){throw this.logger.error(a.message),a}}),Gt(this,"extend",async i=>{try{return await this.engine.extend(i)}catch(a){throw this.logger.error(a.message),a}}),Gt(this,"request",async i=>{try{return await this.engine.request(i)}catch(a){throw this.logger.error(a.message),a}}),Gt(this,"respond",async i=>{try{return await this.engine.respond(i)}catch(a){throw this.logger.error(a.message),a}}),Gt(this,"ping",async i=>{try{return await this.engine.ping(i)}catch(a){throw this.logger.error(a.message),a}}),Gt(this,"emit",async i=>{try{return await this.engine.emit(i)}catch(a){throw this.logger.error(a.message),a}}),Gt(this,"disconnect",async i=>{try{return await this.engine.disconnect(i)}catch(a){throw this.logger.error(a.message),a}}),Gt(this,"find",i=>{try{return this.engine.find(i)}catch(a){throw this.logger.error(a.message),a}}),Gt(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(i){throw this.logger.error(i.message),i}}),Gt(this,"authenticate",async(i,a)=>{try{return await this.engine.authenticate(i,a)}catch(s){throw this.logger.error(s.message),s}}),Gt(this,"formatAuthMessage",i=>{try{return this.engine.formatAuthMessage(i)}catch(a){throw this.logger.error(a.message),a}}),Gt(this,"approveSessionAuthenticate",async i=>{try{return await this.engine.approveSessionAuthenticate(i)}catch(a){throw this.logger.error(a.message),a}}),Gt(this,"rejectSessionAuthenticate",async i=>{try{return await this.engine.rejectSessionAuthenticate(i)}catch(a){throw this.logger.error(a.message),a}}),this.name=(e==null?void 0:e.name)||zT.name,this.metadata=jEe(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const n=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:mb(Ig({level:(e==null?void 0:e.logger)||zT.logger}));this.core=(e==null?void 0:e.core)||new TOe(e),this.logger=ki(n,this.name),this.session=new WOe(this.core,this.logger),this.proposal=new HOe(this.core,this.logger),this.pendingRequest=new VOe(this.core,this.logger),this.engine=new zOe(this),this.auth=new ZOe(this.core,this.logger)}static async init(e){const n=new WQ(e);return await n.initialize(),n}get context(){return ya(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},$e.toMiliseconds($e.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var O1={exports:{}},iF;function rNe(){return iF||(iF=1,function(r,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof ca<"u"&&ca,i=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(o){var c=typeof s<"u"&&s||typeof self<"u"&&self||typeof ca<"u"&&ca||{},l={searchParams:"URLSearchParams"in c,iterable:"Symbol"in c&&"iterator"in Symbol,blob:"FileReader"in c&&"Blob"in c&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in c,arrayBuffer:"ArrayBuffer"in c};function u(R){return R&&DataView.prototype.isPrototypeOf(R)}if(l.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(R){return R&&d.indexOf(Object.prototype.toString.call(R))>-1};function p(R){if(typeof R!="string"&&(R=String(R)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(R)||R==="")throw new TypeError('Invalid character in header field name: "'+R+'"');return R.toLowerCase()}function m(R){return typeof R!="string"&&(R=String(R)),R}function y(R){var j={next:function(){var W=R.shift();return{done:W===void 0,value:W}}};return l.iterable&&(j[Symbol.iterator]=function(){return j}),j}function v(R){this.map={},R instanceof v?R.forEach(function(j,W){this.append(W,j)},this):Array.isArray(R)?R.forEach(function(j){if(j.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+j.length);this.append(j[0],j[1])},this):R&&Object.getOwnPropertyNames(R).forEach(function(j){this.append(j,R[j])},this)}v.prototype.append=function(R,j){R=p(R),j=m(j);var W=this.map[R];this.map[R]=W?W+", "+j:j},v.prototype.delete=function(R){delete this.map[p(R)]},v.prototype.get=function(R){return R=p(R),this.has(R)?this.map[R]:null},v.prototype.has=function(R){return this.map.hasOwnProperty(p(R))},v.prototype.set=function(R,j){this.map[p(R)]=m(j)},v.prototype.forEach=function(R,j){for(var W in this.map)this.map.hasOwnProperty(W)&&R.call(j,this.map[W],W,this)},v.prototype.keys=function(){var R=[];return this.forEach(function(j,W){R.push(W)}),y(R)},v.prototype.values=function(){var R=[];return this.forEach(function(j){R.push(j)}),y(R)},v.prototype.entries=function(){var R=[];return this.forEach(function(j,W){R.push([W,j])}),y(R)},l.iterable&&(v.prototype[Symbol.iterator]=v.prototype.entries);function b(R){if(!R._noBody){if(R.bodyUsed)return Promise.reject(new TypeError("Already read"));R.bodyUsed=!0}}function w(R){return new Promise(function(j,W){R.onload=function(){j(R.result)},R.onerror=function(){W(R.error)}})}function x(R){var j=new FileReader,W=w(j);return j.readAsArrayBuffer(R),W}function E(R){var j=new FileReader,W=w(j),H=/charset=([A-Za-z0-9_-]+)/.exec(R.type),z=H?H[1]:"utf-8";return j.readAsText(R,z),W}function A(R){for(var j=new Uint8Array(R),W=new Array(j.length),H=0;H<j.length;H++)W[H]=String.fromCharCode(j[H]);return W.join("")}function S(R){if(R.slice)return R.slice(0);var j=new Uint8Array(R.byteLength);return j.set(new Uint8Array(R)),j.buffer}function C(){return this.bodyUsed=!1,this._initBody=function(R){this.bodyUsed=this.bodyUsed,this._bodyInit=R,R?typeof R=="string"?this._bodyText=R:l.blob&&Blob.prototype.isPrototypeOf(R)?this._bodyBlob=R:l.formData&&FormData.prototype.isPrototypeOf(R)?this._bodyFormData=R:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(R)?this._bodyText=R.toString():l.arrayBuffer&&l.blob&&u(R)?(this._bodyArrayBuffer=S(R.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(R)||f(R))?this._bodyArrayBuffer=S(R):this._bodyText=R=Object.prototype.toString.call(R):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof R=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(R)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var R=b(this);if(R)return R;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var R=b(this);return R||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(l.blob)return this.blob().then(x);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var R=b(this);if(R)return R;if(this._bodyBlob)return E(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(A(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(M)}),this.json=function(){return this.text().then(JSON.parse)},this}var P=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function O(R){var j=R.toUpperCase();return P.indexOf(j)>-1?j:R}function I(R,j){if(!(this instanceof I))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');j=j||{};var W=j.body;if(R instanceof I){if(R.bodyUsed)throw new TypeError("Already read");this.url=R.url,this.credentials=R.credentials,j.headers||(this.headers=new v(R.headers)),this.method=R.method,this.mode=R.mode,this.signal=R.signal,!W&&R._bodyInit!=null&&(W=R._bodyInit,R.bodyUsed=!0)}else this.url=String(R);if(this.credentials=j.credentials||this.credentials||"same-origin",(j.headers||!this.headers)&&(this.headers=new v(j.headers)),this.method=O(j.method||this.method||"GET"),this.mode=j.mode||this.mode||null,this.signal=j.signal||this.signal||function(){if("AbortController"in c){var B=new AbortController;return B.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&W)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(W),(this.method==="GET"||this.method==="HEAD")&&(j.cache==="no-store"||j.cache==="no-cache")){var H=/([?&])_=[^&]*/;if(H.test(this.url))this.url=this.url.replace(H,"$1_="+new Date().getTime());else{var z=/\?/;this.url+=(z.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}I.prototype.clone=function(){return new I(this,{body:this._bodyInit})};function M(R){var j=new FormData;return R.trim().split("&").forEach(function(W){if(W){var H=W.split("="),z=H.shift().replace(/\+/g," "),B=H.join("=").replace(/\+/g," ");j.append(decodeURIComponent(z),decodeURIComponent(B))}}),j}function D(R){var j=new v,W=R.replace(/\r?\n[\t ]+/g," ");return W.split("\r").map(function(H){return H.indexOf(`
`)===0?H.substr(1,H.length):H}).forEach(function(H){var z=H.split(":"),B=z.shift().trim();if(B){var F=z.join(":").trim();try{j.append(B,F)}catch(G){console.warn("Response "+G.message)}}}),j}C.call(I.prototype);function q(R,j){if(!(this instanceof q))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(j||(j={}),this.type="default",this.status=j.status===void 0?200:j.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=j.statusText===void 0?"":""+j.statusText,this.headers=new v(j.headers),this.url=j.url||"",this._initBody(R)}C.call(q.prototype),q.prototype.clone=function(){return new q(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new v(this.headers),url:this.url})},q.error=function(){var R=new q(null,{status:200,statusText:""});return R.ok=!1,R.status=0,R.type="error",R};var K=[301,302,303,307,308];q.redirect=function(R,j){if(K.indexOf(j)===-1)throw new RangeError("Invalid status code");return new q(null,{status:j,headers:{location:R}})},o.DOMException=c.DOMException;try{new o.DOMException}catch{o.DOMException=function(j,W){this.message=j,this.name=W;var H=Error(j);this.stack=H.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function L(R,j){return new Promise(function(W,H){var z=new I(R,j);if(z.signal&&z.signal.aborted)return H(new o.DOMException("Aborted","AbortError"));var B=new XMLHttpRequest;function F(){B.abort()}B.onload=function(){var te={statusText:B.statusText,headers:D(B.getAllResponseHeaders()||"")};z.url.indexOf("file://")===0&&(B.status<200||B.status>599)?te.status=200:te.status=B.status,te.url="responseURL"in B?B.responseURL:te.headers.get("X-Request-URL");var ae="response"in B?B.response:B.responseText;setTimeout(function(){W(new q(ae,te))},0)},B.onerror=function(){setTimeout(function(){H(new TypeError("Network request failed"))},0)},B.ontimeout=function(){setTimeout(function(){H(new TypeError("Network request timed out"))},0)},B.onabort=function(){setTimeout(function(){H(new o.DOMException("Aborted","AbortError"))},0)};function G(te){try{return te===""&&c.location.href?c.location.href:te}catch{return te}}if(B.open(z.method,G(z.url),!0),z.credentials==="include"?B.withCredentials=!0:z.credentials==="omit"&&(B.withCredentials=!1),"responseType"in B&&(l.blob?B.responseType="blob":l.arrayBuffer&&(B.responseType="arraybuffer")),j&&typeof j.headers=="object"&&!(j.headers instanceof v||c.Headers&&j.headers instanceof c.Headers)){var Q=[];Object.getOwnPropertyNames(j.headers).forEach(function(te){Q.push(p(te)),B.setRequestHeader(te,m(j.headers[te]))}),z.headers.forEach(function(te,ae){Q.indexOf(ae)===-1&&B.setRequestHeader(ae,te)})}else z.headers.forEach(function(te,ae){B.setRequestHeader(ae,te)});z.signal&&(z.signal.addEventListener("abort",F),B.onreadystatechange=function(){B.readyState===4&&z.signal.removeEventListener("abort",F)}),B.send(typeof z._bodyInit>"u"?null:z._bodyInit)})}return L.polyfill=!0,c.fetch||(c.fetch=L,c.Headers=v,c.Request=I,c.Response=q),o.Headers=v,o.Request=I,o.Response=q,o.fetch=L,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var a=n.fetch?n:i;e=a.fetch,e.default=a.fetch,e.fetch=a.fetch,e.Headers=a.Headers,e.Request=a.Request,e.Response=a.Response,r.exports=e}(O1,O1.exports)),O1.exports}var nNe=rNe();const aF=Jt(nNe);var iNe=Object.defineProperty,aNe=Object.defineProperties,sNe=Object.getOwnPropertyDescriptors,sF=Object.getOwnPropertySymbols,oNe=Object.prototype.hasOwnProperty,cNe=Object.prototype.propertyIsEnumerable,oF=(r,e,n)=>e in r?iNe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,cF=(r,e)=>{for(var n in e||(e={}))oNe.call(e,n)&&oF(r,n,e[n]);if(sF)for(var n of sF(e))cNe.call(e,n)&&oF(r,n,e[n]);return r},lF=(r,e)=>aNe(r,sNe(e));const lNe={Accept:"application/json","Content-Type":"application/json"},uNe="POST",uF={headers:lNe,method:uNe},dF=10;let lo=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new Ss.EventEmitter,this.isAvailable=!1,this.registering=!1,!AB(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=sl(e),i=await(await aF(this.url,lF(cF({},uF),{body:n}))).json();this.onPayload({data:i})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!AB(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((i,a)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),a(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return a(new Error("HTTP connection is missing or invalid"));i()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=sl({id:1,jsonrpc:"2.0",method:"test",params:[]});await aF(e,lF(cF({},uF),{body:n}))}this.onOpen()}catch(n){const i=this.parseError(n);throw this.events.emit("register_error",i),this.onClose(),i}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?hf(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const i=this.parseError(n),a=i.message||i.toString(),s=jS(e,a);this.events.emit("payload",s)}parseError(e,n=this.url){return xQ(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>dF&&this.events.setMaxListeners(dF)}};const fF="error",dNe="wss://relay.walletconnect.org",fNe="wc",hNe="universal_provider",N1=`${fNe}@2:${hNe}:`,VQ="https://rpc.walletconnect.org/v1/",Zh="generic",pNe=`${VQ}bundler`,As={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function gNe(){}function VD(r){return r==null||typeof r!="object"&&typeof r!="function"}function GD(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function mNe(r){if(VD(r))return r;if(Array.isArray(r)||GD(r)||r instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&r instanceof SharedArrayBuffer)return r.slice(0);const e=Object.getPrototypeOf(r),n=e.constructor;if(r instanceof Date||r instanceof Map||r instanceof Set)return new n(r);if(r instanceof RegExp){const i=new n(r);return i.lastIndex=r.lastIndex,i}if(r instanceof DataView)return new n(r.buffer.slice(0));if(r instanceof Error){const i=new n(r.message);return i.stack=r.stack,i.name=r.name,i.cause=r.cause,i}if(typeof File<"u"&&r instanceof File)return new n([r],r.name,{type:r.type,lastModified:r.lastModified});if(typeof r=="object"){const i=Object.create(e);return Object.assign(i,r)}return r}function hF(r){return typeof r=="object"&&r!==null}function GQ(r){return Object.getOwnPropertySymbols(r).filter(e=>Object.prototype.propertyIsEnumerable.call(r,e))}function KQ(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}const yNe="[object RegExp]",YQ="[object String]",XQ="[object Number]",JQ="[object Boolean]",ZQ="[object Arguments]",vNe="[object Symbol]",bNe="[object Date]",wNe="[object Map]",_Ne="[object Set]",xNe="[object Array]",ENe="[object ArrayBuffer]",SNe="[object Object]",CNe="[object DataView]",ANe="[object Uint8Array]",TNe="[object Uint8ClampedArray]",kNe="[object Uint16Array]",PNe="[object Uint32Array]",ONe="[object Int8Array]",NNe="[object Int16Array]",INe="[object Int32Array]",RNe="[object Float32Array]",$Ne="[object Float64Array]";function jNe(r,e){return ip(r,void 0,r,new Map,e)}function ip(r,e,n,i=new Map,a=void 0){const s=a==null?void 0:a(r,e,n,i);if(s!=null)return s;if(VD(r))return r;if(i.has(r))return i.get(r);if(Array.isArray(r)){const o=new Array(r.length);i.set(r,o);for(let c=0;c<r.length;c++)o[c]=ip(r[c],c,n,i,a);return Object.hasOwn(r,"index")&&(o.index=r.index),Object.hasOwn(r,"input")&&(o.input=r.input),o}if(r instanceof Date)return new Date(r.getTime());if(r instanceof RegExp){const o=new RegExp(r.source,r.flags);return o.lastIndex=r.lastIndex,o}if(r instanceof Map){const o=new Map;i.set(r,o);for(const[c,l]of r)o.set(c,ip(l,c,n,i,a));return o}if(r instanceof Set){const o=new Set;i.set(r,o);for(const c of r)o.add(ip(c,void 0,n,i,a));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(r))return r.subarray();if(GD(r)){const o=new(Object.getPrototypeOf(r)).constructor(r.length);i.set(r,o);for(let c=0;c<r.length;c++)o[c]=ip(r[c],c,n,i,a);return o}if(r instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&r instanceof SharedArrayBuffer)return r.slice(0);if(r instanceof DataView){const o=new DataView(r.buffer.slice(0),r.byteOffset,r.byteLength);return i.set(r,o),kd(o,r,n,i,a),o}if(typeof File<"u"&&r instanceof File){const o=new File([r],r.name,{type:r.type});return i.set(r,o),kd(o,r,n,i,a),o}if(r instanceof Blob){const o=new Blob([r],{type:r.type});return i.set(r,o),kd(o,r,n,i,a),o}if(r instanceof Error){const o=new r.constructor;return i.set(r,o),o.message=r.message,o.name=r.name,o.stack=r.stack,o.cause=r.cause,kd(o,r,n,i,a),o}if(typeof r=="object"&&DNe(r)){const o=Object.create(Object.getPrototypeOf(r));return i.set(r,o),kd(o,r,n,i,a),o}return r}function kd(r,e,n=r,i,a){const s=[...Object.keys(e),...GQ(e)];for(let o=0;o<s.length;o++){const c=s[o],l=Object.getOwnPropertyDescriptor(r,c);(l==null||l.writable)&&(r[c]=ip(e[c],c,n,i,a))}}function DNe(r){switch(KQ(r)){case ZQ:case xNe:case ENe:case CNe:case JQ:case bNe:case RNe:case $Ne:case ONe:case NNe:case INe:case wNe:case XQ:case SNe:case yNe:case _Ne:case YQ:case vNe:case ANe:case TNe:case kNe:case PNe:return!0;default:return!1}}function MNe(r,e){return jNe(r,(n,i,a,s)=>{if(typeof r=="object")switch(Object.prototype.toString.call(r)){case XQ:case YQ:case JQ:{const o=new r.constructor(r==null?void 0:r.valueOf());return kd(o,r),o}case ZQ:{const o={};return kd(o,r),o.length=r.length,o[Symbol.iterator]=r[Symbol.iterator],o}default:return}})}function pF(r){return MNe(r)}function gF(r){return r!==null&&typeof r=="object"&&KQ(r)==="[object Arguments]"}function LNe(r){return GD(r)}function UNe(r){var n;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((n=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&n.writable)?!1:r.toString()===`[object ${i}]`}let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e}function BNe(r,...e){const n=e.slice(0,-1),i=e[e.length-1];let a=r;for(let s=0;s<n.length;s++){const o=n[s];a=s$(a,o,i,new Map)}return a}function s$(r,e,n,i){if(VD(r)&&(r=Object(r)),e==null||typeof e!="object")return r;if(i.has(e))return mNe(i.get(e));if(i.set(e,r),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const a=[...Object.keys(e),...GQ(e)];for(let s=0;s<a.length;s++){const o=a[s];let c=e[o],l=r[o];if(gF(c)&&(c={...c}),gF(l)&&(l={...l}),typeof Buffer<"u"&&Buffer.isBuffer(c)&&(c=pF(c)),Array.isArray(c))if(typeof l=="object"&&l!=null){const d=[],f=Reflect.ownKeys(l);for(let p=0;p<f.length;p++){const m=f[p];d[m]=l[m]}l=d}else l=[];const u=n(l,c,o,r,e,i);u!=null?r[o]=u:Array.isArray(c)||hF(l)&&hF(c)?r[o]=s$(l,c,n,i):l==null&&UNe(c)?r[o]=s$({},c,n,i):l==null&&LNe(c)?r[o]=pF(c):(l===void 0||c!==void 0)&&(r[o]=c)}return r}function FNe(r,...e){return BNe(r,...e,gNe)}var qNe=Object.defineProperty,zNe=Object.defineProperties,HNe=Object.getOwnPropertyDescriptors,mF=Object.getOwnPropertySymbols,WNe=Object.prototype.hasOwnProperty,VNe=Object.prototype.propertyIsEnumerable,yF=(r,e,n)=>e in r?qNe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,I1=(r,e)=>{for(var n in e||(e={}))WNe.call(e,n)&&yF(r,n,e[n]);if(mF)for(var n of mF(e))VNe.call(e,n)&&yF(r,n,e[n]);return r},GNe=(r,e)=>zNe(r,HNe(e));function Ua(r,e,n){var i;const a=dp(r);return((i=e.rpcMap)==null?void 0:i[a.reference])||`${VQ}?chainId=${a.namespace}:${a.reference}&projectId=${n}`}function Bf(r){return r.includes(":")?r.split(":")[1]:r}function QQ(r){return r.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function KNe(r,e){const n=Object.keys(e.namespaces).filter(a=>a.includes(r));if(!n.length)return[];const i=[];return n.forEach(a=>{const s=e.namespaces[a].accounts;i.push(...s)}),i}function VT(r={},e={}){const n=vF(r),i=vF(e);return FNe(n,i)}function vF(r){var e,n,i,a;const s={};if(!Jv(r))return s;for(const[o,c]of Object.entries(r)){const l=FD(o)?[o]:c.chains,u=c.methods||[],d=c.events||[],f=c.rpcMap||{},p=Ay(o);s[p]=GNe(I1(I1({},s[p]),c),{chains:k_(l,(e=s[p])==null?void 0:e.chains),methods:k_(u,(n=s[p])==null?void 0:n.methods),events:k_(d,(i=s[p])==null?void 0:i.events),rpcMap:I1(I1({},f),(a=s[p])==null?void 0:a.rpcMap)})}return s}function bF(r){return r.includes(":")?r.split(":")[2]:r}function wF(r){const e={};for(const[n,i]of Object.entries(r)){const a=i.methods||[],s=i.events||[],o=i.accounts||[],c=FD(n)?[n]:i.chains?i.chains:QQ(i.accounts);e[n]={chains:c,methods:a,events:s,accounts:o}}return e}function GT(r){return typeof r=="number"?r:r.includes("0x")?parseInt(r,16):(r=r.includes(":")?r.split(":")[1]:r,isNaN(Number(r))?r:Number(r))}const eee={},ir=r=>eee[r],KT=(r,e)=>{eee[r]=e};var YNe=Object.defineProperty,XNe=(r,e,n)=>e in r?YNe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,Sh=(r,e,n)=>XNe(r,typeof e!="symbol"?e+"":e,n);class JNe{constructor(e){Sh(this,"name","polkadot"),Sh(this,"client"),Sh(this,"httpProviders"),Sh(this,"events"),Sh(this,"namespace"),Sh(this,"chainId"),this.namespace=e.namespace,this.events=ir("events"),this.client=ir("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(As.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var i;const a=Bf(n);e[a]=this.createHttpProvider(a,(i=this.namespace.rpcMap)==null?void 0:i[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const i=this.createHttpProvider(e,n);i&&(this.httpProviders[e]=i)}createHttpProvider(e,n){const i=n||Ua(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Cs(new lo(i,ir("disableProviderPing")))}}var ZNe=Object.defineProperty,QNe=Object.defineProperties,eIe=Object.getOwnPropertyDescriptors,_F=Object.getOwnPropertySymbols,tIe=Object.prototype.hasOwnProperty,rIe=Object.prototype.propertyIsEnumerable,o$=(r,e,n)=>e in r?ZNe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,xF=(r,e)=>{for(var n in e||(e={}))tIe.call(e,n)&&o$(r,n,e[n]);if(_F)for(var n of _F(e))rIe.call(e,n)&&o$(r,n,e[n]);return r},EF=(r,e)=>QNe(r,eIe(e)),Ch=(r,e,n)=>o$(r,typeof e!="symbol"?e+"":e,n);class nIe{constructor(e){Ch(this,"name","eip155"),Ch(this,"client"),Ch(this,"chainId"),Ch(this,"namespace"),Ch(this,"httpProviders"),Ch(this,"events"),this.namespace=e.namespace,this.events=ir("events"),this.client=ir("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(As.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const i=n||Ua(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Cs(new lo(i,ir("disableProviderPing")))}setHttpProvider(e,n){const i=this.createHttpProvider(e,n);i&&(this.httpProviders[e]=i)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var i;const a=parseInt(Bf(n));e[a]=this.createHttpProvider(a,(i=this.namespace.rpcMap)==null?void 0:i[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,i;let a=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";a=a.startsWith("0x")?a:`0x${a}`;const s=parseInt(a,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:a}]},chainId:(i=this.namespace.chains)==null?void 0:i[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,i,a;const s=(i=(n=e.request)==null?void 0:n.params)==null?void 0:i[0];if(!s)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const o=this.client.session.get(e.topic),c=((a=o==null?void 0:o.sessionProperties)==null?void 0:a.capabilities)||{};if(c!=null&&c[s])return c==null?void 0:c[s];const l=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:EF(xF({},o.sessionProperties||{}),{capabilities:EF(xF({},c||{}),{[s]:l})})})}catch(u){console.warn("Failed to update session with capabilities",u)}return l}async getCallStatus(e){var n,i;const a=this.client.session.get(e.topic),s=(n=a.sessionProperties)==null?void 0:n.bundler_name;if(s){const c=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(c,e)}catch(l){console.warn("Failed to fetch call status from bundler",l,c)}}const o=(i=a.sessionProperties)==null?void 0:i.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(c){console.warn("Failed to fetch call status from custom bundler",c,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var i;const a=new URL(e),s=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Eu("eth_getUserOperationReceipt",[(i=n.request.params)==null?void 0:i[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,n){return`${pNe}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}}var iIe=Object.defineProperty,aIe=(r,e,n)=>e in r?iIe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,Ah=(r,e,n)=>aIe(r,typeof e!="symbol"?e+"":e,n);let sIe=class{constructor(e){Ah(this,"name","solana"),Ah(this,"client"),Ah(this,"httpProviders"),Ah(this,"events"),Ah(this,"namespace"),Ah(this,"chainId"),this.namespace=e.namespace,this.events=ir("events"),this.client=ir("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(As.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var i;const a=Bf(n);e[a]=this.createHttpProvider(a,(i=this.namespace.rpcMap)==null?void 0:i[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const i=this.createHttpProvider(e,n);i&&(this.httpProviders[e]=i)}createHttpProvider(e,n){const i=n||Ua(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Cs(new lo(i,ir("disableProviderPing")))}};var oIe=Object.defineProperty,cIe=(r,e,n)=>e in r?oIe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,Th=(r,e,n)=>cIe(r,typeof e!="symbol"?e+"":e,n);class lIe{constructor(e){Th(this,"name","cosmos"),Th(this,"client"),Th(this,"httpProviders"),Th(this,"events"),Th(this,"namespace"),Th(this,"chainId"),this.namespace=e.namespace,this.events=ir("events"),this.client=ir("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(As.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var i;const a=Bf(n);e[a]=this.createHttpProvider(a,(i=this.namespace.rpcMap)==null?void 0:i[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const i=this.createHttpProvider(e,n);i&&(this.httpProviders[e]=i)}createHttpProvider(e,n){const i=n||Ua(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Cs(new lo(i,ir("disableProviderPing")))}}var uIe=Object.defineProperty,dIe=(r,e,n)=>e in r?uIe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,kh=(r,e,n)=>dIe(r,typeof e!="symbol"?e+"":e,n);class fIe{constructor(e){kh(this,"name","algorand"),kh(this,"client"),kh(this,"httpProviders"),kh(this,"events"),kh(this,"namespace"),kh(this,"chainId"),this.namespace=e.namespace,this.events=ir("events"),this.client=ir("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const i=n||Ua(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,i)}this.chainId=e,this.events.emit(As.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var i;e[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const i=this.createHttpProvider(e,n);i&&(this.httpProviders[e]=i)}createHttpProvider(e,n){const i=n||Ua(e,this.namespace,this.client.core.projectId);return typeof i>"u"?void 0:new Cs(new lo(i,ir("disableProviderPing")))}}var hIe=Object.defineProperty,pIe=(r,e,n)=>e in r?hIe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,Ph=(r,e,n)=>pIe(r,typeof e!="symbol"?e+"":e,n);class gIe{constructor(e){Ph(this,"name","cip34"),Ph(this,"client"),Ph(this,"httpProviders"),Ph(this,"events"),Ph(this,"namespace"),Ph(this,"chainId"),this.namespace=e.namespace,this.events=ir("events"),this.client=ir("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(As.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const i=this.getCardanoRPCUrl(n),a=Bf(n);e[a]=this.createHttpProvider(a,i)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const i=this.createHttpProvider(e,n);i&&(this.httpProviders[e]=i)}createHttpProvider(e,n){const i=n||this.getCardanoRPCUrl(e);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Cs(new lo(i,ir("disableProviderPing")))}}var mIe=Object.defineProperty,yIe=(r,e,n)=>e in r?mIe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,Oh=(r,e,n)=>yIe(r,typeof e!="symbol"?e+"":e,n);class vIe{constructor(e){Oh(this,"name","elrond"),Oh(this,"client"),Oh(this,"httpProviders"),Oh(this,"events"),Oh(this,"namespace"),Oh(this,"chainId"),this.namespace=e.namespace,this.events=ir("events"),this.client=ir("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(As.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var i;const a=Bf(n);e[a]=this.createHttpProvider(a,(i=this.namespace.rpcMap)==null?void 0:i[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const i=this.createHttpProvider(e,n);i&&(this.httpProviders[e]=i)}createHttpProvider(e,n){const i=n||Ua(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Cs(new lo(i,ir("disableProviderPing")))}}var bIe=Object.defineProperty,wIe=(r,e,n)=>e in r?bIe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,Nh=(r,e,n)=>wIe(r,typeof e!="symbol"?e+"":e,n);class _Ie{constructor(e){Nh(this,"name","multiversx"),Nh(this,"client"),Nh(this,"httpProviders"),Nh(this,"events"),Nh(this,"namespace"),Nh(this,"chainId"),this.namespace=e.namespace,this.events=ir("events"),this.client=ir("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(As.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var i;const a=Bf(n);e[a]=this.createHttpProvider(a,(i=this.namespace.rpcMap)==null?void 0:i[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const i=this.createHttpProvider(e,n);i&&(this.httpProviders[e]=i)}createHttpProvider(e,n){const i=n||Ua(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Cs(new lo(i,ir("disableProviderPing")))}}var xIe=Object.defineProperty,EIe=(r,e,n)=>e in r?xIe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,Ih=(r,e,n)=>EIe(r,typeof e!="symbol"?e+"":e,n);class SIe{constructor(e){Ih(this,"name","near"),Ih(this,"client"),Ih(this,"httpProviders"),Ih(this,"events"),Ih(this,"namespace"),Ih(this,"chainId"),this.namespace=e.namespace,this.events=ir("events"),this.client=ir("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const i=n||Ua(`${this.name}:${e}`,this.namespace);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,i)}this.events.emit(As.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var i;e[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const i=this.createHttpProvider(e,n);i&&(this.httpProviders[e]=i)}createHttpProvider(e,n){const i=n||Ua(e,this.namespace);return typeof i>"u"?void 0:new Cs(new lo(i,ir("disableProviderPing")))}}var CIe=Object.defineProperty,AIe=(r,e,n)=>e in r?CIe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,Rh=(r,e,n)=>AIe(r,typeof e!="symbol"?e+"":e,n);class TIe{constructor(e){Rh(this,"name","tezos"),Rh(this,"client"),Rh(this,"httpProviders"),Rh(this,"events"),Rh(this,"namespace"),Rh(this,"chainId"),this.namespace=e.namespace,this.events=ir("events"),this.client=ir("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const i=n||Ua(`${this.name}:${e}`,this.namespace);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,i)}this.events.emit(As.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const i=this.createHttpProvider(e,n);i&&(this.httpProviders[e]=i)}createHttpProvider(e,n){const i=n||Ua(e,this.namespace);return typeof i>"u"?void 0:new Cs(new lo(i))}}var kIe=Object.defineProperty,PIe=(r,e,n)=>e in r?kIe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,$h=(r,e,n)=>PIe(r,typeof e!="symbol"?e+"":e,n);class OIe{constructor(e){$h(this,"name",Zh),$h(this,"client"),$h(this,"httpProviders"),$h(this,"events"),$h(this,"namespace"),$h(this,"chainId"),this.namespace=e.namespace,this.events=ir("events"),this.client=ir("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(As.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const i={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(a=>{const s=dp(a);i[`${s.namespace}:${s.reference}`]=this.createHttpProvider(a)}),i}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const i=this.createHttpProvider(e,n);i&&(this.httpProviders[e]=i)}createHttpProvider(e,n){const i=n||Ua(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Cs(new lo(i,ir("disableProviderPing")))}}var NIe=Object.defineProperty,IIe=Object.defineProperties,RIe=Object.getOwnPropertyDescriptors,SF=Object.getOwnPropertySymbols,$Ie=Object.prototype.hasOwnProperty,jIe=Object.prototype.propertyIsEnumerable,c$=(r,e,n)=>e in r?NIe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,R1=(r,e)=>{for(var n in e||(e={}))$Ie.call(e,n)&&c$(r,n,e[n]);if(SF)for(var n of SF(e))jIe.call(e,n)&&c$(r,n,e[n]);return r},YT=(r,e)=>IIe(r,RIe(e)),Ja=(r,e,n)=>c$(r,typeof e!="symbol"?e+"":e,n);let DIe=class tee{constructor(e){Ja(this,"client"),Ja(this,"namespaces"),Ja(this,"optionalNamespaces"),Ja(this,"sessionProperties"),Ja(this,"scopedProperties"),Ja(this,"events",new ED),Ja(this,"rpcProviders",{}),Ja(this,"session"),Ja(this,"providerOpts"),Ja(this,"logger"),Ja(this,"uri"),Ja(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:mb(Ig({level:(e==null?void 0:e.logger)||fF})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const n=new tee(e);return await n.initialize(),n}async request(e,n,i){const[a,s]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(a).request({request:R1({},e),chainId:`${a}:${s}`,topic:this.session.topic,expiry:i})}sendAsync(e,n,i,a){const s=new Date().getTime();this.request(e,i,a).then(o=>n(null,$S(s,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:vr("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:i,response:a}=await this.client.authenticate(e,n);i&&(this.uri=i,this.events.emit("display_uri",i));const s=await a();if(this.session=s.session,this.session){const o=wF(this.session.namespaces);this.namespaces=VT(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:i}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const a=await i();this.session=a;const s=wF(a.namespaces);return this.namespaces=VT(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[i,a]=this.validateChain(e),s=this.getProvider(i);s.name===Zh?s.setDefaultChain(`${i}:${a}`,n):s.setDefaultChain(a,n)}catch(i){if(!/Please call connect/.test(i.message))throw i}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(Pu(n)){for(const i of n)e.deletePairings?this.client.core.expirer.set(i.topic,0):await this.client.core.relayer.subscriber.unsubscribe(i.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await tNe.init({core:this.providerOpts.core,logger:this.providerOpts.logger||fF,relayUrl:this.providerOpts.relayUrl||dNe,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(i){throw this.logger.error("Failed to get session",i),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const i=this.client.session.getAll();this.session=i[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>Ay(n)))];KT("client",this.client),KT("events",this.events),KT("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const i=KNe(n,this.session),a=QQ(i),s=VT(this.namespaces,this.optionalNamespaces),o=YT(R1({},s[n]),{accounts:i,chains:a});switch(n){case"eip155":this.rpcProviders[n]=new nIe({namespace:o});break;case"algorand":this.rpcProviders[n]=new fIe({namespace:o});break;case"solana":this.rpcProviders[n]=new sIe({namespace:o});break;case"cosmos":this.rpcProviders[n]=new lIe({namespace:o});break;case"polkadot":this.rpcProviders[n]=new JNe({namespace:o});break;case"cip34":this.rpcProviders[n]=new gIe({namespace:o});break;case"elrond":this.rpcProviders[n]=new vIe({namespace:o});break;case"multiversx":this.rpcProviders[n]=new _Ie({namespace:o});break;case"near":this.rpcProviders[n]=new SIe({namespace:o});break;case"tezos":this.rpcProviders[n]=new TIe({namespace:o});break;default:this.rpcProviders[Zh]?this.rpcProviders[Zh].updateNamespace(o):this.rpcProviders[Zh]=new OIe({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:i}=e;i===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:i,topic:a}=e;if(a!==((n=this.session)==null?void 0:n.topic))return;const{event:s}=i;if(s.name==="accountsChanged"){const o=s.data;o&&Pu(o)&&this.events.emit("accountsChanged",o.map(bF))}else if(s.name==="chainChanged"){const o=i.chainId,c=i.event.data,l=Ay(o),u=GT(o)!==GT(c)?`${l}:${GT(c)}`:o;this.onChainChanged(u)}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var i,a;if(e!==((i=this.session)==null?void 0:i.topic))return;const{namespaces:s}=n,o=(a=this.client)==null?void 0:a.session.get(e);this.session=YT(R1({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",YT(R1({},vr("USER_DISCONNECTED")),{data:e.topic})))}),this.on(As.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[Zh]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n,optionalNamespaces:i,sessionProperties:a,scopedProperties:s}=e;n&&Object.keys(n).length&&(this.namespaces=n),i&&Object.keys(i).length&&(this.optionalNamespaces=i),this.sessionProperties=a,this.scopedProperties=s}validateChain(e){const[n,i]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,i];if(n&&!Object.keys(this.namespaces||{}).map(o=>Ay(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&i)return[n,i];const a=Ay(Object.keys(this.namespaces)[0]),s=this.rpcProviders[a].getDefaultChain();return[a,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[i,a]=this.validateChain(e);if(!a)return;this.updateNamespaceChain(i,a),this.events.emit("chainChanged",a);const s=this.getProvider(i).getDefaultChain();n||this.getProvider(i).setDefaultChain(a),this.emitAccountsChangedOnChainChange({namespace:i,previousChainId:s,newChainId:e}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:i}){var a,s;try{if(n===i)return;const o=(s=(a=this.session)==null?void 0:a.namespaces[e])==null?void 0:s.accounts;if(!o)return;const c=o.filter(l=>l.includes(`${i}:`)).map(bF);if(!Pu(c))return;this.events.emit("accountsChanged",c)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const i=this.namespaces[e]?e:`${e}:${n}`,a={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[i]?this.namespaces[i]&&(this.namespaces[i].defaultChain=n):this.namespaces[i]=a}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var i;const a=((i=this.session)==null?void 0:i.topic)||"";await this.client.core.storage.setItem(`${N1}/${e}${a}`,n)}async getFromStore(e){var n;const i=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${N1}/${e}${i}`)}async deleteFromStore(e){var n;const i=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${N1}/${e}${i}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const i of n)i.startsWith(N1)&&await this.client.core.storage.removeItem(i)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}};var zp={};const MIe="https://secure.walletconnect.org/sdk",LIe=(typeof process<"u"&&typeof zp<"u"?zp.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||MIe,UIe=(typeof process<"u"&&typeof zp<"u"?zp.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",BIe=(typeof process<"u"&&typeof zp<"u"?zp.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",Ye={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},li={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},_d=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),Tn=Ur({..._d}),FIe={state:Tn,subscribeKey(r,e){return Ti(Tn,r,e)},showLoading(r,e={}){this._showMessage({message:r,variant:"loading",...e})},showSuccess(r){this._showMessage({message:r,variant:"success"})},showSvg(r,e){this._showMessage({message:r,svg:e})},showError(r){const e=ft.parseError(r);this._showMessage({message:e,variant:"error"})},hide(){Tn.message=_d.message,Tn.variant=_d.variant,Tn.svg=_d.svg,Tn.open=_d.open,Tn.autoClose=_d.autoClose},_showMessage({message:r,svg:e,variant:n="success",autoClose:i=_d.autoClose}){Tn.open?(Tn.open=!1,setTimeout(()=>{Tn.message=r,Tn.variant=n,Tn.svg=e,Tn.open=!0,Tn.autoClose=i},150)):(Tn.message=r,Tn.variant=n,Tn.svg=e,Tn.open=!0,Tn.autoClose=i)}},Qs=FIe,Ky={getSIWX(){return Se.state.siwx},async initializeIfEnabled(){var s;const r=Se.state.siwx,e=Z.getActiveCaipAddress();if(!(r&&e))return;const[n,i,a]=e.split(":");if(Z.checkIfSupportedNetwork(n))try{if((await r.getSessions(`${n}:${i}`,a)).length)return;await pn.open({view:"SIWXSignMessage"})}catch(o){console.error("SIWXUtil:initializeIfEnabled",o),Lr.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await((s=yt._getClient())==null?void 0:s.disconnect().catch(console.error)),Kt.reset("Connect"),Qs.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const r=Se.state.siwx,e=ft.getPlainAddress(Z.getActiveCaipAddress()),n=Z.getActiveCaipNetwork(),i=yt._getClient();if(!r)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!i)throw new Error("No ConnectionController client found");try{const a=await r.createMessage({chainId:n.caipNetworkId,accountAddress:e}),s=a.toString();Ve.getConnectorId(n.chainNamespace)===Ne.CONNECTOR_ID.AUTH&&Kt.pushTransactionStack({view:null,goBack:!1,replace:!0});const c=await i.signMessage(s);await r.addSession({data:a,message:s,signature:c}),pn.close(),Lr.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(a){const s=this.getSIWXEventProperties();(!pn.state.open||Kt.state.view==="ApproveTransaction")&&await pn.open({view:"SIWXSignMessage"}),s.isSmartAccount?Qs.showError("This application might not support Smart Accounts"):Qs.showError("Signature declined"),Lr.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:s}),console.error("SWIXUtil:requestSignMessage",a)}},async cancelSignMessage(){var r;try{const e=this.getSIWX();((r=e==null?void 0:e.getRequired)==null?void 0:r.call(e))?await yt.disconnect():pn.close(),Kt.reset("Connect"),Lr.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getSessions(){const r=Se.state.siwx,e=ft.getPlainAddress(Z.getActiveCaipAddress()),n=Z.getActiveCaipNetwork();return r&&e&&n?r.getSessions(n.caipNetworkId,e):[]},async isSIWXCloseDisabled(){var e;const r=this.getSIWX();if(r){const n=Kt.state.view==="ApproveTransaction",i=Kt.state.view==="SIWXSignMessage";if(n||i)return((e=r.getRequired)==null?void 0:e.call(r))&&(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:r,chains:e,methods:n}){var c,l,u;const i=Ky.getSIWX(),a=new Set(e.map(d=>d.split(":")[0]));if(!i||a.size!==1||!a.has("eip155"))return!1;const s=await i.createMessage({chainId:((c=Z.getActiveCaipNetwork())==null?void 0:c.caipNetworkId)||"",accountAddress:""}),o=await r.authenticate({nonce:s.nonce,domain:s.domain,uri:s.uri,exp:s.expirationTime,iat:s.issuedAt,nbf:s.notBefore,requestId:s.requestId,version:s.version,resources:s.resources,statement:s.statement,chainId:s.chainId,methods:n,chains:[s.chainId,...e.filter(d=>d!==s.chainId)]});if(Qs.showLoading("Authenticating...",{autoClose:!1}),Je.setConnectedWalletInfo({...o.session.peer.metadata,name:o.session.peer.metadata.name,icon:(l=o.session.peer.metadata.icons)==null?void 0:l[0],type:"WALLET_CONNECT"},Array.from(a)[0]),(u=o==null?void 0:o.auths)!=null&&u.length){const d=o.auths.map(f=>{const p=r.client.formatAuthMessage({request:f.p,iss:f.p.iss});return{data:{...f.p,accountAddress:f.p.iss.split(":").slice(-1).join(""),chainId:f.p.iss.split(":").slice(2,4).join(":"),uri:f.p.aud,version:f.p.version||s.version,expirationTime:f.p.exp,issuedAt:f.p.iat,notBefore:f.p.nbf},message:p,signature:f.s.s,cacao:f}});try{await i.setSessions(d),Lr.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:Ky.getSIWXEventProperties()})}catch(f){throw console.error("SIWX:universalProviderAuth - failed to set sessions",f),Lr.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:Ky.getSIWXEventProperties()}),await r.disconnect().catch(console.error),f}finally{Qs.hide()}}return!0},getSIWXEventProperties(){var e,n;const r=Z.state.activeChain;return{network:((e=Z.state.activeCaipNetwork)==null?void 0:e.caipNetworkId)||"",isSmartAccount:((n=Je.state.preferredAccountTypes)==null?void 0:n[r])===li.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const r=this.getSIWX();r&&await r.setSessions([])}},Pr=Ur({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),qIe={state:Pr,subscribe(r){return Fi(Pr,()=>r(Pr))},setLastNetworkInView(r){Pr.lastNetworkInView=r},async fetchTransactions(r,e){var n,i;if(!r)throw new Error("Transactions can't be fetched without an accountAddress");Pr.loading=!0;try{const a=await bt.fetchTransactions({account:r,cursor:Pr.next,onramp:e,cache:e==="coinbase"?"no-cache":void 0,chainId:(n=Z.state.activeCaipNetwork)==null?void 0:n.caipNetworkId}),s=ky.filterSpamTransactions(a.data),o=ky.filterByConnectedChain(s),c=[...Pr.transactions,...o];Pr.loading=!1,e==="coinbase"?Pr.coinbaseTransactions=ky.groupTransactionsByYearAndMonth(Pr.coinbaseTransactions,a.data):(Pr.transactions=c,Pr.transactionsByYear=ky.groupTransactionsByYearAndMonth(Pr.transactionsByYear,o)),Pr.empty=c.length===0,Pr.next=a.next?a.next:void 0}catch{const s=Z.state.activeChain;Lr.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:r,projectId:Se.state.projectId,cursor:Pr.next,isSmartAccount:((i=Je.state.preferredAccountTypes)==null?void 0:i[s])===li.ACCOUNT_TYPES.SMART_ACCOUNT}}),Qs.showError("Failed to fetch transactions"),Pr.loading=!1,Pr.empty=!0,Pr.next=void 0}},groupTransactionsByYearAndMonth(r={},e=[]){const n=r;return e.forEach(i=>{const a=new Date(i.metadata.minedAt).getFullYear(),s=new Date(i.metadata.minedAt).getMonth(),o=n[a]??{},l=(o[s]??[]).filter(u=>u.id!==i.id);n[a]={...o,[s]:[...l,i].sort((u,d)=>new Date(d.metadata.minedAt).getTime()-new Date(u.metadata.minedAt).getTime())}}),n},filterSpamTransactions(r){return r.filter(e=>!e.transfers.every(i=>{var a;return((a=i.nft_info)==null?void 0:a.flags.is_spam)===!0}))},filterByConnectedChain(r){var i;const e=(i=Z.state.activeCaipNetwork)==null?void 0:i.caipNetworkId;return r.filter(a=>a.metadata.chain===e)},clearCursor(){Pr.next=void 0},resetTransactions(){Pr.transactions=[],Pr.transactionsByYear={},Pr.lastNetworkInView=void 0,Pr.loading=!1,Pr.empty=!1,Pr.next=void 0}},ky=Es(qIe,"API_ERROR"),Er=Ur({connections:new Map,wcError:!1,buffering:!1,status:"disconnected"});let gd;const zIe={state:Er,subscribeKey(r,e){return Ti(Er,r,e)},_getClient(){return Er._client},setClient(r){Er._client=ff(r)},async connectWalletConnect(){var r,e,n,i;if(ft.isTelegram()||ft.isSafari()&&ft.isIos()){if(gd){await gd,gd=void 0;return}if(!ft.isPairingExpired(Er==null?void 0:Er.wcPairingExpiry)){const a=Er.wcUri;Er.wcUri=a;return}gd=(e=(r=yt._getClient())==null?void 0:r.connectWalletConnect)==null?void 0:e.call(r).catch(()=>{}),yt.state.status="connecting",await gd,gd=void 0,Er.wcPairingExpiry=void 0,yt.state.status="connected"}else await((i=(n=yt._getClient())==null?void 0:n.connectWalletConnect)==null?void 0:i.call(n))},async connectExternal(r,e,n=!0){var i,a;await((a=(i=yt._getClient())==null?void 0:i.connectExternal)==null?void 0:a.call(i,r)),n&&Z.setActiveNamespace(e)},async reconnectExternal(r){var n,i;await((i=(n=yt._getClient())==null?void 0:n.reconnectExternal)==null?void 0:i.call(n,r));const e=r.chain||Z.state.activeChain;e&&Ve.setConnectorId(r.id,e)},async setPreferredAccountType(r,e){var i;pn.setLoading(!0,Z.state.activeChain);const n=Ve.getAuthConnector();n&&(Je.setPreferredAccountType(r,e),await n.provider.setPreferredAccount(r),Be.setPreferredAccountTypes(Je.state.preferredAccountTypes??{[e]:r}),await yt.reconnectExternal(n),pn.setLoading(!1,Z.state.activeChain),Lr.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:r,network:((i=Z.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)||""}}))},async signMessage(r){var e;return(e=yt._getClient())==null?void 0:e.signMessage(r)},parseUnits(r,e){var n;return(n=yt._getClient())==null?void 0:n.parseUnits(r,e)},formatUnits(r,e){var n;return(n=yt._getClient())==null?void 0:n.formatUnits(r,e)},async sendTransaction(r){var e;return(e=yt._getClient())==null?void 0:e.sendTransaction(r)},async getCapabilities(r){var e;return(e=yt._getClient())==null?void 0:e.getCapabilities(r)},async grantPermissions(r){var e;return(e=yt._getClient())==null?void 0:e.grantPermissions(r)},async walletGetAssets(r){var e;return((e=yt._getClient())==null?void 0:e.walletGetAssets(r))??{}},async estimateGas(r){var e;return(e=yt._getClient())==null?void 0:e.estimateGas(r)},async writeContract(r){var e;return(e=yt._getClient())==null?void 0:e.writeContract(r)},async getEnsAddress(r){var e;return(e=yt._getClient())==null?void 0:e.getEnsAddress(r)},async getEnsAvatar(r){var e;return(e=yt._getClient())==null?void 0:e.getEnsAvatar(r)},checkInstalled(r){var e,n;return((n=(e=yt._getClient())==null?void 0:e.checkInstalled)==null?void 0:n.call(e,r))||!1},resetWcConnection(){Er.wcUri=void 0,Er.wcPairingExpiry=void 0,Er.wcLinking=void 0,Er.recentWallet=void 0,Er.status="disconnected",ky.resetTransactions(),Be.deleteWalletConnectDeepLink()},resetUri(){Er.wcUri=void 0,Er.wcPairingExpiry=void 0,gd=void 0},finalizeWcConnection(){var n,i;const{wcLinking:r,recentWallet:e}=yt.state;r&&Be.setWalletConnectDeepLink(r),e&&Be.setAppKitRecent(e),Lr.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:r?"mobile":"qrcode",name:((i=(n=Kt.state.data)==null?void 0:n.wallet)==null?void 0:i.name)||"Unknown"}})},setWcBasic(r){Er.wcBasic=r},setUri(r){Er.wcUri=r,Er.wcPairingExpiry=ft.getPairingExpiry()},setWcLinking(r){Er.wcLinking=r},setWcError(r){Er.wcError=r,Er.buffering=!1},setRecentWallet(r){Er.recentWallet=r},setBuffering(r){Er.buffering=r},setStatus(r){Er.status=r},async disconnect(r){try{pn.setLoading(!0,r),await Ky.clearSessions(),await Z.disconnect(r),pn.setLoading(!1,r),Ve.setFilterByNamespace(void 0)}catch(e){throw new zv("Failed to disconnect","INTERNAL_SDK_ERROR",e)}},setConnections(r,e){Er.connections.set(e,r)},switchAccount({connection:r,address:e,namespace:n}){if(Ve.state.activeConnectorIds[n]===r.connectorId){const s=Z.state.activeCaipNetwork;if(s){const o=`${n}:${s.id}:${e}`;Je.setCaipAddress(o,n)}else console.warn(`No current network found for namespace "${n}"`)}else{const s=Ve.getConnector(r.connectorId);s?yt.connectExternal(s,n):console.warn(`No connector found for namespace "${n}"`)}}},yt=Es(zIe),jh=Ur({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),Ho={state:jh,subscribe(r){return Fi(jh,()=>r(jh))},subscribeOpen(r){return Ti(jh,"open",r)},set(r){Object.assign(jh,{...jh,...r})}},XT={createBalance(r,e){const n={name:r.metadata.name||"",symbol:r.metadata.symbol||"",decimals:r.metadata.decimals||0,value:r.metadata.value||0,price:r.metadata.price||0,iconUrl:r.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:e,address:r.address==="native"?void 0:this.convertAddressToCAIP10Address(r.address,e),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:r.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:r,decimals:e}){return Ag(BigInt(r),e)},convertAddressToCAIP10Address(r,e){return`${e}:${r}`},createCAIP2ChainId(r,e){return`${e}:${parseInt(r,16)}`},getChainIdHexFromCAIP2ChainId(r){const e=r.split(":");if(e.length<2||!e[1])return"0x0";const n=e[1],i=parseInt(n,10);return isNaN(i)?"0x0":`0x${i.toString(16)}`},isWalletGetAssetsResponse(r){return typeof r!="object"||r===null?!1:Object.values(r).every(e=>Array.isArray(e)&&e.every(n=>this.isValidAsset(n)))},isValidAsset(r){return typeof r=="object"&&r!==null&&typeof r.address=="string"&&typeof r.balance=="string"&&(r.type==="ERC20"||r.type==="NATIVE")&&typeof r.metadata=="object"&&r.metadata!==null&&typeof r.metadata.name=="string"&&typeof r.metadata.symbol=="string"&&typeof r.metadata.decimals=="number"&&typeof r.metadata.price=="number"&&typeof r.metadata.iconUrl=="string"}},CF={async getMyTokensWithBalance(r){const e=Je.state.address,n=Z.state.activeCaipNetwork;if(!e||!n)return[];if(n.chainNamespace==="eip155"){const a=await this.getEIP155Balances(e,n);if(a)return this.filterLowQualityTokens(a)}const i=await bt.getBalance(e,n.caipNetworkId,r);return this.filterLowQualityTokens(i.balances)},async getEIP155Balances(r,e){var n,i;try{const a=XT.getChainIdHexFromCAIP2ChainId(e.caipNetworkId),s=await yt.getCapabilities(r);if(!((i=(n=s==null?void 0:s[a])==null?void 0:n.assetDiscovery)!=null&&i.supported))return null;const o=await yt.walletGetAssets({account:r,chainFilter:[a]});return XT.isWalletGetAssetsResponse(o)?(o[a]||[]).map(l=>XT.createBalance(l,e.caipNetworkId)):null}catch{return null}},filterLowQualityTokens(r){return r.filter(e=>e.quantity.decimals!=="0")},mapBalancesToSwapTokens(r){return(r==null?void 0:r.map(e=>({...e,address:e!=null&&e.address?e.address:Z.getActiveNetworkTokenAddress(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]}},hr=Ur({tokenBalances:[],loading:!1}),HIe={state:hr,subscribe(r){return Fi(hr,()=>r(hr))},subscribeKey(r,e){return Ti(hr,r,e)},setToken(r){r&&(hr.token=ff(r))},setTokenAmount(r){hr.sendTokenAmount=r},setReceiverAddress(r){hr.receiverAddress=r},setReceiverProfileImageUrl(r){hr.receiverProfileImageUrl=r},setReceiverProfileName(r){hr.receiverProfileName=r},setNetworkBalanceInUsd(r){hr.networkBalanceInUSD=r},setLoading(r){hr.loading=r},async sendToken(){var r;try{switch(or.setLoading(!0),(r=Z.state.activeCaipNetwork)==null?void 0:r.chainNamespace){case"eip155":await or.sendEvmToken();return;case"solana":await or.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{or.setLoading(!1)}},async sendEvmToken(){var n,i,a,s;const r=Z.state.activeChain,e=(n=Je.state.preferredAccountTypes)==null?void 0:n[r];if(!or.state.sendTokenAmount||!or.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!or.state.token)throw new Error("A token is required");(i=or.state.token)!=null&&i.address?(Lr.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===li.ACCOUNT_TYPES.SMART_ACCOUNT,token:or.state.token.address,amount:or.state.sendTokenAmount,network:((a=Z.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)||""}}),await or.sendERC20Token({receiverAddress:or.state.receiverAddress,tokenAddress:or.state.token.address,sendTokenAmount:or.state.sendTokenAmount,decimals:or.state.token.quantity.decimals})):(Lr.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===li.ACCOUNT_TYPES.SMART_ACCOUNT,token:or.state.token.symbol||"",amount:or.state.sendTokenAmount,network:((s=Z.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)||""}}),await or.sendNativeToken({receiverAddress:or.state.receiverAddress,sendTokenAmount:or.state.sendTokenAmount,decimals:or.state.token.quantity.decimals}))},async fetchTokenBalance(r){var s,o;hr.loading=!0;const e=(s=Z.state.activeCaipNetwork)==null?void 0:s.caipNetworkId,n=(o=Z.state.activeCaipNetwork)==null?void 0:o.chainNamespace,i=Z.state.activeCaipAddress,a=i?ft.getPlainAddress(i):void 0;if(hr.lastRetry&&!ft.isAllowedRetry(hr.lastRetry,30*_n.ONE_SEC_MS))return hr.loading=!1,[];try{if(a&&e&&n){const c=await CF.getMyTokensWithBalance();return hr.tokenBalances=c,hr.lastRetry=void 0,c}}catch(c){hr.lastRetry=Date.now(),r==null||r(c),Qs.showError("Token Balance Unavailable")}finally{hr.loading=!1}return[]},fetchNetworkBalance(){if(hr.tokenBalances.length===0)return;const r=CF.mapBalancesToSwapTokens(hr.tokenBalances);if(!r)return;const e=r.find(n=>n.address===Z.getActiveNetworkTokenAddress());e&&(hr.networkBalanceInUSD=e?uve.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(r){var s,o,c,l;Kt.pushTransactionStack({view:null,goBack:!1});const e=r.receiverAddress,n=Je.state.address,i=yt.parseUnits(r.sendTokenAmount.toString(),Number(r.decimals));await yt.sendTransaction({chainNamespace:"eip155",to:e,address:n,data:"0x",value:i??BigInt(0)}),Lr.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:((s=Je.state.preferredAccountTypes)==null?void 0:s.eip155)===li.ACCOUNT_TYPES.SMART_ACCOUNT,token:((o=or.state.token)==null?void 0:o.symbol)||"",amount:r.sendTokenAmount,network:((c=Z.state.activeCaipNetwork)==null?void 0:c.caipNetworkId)||""}}),(l=yt._getClient())==null||l.updateBalance("eip155"),or.resetSend()},async sendERC20Token(r){Kt.pushTransactionStack({view:"Account",goBack:!1});const e=yt.parseUnits(r.sendTokenAmount.toString(),Number(r.decimals));if(Je.state.address&&r.sendTokenAmount&&r.receiverAddress&&r.tokenAddress){const n=ft.getPlainAddress(r.tokenAddress);await yt.writeContract({fromAddress:Je.state.address,tokenAddress:n,args:[r.receiverAddress,e??BigInt(0)],method:"transfer",abi:pve.getERC20Abi(n),chainNamespace:"eip155"}),or.resetSend()}},async sendSolanaToken(){var r;if(!or.state.sendTokenAmount||!or.state.receiverAddress)throw new Error("An amount and receiver address are required");Kt.pushTransactionStack({view:"Account",goBack:!1}),await yt.sendTransaction({chainNamespace:"solana",to:or.state.receiverAddress,value:or.state.sendTokenAmount}),(r=yt._getClient())==null||r.updateBalance("solana"),or.resetSend()},resetSend(){hr.token=void 0,hr.sendTokenAmount=void 0,hr.receiverAddress=void 0,hr.receiverProfileImageUrl=void 0,hr.receiverProfileName=void 0,hr.loading=!1,hr.tokenBalances=[]}},or=Es(HIe),JT={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},$1={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},Le=Ur({chains:eve(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),WIe={state:Le,subscribe(r){return Fi(Le,()=>{r(Le)})},subscribeKey(r,e){return Ti(Le,r,e)},subscribeChainProp(r,e,n){let i;return Fi(Le.chains,()=>{var s;const a=n||Le.activeChain;if(a){const o=(s=Le.chains.get(a))==null?void 0:s[r];i!==o&&(i=o,e(o))}})},initialize(r,e,n){const{chainId:i,namespace:a}=Be.getActiveNetworkProps(),s=e==null?void 0:e.find(d=>d.id.toString()===(i==null?void 0:i.toString())),c=r.find(d=>(d==null?void 0:d.namespace)===a)||(r==null?void 0:r[0]),l=r.map(d=>d.namespace).filter(d=>d!==void 0),u=Se.state.enableEmbedded?new Set([...l]):new Set([...(e==null?void 0:e.map(d=>d.chainNamespace))??[]]);((r==null?void 0:r.length)===0||!c)&&(Le.noAdapters=!0),Le.noAdapters||(Le.activeChain=c==null?void 0:c.namespace,Le.activeCaipNetwork=s,Z.setChainNetworkData(c==null?void 0:c.namespace,{caipNetwork:s}),Le.activeChain&&Ho.set({activeChain:c==null?void 0:c.namespace})),u.forEach(d=>{const f=e==null?void 0:e.filter(p=>p.chainNamespace===d);Z.state.chains.set(d,{namespace:d,networkState:Ur({...$1,caipNetwork:f==null?void 0:f[0]}),accountState:Ur(JT),caipNetworks:f??[],...n}),Z.setRequestedCaipNetworks(f??[],d)})},removeAdapter(r){var e,n;if(Le.activeChain===r){const i=Array.from(Le.chains.entries()).find(([a])=>a!==r);if(i){const a=(n=(e=i[1])==null?void 0:e.caipNetworks)==null?void 0:n[0];a&&Z.setActiveCaipNetwork(a)}}Le.chains.delete(r)},addAdapter(r,{networkControllerClient:e,connectionControllerClient:n},i){Le.chains.set(r.namespace,{namespace:r.namespace,networkState:{...$1,caipNetwork:i[0]},accountState:JT,caipNetworks:i,connectionControllerClient:n,networkControllerClient:e}),Z.setRequestedCaipNetworks((i==null?void 0:i.filter(a=>a.chainNamespace===r.namespace))??[],r.namespace)},addNetwork(r){var n;const e=Le.chains.get(r.chainNamespace);if(e){const i=[...e.caipNetworks||[]];(n=e.caipNetworks)!=null&&n.find(a=>a.id===r.id)||i.push(r),Le.chains.set(r.chainNamespace,{...e,caipNetworks:i}),Z.setRequestedCaipNetworks(i,r.chainNamespace),Ve.filterByNamespace(r.chainNamespace,!0)}},removeNetwork(r,e){var i,a,s;const n=Le.chains.get(r);if(n){const o=((i=Le.activeCaipNetwork)==null?void 0:i.id)===e,c=[...((a=n.caipNetworks)==null?void 0:a.filter(l=>l.id!==e))||[]];o&&((s=n==null?void 0:n.caipNetworks)!=null&&s[0])&&Z.setActiveCaipNetwork(n.caipNetworks[0]),Le.chains.set(r,{...n,caipNetworks:c}),Z.setRequestedCaipNetworks(c||[],r),c.length===0&&Ve.filterByNamespace(r,!1)}},setAdapterNetworkState(r,e){const n=Le.chains.get(r);n&&(n.networkState={...n.networkState||$1,...e},Le.chains.set(r,n))},setChainAccountData(r,e,n=!0){if(!r)throw new Error("Chain is required to update chain account data");const i=Le.chains.get(r);if(i){const a={...i.accountState||JT,...e};Le.chains.set(r,{...i,accountState:a}),(Le.chains.size===1||Le.activeChain===r)&&(e.caipAddress&&(Le.activeCaipAddress=e.caipAddress),Je.replaceState(a))}},setChainNetworkData(r,e){if(!r)return;const n=Le.chains.get(r);if(n){const i={...n.networkState||$1,...e};Le.chains.set(r,{...n,networkState:i})}},setAccountProp(r,e,n,i=!0){Z.setChainAccountData(n,{[r]:e},i),r==="status"&&e==="disconnected"&&n&&Ve.removeConnectorId(n)},setActiveNamespace(r){var i,a;Le.activeChain=r;const e=r?Le.chains.get(r):void 0,n=(i=e==null?void 0:e.networkState)==null?void 0:i.caipNetwork;n!=null&&n.id&&r&&(Le.activeCaipAddress=(a=e==null?void 0:e.accountState)==null?void 0:a.caipAddress,Le.activeCaipNetwork=n,Z.setChainNetworkData(r,{caipNetwork:n}),Be.setActiveCaipNetworkId(n==null?void 0:n.caipNetworkId),Ho.set({activeChain:r,selectedNetworkId:n==null?void 0:n.caipNetworkId}))},setActiveCaipNetwork(r){var i,a,s;if(!r)return;Le.activeChain!==r.chainNamespace&&Z.setIsSwitchingNamespace(!0);const e=Le.chains.get(r.chainNamespace);Le.activeChain=r.chainNamespace,Le.activeCaipNetwork=r,Z.setChainNetworkData(r.chainNamespace,{caipNetwork:r}),(i=e==null?void 0:e.accountState)!=null&&i.address?Le.activeCaipAddress=`${r.chainNamespace}:${r.id}:${(a=e==null?void 0:e.accountState)==null?void 0:a.address}`:Le.activeCaipAddress=void 0,Z.setAccountProp("caipAddress",Le.activeCaipAddress,r.chainNamespace),e&&Je.replaceState(e.accountState),or.resetSend(),Ho.set({activeChain:Le.activeChain,selectedNetworkId:(s=Le.activeCaipNetwork)==null?void 0:s.caipNetworkId}),Be.setActiveCaipNetworkId(r.caipNetworkId),!Z.checkIfSupportedNetwork(r.chainNamespace)&&Se.state.enableNetworkSwitch&&!Se.state.allowUnsupportedChain&&!yt.state.wcBasic&&Z.showUnsupportedChainUI()},addCaipNetwork(r){var n;if(!r)return;const e=Le.chains.get(r.chainNamespace);e&&((n=e==null?void 0:e.caipNetworks)==null||n.push(r))},async switchActiveNamespace(r){var a;if(!r)return;const e=r!==Z.state.activeChain,n=(a=Z.getNetworkData(r))==null?void 0:a.caipNetwork,i=Z.getCaipNetworkByNamespace(r,n==null?void 0:n.id);e&&i&&await Z.switchActiveNetwork(i)},async switchActiveNetwork(r){var a;const e=Z.state.chains.get(Z.state.activeChain);!((a=e==null?void 0:e.caipNetworks)!=null&&a.some(s=>{var o;return s.id===((o=Le.activeCaipNetwork)==null?void 0:o.id)}))&&Kt.goBack();const i=Z.getNetworkControllerClient(r.chainNamespace);i&&(await i.switchCaipNetwork(r),Lr.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:r.caipNetworkId}}))},getNetworkControllerClient(r){const e=r||Le.activeChain,n=Le.chains.get(e);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient(r){const e=r||Le.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const n=Le.chains.get(e);if(!(n!=null&&n.connectionControllerClient))throw new Error("ConnectionController client not set");return n.connectionControllerClient},getAccountProp(r,e){var a;let n=Le.activeChain;if(e&&(n=e),!n)return;const i=(a=Le.chains.get(n))==null?void 0:a.accountState;if(i)return i[r]},getNetworkProp(r,e){var i;const n=(i=Le.chains.get(e))==null?void 0:i.networkState;if(n)return n[r]},getRequestedCaipNetworks(r){const e=Le.chains.get(r),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:i=[]}=(e==null?void 0:e.networkState)||{};return ft.sortRequestedNetworks(n,i)},getAllRequestedCaipNetworks(){const r=[];return Le.chains.forEach(e=>{const n=Z.getRequestedCaipNetworks(e.namespace);r.push(...n)}),r},setRequestedCaipNetworks(r,e){Z.setAdapterNetworkState(e,{requestedCaipNetworks:r});const i=Z.getAllRequestedCaipNetworks().map(s=>s.chainNamespace),a=Array.from(new Set(i));Ve.filterByNamespaces(a)},getAllApprovedCaipNetworkIds(){const r=[];return Le.chains.forEach(e=>{const n=Z.getApprovedCaipNetworkIds(e.namespace);r.push(...n)}),r},getActiveCaipNetwork(){return Le.activeCaipNetwork},getActiveCaipAddress(){return Le.activeCaipAddress},getApprovedCaipNetworkIds(r){var i;const e=Le.chains.get(r);return((i=e==null?void 0:e.networkState)==null?void 0:i.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(r){const e=Z.getNetworkControllerClient(),n=await(e==null?void 0:e.getApprovedCaipNetworksData());Z.setAdapterNetworkState(r,{approvedCaipNetworkIds:n==null?void 0:n.approvedCaipNetworkIds,supportsAllNetworks:n==null?void 0:n.supportsAllNetworks})},checkIfSupportedNetwork(r,e){const n=e||Le.activeCaipNetwork,i=Z.getRequestedCaipNetworks(r);return i.length?i==null?void 0:i.some(a=>a.id===(n==null?void 0:n.id)):!0},checkIfSupportedChainId(r){if(!Le.activeChain)return!0;const e=Z.getRequestedCaipNetworks(Le.activeChain);return e==null?void 0:e.some(n=>n.id===r)},setSmartAccountEnabledNetworks(r,e){Z.setAdapterNetworkState(e,{smartAccountEnabledNetworks:r})},checkIfSmartAccountEnabled(){var i;const r=qv.caipNetworkIdToNumber((i=Le.activeCaipNetwork)==null?void 0:i.caipNetworkId),e=Le.activeChain;if(!e||!r)return!1;const n=Z.getNetworkProp("smartAccountEnabledNetworks",e);return!!(n!=null&&n.includes(Number(r)))},getActiveNetworkTokenAddress(){var i,a;const r=((i=Le.activeCaipNetwork)==null?void 0:i.chainNamespace)||"eip155",e=((a=Le.activeCaipNetwork)==null?void 0:a.id)||1,n=_n.NATIVE_TOKEN_ADDRESS[r];return`${r}:${e}:${n}`},showUnsupportedChainUI(){pn.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const r=Le.activeCaipNetwork;return!!(r!=null&&r.chainNamespace&&_n.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(r.chainNamespace))},resetNetwork(r){Z.setAdapterNetworkState(r,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(r){const e=r;if(!e)throw new Error("Chain is required to set account prop");Le.activeCaipAddress=void 0,Z.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountTypes:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),Ve.removeConnectorId(e)},async disconnect(r){const e=Rve(r);try{or.resetSend();const n=await Promise.allSettled(e.map(async([a,s])=>{var o;try{const{caipAddress:c}=Z.getAccountData(a)||{};c&&((o=s.connectionControllerClient)!=null&&o.disconnect)&&await s.connectionControllerClient.disconnect(a),Z.resetAccount(a),Z.resetNetwork(a)}catch(c){throw new Error(`Failed to disconnect chain ${a}: ${c.message}`)}}));yt.resetWcConnection();const i=n.filter(a=>a.status==="rejected");if(i.length>0)throw new Error(i.map(a=>a.reason.message).join(", "));Be.deleteConnectedSocialProvider(),r?Ve.removeConnectorId(r):Ve.resetConnectorIds(),Lr.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:r||"all"}})}catch(n){console.error(n.message||"Failed to disconnect chains"),Lr.sendEvent({type:"track",event:"DISCONNECT_ERROR",properties:{message:n.message||"Failed to disconnect chains"}})}},setIsSwitchingNamespace(r){Le.isSwitchingNamespace=r},getFirstCaipNetworkSupportsAuthConnector(){var n,i;const r=[];let e;if(Le.chains.forEach(a=>{Ne.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(s=>s===a.namespace)&&a.namespace&&r.push(a.namespace)}),r.length>0){const a=r[0];return e=a?(i=(n=Le.chains.get(a))==null?void 0:n.caipNetworks)==null?void 0:i[0]:void 0,e}},getAccountData(r){var e;return r?(e=Z.state.chains.get(r))==null?void 0:e.accountState:Je.state},getNetworkData(r){var n;const e=r||Le.activeChain;if(e)return(n=Z.state.chains.get(e))==null?void 0:n.networkState},getCaipNetworkByNamespace(r,e){var a,s,o;if(!r)return;const n=Z.state.chains.get(r),i=(a=n==null?void 0:n.caipNetworks)==null?void 0:a.find(c=>c.id===e);return i||((s=n==null?void 0:n.networkState)==null?void 0:s.caipNetwork)||((o=n==null?void 0:n.caipNetworks)==null?void 0:o[0])},getRequestedCaipNetworkIds(){const r=Ve.state.filterByNamespace;return(r?[Le.chains.get(r)]:Array.from(Le.chains.values())).flatMap(n=>(n==null?void 0:n.caipNetworks)||[]).map(n=>n.caipNetworkId)},getCaipNetworks(r){return r?Z.getRequestedCaipNetworks(r):Z.getAllRequestedCaipNetworks()}},Z=Es(WIe),VIe={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},ree=ft.getBlockchainApiUrl(),Qi=Ur({clientId:null,api:new pb({baseUrl:ree,clientId:null}),supportedChains:{http:[],ws:[]}}),bt={state:Qi,async get(r){const{st:e,sv:n}=bt.getSdkProperties(),i=Se.state.projectId,a={...r.params||{},st:e,sv:n,projectId:i};return Qi.api.get({...r,params:a})},getSdkProperties(){const{sdkType:r,sdkVersion:e}=Se.state;return{st:r||"unknown",sv:e||"unknown"}},async isNetworkSupported(r){if(!r)return!1;try{Qi.supportedChains.http.length||await bt.getSupportedNetworks()}catch{return!1}return Qi.supportedChains.http.includes(r)},async getSupportedNetworks(){try{const r=await bt.get({path:"v1/supported-chains"});return Qi.supportedChains=r,r}catch{return Qi.supportedChains}},async fetchIdentity({address:r,caipNetworkId:e}){if(!await bt.isNetworkSupported(e))return{avatar:"",name:""};const i=Be.getIdentityFromCacheForAddress(r);if(i)return i;const a=await bt.get({path:`/v1/identity/${r}`,params:{sender:Z.state.activeCaipAddress?ft.getPlainAddress(Z.state.activeCaipAddress):void 0}});return Be.updateIdentityCache({address:r,identity:a,timestamp:Date.now()}),a},async fetchTransactions({account:r,cursor:e,onramp:n,signal:i,cache:a,chainId:s}){var c;return await bt.isNetworkSupported((c=Z.state.activeCaipNetwork)==null?void 0:c.caipNetworkId)?bt.get({path:`/v1/account/${r}/history`,params:{cursor:e,onramp:n,chainId:s},signal:i,cache:a}):{data:[],next:void 0}},async fetchSwapQuote({amount:r,userAddress:e,from:n,to:i,gasPrice:a}){var o;return await bt.isNetworkSupported((o=Z.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)?bt.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:r,userAddress:e,from:n,to:i,gasPrice:a}}):{quotes:[]}},async fetchSwapTokens({chainId:r}){var n;return await bt.isNetworkSupported((n=Z.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?bt.get({path:"/v1/convert/tokens",params:{chainId:r}}):{tokens:[]}},async fetchTokenPrice({addresses:r}){var n;return await bt.isNetworkSupported((n=Z.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Qi.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:r,projectId:Se.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:r,userAddress:e}){var i;return await bt.isNetworkSupported((i=Z.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?bt.get({path:"/v1/convert/allowance",params:{tokenAddress:r,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:r}){var a;const{st:e,sv:n}=bt.getSdkProperties();if(!await bt.isNetworkSupported((a=Z.state.activeCaipNetwork)==null?void 0:a.caipNetworkId))throw new Error("Network not supported for Gas Price");return bt.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:r,st:e,sv:n}})},async generateSwapCalldata({amount:r,from:e,to:n,userAddress:i,disableEstimate:a}){var o;if(!await bt.isNetworkSupported((o=Z.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return Qi.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:r,eip155:{slippage:_n.CONVERT_SLIPPAGE_TOLERANCE},projectId:Se.state.projectId,from:e,to:n,userAddress:i,disableEstimate:a}})},async generateApproveCalldata({from:r,to:e,userAddress:n}){var o;const{st:i,sv:a}=bt.getSdkProperties();if(!await bt.isNetworkSupported((o=Z.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return bt.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:r,to:e,st:i,sv:a}})},async getBalance(r,e,n){var u;const{st:i,sv:a}=bt.getSdkProperties();if(!await bt.isNetworkSupported((u=Z.state.activeCaipNetwork)==null?void 0:u.caipNetworkId))return Qs.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${r}`,c=Be.getBalanceCacheForCaipAddress(o);if(c)return c;const l=await bt.get({path:`/v1/account/${r}/balance`,params:{currency:"usd",chainId:e,forceUpdate:n,st:i,sv:a}});return Be.updateBalanceCache({caipAddress:o,balance:l,timestamp:Date.now()}),l},async lookupEnsName(r){var n;return await bt.isNetworkSupported((n=Z.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?bt.get({path:`/v1/profile/account/${r}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:r}){var n;return await bt.isNetworkSupported((n=Z.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?bt.get({path:`/v1/profile/reverse/${r}`,params:{sender:Je.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(r){var n;return await bt.isNetworkSupported((n=Z.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?bt.get({path:`/v1/profile/suggestions/${r}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:r,address:e,message:n,signature:i}){var s;return await bt.isNetworkSupported((s=Z.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?Qi.api.post({path:"/v1/profile/account",body:{coin_type:r,address:e,message:n,signature:i},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:r,partnerUserId:e,defaultNetwork:n,purchaseAmount:i,paymentAmount:a}){var c;return await bt.isNetworkSupported((c=Z.state.activeCaipNetwork)==null?void 0:c.caipNetworkId)?(await Qi.api.post({path:"/v1/generators/onrampurl",params:{projectId:Se.state.projectId},body:{destinationWallets:r,defaultNetwork:n,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:i,presetFiatAmount:a}})).url:""},async getOnrampOptions(){var e;if(!await bt.isNetworkSupported((e=Z.state.activeCaipNetwork)==null?void 0:e.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await bt.get({path:"/v1/onramp/options"})}catch{return VIe}},async getOnrampQuote({purchaseCurrency:r,paymentCurrency:e,amount:n,network:i}){var a;try{return await bt.isNetworkSupported((a=Z.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?await Qi.api.post({path:"/v1/onramp/quote",params:{projectId:Se.state.projectId},body:{purchaseCurrency:r,paymentCurrency:e,amount:n,network:i}}):null}catch{return{coinbaseFee:{amount:n,currency:e.id},networkFee:{amount:n,currency:e.id},paymentSubtotal:{amount:n,currency:e.id},paymentTotal:{amount:n,currency:e.id},purchaseAmount:{amount:n,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(r){var n;return await bt.isNetworkSupported((n=Z.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?bt.get({path:`/v1/sessions/${r}`}):[]},async revokeSmartSession(r,e,n){var a;return await bt.isNetworkSupported((a=Z.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?Qi.api.post({path:`/v1/sessions/${r}/revoke`,params:{projectId:Se.state.projectId},body:{pci:e,signature:n}}):{success:!1}},setClientId(r){Qi.clientId=r,Qi.api=new pb({baseUrl:ree,clientId:r})}},Za=Ur({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),GIe={state:Za,replaceState(r){r&&Object.assign(Za,ff(r))},subscribe(r){return Z.subscribeChainProp("accountState",e=>{if(e)return r(e)})},subscribeKey(r,e,n){let i;return Z.subscribeChainProp("accountState",a=>{if(a){const s=a[r];i!==s&&(i=s,e(s))}},n)},setStatus(r,e){Z.setAccountProp("status",r,e)},getCaipAddress(r){return Z.getAccountProp("caipAddress",r)},setCaipAddress(r,e){const n=r?ft.getPlainAddress(r):void 0;e===Z.state.activeChain&&(Z.state.activeCaipAddress=r),Z.setAccountProp("caipAddress",r,e),Z.setAccountProp("address",n,e)},setBalance(r,e,n){Z.setAccountProp("balance",r,n),Z.setAccountProp("balanceSymbol",e,n)},setProfileName(r,e){Z.setAccountProp("profileName",r,e)},setProfileImage(r,e){Z.setAccountProp("profileImage",r,e)},setUser(r,e){Z.setAccountProp("user",r,e)},setAddressExplorerUrl(r,e){Z.setAccountProp("addressExplorerUrl",r,e)},setSmartAccountDeployed(r,e){Z.setAccountProp("smartAccountDeployed",r,e)},setCurrentTab(r){Z.setAccountProp("currentTab",r,Z.state.activeChain)},setTokenBalance(r,e){r&&Z.setAccountProp("tokenBalance",r,e)},setShouldUpdateToAddress(r,e){Z.setAccountProp("shouldUpdateToAddress",r,e)},setAllAccounts(r,e){Z.setAccountProp("allAccounts",r,e)},addAddressLabel(r,e,n){const i=Z.getAccountProp("addressLabels",n)||new Map;i.set(r,e),Z.setAccountProp("addressLabels",i,n)},removeAddressLabel(r,e){const n=Z.getAccountProp("addressLabels",e)||new Map;n.delete(r),Z.setAccountProp("addressLabels",n,e)},setConnectedWalletInfo(r,e){Z.setAccountProp("connectedWalletInfo",r,e,!1)},setPreferredAccountType(r,e){Z.setAccountProp("preferredAccountTypes",{...Za.preferredAccountTypes,[e]:r},e)},setPreferredAccountTypes(r){Za.preferredAccountTypes=r},setSocialProvider(r,e){r&&Z.setAccountProp("socialProvider",r,e)},setSocialWindow(r,e){Z.setAccountProp("socialWindow",r?ff(r):void 0,e)},setFarcasterUrl(r,e){Z.setAccountProp("farcasterUrl",r,e)},async fetchTokenBalance(r){var s,o;Za.balanceLoading=!0;const e=(s=Z.state.activeCaipNetwork)==null?void 0:s.caipNetworkId,n=(o=Z.state.activeCaipNetwork)==null?void 0:o.chainNamespace,i=Z.state.activeCaipAddress,a=i?ft.getPlainAddress(i):void 0;if(Za.lastRetry&&!ft.isAllowedRetry(Za.lastRetry,30*_n.ONE_SEC_MS))return Za.balanceLoading=!1,[];try{if(a&&e&&n){const l=(await bt.getBalance(a,e)).balances.filter(u=>u.quantity.decimals!=="0");return Je.setTokenBalance(l,n),Za.lastRetry=void 0,Za.balanceLoading=!1,l}}catch(c){Za.lastRetry=Date.now(),r==null||r(c),Qs.showError("Token Balance Unavailable")}finally{Za.balanceLoading=!1}return[]},resetAccount(r){Z.resetAccount(r)}},Je=Es(GIe),ea=Ur({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),KIe={state:ea,subscribe(r){return Fi(ea,()=>r(ea))},subscribeKey(r,e){return Ti(ea,r,e)},async open(r){var a;const e=Je.state.status==="connected";yt.state.wcBasic?mt.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await mt.prefetch({fetchConnectorImages:!e,fetchFeaturedWallets:!e,fetchRecommendedWallets:!e}),r!=null&&r.namespace?(await Z.switchActiveNamespace(r.namespace),pn.setLoading(!0,r.namespace)):pn.setLoading(!0),Ve.setFilterByNamespace(r==null?void 0:r.namespace);const n=(a=Z.getAccountData(r==null?void 0:r.namespace))==null?void 0:a.caipAddress,i=Z.state.noAdapters;Se.state.manualWCControl||i&&!n?ft.isMobile()?Kt.reset("AllWallets"):Kt.reset("ConnectingWalletConnectBasic"):r!=null&&r.view?Kt.reset(r.view,r.data):n?Kt.reset("Account"):Kt.reset("Connect"),ea.open=!0,Ho.set({open:!0}),Lr.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!n}})},close(r=!1){if(r||Kt.state.view!=="ApproveTransaction"){const e=Se.state.enableEmbedded,n=!!Z.state.activeCaipAddress;ea.open&&Lr.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:n}}),ea.open=!1,pn.clearLoading(),e?n?Kt.replace("Account"):Kt.push("Connect"):Ho.set({open:!1})}yt.resetUri()},setLoading(r,e){e&&ea.loadingNamespaceMap.set(e,r),ea.loading=r,Ho.set({loading:r})},clearLoading(){ea.loadingNamespaceMap.clear(),ea.loading=!1},shake(){ea.shake||(ea.shake=!0,setTimeout(()=>{ea.shake=!1},500))}},pn=Es(KIe),AF=2147483648,YIe={convertEVMChainIdToCoinType(r){if(r>=AF)throw new Error("Invalid chainId");return(AF|r)>>>0}},Qa=Ur({suggestions:[],loading:!1}),XIe={state:Qa,subscribe(r){return Fi(Qa,()=>r(Qa))},subscribeKey(r,e){return Ti(Qa,r,e)},async resolveName(r){var e,n;try{return await bt.lookupEnsName(r)}catch(i){const a=i;throw new Error(((n=(e=a==null?void 0:a.reasons)==null?void 0:e[0])==null?void 0:n.description)||"Error resolving name")}},async isNameRegistered(r){try{return await bt.lookupEnsName(r),!0}catch{return!1}},async getSuggestions(r){try{Qa.loading=!0,Qa.suggestions=[];const e=await bt.getEnsNameSuggestions(r);return Qa.suggestions=e.suggestions.map(n=>({...n,name:n.name}))||[],Qa.suggestions}catch(e){const n=Yy.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(n)}finally{Qa.loading=!1}},async getNamesForAddress(r){try{if(!Z.state.activeCaipNetwork)return[];const n=Be.getEnsFromCacheForAddress(r);if(n)return n;const i=await bt.reverseLookupEnsName({address:r});return Be.updateEnsCache({address:r,ens:i,timestamp:Date.now()}),i}catch(e){const n=Yy.parseEnsApiError(e,"Error fetching names for address");throw new Error(n)}},async registerName(r){const e=Z.state.activeCaipNetwork;if(!e)throw new Error("Network not found");const n=Je.state.address,i=Ve.getAuthConnector();if(!n||!i)throw new Error("Address or auth connector not found");Qa.loading=!0;try{const a=JSON.stringify({name:r,attributes:{},timestamp:Math.floor(Date.now()/1e3)});Kt.pushTransactionStack({view:"RegisterAccountNameSuccess",goBack:!1,replace:!0,onCancel(){Qa.loading=!1}});const s=await yt.signMessage(a),o=e.id;if(!o)throw new Error("Network not found");const c=YIe.convertEVMChainIdToCoinType(Number(o));await bt.registerEnsName({coinType:c,address:n,signature:s,message:a}),Je.setProfileName(r,e.chainNamespace),Kt.replace("RegisterAccountNameSuccess")}catch(a){const s=Yy.parseEnsApiError(a,`Error registering name ${r}`);throw Kt.replace("RegisterAccountName"),new Error(s)}finally{Qa.loading=!1}},validateName(r){return/^[a-zA-Z0-9-]{4,}$/u.test(r)},parseEnsApiError(r,e){var i,a;const n=r;return((a=(i=n==null?void 0:n.reasons)==null?void 0:i[0])==null?void 0:a.description)||e}},Yy=Es(XIe),Dr={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},Su={ConnectorExplorerIds:{[Ne.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[Ne.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[Ne.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[Ne.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[Ne.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[Dr.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[Dr.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[Dr.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[Dr.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[Dr.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[Dr.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[Dr.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[Dr.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[Dr.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[Dr.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[Dr.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[Ne.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Ne.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Ne.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[Ne.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[Ne.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[Ne.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[Ne.CONNECTOR_ID.INJECTED]:"Browser Wallet",[Ne.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[Ne.CONNECTOR_ID.COINBASE]:"Coinbase",[Ne.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[Ne.CONNECTOR_ID.LEDGER]:"Ledger",[Ne.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[Ne.CONNECTOR_ID.INJECTED]:"INJECTED",[Ne.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[Ne.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[Ne.CONNECTOR_ID.AUTH]:"AUTH"}},US={getCaipTokens(r){if(!r)return;const e={};return Object.entries(r).forEach(([n,i])=>{e[`${Dr.EIP155}:${n}`]=i}),e},isLowerCaseMatch(r,e){return(r==null?void 0:r.toLowerCase())===(e==null?void 0:e.toLowerCase())}},JIe=new AbortController,Wn={EmbeddedWalletAbortController:JIe,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${ZIe()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},IFRAME_LOAD_FAILED:{shortMessage:"Network Error - Could not load embedded wallet",longMessage:()=>"There was an issue loading the embedded wallet. Please try again later."},IFRAME_REQUEST_TIMEOUT:{shortMessage:"Embedded Wallet Request Timed Out",longMessage:()=>"There was an issue doing the request to the embedded wallet. Please try again later."},UNVERIFIED_DOMAIN:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"}}};function ZIe(){return typeof window<"u"}const QIe={createLogger(r,e="error"){const n=Ig({level:e}),{logger:i}=CD({opts:n});return i.error=(...a)=>{for(const s of a)if(s instanceof Error){r(s,...a);return}r(void 0,...a)},i}},eRe="rpc.walletconnect.org";function TF(r,e){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",r),n.searchParams.set("projectId",e),n.toString()}const ZT=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],Lo={extendRpcUrlWithProjectId(r,e){let n=!1;try{n=new URL(r).host===eRe}catch{n=!1}if(n){const i=new URL(r);return i.searchParams.has("projectId")||i.searchParams.set("projectId",e),i.toString()}return r},isCaipNetwork(r){return"chainNamespace"in r&&"caipNetworkId"in r},getChainNamespace(r){return this.isCaipNetwork(r)?r.chainNamespace:Ne.CHAIN.EVM},getCaipNetworkId(r){return this.isCaipNetwork(r)?r.caipNetworkId:`${Ne.CHAIN.EVM}:${r.id}`},getDefaultRpcUrl(r,e,n){var a,s,o;const i=(o=(s=(a=r.rpcUrls)==null?void 0:a.default)==null?void 0:s.http)==null?void 0:o[0];return ZT.includes(e)?TF(e,n):i||""},extendCaipNetwork(r,{customNetworkImageUrls:e,projectId:n,customRpcUrls:i}){var p,m,y,v,b;const a=this.getChainNamespace(r),s=this.getCaipNetworkId(r),o=(p=r.rpcUrls.default.http)==null?void 0:p[0],c=this.getDefaultRpcUrl(r,s,n),l=((v=(y=(m=r==null?void 0:r.rpcUrls)==null?void 0:m.chainDefault)==null?void 0:y.http)==null?void 0:v[0])||o,u=((b=i==null?void 0:i[s])==null?void 0:b.map(w=>w.url))||[],d=[...u,c],f=[...u];return l&&!f.includes(l)&&f.push(l),{...r,chainNamespace:a,caipNetworkId:s,assets:{imageId:Su.NetworkImageIds[r.id],imageUrl:e==null?void 0:e[r.id]},rpcUrls:{...r.rpcUrls,default:{http:d},chainDefault:{http:f}}}},extendCaipNetworks(r,{customNetworkImageUrls:e,projectId:n,customRpcUrls:i}){return r.map(a=>Lo.extendCaipNetwork(a,{customNetworkImageUrls:e,customRpcUrls:i,projectId:n}))},getViemTransport(r,e,n){var a,s,o;const i=[];return n==null||n.forEach(c=>{i.push(jd(c.url,c.config))}),ZT.includes(r.caipNetworkId)&&i.push(jd(TF(r.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),(o=(s=(a=r==null?void 0:r.rpcUrls)==null?void 0:a.default)==null?void 0:s.http)==null||o.forEach(c=>{i.push(jd(c))}),JL(i)},extendWagmiTransports(r,e,n){if(ZT.includes(r.caipNetworkId)){const i=this.getDefaultRpcUrl(r,r.caipNetworkId,e);return JL([n,jd(i)])}return n},getUnsupportedNetwork(r){return{id:r.split(":")[1],caipNetworkId:r,name:Ne.UNSUPPORTED_NETWORK_NAME,chainNamespace:r.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(r){var l;const e=Be.getActiveCaipNetworkId(),n=Z.getAllRequestedCaipNetworks(),i=Array.from(((l=Z.state.chains)==null?void 0:l.keys())||[]),a=e==null?void 0:e.split(":")[0],s=a?i.includes(a):!1,o=n==null?void 0:n.find(u=>u.caipNetworkId===e);return s&&!o&&e?this.getUnsupportedNetwork(e):o||r||(n==null?void 0:n[0])}},yx={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},ta=Ur({providers:{...yx},providerIds:{...yx}}),mr={state:ta,subscribeKey(r,e){return Ti(ta,r,e)},subscribe(r){return Fi(ta,()=>{r(ta)})},subscribeProviders(r){return Fi(ta.providers,()=>r(ta.providers))},setProvider(r,e){e&&(ta.providers[r]=ff(e))},getProvider(r){return ta.providers[r]},setProviderId(r,e){e&&(ta.providerIds[r]=e)},getProviderId(r){if(r)return ta.providerIds[r]},reset(){ta.providers={...yx},ta.providerIds={...yx}},resetChain(r){ta.providers[r]=void 0,ta.providerIds[r]=void 0}},kF={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},ni={set(r,e){Da.isClient&&localStorage.setItem(`${Ye.STORAGE_KEY}${r}`,e)},get(r){return Da.isClient?localStorage.getItem(`${Ye.STORAGE_KEY}${r}`):null},delete(r,e){Da.isClient&&(e?localStorage.removeItem(r):localStorage.removeItem(`${Ye.STORAGE_KEY}${r}`))}},j1=30*1e3,Da={checkIfAllowedToTriggerEmail(){const r=ni.get(Ye.LAST_EMAIL_LOGIN_TIME);if(r){const e=Date.now()-Number(r);if(e<j1){const n=Math.ceil((j1-e)/1e3);throw new Error(`Please try again after ${n} seconds`)}}},getTimeToNextEmailLogin(){const r=ni.get(Ye.LAST_EMAIL_LOGIN_TIME);if(r){const e=Date.now()-Number(r);if(e<j1)return Math.ceil((j1-e)/1e3)}return 0},checkIfRequestExists(r){return li.NOT_SAFE_RPC_METHODS.includes(r.method)||li.SAFE_RPC_METHODS.includes(r.method)},getResponseType(r){return typeof r=="string"&&((r==null?void 0:r.match(kF.transactionHash))||(r==null?void 0:r.match(kF.signedMessage)))?Ye.RPC_RESPONSE_TYPE_TX:Ye.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(r){return li.SAFE_RPC_METHODS.includes(r.method)},isClient:typeof window<"u"};var nr;(function(r){r.assertEqual=a=>a;function e(a){}r.assertIs=e;function n(a){throw new Error}r.assertNever=n,r.arrayToEnum=a=>{const s={};for(const o of a)s[o]=o;return s},r.getValidEnumValues=a=>{const s=r.objectKeys(a).filter(c=>typeof a[a[c]]!="number"),o={};for(const c of s)o[c]=a[c];return r.objectValues(o)},r.objectValues=a=>r.objectKeys(a).map(function(s){return a[s]}),r.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const s=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&s.push(o);return s},r.find=(a,s)=>{for(const o of a)if(s(o))return o},r.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function i(a,s=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}r.joinValues=i,r.jsonStringifyReplacer=(a,s)=>typeof s=="bigint"?s.toString():s})(nr||(nr={}));var l$;(function(r){r.mergeShapes=(e,n)=>({...e,...n})})(l$||(l$={}));const Fe=nr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),uu=r=>{switch(typeof r){case"undefined":return Fe.undefined;case"string":return Fe.string;case"number":return isNaN(r)?Fe.nan:Fe.number;case"boolean":return Fe.boolean;case"function":return Fe.function;case"bigint":return Fe.bigint;case"symbol":return Fe.symbol;case"object":return Array.isArray(r)?Fe.array:r===null?Fe.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?Fe.promise:typeof Map<"u"&&r instanceof Map?Fe.map:typeof Set<"u"&&r instanceof Set?Fe.set:typeof Date<"u"&&r instanceof Date?Fe.date:Fe.object;default:return Fe.unknown}},Ie=nr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),tRe=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:");class ao extends Error{constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},i={_errors:[]},a=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)i._errors.push(n(o));else{let c=i,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(c[u]=c[u]||{_errors:[]},c[u]._errors.push(n(o))):c[u]=c[u]||{_errors:[]},c=c[u],l++}}};return a(this),i}toString(){return this.message}get message(){return JSON.stringify(this.issues,nr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},i=[];for(const a of this.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(e(a))):i.push(e(a));return{formErrors:i,fieldErrors:n}}get formErrors(){return this.flatten()}}ao.create=r=>new ao(r);const Qv=(r,e)=>{let n;switch(r.code){case Ie.invalid_type:r.received===Fe.undefined?n="Required":n=`Expected ${r.expected}, received ${r.received}`;break;case Ie.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(r.expected,nr.jsonStringifyReplacer)}`;break;case Ie.unrecognized_keys:n=`Unrecognized key(s) in object: ${nr.joinValues(r.keys,", ")}`;break;case Ie.invalid_union:n="Invalid input";break;case Ie.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${nr.joinValues(r.options)}`;break;case Ie.invalid_enum_value:n=`Invalid enum value. Expected ${nr.joinValues(r.options)}, received '${r.received}'`;break;case Ie.invalid_arguments:n="Invalid function arguments";break;case Ie.invalid_return_type:n="Invalid function return type";break;case Ie.invalid_date:n="Invalid date";break;case Ie.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(n=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?n=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?n=`Invalid input: must end with "${r.validation.endsWith}"`:nr.assertNever(r.validation):r.validation!=="regex"?n=`Invalid ${r.validation}`:n="Invalid";break;case Ie.too_small:r.type==="array"?n=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?n=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?n=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?n=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:n="Invalid input";break;case Ie.too_big:r.type==="array"?n=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?n=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?n=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?n=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?n=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:n="Invalid input";break;case Ie.custom:n="Invalid input";break;case Ie.invalid_intersection_types:n="Intersection results could not be merged";break;case Ie.not_multiple_of:n=`Number must be a multiple of ${r.multipleOf}`;break;case Ie.not_finite:n="Number must be finite";break;default:n=e.defaultError,nr.assertNever(r)}return{message:n}};let nee=Qv;function rRe(r){nee=r}function vx(){return nee}const bx=r=>{const{data:e,path:n,errorMaps:i,issueData:a}=r,s=[...n,...a.path||[]],o={...a,path:s};let c="";const l=i.filter(u=>!!u).slice().reverse();for(const u of l)c=u(o,{data:e,defaultError:c}).message;return{...a,path:s,message:a.message||c}},nRe=[];function Ge(r,e){const n=bx({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,vx(),Qv].filter(i=>!!i)});r.common.issues.push(n)}class Ai{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const i=[];for(const a of n){if(a.status==="aborted")return St;a.status==="dirty"&&e.dirty(),i.push(a.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,n){const i=[];for(const a of n)i.push({key:await a.key,value:await a.value});return Ai.mergeObjectSync(e,i)}static mergeObjectSync(e,n){const i={};for(const a of n){const{key:s,value:o}=a;if(s.status==="aborted"||o.status==="aborted")return St;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(i[s.value]=o.value)}return{status:e.value,value:i}}}const St=Object.freeze({status:"aborted"}),iee=r=>({status:"dirty",value:r}),qi=r=>({status:"valid",value:r}),u$=r=>r.status==="aborted",d$=r=>r.status==="dirty",e0=r=>r.status==="valid",wx=r=>typeof Promise<"u"&&r instanceof Promise;var ot;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ot||(ot={}));class Zo{constructor(e,n,i,a){this._cachedPath=[],this.parent=e,this.data=n,this._path=i,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const PF=(r,e)=>{if(e0(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ao(r.common.issues);return this._error=n,this._error}}};function Pt(r){if(!r)return{};const{errorMap:e,invalid_type_error:n,required_error:i,description:a}=r;if(e&&(n||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(o,c)=>o.code!=="invalid_type"?{message:c.defaultError}:typeof c.data>"u"?{message:i??c.defaultError}:{message:n??c.defaultError},description:a}}class $t{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return uu(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:uu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ai,ctx:{common:e.parent.common,data:e.data,parsedType:uu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(wx(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const i=this.safeParse(e,n);if(i.success)return i.data;throw i.error}safeParse(e,n){var i;const a={common:{issues:[],async:(i=n==null?void 0:n.async)!==null&&i!==void 0?i:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:uu(e)},s=this._parseSync({data:e,path:a.path,parent:a});return PF(a,s)}async parseAsync(e,n){const i=await this.safeParseAsync(e,n);if(i.success)return i.data;throw i.error}async safeParseAsync(e,n){const i={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:uu(e)},a=this._parse({data:e,path:i.path,parent:i}),s=await(wx(a)?a:Promise.resolve(a));return PF(i,s)}refine(e,n){const i=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,s)=>{const o=e(a),c=()=>s.addIssue({code:Ie.custom,...i(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(c(),!1)):o?!0:(c(),!1)})}refinement(e,n){return this._refinement((i,a)=>e(i)?!0:(a.addIssue(typeof n=="function"?n(i,a):n),!1))}_refinement(e){return new oo({schema:this,typeName:vt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Qc.create(this,this._def)}nullable(){return _f.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return so.create(this,this._def)}promise(){return Wp.create(this,this._def)}or(e){return i0.create([this,e],this._def)}and(e){return a0.create(this,e,this._def)}transform(e){return new oo({...Pt(this._def),schema:this,typeName:vt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new u0({...Pt(this._def),innerType:this,defaultValue:n,typeName:vt.ZodDefault})}brand(){return new see({typeName:vt.ZodBranded,type:this,...Pt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Sx({...Pt(this._def),innerType:this,catchValue:n,typeName:vt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return kb.create(this,e)}readonly(){return Ax.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const iRe=/^c[^\s-]{8,}$/i,aRe=/^[a-z][a-z0-9]*$/,sRe=/^[0-9A-HJKMNP-TV-Z]{26}$/,oRe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,cRe=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,lRe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let QT;const uRe=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,dRe=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,fRe=r=>r.precision?r.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${r.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${r.precision}}Z$`):r.precision===0?r.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):r.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function hRe(r,e){return!!((e==="v4"||!e)&&uRe.test(r)||(e==="v6"||!e)&&dRe.test(r))}class ro extends $t{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Fe.string){const s=this._getOrReturnCtx(e);return Ge(s,{code:Ie.invalid_type,expected:Fe.string,received:s.parsedType}),St}const i=new Ai;let a;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(a=this._getOrReturnCtx(e,a),Ge(a,{code:Ie.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),i.dirty());else if(s.kind==="max")e.data.length>s.value&&(a=this._getOrReturnCtx(e,a),Ge(a,{code:Ie.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),i.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,c=e.data.length<s.value;(o||c)&&(a=this._getOrReturnCtx(e,a),o?Ge(a,{code:Ie.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):c&&Ge(a,{code:Ie.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),i.dirty())}else if(s.kind==="email")cRe.test(e.data)||(a=this._getOrReturnCtx(e,a),Ge(a,{validation:"email",code:Ie.invalid_string,message:s.message}),i.dirty());else if(s.kind==="emoji")QT||(QT=new RegExp(lRe,"u")),QT.test(e.data)||(a=this._getOrReturnCtx(e,a),Ge(a,{validation:"emoji",code:Ie.invalid_string,message:s.message}),i.dirty());else if(s.kind==="uuid")oRe.test(e.data)||(a=this._getOrReturnCtx(e,a),Ge(a,{validation:"uuid",code:Ie.invalid_string,message:s.message}),i.dirty());else if(s.kind==="cuid")iRe.test(e.data)||(a=this._getOrReturnCtx(e,a),Ge(a,{validation:"cuid",code:Ie.invalid_string,message:s.message}),i.dirty());else if(s.kind==="cuid2")aRe.test(e.data)||(a=this._getOrReturnCtx(e,a),Ge(a,{validation:"cuid2",code:Ie.invalid_string,message:s.message}),i.dirty());else if(s.kind==="ulid")sRe.test(e.data)||(a=this._getOrReturnCtx(e,a),Ge(a,{validation:"ulid",code:Ie.invalid_string,message:s.message}),i.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),Ge(a,{validation:"url",code:Ie.invalid_string,message:s.message}),i.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),Ge(a,{validation:"regex",code:Ie.invalid_string,message:s.message}),i.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(a=this._getOrReturnCtx(e,a),Ge(a,{code:Ie.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),i.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(a=this._getOrReturnCtx(e,a),Ge(a,{code:Ie.invalid_string,validation:{startsWith:s.value},message:s.message}),i.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(a=this._getOrReturnCtx(e,a),Ge(a,{code:Ie.invalid_string,validation:{endsWith:s.value},message:s.message}),i.dirty()):s.kind==="datetime"?fRe(s).test(e.data)||(a=this._getOrReturnCtx(e,a),Ge(a,{code:Ie.invalid_string,validation:"datetime",message:s.message}),i.dirty()):s.kind==="ip"?hRe(e.data,s.version)||(a=this._getOrReturnCtx(e,a),Ge(a,{validation:"ip",code:Ie.invalid_string,message:s.message}),i.dirty()):nr.assertNever(s);return{status:i.value,value:e.data}}_regex(e,n,i){return this.refinement(a=>e.test(a),{validation:n,code:Ie.invalid_string,...ot.errToObj(i)})}_addCheck(e){return new ro({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ot.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ot.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ot.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ot.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ot.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ot.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ot.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ot.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...ot.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ot.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ot.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ot.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ot.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ot.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ot.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ot.errToObj(n)})}nonempty(e){return this.min(1,ot.errToObj(e))}trim(){return new ro({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ro({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ro({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ro.create=r=>{var e;return new ro({checks:[],typeName:vt.ZodString,coerce:(e=r==null?void 0:r.coerce)!==null&&e!==void 0?e:!1,...Pt(r)})};function pRe(r,e){const n=(r.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,a=n>i?n:i,s=parseInt(r.toFixed(a).replace(".","")),o=parseInt(e.toFixed(a).replace(".",""));return s%o/Math.pow(10,a)}class Mu extends $t{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Fe.number){const s=this._getOrReturnCtx(e);return Ge(s,{code:Ie.invalid_type,expected:Fe.number,received:s.parsedType}),St}let i;const a=new Ai;for(const s of this._def.checks)s.kind==="int"?nr.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),Ge(i,{code:Ie.invalid_type,expected:"integer",received:"float",message:s.message}),a.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(i=this._getOrReturnCtx(e,i),Ge(i,{code:Ie.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(i=this._getOrReturnCtx(e,i),Ge(i,{code:Ie.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="multipleOf"?pRe(e.data,s.value)!==0&&(i=this._getOrReturnCtx(e,i),Ge(i,{code:Ie.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),Ge(i,{code:Ie.not_finite,message:s.message}),a.dirty()):nr.assertNever(s);return{status:a.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ot.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ot.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ot.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ot.toString(n))}setLimit(e,n,i,a){return new Mu({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:ot.toString(a)}]})}_addCheck(e){return new Mu({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ot.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ot.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ot.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ot.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ot.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ot.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ot.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ot.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ot.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&nr.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(n===null||i.value>n)&&(n=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Mu.create=r=>new Mu({checks:[],typeName:vt.ZodNumber,coerce:(r==null?void 0:r.coerce)||!1,...Pt(r)});class Lu extends $t{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Fe.bigint){const s=this._getOrReturnCtx(e);return Ge(s,{code:Ie.invalid_type,expected:Fe.bigint,received:s.parsedType}),St}let i;const a=new Ai;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(i=this._getOrReturnCtx(e,i),Ge(i,{code:Ie.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(i=this._getOrReturnCtx(e,i),Ge(i,{code:Ie.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),Ge(i,{code:Ie.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):nr.assertNever(s);return{status:a.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ot.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ot.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ot.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ot.toString(n))}setLimit(e,n,i,a){return new Lu({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:ot.toString(a)}]})}_addCheck(e){return new Lu({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ot.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ot.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ot.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ot.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ot.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Lu.create=r=>{var e;return new Lu({checks:[],typeName:vt.ZodBigInt,coerce:(e=r==null?void 0:r.coerce)!==null&&e!==void 0?e:!1,...Pt(r)})};class t0 extends $t{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Fe.boolean){const i=this._getOrReturnCtx(e);return Ge(i,{code:Ie.invalid_type,expected:Fe.boolean,received:i.parsedType}),St}return qi(e.data)}}t0.create=r=>new t0({typeName:vt.ZodBoolean,coerce:(r==null?void 0:r.coerce)||!1,...Pt(r)});class bf extends $t{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Fe.date){const s=this._getOrReturnCtx(e);return Ge(s,{code:Ie.invalid_type,expected:Fe.date,received:s.parsedType}),St}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Ge(s,{code:Ie.invalid_date}),St}const i=new Ai;let a;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(a=this._getOrReturnCtx(e,a),Ge(a,{code:Ie.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),i.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(a=this._getOrReturnCtx(e,a),Ge(a,{code:Ie.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),i.dirty()):nr.assertNever(s);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new bf({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ot.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ot.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}bf.create=r=>new bf({checks:[],coerce:(r==null?void 0:r.coerce)||!1,typeName:vt.ZodDate,...Pt(r)});class _x extends $t{_parse(e){if(this._getType(e)!==Fe.symbol){const i=this._getOrReturnCtx(e);return Ge(i,{code:Ie.invalid_type,expected:Fe.symbol,received:i.parsedType}),St}return qi(e.data)}}_x.create=r=>new _x({typeName:vt.ZodSymbol,...Pt(r)});class r0 extends $t{_parse(e){if(this._getType(e)!==Fe.undefined){const i=this._getOrReturnCtx(e);return Ge(i,{code:Ie.invalid_type,expected:Fe.undefined,received:i.parsedType}),St}return qi(e.data)}}r0.create=r=>new r0({typeName:vt.ZodUndefined,...Pt(r)});class n0 extends $t{_parse(e){if(this._getType(e)!==Fe.null){const i=this._getOrReturnCtx(e);return Ge(i,{code:Ie.invalid_type,expected:Fe.null,received:i.parsedType}),St}return qi(e.data)}}n0.create=r=>new n0({typeName:vt.ZodNull,...Pt(r)});class Hp extends $t{constructor(){super(...arguments),this._any=!0}_parse(e){return qi(e.data)}}Hp.create=r=>new Hp({typeName:vt.ZodAny,...Pt(r)});class Xd extends $t{constructor(){super(...arguments),this._unknown=!0}_parse(e){return qi(e.data)}}Xd.create=r=>new Xd({typeName:vt.ZodUnknown,...Pt(r)});class ol extends $t{_parse(e){const n=this._getOrReturnCtx(e);return Ge(n,{code:Ie.invalid_type,expected:Fe.never,received:n.parsedType}),St}}ol.create=r=>new ol({typeName:vt.ZodNever,...Pt(r)});class xx extends $t{_parse(e){if(this._getType(e)!==Fe.undefined){const i=this._getOrReturnCtx(e);return Ge(i,{code:Ie.invalid_type,expected:Fe.void,received:i.parsedType}),St}return qi(e.data)}}xx.create=r=>new xx({typeName:vt.ZodVoid,...Pt(r)});class so extends $t{_parse(e){const{ctx:n,status:i}=this._processInputParams(e),a=this._def;if(n.parsedType!==Fe.array)return Ge(n,{code:Ie.invalid_type,expected:Fe.array,received:n.parsedType}),St;if(a.exactLength!==null){const o=n.data.length>a.exactLength.value,c=n.data.length<a.exactLength.value;(o||c)&&(Ge(n,{code:o?Ie.too_big:Ie.too_small,minimum:c?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),i.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(Ge(n,{code:Ie.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),i.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(Ge(n,{code:Ie.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),i.dirty()),n.common.async)return Promise.all([...n.data].map((o,c)=>a.type._parseAsync(new Zo(n,o,n.path,c)))).then(o=>Ai.mergeArray(i,o));const s=[...n.data].map((o,c)=>a.type._parseSync(new Zo(n,o,n.path,c)));return Ai.mergeArray(i,s)}get element(){return this._def.type}min(e,n){return new so({...this._def,minLength:{value:e,message:ot.toString(n)}})}max(e,n){return new so({...this._def,maxLength:{value:e,message:ot.toString(n)}})}length(e,n){return new so({...this._def,exactLength:{value:e,message:ot.toString(n)}})}nonempty(e){return this.min(1,e)}}so.create=(r,e)=>new so({type:r,minLength:null,maxLength:null,exactLength:null,typeName:vt.ZodArray,...Pt(e)});function Qh(r){if(r instanceof Zr){const e={};for(const n in r.shape){const i=r.shape[n];e[n]=Qc.create(Qh(i))}return new Zr({...r._def,shape:()=>e})}else return r instanceof so?new so({...r._def,type:Qh(r.element)}):r instanceof Qc?Qc.create(Qh(r.unwrap())):r instanceof _f?_f.create(Qh(r.unwrap())):r instanceof Qo?Qo.create(r.items.map(e=>Qh(e))):r}class Zr extends $t{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=nr.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==Fe.object){const u=this._getOrReturnCtx(e);return Ge(u,{code:Ie.invalid_type,expected:Fe.object,received:u.parsedType}),St}const{status:i,ctx:a}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),c=[];if(!(this._def.catchall instanceof ol&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||c.push(u);const l=[];for(const u of o){const d=s[u],f=a.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new Zo(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof ol){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of c)l.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")c.length>0&&(Ge(a,{code:Ie.unrecognized_keys,keys:c}),i.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of c){const f=a.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new Zo(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const f=await d.key;u.push({key:f,value:await d.value,alwaysSet:d.alwaysSet})}return u}).then(u=>Ai.mergeObjectSync(i,u)):Ai.mergeObjectSync(i,l)}get shape(){return this._def.shape()}strict(e){return ot.errToObj,new Zr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,i)=>{var a,s,o,c;const l=(o=(s=(a=this._def).errorMap)===null||s===void 0?void 0:s.call(a,n,i).message)!==null&&o!==void 0?o:i.defaultError;return n.code==="unrecognized_keys"?{message:(c=ot.errToObj(e).message)!==null&&c!==void 0?c:l}:{message:l}}}:{}})}strip(){return new Zr({...this._def,unknownKeys:"strip"})}passthrough(){return new Zr({...this._def,unknownKeys:"passthrough"})}extend(e){return new Zr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Zr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:vt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Zr({...this._def,catchall:e})}pick(e){const n={};return nr.objectKeys(e).forEach(i=>{e[i]&&this.shape[i]&&(n[i]=this.shape[i])}),new Zr({...this._def,shape:()=>n})}omit(e){const n={};return nr.objectKeys(this.shape).forEach(i=>{e[i]||(n[i]=this.shape[i])}),new Zr({...this._def,shape:()=>n})}deepPartial(){return Qh(this)}partial(e){const n={};return nr.objectKeys(this.shape).forEach(i=>{const a=this.shape[i];e&&!e[i]?n[i]=a:n[i]=a.optional()}),new Zr({...this._def,shape:()=>n})}required(e){const n={};return nr.objectKeys(this.shape).forEach(i=>{if(e&&!e[i])n[i]=this.shape[i];else{let s=this.shape[i];for(;s instanceof Qc;)s=s._def.innerType;n[i]=s}}),new Zr({...this._def,shape:()=>n})}keyof(){return aee(nr.objectKeys(this.shape))}}Zr.create=(r,e)=>new Zr({shape:()=>r,unknownKeys:"strip",catchall:ol.create(),typeName:vt.ZodObject,...Pt(e)});Zr.strictCreate=(r,e)=>new Zr({shape:()=>r,unknownKeys:"strict",catchall:ol.create(),typeName:vt.ZodObject,...Pt(e)});Zr.lazycreate=(r,e)=>new Zr({shape:r,unknownKeys:"strip",catchall:ol.create(),typeName:vt.ZodObject,...Pt(e)});class i0 extends $t{_parse(e){const{ctx:n}=this._processInputParams(e),i=this._def.options;function a(s){for(const c of s)if(c.result.status==="valid")return c.result;for(const c of s)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const o=s.map(c=>new ao(c.ctx.common.issues));return Ge(n,{code:Ie.invalid_union,unionErrors:o}),St}if(n.common.async)return Promise.all(i.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(a);{let s;const o=[];for(const l of i){const u={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const c=o.map(l=>new ao(l));return Ge(n,{code:Ie.invalid_union,unionErrors:c}),St}}get options(){return this._def.options}}i0.create=(r,e)=>new i0({options:r,typeName:vt.ZodUnion,...Pt(e)});const R_=r=>r instanceof o0?R_(r.schema):r instanceof oo?R_(r.innerType()):r instanceof c0?[r.value]:r instanceof Uu?r.options:r instanceof l0?Object.keys(r.enum):r instanceof u0?R_(r._def.innerType):r instanceof r0?[void 0]:r instanceof n0?[null]:null;class BS extends $t{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Fe.object)return Ge(n,{code:Ie.invalid_type,expected:Fe.object,received:n.parsedType}),St;const i=this.discriminator,a=n.data[i],s=this.optionsMap.get(a);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(Ge(n,{code:Ie.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),St)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,i){const a=new Map;for(const s of n){const o=R_(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const c of o){if(a.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);a.set(c,s)}}return new BS({typeName:vt.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:a,...Pt(i)})}}function f$(r,e){const n=uu(r),i=uu(e);if(r===e)return{valid:!0,data:r};if(n===Fe.object&&i===Fe.object){const a=nr.objectKeys(e),s=nr.objectKeys(r).filter(c=>a.indexOf(c)!==-1),o={...r,...e};for(const c of s){const l=f$(r[c],e[c]);if(!l.valid)return{valid:!1};o[c]=l.data}return{valid:!0,data:o}}else if(n===Fe.array&&i===Fe.array){if(r.length!==e.length)return{valid:!1};const a=[];for(let s=0;s<r.length;s++){const o=r[s],c=e[s],l=f$(o,c);if(!l.valid)return{valid:!1};a.push(l.data)}return{valid:!0,data:a}}else return n===Fe.date&&i===Fe.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}class a0 extends $t{_parse(e){const{status:n,ctx:i}=this._processInputParams(e),a=(s,o)=>{if(u$(s)||u$(o))return St;const c=f$(s.value,o.value);return c.valid?((d$(s)||d$(o))&&n.dirty(),{status:n.value,value:c.data}):(Ge(i,{code:Ie.invalid_intersection_types}),St)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([s,o])=>a(s,o)):a(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}a0.create=(r,e,n)=>new a0({left:r,right:e,typeName:vt.ZodIntersection,...Pt(n)});class Qo extends $t{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==Fe.array)return Ge(i,{code:Ie.invalid_type,expected:Fe.array,received:i.parsedType}),St;if(i.data.length<this._def.items.length)return Ge(i,{code:Ie.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),St;!this._def.rest&&i.data.length>this._def.items.length&&(Ge(i,{code:Ie.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...i.data].map((o,c)=>{const l=this._def.items[c]||this._def.rest;return l?l._parse(new Zo(i,o,i.path,c)):null}).filter(o=>!!o);return i.common.async?Promise.all(s).then(o=>Ai.mergeArray(n,o)):Ai.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new Qo({...this._def,rest:e})}}Qo.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Qo({items:r,typeName:vt.ZodTuple,rest:null,...Pt(e)})};class s0 extends $t{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==Fe.object)return Ge(i,{code:Ie.invalid_type,expected:Fe.object,received:i.parsedType}),St;const a=[],s=this._def.keyType,o=this._def.valueType;for(const c in i.data)a.push({key:s._parse(new Zo(i,c,i.path,c)),value:o._parse(new Zo(i,i.data[c],i.path,c))});return i.common.async?Ai.mergeObjectAsync(n,a):Ai.mergeObjectSync(n,a)}get element(){return this._def.valueType}static create(e,n,i){return n instanceof $t?new s0({keyType:e,valueType:n,typeName:vt.ZodRecord,...Pt(i)}):new s0({keyType:ro.create(),valueType:e,typeName:vt.ZodRecord,...Pt(n)})}}class Ex extends $t{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==Fe.map)return Ge(i,{code:Ie.invalid_type,expected:Fe.map,received:i.parsedType}),St;const a=this._def.keyType,s=this._def.valueType,o=[...i.data.entries()].map(([c,l],u)=>({key:a._parse(new Zo(i,c,i.path,[u,"key"])),value:s._parse(new Zo(i,l,i.path,[u,"value"]))}));if(i.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return St;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),c.set(u.value,d.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const l of o){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return St;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),c.set(u.value,d.value)}return{status:n.value,value:c}}}}Ex.create=(r,e,n)=>new Ex({valueType:e,keyType:r,typeName:vt.ZodMap,...Pt(n)});class wf extends $t{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==Fe.set)return Ge(i,{code:Ie.invalid_type,expected:Fe.set,received:i.parsedType}),St;const a=this._def;a.minSize!==null&&i.data.size<a.minSize.value&&(Ge(i,{code:Ie.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&i.data.size>a.maxSize.value&&(Ge(i,{code:Ie.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const s=this._def.valueType;function o(l){const u=new Set;for(const d of l){if(d.status==="aborted")return St;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const c=[...i.data.values()].map((l,u)=>s._parse(new Zo(i,l,i.path,u)));return i.common.async?Promise.all(c).then(l=>o(l)):o(c)}min(e,n){return new wf({...this._def,minSize:{value:e,message:ot.toString(n)}})}max(e,n){return new wf({...this._def,maxSize:{value:e,message:ot.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}wf.create=(r,e)=>new wf({valueType:r,minSize:null,maxSize:null,typeName:vt.ZodSet,...Pt(e)});class fp extends $t{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Fe.function)return Ge(n,{code:Ie.invalid_type,expected:Fe.function,received:n.parsedType}),St;function i(c,l){return bx({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,vx(),Qv].filter(u=>!!u),issueData:{code:Ie.invalid_arguments,argumentsError:l}})}function a(c,l){return bx({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,vx(),Qv].filter(u=>!!u),issueData:{code:Ie.invalid_return_type,returnTypeError:l}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Wp){const c=this;return qi(async function(...l){const u=new ao([]),d=await c._def.args.parseAsync(l,s).catch(m=>{throw u.addIssue(i(l,m)),u}),f=await Reflect.apply(o,this,d);return await c._def.returns._def.type.parseAsync(f,s).catch(m=>{throw u.addIssue(a(f,m)),u})})}else{const c=this;return qi(function(...l){const u=c._def.args.safeParse(l,s);if(!u.success)throw new ao([i(l,u.error)]);const d=Reflect.apply(o,this,u.data),f=c._def.returns.safeParse(d,s);if(!f.success)throw new ao([a(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new fp({...this._def,args:Qo.create(e).rest(Xd.create())})}returns(e){return new fp({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,i){return new fp({args:e||Qo.create([]).rest(Xd.create()),returns:n||Xd.create(),typeName:vt.ZodFunction,...Pt(i)})}}class o0 extends $t{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}o0.create=(r,e)=>new o0({getter:r,typeName:vt.ZodLazy,...Pt(e)});class c0 extends $t{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Ge(n,{received:n.data,code:Ie.invalid_literal,expected:this._def.value}),St}return{status:"valid",value:e.data}}get value(){return this._def.value}}c0.create=(r,e)=>new c0({value:r,typeName:vt.ZodLiteral,...Pt(e)});function aee(r,e){return new Uu({values:r,typeName:vt.ZodEnum,...Pt(e)})}class Uu extends $t{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),i=this._def.values;return Ge(n,{expected:nr.joinValues(i),received:n.parsedType,code:Ie.invalid_type}),St}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),i=this._def.values;return Ge(n,{received:n.data,code:Ie.invalid_enum_value,options:i}),St}return qi(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return Uu.create(e)}exclude(e){return Uu.create(this.options.filter(n=>!e.includes(n)))}}Uu.create=aee;class l0 extends $t{_parse(e){const n=nr.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==Fe.string&&i.parsedType!==Fe.number){const a=nr.objectValues(n);return Ge(i,{expected:nr.joinValues(a),received:i.parsedType,code:Ie.invalid_type}),St}if(n.indexOf(e.data)===-1){const a=nr.objectValues(n);return Ge(i,{received:i.data,code:Ie.invalid_enum_value,options:a}),St}return qi(e.data)}get enum(){return this._def.values}}l0.create=(r,e)=>new l0({values:r,typeName:vt.ZodNativeEnum,...Pt(e)});class Wp extends $t{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Fe.promise&&n.common.async===!1)return Ge(n,{code:Ie.invalid_type,expected:Fe.promise,received:n.parsedType}),St;const i=n.parsedType===Fe.promise?n.data:Promise.resolve(n.data);return qi(i.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Wp.create=(r,e)=>new Wp({type:r,typeName:vt.ZodPromise,...Pt(e)});class oo extends $t{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===vt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:i}=this._processInputParams(e),a=this._def.effect||null,s={addIssue:o=>{Ge(i,o),o.fatal?n.abort():n.dirty()},get path(){return i.path}};if(s.addIssue=s.addIssue.bind(s),a.type==="preprocess"){const o=a.transform(i.data,s);return i.common.issues.length?{status:"dirty",value:i.data}:i.common.async?Promise.resolve(o).then(c=>this._def.schema._parseAsync({data:c,path:i.path,parent:i})):this._def.schema._parseSync({data:o,path:i.path,parent:i})}if(a.type==="refinement"){const o=c=>{const l=a.refinement(c,s);if(i.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(i.common.async===!1){const c=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return c.status==="aborted"?St:(c.status==="dirty"&&n.dirty(),o(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(c=>c.status==="aborted"?St:(c.status==="dirty"&&n.dirty(),o(c.value).then(()=>({status:n.value,value:c.value}))))}if(a.type==="transform")if(i.common.async===!1){const o=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!e0(o))return o;const c=a.transform(o.value,s);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(o=>e0(o)?Promise.resolve(a.transform(o.value,s)).then(c=>({status:n.value,value:c})):o);nr.assertNever(a)}}oo.create=(r,e,n)=>new oo({schema:r,typeName:vt.ZodEffects,effect:e,...Pt(n)});oo.createWithPreprocess=(r,e,n)=>new oo({schema:e,effect:{type:"preprocess",transform:r},typeName:vt.ZodEffects,...Pt(n)});class Qc extends $t{_parse(e){return this._getType(e)===Fe.undefined?qi(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Qc.create=(r,e)=>new Qc({innerType:r,typeName:vt.ZodOptional,...Pt(e)});class _f extends $t{_parse(e){return this._getType(e)===Fe.null?qi(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}_f.create=(r,e)=>new _f({innerType:r,typeName:vt.ZodNullable,...Pt(e)});class u0 extends $t{_parse(e){const{ctx:n}=this._processInputParams(e);let i=n.data;return n.parsedType===Fe.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}u0.create=(r,e)=>new u0({innerType:r,typeName:vt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Pt(e)});class Sx extends $t{_parse(e){const{ctx:n}=this._processInputParams(e),i={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return wx(a)?a.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ao(i.common.issues)},input:i.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ao(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}Sx.create=(r,e)=>new Sx({innerType:r,typeName:vt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Pt(e)});class Cx extends $t{_parse(e){if(this._getType(e)!==Fe.nan){const i=this._getOrReturnCtx(e);return Ge(i,{code:Ie.invalid_type,expected:Fe.nan,received:i.parsedType}),St}return{status:"valid",value:e.data}}}Cx.create=r=>new Cx({typeName:vt.ZodNaN,...Pt(r)});const gRe=Symbol("zod_brand");class see extends $t{_parse(e){const{ctx:n}=this._processInputParams(e),i=n.data;return this._def.type._parse({data:i,path:n.path,parent:n})}unwrap(){return this._def.type}}class kb extends $t{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return s.status==="aborted"?St:s.status==="dirty"?(n.dirty(),iee(s.value)):this._def.out._parseAsync({data:s.value,path:i.path,parent:i})})();{const a=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return a.status==="aborted"?St:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:i.path,parent:i})}}static create(e,n){return new kb({in:e,out:n,typeName:vt.ZodPipeline})}}class Ax extends $t{_parse(e){const n=this._def.innerType._parse(e);return e0(n)&&(n.value=Object.freeze(n.value)),n}}Ax.create=(r,e)=>new Ax({innerType:r,typeName:vt.ZodReadonly,...Pt(e)});const oee=(r,e={},n)=>r?Hp.create().superRefine((i,a)=>{var s,o;if(!r(i)){const c=typeof e=="function"?e(i):typeof e=="string"?{message:e}:e,l=(o=(s=c.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,u=typeof c=="string"?{message:c}:c;a.addIssue({code:"custom",...u,fatal:l})}}):Hp.create(),mRe={object:Zr.lazycreate};var vt;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(vt||(vt={}));const yRe=(r,e={message:`Input not instance of ${r.name}`})=>oee(n=>n instanceof r,e),cee=ro.create,lee=Mu.create,vRe=Cx.create,bRe=Lu.create,uee=t0.create,wRe=bf.create,_Re=_x.create,xRe=r0.create,ERe=n0.create,SRe=Hp.create,CRe=Xd.create,ARe=ol.create,TRe=xx.create,kRe=so.create,PRe=Zr.create,ORe=Zr.strictCreate,NRe=i0.create,IRe=BS.create,RRe=a0.create,$Re=Qo.create,jRe=s0.create,DRe=Ex.create,MRe=wf.create,LRe=fp.create,URe=o0.create,BRe=c0.create,FRe=Uu.create,qRe=l0.create,zRe=Wp.create,OF=oo.create,HRe=Qc.create,WRe=_f.create,VRe=oo.createWithPreprocess,GRe=kb.create,KRe=()=>cee().optional(),YRe=()=>lee().optional(),XRe=()=>uee().optional(),JRe={string:r=>ro.create({...r,coerce:!0}),number:r=>Mu.create({...r,coerce:!0}),boolean:r=>t0.create({...r,coerce:!0}),bigint:r=>Lu.create({...r,coerce:!0}),date:r=>bf.create({...r,coerce:!0})},ZRe=St;var Y=Object.freeze({__proto__:null,defaultErrorMap:Qv,setErrorMap:rRe,getErrorMap:vx,makeIssue:bx,EMPTY_PATH:nRe,addIssueToContext:Ge,ParseStatus:Ai,INVALID:St,DIRTY:iee,OK:qi,isAborted:u$,isDirty:d$,isValid:e0,isAsync:wx,get util(){return nr},get objectUtil(){return l$},ZodParsedType:Fe,getParsedType:uu,ZodType:$t,ZodString:ro,ZodNumber:Mu,ZodBigInt:Lu,ZodBoolean:t0,ZodDate:bf,ZodSymbol:_x,ZodUndefined:r0,ZodNull:n0,ZodAny:Hp,ZodUnknown:Xd,ZodNever:ol,ZodVoid:xx,ZodArray:so,ZodObject:Zr,ZodUnion:i0,ZodDiscriminatedUnion:BS,ZodIntersection:a0,ZodTuple:Qo,ZodRecord:s0,ZodMap:Ex,ZodSet:wf,ZodFunction:fp,ZodLazy:o0,ZodLiteral:c0,ZodEnum:Uu,ZodNativeEnum:l0,ZodPromise:Wp,ZodEffects:oo,ZodTransformer:oo,ZodOptional:Qc,ZodNullable:_f,ZodDefault:u0,ZodCatch:Sx,ZodNaN:Cx,BRAND:gRe,ZodBranded:see,ZodPipeline:kb,ZodReadonly:Ax,custom:oee,Schema:$t,ZodSchema:$t,late:mRe,get ZodFirstPartyTypeKind(){return vt},coerce:JRe,any:SRe,array:kRe,bigint:bRe,boolean:uee,date:wRe,discriminatedUnion:IRe,effect:OF,enum:FRe,function:LRe,instanceof:yRe,intersection:RRe,lazy:URe,literal:BRe,map:DRe,nan:vRe,nativeEnum:qRe,never:ARe,null:ERe,nullable:WRe,number:lee,object:PRe,oboolean:XRe,onumber:YRe,optional:HRe,ostring:KRe,pipeline:GRe,preprocess:VRe,promise:zRe,record:jRe,set:MRe,strictObject:ORe,string:cee,symbol:_Re,transformer:OF,tuple:$Re,undefined:xRe,union:NRe,unknown:CRe,void:TRe,NEVER:ZRe,ZodIssueCode:Ie,quotelessJson:tRe,ZodError:ao});const tn=Y.object({message:Y.string()});function He(r){return Y.literal(Ye[r])}Y.object({accessList:Y.array(Y.string()),blockHash:Y.string().nullable(),blockNumber:Y.string().nullable(),chainId:Y.string().or(Y.number()),from:Y.string(),gas:Y.string(),hash:Y.string(),input:Y.string().nullable(),maxFeePerGas:Y.string(),maxPriorityFeePerGas:Y.string(),nonce:Y.string(),r:Y.string(),s:Y.string(),to:Y.string(),transactionIndex:Y.string().nullable(),type:Y.string(),v:Y.string(),value:Y.string()});const QRe=Y.object({chainId:Y.string().or(Y.number())}),e$e=Y.object({email:Y.string().email()}),t$e=Y.object({otp:Y.string()}),r$e=Y.object({uri:Y.string(),preferredAccountType:Y.optional(Y.string())}),n$e=Y.object({chainId:Y.optional(Y.string().or(Y.number())),preferredAccountType:Y.optional(Y.string()),socialUri:Y.optional(Y.string())}),i$e=Y.object({provider:Y.enum(["google","github","apple","facebook","x","discord"])}),a$e=Y.object({email:Y.string().email()}),s$e=Y.object({otp:Y.string()}),o$e=Y.object({otp:Y.string()}),c$e=Y.object({themeMode:Y.optional(Y.enum(["light","dark"])),themeVariables:Y.optional(Y.record(Y.string(),Y.string().or(Y.number()))),w3mThemeVariables:Y.optional(Y.record(Y.string(),Y.string()))}),l$e=Y.object({metadata:Y.object({name:Y.string(),description:Y.string(),url:Y.string(),icons:Y.array(Y.string())}).optional(),sdkVersion:Y.string().optional(),sdkType:Y.string().optional(),projectId:Y.string()}),u$e=Y.object({type:Y.string()}),d$e=Y.object({action:Y.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),f$e=Y.object({url:Y.string()}),h$e=Y.object({userName:Y.string()}),p$e=Y.object({email:Y.string().optional().nullable(),address:Y.string(),chainId:Y.string().or(Y.number()),accounts:Y.array(Y.object({address:Y.string(),type:Y.enum([li.ACCOUNT_TYPES.EOA,li.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:Y.string().optional().nullable(),preferredAccountType:Y.optional(Y.string())}),g$e=Y.object({action:Y.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),m$e=Y.object({email:Y.string().email().optional().nullable(),address:Y.string(),chainId:Y.string().or(Y.number()),smartAccountDeployed:Y.optional(Y.boolean()),accounts:Y.array(Y.object({address:Y.string(),type:Y.enum([li.ACCOUNT_TYPES.EOA,li.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:Y.optional(Y.string())}),y$e=Y.object({uri:Y.string()}),v$e=Y.object({isConnected:Y.boolean()}),b$e=Y.object({chainId:Y.string().or(Y.number())}),w$e=Y.object({chainId:Y.string().or(Y.number())}),_$e=Y.object({newEmail:Y.string().email()}),x$e=Y.object({smartAccountEnabledNetworks:Y.array(Y.number())});Y.object({address:Y.string(),isDeployed:Y.boolean()});const E$e=Y.object({version:Y.string().optional()}),S$e=Y.object({type:Y.string(),address:Y.string()}),C$e=Y.any(),A$e=Y.object({method:Y.literal("eth_accounts")}),T$e=Y.object({method:Y.literal("eth_blockNumber")}),k$e=Y.object({method:Y.literal("eth_call"),params:Y.array(Y.any())}),P$e=Y.object({method:Y.literal("eth_chainId")}),O$e=Y.object({method:Y.literal("eth_estimateGas"),params:Y.array(Y.any())}),N$e=Y.object({method:Y.literal("eth_feeHistory"),params:Y.array(Y.any())}),I$e=Y.object({method:Y.literal("eth_gasPrice")}),R$e=Y.object({method:Y.literal("eth_getAccount"),params:Y.array(Y.any())}),$$e=Y.object({method:Y.literal("eth_getBalance"),params:Y.array(Y.any())}),j$e=Y.object({method:Y.literal("eth_getBlockByHash"),params:Y.array(Y.any())}),D$e=Y.object({method:Y.literal("eth_getBlockByNumber"),params:Y.array(Y.any())}),M$e=Y.object({method:Y.literal("eth_getBlockReceipts"),params:Y.array(Y.any())}),L$e=Y.object({method:Y.literal("eth_getBlockTransactionCountByHash"),params:Y.array(Y.any())}),U$e=Y.object({method:Y.literal("eth_getBlockTransactionCountByNumber"),params:Y.array(Y.any())}),B$e=Y.object({method:Y.literal("eth_getCode"),params:Y.array(Y.any())}),F$e=Y.object({method:Y.literal("eth_getFilterChanges"),params:Y.array(Y.any())}),q$e=Y.object({method:Y.literal("eth_getFilterLogs"),params:Y.array(Y.any())}),z$e=Y.object({method:Y.literal("eth_getLogs"),params:Y.array(Y.any())}),H$e=Y.object({method:Y.literal("eth_getProof"),params:Y.array(Y.any())}),W$e=Y.object({method:Y.literal("eth_getStorageAt"),params:Y.array(Y.any())}),V$e=Y.object({method:Y.literal("eth_getTransactionByBlockHashAndIndex"),params:Y.array(Y.any())}),G$e=Y.object({method:Y.literal("eth_getTransactionByBlockNumberAndIndex"),params:Y.array(Y.any())}),K$e=Y.object({method:Y.literal("eth_getTransactionByHash"),params:Y.array(Y.any())}),Y$e=Y.object({method:Y.literal("eth_getTransactionCount"),params:Y.array(Y.any())}),X$e=Y.object({method:Y.literal("eth_getTransactionReceipt"),params:Y.array(Y.any())}),J$e=Y.object({method:Y.literal("eth_getUncleCountByBlockHash"),params:Y.array(Y.any())}),Z$e=Y.object({method:Y.literal("eth_getUncleCountByBlockNumber"),params:Y.array(Y.any())}),Q$e=Y.object({method:Y.literal("eth_maxPriorityFeePerGas")}),eje=Y.object({method:Y.literal("eth_newBlockFilter")}),tje=Y.object({method:Y.literal("eth_newFilter"),params:Y.array(Y.any())}),rje=Y.object({method:Y.literal("eth_newPendingTransactionFilter")}),nje=Y.object({method:Y.literal("eth_sendRawTransaction"),params:Y.array(Y.any())}),ije=Y.object({method:Y.literal("eth_syncing"),params:Y.array(Y.any())}),aje=Y.object({method:Y.literal("eth_uninstallFilter"),params:Y.array(Y.any())}),NF=Y.object({method:Y.literal("personal_sign"),params:Y.array(Y.any())}),sje=Y.object({method:Y.literal("eth_signTypedData_v4"),params:Y.array(Y.any())}),oje=Y.object({method:Y.literal("eth_sendTransaction"),params:Y.array(Y.any())}),cje=Y.object({method:Y.literal("solana_signMessage"),params:Y.object({message:Y.string(),pubkey:Y.string()})}),lje=Y.object({method:Y.literal("solana_signTransaction"),params:Y.object({transaction:Y.string()})}),uje=Y.object({method:Y.literal("solana_signAllTransactions"),params:Y.object({transactions:Y.array(Y.string())})}),dje=Y.object({method:Y.literal("solana_signAndSendTransaction"),params:Y.object({transaction:Y.string(),options:Y.object({skipPreflight:Y.boolean().optional(),preflightCommitment:Y.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:Y.number().optional(),minContextSlot:Y.number().optional()}).optional()})}),fje=Y.object({method:Y.literal("wallet_sendCalls"),params:Y.array(Y.object({chainId:Y.string().or(Y.number()).optional(),from:Y.string().optional(),version:Y.string().optional(),capabilities:Y.any().optional(),calls:Y.array(Y.object({to:Y.string().startsWith("0x"),data:Y.string().startsWith("0x").optional(),value:Y.string().optional()}))}))}),hje=Y.object({method:Y.literal("wallet_getCallsStatus"),params:Y.array(Y.string())}),pje=Y.object({method:Y.literal("wallet_getCapabilities")}),gje=Y.object({method:Y.literal("wallet_grantPermissions"),params:Y.array(Y.any())}),mje=Y.object({method:Y.literal("wallet_revokePermissions"),params:Y.any()}),yje=Y.object({method:Y.literal("wallet_getAssets"),params:Y.any()}),IF=Y.object({token:Y.string()}),We=Y.object({id:Y.string().optional()}),Qm={appEvent:We.extend({type:He("APP_SWITCH_NETWORK"),payload:QRe}).or(We.extend({type:He("APP_CONNECT_EMAIL"),payload:e$e})).or(We.extend({type:He("APP_CONNECT_DEVICE")})).or(We.extend({type:He("APP_CONNECT_OTP"),payload:t$e})).or(We.extend({type:He("APP_CONNECT_SOCIAL"),payload:r$e})).or(We.extend({type:He("APP_GET_FARCASTER_URI")})).or(We.extend({type:He("APP_CONNECT_FARCASTER")})).or(We.extend({type:He("APP_GET_USER"),payload:Y.optional(n$e)})).or(We.extend({type:He("APP_GET_SOCIAL_REDIRECT_URI"),payload:i$e})).or(We.extend({type:He("APP_SIGN_OUT")})).or(We.extend({type:He("APP_IS_CONNECTED"),payload:Y.optional(IF)})).or(We.extend({type:He("APP_GET_CHAIN_ID")})).or(We.extend({type:He("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(We.extend({type:He("APP_INIT_SMART_ACCOUNT")})).or(We.extend({type:He("APP_SET_PREFERRED_ACCOUNT"),payload:u$e})).or(We.extend({type:He("APP_RPC_REQUEST"),payload:NF.or(yje).or(A$e).or(T$e).or(k$e).or(P$e).or(O$e).or(N$e).or(I$e).or(R$e).or($$e).or(j$e).or(D$e).or(M$e).or(L$e).or(U$e).or(B$e).or(F$e).or(q$e).or(z$e).or(H$e).or(W$e).or(V$e).or(G$e).or(K$e).or(Y$e).or(X$e).or(J$e).or(Z$e).or(Q$e).or(eje).or(tje).or(rje).or(nje).or(ije).or(aje).or(NF).or(sje).or(oje).or(cje).or(lje).or(uje).or(dje).or(hje).or(fje).or(pje).or(gje).or(mje)})).or(We.extend({type:He("APP_UPDATE_EMAIL"),payload:a$e})).or(We.extend({type:He("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:s$e})).or(We.extend({type:He("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:o$e})).or(We.extend({type:He("APP_SYNC_THEME"),payload:c$e})).or(We.extend({type:He("APP_SYNC_DAPP_DATA"),payload:l$e})).or(We.extend({type:He("APP_RELOAD")})),frameEvent:We.extend({type:He("FRAME_SWITCH_NETWORK_ERROR"),payload:tn}).or(We.extend({type:He("FRAME_SWITCH_NETWORK_SUCCESS"),payload:w$e})).or(We.extend({type:He("FRAME_CONNECT_EMAIL_SUCCESS"),payload:d$e})).or(We.extend({type:He("FRAME_CONNECT_EMAIL_ERROR"),payload:tn})).or(We.extend({type:He("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:f$e})).or(We.extend({type:He("FRAME_GET_FARCASTER_URI_ERROR"),payload:tn})).or(We.extend({type:He("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:h$e})).or(We.extend({type:He("FRAME_CONNECT_FARCASTER_ERROR"),payload:tn})).or(We.extend({type:He("FRAME_CONNECT_OTP_ERROR"),payload:tn})).or(We.extend({type:He("FRAME_CONNECT_OTP_SUCCESS")})).or(We.extend({type:He("FRAME_CONNECT_DEVICE_ERROR"),payload:tn})).or(We.extend({type:He("FRAME_CONNECT_DEVICE_SUCCESS")})).or(We.extend({type:He("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:p$e})).or(We.extend({type:He("FRAME_CONNECT_SOCIAL_ERROR"),payload:tn})).or(We.extend({type:He("FRAME_GET_USER_ERROR"),payload:tn})).or(We.extend({type:He("FRAME_GET_USER_SUCCESS"),payload:m$e})).or(We.extend({type:He("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:tn})).or(We.extend({type:He("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:y$e})).or(We.extend({type:He("FRAME_SIGN_OUT_ERROR"),payload:tn})).or(We.extend({type:He("FRAME_SIGN_OUT_SUCCESS")})).or(We.extend({type:He("FRAME_IS_CONNECTED_ERROR"),payload:tn})).or(We.extend({type:He("FRAME_IS_CONNECTED_SUCCESS"),payload:v$e})).or(We.extend({type:He("FRAME_GET_CHAIN_ID_ERROR"),payload:tn})).or(We.extend({type:He("FRAME_GET_CHAIN_ID_SUCCESS"),payload:b$e})).or(We.extend({type:He("FRAME_RPC_REQUEST_ERROR"),payload:tn})).or(We.extend({type:He("FRAME_RPC_REQUEST_SUCCESS"),payload:C$e})).or(We.extend({type:He("FRAME_SESSION_UPDATE"),payload:IF})).or(We.extend({type:He("FRAME_UPDATE_EMAIL_ERROR"),payload:tn})).or(We.extend({type:He("FRAME_UPDATE_EMAIL_SUCCESS"),payload:g$e})).or(We.extend({type:He("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:tn})).or(We.extend({type:He("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(We.extend({type:He("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:tn})).or(We.extend({type:He("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:_$e})).or(We.extend({type:He("FRAME_SYNC_THEME_ERROR"),payload:tn})).or(We.extend({type:He("FRAME_SYNC_THEME_SUCCESS")})).or(We.extend({type:He("FRAME_SYNC_DAPP_DATA_ERROR"),payload:tn})).or(We.extend({type:He("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(We.extend({type:He("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:x$e})).or(We.extend({type:He("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:tn})).or(We.extend({type:He("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:tn})).or(We.extend({type:He("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:S$e})).or(We.extend({type:He("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:tn})).or(We.extend({type:He("FRAME_READY"),payload:E$e})).or(We.extend({type:He("FRAME_RELOAD_ERROR"),payload:tn})).or(We.extend({type:He("FRAME_RELOAD_SUCCESS")}))};function ek(r,e={}){var n;return typeof(e==null?void 0:e.type)=="string"&&((n=e==null?void 0:e.type)==null?void 0:n.includes(r))}class vje{constructor({projectId:e,isAppClient:n=!1,chainId:i="eip155:1",enableLogger:a=!0}){if(this.iframe=null,this.iframeIsReady=!1,this.rpcUrl=Ne.BLOCKCHAIN_API_RPC_URL,this.initFrame=()=>{const s=document.getElementById("w3m-iframe");this.iframe&&!s&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(s,o,c)=>{function l({data:u}){if(!ek(Ye.FRAME_EVENT_KEY,u))return;const d=Qm.frameEvent.parse(u);d.id===s&&(o(d),window.removeEventListener("message",l))}Da.isClient&&(window.addEventListener("message",l),c.addEventListener("abort",()=>{window.removeEventListener("message",l)}))},onFrameEvent:s=>{Da.isClient&&window.addEventListener("message",({data:o})=>{if(!ek(Ye.FRAME_EVENT_KEY,o))return;const c=Qm.frameEvent.parse(o);s(c)})},onAppEvent:s=>{Da.isClient&&window.addEventListener("message",({data:o})=>{if(!ek(Ye.APP_EVENT_KEY,o))return;const c=Qm.appEvent.parse(o);s(c)})},postAppEvent:s=>{var o;if(Da.isClient){if(!((o=this.iframe)!=null&&o.contentWindow))throw new Error("W3mFrame: iframe is not set");Qm.appEvent.parse(s),this.iframe.contentWindow.postMessage(s,"*")}},postFrameEvent:s=>{if(Da.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");Qm.frameEvent.parse(s),parent.postMessage(s,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((s,o)=>{this.frameLoadPromiseResolver={resolve:s,reject:o}}),n&&(this.frameLoadPromise=new Promise((s,o)=>{this.frameLoadPromiseResolver={resolve:s,reject:o}}),Da.isClient)){const s=document.createElement("iframe");s.id="w3m-iframe",s.src=`${LIe}?projectId=${e}&chainId=${i}&version=${BIe}&enableLogger=${a}`,s.name="w3m-secure-iframe",s.style.position="fixed",s.style.zIndex="999999",s.style.display="none",s.style.border="none",s.style.animationDelay="0s, 50ms",s.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",s.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=s,this.iframe.onerror=()=>{var o;(o=this.frameLoadPromiseResolver)==null||o.reject("Unable to load email login dependency")},this.events.onFrameEvent(o=>{var c;o.type==="@w3m-frame/READY"&&(this.iframeIsReady=!0,(c=this.frameLoadPromiseResolver)==null||c.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(n=>({[n]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${n}&projectId=${this.projectId}`,chainId:n}}));return Object.assign({},...e)}}class bje{constructor(e){var s;const n=Ig({level:UIe}),{logger:i,chunkLoggerController:a}=CD({opts:n});this.logger=ki(i,this.constructor.name),this.chunkLoggerController=a,typeof window<"u"&&((s=this.chunkLoggerController)!=null&&s.downloadLogsBlobInBrowser)&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{var o;(o=this.chunkLoggerController)!=null&&o.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class wje{constructor({projectId:e,chainId:n,enableLogger:i=!0,onTimeout:a,abortController:s}){this.openRpcRequests=[],this.isInitialized=!1,i&&(this.w3mLogger=new bje(e)),this.abortController=s,this.w3mFrame=new vje({projectId:e,isAppClient:!0,chainId:n,enableLogger:i}),this.onTimeout=a,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(e=>{this.w3mFrame.events.onFrameEvent(n=>{n.type===Ye.FRAME_READY&&setTimeout(()=>{e()},500)})}),await this.initPromise,this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise){await this.initPromise;return}await this.createFrame()}}getLoginEmailUsed(){return!!ni.get(Ye.EMAIL_LOGIN_USED_KEY)}getEmail(){return ni.get(Ye.EMAIL)}getUsername(){return ni.get(Ye.SOCIAL_USERNAME)}async reload(){var e;try{await this.appEvent({type:Ye.APP_RELOAD})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error reloading iframe"),n}}async connectEmail(e){var n;try{Da.checkIfAllowedToTriggerEmail(),await this.init();const i=await this.appEvent({type:Ye.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),i}catch(i){throw(n=this.w3mLogger)==null||n.logger.error({error:i},"Error connecting email"),i}}async connectDevice(){var e;try{return this.appEvent({type:Ye.APP_CONNECT_DEVICE})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting device"),n}}async connectOtp(e){var n;try{return this.appEvent({type:Ye.APP_CONNECT_OTP,payload:e})}catch(i){throw(n=this.w3mLogger)==null||n.logger.error({error:i},"Error connecting otp"),i}}async isConnected(){var e;try{if(!this.getLoginEmailUsed())return{isConnected:!1};const n=await this.appEvent({type:Ye.APP_IS_CONNECTED});return n!=null&&n.isConnected||this.deleteAuthLoginCache(),n}catch(n){throw this.deleteAuthLoginCache(),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error checking connection"),n}}async getChainId(){var e;try{const n=await this.appEvent({type:Ye.APP_GET_CHAIN_ID});return this.setLastUsedChainId(n.chainId),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting chain id"),n}}async getSocialRedirectUri(e){var n;try{return await this.init(),this.appEvent({type:Ye.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(i){throw(n=this.w3mLogger)==null||n.logger.error({error:i},"Error getting social redirect uri"),i}}async updateEmail(e){var n;try{const i=await this.appEvent({type:Ye.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),i}catch(i){throw(n=this.w3mLogger)==null||n.logger.error({error:i},"Error updating email"),i}}async updateEmailPrimaryOtp(e){var n;try{return this.appEvent({type:Ye.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(i){throw(n=this.w3mLogger)==null||n.logger.error({error:i},"Error updating email primary otp"),i}}async updateEmailSecondaryOtp(e){var n;try{const i=await this.appEvent({type:Ye.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(i.newEmail),i}catch(i){throw(n=this.w3mLogger)==null||n.logger.error({error:i},"Error updating email secondary otp"),i}}async syncTheme(e){var n;try{return this.appEvent({type:Ye.APP_SYNC_THEME,payload:e})}catch(i){throw(n=this.w3mLogger)==null||n.logger.error({error:i},"Error syncing theme"),i}}async syncDappData(e){var n;try{return this.appEvent({type:Ye.APP_SYNC_DAPP_DATA,payload:e})}catch(i){throw(n=this.w3mLogger)==null||n.logger.error({error:i},"Error syncing dapp data"),i}}async getSmartAccountEnabledNetworks(){var e;try{const n=await this.appEvent({type:Ye.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(n.smartAccountEnabledNetworks),n}catch(n){throw this.persistSmartAccountEnabledNetworks([]),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting smart account enabled networks"),n}}async setPreferredAccount(e){var n;try{return this.appEvent({type:Ye.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(i){throw(n=this.w3mLogger)==null||n.logger.error({error:i},"Error setting preferred account"),i}}async connect(e){var n,i;if(e!=null&&e.socialUri)try{await this.init();const a=await this.appEvent({type:Ye.APP_CONNECT_SOCIAL,payload:{uri:e.socialUri,preferredAccountType:e.preferredAccountType}});return a.userName&&this.setSocialLoginSuccess(a.userName),this.setLoginSuccess(a.email),this.setLastUsedChainId(a.chainId),this.user=a,a}catch(a){throw(n=this.w3mLogger)==null||n.logger.error({error:a},"Error connecting social"),a}else try{const a=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1;e!=null&&e.preferredAccountType&&await this.setPreferredAccount(e.preferredAccountType);const s=await this.getUser({chainId:a,preferredAccountType:e==null?void 0:e.preferredAccountType});return this.setLoginSuccess(s.email),this.setLastUsedChainId(s.chainId),this.user=s,s}catch(a){throw(i=this.w3mLogger)==null||i.logger.error({error:a},"Error connecting"),a}}async getUser(e){var n;try{await this.init();const i=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,a=await this.appEvent({type:Ye.APP_GET_USER,payload:{...e,chainId:i}});return this.user=a,a}catch(i){throw(n=this.w3mLogger)==null||n.logger.error({error:i},"Error connecting"),i}}async connectSocial(e){var n;try{await this.init();const i=await this.appEvent({type:Ye.APP_CONNECT_SOCIAL,payload:{uri:e}});return i.userName&&this.setSocialLoginSuccess(i.userName),i}catch(i){throw(n=this.w3mLogger)==null||n.logger.error({error:i},"Error connecting social"),i}}async getFarcasterUri(){var e;try{return await this.init(),await this.appEvent({type:Ye.APP_GET_FARCASTER_URI})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting farcaster uri"),n}}async connectFarcaster(){var e;try{const n=await this.appEvent({type:Ye.APP_CONNECT_FARCASTER});return n.userName&&this.setSocialLoginSuccess(n.userName),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting farcaster"),n}}async switchNetwork(e){var n;try{const i=await this.appEvent({type:Ye.APP_SWITCH_NETWORK,payload:{chainId:e}});return this.setLastUsedChainId(i.chainId),i}catch(i){throw(n=this.w3mLogger)==null||n.logger.error({error:i},"Error switching network"),i}}async disconnect(){var e;try{return this.deleteAuthLoginCache(),await new Promise(async i=>{const a=setTimeout(()=>{i()},3e3);await this.appEvent({type:Ye.APP_SIGN_OUT}),clearTimeout(a),i()})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error disconnecting"),n}}async request(e){var n,i,a,s;try{if(li.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();(n=this.rpcRequestHandler)==null||n.call(this,e);const o=await this.appEvent({type:Ye.APP_RPC_REQUEST,payload:e});return(i=this.rpcSuccessHandler)==null||i.call(this,o,e),o}catch(o){throw(a=this.rpcErrorHandler)==null||a.call(this,o,e),(s=this.w3mLogger)==null||s.logger.error({error:o},"Error requesting"),o}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Ye.FRAME_IS_CONNECTED_SUCCESS&&n.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Ye.FRAME_IS_CONNECTED_ERROR&&e(),n.type===Ye.FRAME_IS_CONNECTED_SUCCESS&&!n.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Ye.FRAME_GET_USER_SUCCESS&&e(n.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Ye.FRAME_CONNECT_SOCIAL_SUCCESS&&e(n.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Ye.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(n.payload):n.type===Ye.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:li.ACCOUNT_TYPES.EOA})})}onGetSmartAccountEnabledNetworks(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Ye.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS?e(n.payload.smartAccountEnabledNetworks):n.type===Ye.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR&&e([])})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}rejectRpcRequests(){var e;try{this.openRpcRequests.forEach(({abortController:n,method:i})=>{li.SAFE_RPC_METHODS.includes(i)||n.abort()}),this.openRpcRequests=[]}catch(n){(e=this.w3mLogger)==null||e.logger.error({error:n},"Error aborting RPC request")}}async appEvent(e){let n,i;function a(l){return l.replace("@w3m-app/","")}const s=[Ye.APP_SYNC_DAPP_DATA,Ye.APP_SYNC_THEME,Ye.APP_SET_PREFERRED_ACCOUNT],o=a(e.type);return!this.w3mFrame.iframeIsReady&&!s.includes(e.type)&&(i=setTimeout(()=>{var l;(l=this.onTimeout)==null||l.call(this,"iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(i),[Ye.APP_CONNECT_EMAIL,Ye.APP_CONNECT_DEVICE,Ye.APP_CONNECT_OTP,Ye.APP_CONNECT_SOCIAL,Ye.APP_GET_SOCIAL_REDIRECT_URI].map(a).includes(o)&&(n=setTimeout(()=>{var l;(l=this.onTimeout)==null||l.call(this,"iframe_request_timeout"),this.abortController.abort()},3e4)),new Promise((l,u)=>{var m,y,v;const d=Math.random().toString(36).substring(7);(v=(m=this.w3mLogger)==null?void 0:(y=m.logger).info)==null||v.call(y,{event:e,id:d},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:d});const f=new AbortController;if(o==="RPC_REQUEST"){const b=e;this.openRpcRequests=[...this.openRpcRequests,{...b.payload,abortController:f}]}f.signal.addEventListener("abort",()=>{o==="RPC_REQUEST"?u(new Error("Request was aborted")):o!=="GET_FARCASTER_URI"&&u(new Error("Something went wrong"))});function p(b,w){var x,E,A;b.id===d&&((E=w==null?void 0:(x=w.logger).info)==null||E.call(x,{framEvent:b,id:d},"Received frame response"),b.type===`@w3m-frame/${o}_SUCCESS`?(n&&clearTimeout(n),i&&clearTimeout(i),"payload"in b&&l(b.payload),l(void 0)):b.type===`@w3m-frame/${o}_ERROR`&&(n&&clearTimeout(n),i&&clearTimeout(i),"payload"in b&&u(new Error(((A=b.payload)==null?void 0:A.message)||"An error occurred")),u(new Error("An error occurred"))))}this.w3mFrame.events.registerFrameEventHandler(d,b=>p(b,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){ni.set(Ye.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){ni.set(Ye.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&ni.set(Ye.EMAIL,e),ni.set(Ye.EMAIL_LOGIN_USED_KEY,"true"),ni.delete(Ye.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){ni.delete(Ye.EMAIL_LOGIN_USED_KEY),ni.delete(Ye.EMAIL),ni.delete(Ye.LAST_USED_CHAIN_KEY),ni.delete(Ye.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&ni.set(Ye.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=ni.get(Ye.LAST_USED_CHAIN_KEY)??void 0,n=Number(e);return isNaN(n)?e:n}persistSmartAccountEnabledNetworks(e){ni.set(Ye.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}}class Jd{constructor(){}static getInstance({projectId:e,chainId:n,enableLogger:i,onTimeout:a,abortController:s}){return Jd.instance||(Jd.instance=new wje({projectId:e,chainId:n,enableLogger:i,onTimeout:a,abortController:s})),Jd.instance}}var RF={};const _je={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof RF<"u"?RF.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},h$={filterOutDuplicatesByRDNS(r){const e=Se.state.enableEIP6963?Ve.state.connectors:[],n=Be.getRecentWallets(),i=e.map(c=>{var l;return(l=c.info)==null?void 0:l.rdns}).filter(Boolean),a=n.map(c=>c.rdns).filter(Boolean),s=i.concat(a);if(s.includes("io.metamask.mobile")&&ft.isMobile()){const c=s.indexOf("io.metamask.mobile");s[c]="io.metamask"}return r.filter(c=>!s.includes(String(c==null?void 0:c.rdns)))},filterOutDuplicatesByIds(r){const e=Ve.state.connectors.filter(c=>c.type==="ANNOUNCED"||c.type==="INJECTED"),n=Be.getRecentWallets(),i=e.map(c=>c.explorerId),a=n.map(c=>c.id),s=i.concat(a);return r.filter(c=>!s.includes(c==null?void 0:c.id))},filterOutDuplicateWallets(r){const e=this.filterOutDuplicatesByRDNS(r);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(r){const{connectors:e}=Ve.state,n=e.filter(s=>s.type==="ANNOUNCED").reduce((s,o)=>{var c;return(c=o.info)!=null&&c.rdns&&(s[o.info.rdns]=!0),s},{});return r.map(s=>({...s,installed:!!s.rdns&&!!n[s.rdns??""]})).sort((s,o)=>Number(o.installed)-Number(s.installed))},getConnectOrderMethod(r,e){var l;const n=(r==null?void 0:r.connectMethodsOrder)||((l=Se.state.features)==null?void 0:l.connectMethodsOrder),i=e||Ve.state.connectors;if(n)return n;const{injected:a,announced:s}=$_.getConnectorsByType(i,mt.state.recommended,mt.state.featured),o=a.filter($_.showConnector),c=s.filter($_.showConnector);return o.length||c.length?["wallet","email","social"]:_je.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(r){const e=!!r.rdns&&mt.state.excludedWallets.some(i=>i.rdns===r.rdns),n=!!r.name&&mt.state.excludedWallets.some(i=>US.isLowerCaseMatch(i.name,r.name));return e||n}},$_={getConnectorsByType(r,e,n){const{customWallets:i}=Se.state,a=Be.getRecentWallets(),s=h$.filterOutDuplicateWallets(e),o=h$.filterOutDuplicateWallets(n),c=r.filter(f=>f.type==="MULTI_CHAIN"),l=r.filter(f=>f.type==="ANNOUNCED"),u=r.filter(f=>f.type==="INJECTED"),d=r.filter(f=>f.type==="EXTERNAL");return{custom:i,recent:a,external:d,multiChain:c,announced:l,injected:u,recommended:s,featured:o}},showConnector(r){var a;const e=(a=r.info)==null?void 0:a.rdns,n=!!e&&mt.state.excludedWallets.some(s=>!!s.rdns&&s.rdns===e),i=!!r.name&&mt.state.excludedWallets.some(s=>US.isLowerCaseMatch(s.name,r.name));return!(r.type==="INJECTED"&&(r.name==="Browser Wallet"&&(!ft.isMobile()||ft.isMobile()&&!e&&!yt.checkInstalled())||n||i)||(r.type==="ANNOUNCED"||r.type==="EXTERNAL")&&(n||i))},getIsConnectedWithWC(){return Array.from(Z.state.chains.values()).some(n=>Ve.getConnectorId(n.namespace)===Ne.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:r,featured:e,custom:n,recent:i,announced:a,injected:s,multiChain:o,external:c,overriddenConnectors:l=(u=>(u=Se.state.features)==null?void 0:u.connectorTypeOrder)()??[]}){const d=$_.getIsConnectedWithWC(),m=[{type:"walletConnect",isEnabled:Se.state.enableWalletConnect&&!d},{type:"recent",isEnabled:i.length>0},{type:"injected",isEnabled:[...s,...a,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:c.length>0},{type:"recommended",isEnabled:r.length>0}].filter(w=>w.isEnabled),y=new Set(m.map(w=>w.type)),v=l.filter(w=>y.has(w)).map(w=>({type:w,isEnabled:!0})),b=m.filter(({type:w})=>!v.some(({type:E})=>E===w));return Array.from(new Set([...v,...b].map(({type:w})=>w)))}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const j_=globalThis,KD=j_.ShadowRoot&&(j_.ShadyCSS===void 0||j_.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,YD=Symbol(),$F=new WeakMap;let dee=class{constructor(e,n,i){if(this._$cssResult$=!0,i!==YD)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(KD&&e===void 0){const i=n!==void 0&&n.length===1;i&&(e=$F.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),i&&$F.set(n,e))}return e}toString(){return this.cssText}};const ns=r=>new dee(typeof r=="string"?r:r+"",void 0,YD),hp=(r,...e)=>{const n=r.length===1?r[0]:e.reduce((i,a,s)=>i+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(a)+r[s+1],r[0]);return new dee(n,r,YD)},xje=(r,e)=>{if(KD)r.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of e){const i=document.createElement("style"),a=j_.litNonce;a!==void 0&&i.setAttribute("nonce",a),i.textContent=n.cssText,r.appendChild(i)}},jF=KD?r=>r:r=>r instanceof CSSStyleSheet?(e=>{let n="";for(const i of e.cssRules)n+=i.cssText;return ns(n)})(r):r;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:Eje,defineProperty:Sje,getOwnPropertyDescriptor:Cje,getOwnPropertyNames:Aje,getOwnPropertySymbols:Tje,getPrototypeOf:kje}=Object,Ou=globalThis,DF=Ou.trustedTypes,Pje=DF?DF.emptyScript:"",tk=Ou.reactiveElementPolyfillSupport,Xy=(r,e)=>r,p$={toAttribute(r,e){switch(e){case Boolean:r=r?Pje:null;break;case Object:case Array:r=r==null?r:JSON.stringify(r)}return r},fromAttribute(r,e){let n=r;switch(e){case Boolean:n=r!==null;break;case Number:n=r===null?null:Number(r);break;case Object:case Array:try{n=JSON.parse(r)}catch{n=null}}return n}},fee=(r,e)=>!Eje(r,e),MF={attribute:!0,type:String,converter:p$,reflect:!1,useDefault:!1,hasChanged:fee};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Ou.litPropertyMetadata??(Ou.litPropertyMetadata=new WeakMap);let ep=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,n=MF){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(e,n),!n.noAccessor){const i=Symbol(),a=this.getPropertyDescriptor(e,i,n);a!==void 0&&Sje(this.prototype,e,a)}}static getPropertyDescriptor(e,n,i){const{get:a,set:s}=Cje(this.prototype,e)??{get(){return this[n]},set(o){this[n]=o}};return{get:a,set(o){const c=a==null?void 0:a.call(this);s==null||s.call(this,o),this.requestUpdate(e,c,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??MF}static _$Ei(){if(this.hasOwnProperty(Xy("elementProperties")))return;const e=kje(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(Xy("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Xy("properties"))){const n=this.properties,i=[...Aje(n),...Tje(n)];for(const a of i)this.createProperty(a,n[a])}const e=this[Symbol.metadata];if(e!==null){const n=litPropertyMetadata.get(e);if(n!==void 0)for(const[i,a]of n)this.elementProperties.set(i,a)}this._$Eh=new Map;for(const[n,i]of this.elementProperties){const a=this._$Eu(n,i);a!==void 0&&this._$Eh.set(a,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const i=new Set(e.flat(1/0).reverse());for(const a of i)n.unshift(jF(a))}else e!==void 0&&n.push(jF(e));return n}static _$Eu(e,n){const i=n.attribute;return i===!1?void 0:typeof i=="string"?i:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(n=>n(this))}addController(e){var n;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((n=e.hostConnected)==null||n.call(e))}removeController(e){var n;(n=this._$EO)==null||n.delete(e)}_$E_(){const e=new Map,n=this.constructor.elementProperties;for(const i of n.keys())this.hasOwnProperty(i)&&(e.set(i,this[i]),delete this[i]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return xje(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(n=>{var i;return(i=n.hostConnected)==null?void 0:i.call(n)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(n=>{var i;return(i=n.hostDisconnected)==null?void 0:i.call(n)})}attributeChangedCallback(e,n,i){this._$AK(e,i)}_$ET(e,n){var s;const i=this.constructor.elementProperties.get(e),a=this.constructor._$Eu(e,i);if(a!==void 0&&i.reflect===!0){const o=(((s=i.converter)==null?void 0:s.toAttribute)!==void 0?i.converter:p$).toAttribute(n,i.type);this._$Em=e,o==null?this.removeAttribute(a):this.setAttribute(a,o),this._$Em=null}}_$AK(e,n){var s,o;const i=this.constructor,a=i._$Eh.get(e);if(a!==void 0&&this._$Em!==a){const c=i.getPropertyOptions(a),l=typeof c.converter=="function"?{fromAttribute:c.converter}:((s=c.converter)==null?void 0:s.fromAttribute)!==void 0?c.converter:p$;this._$Em=a,this[a]=l.fromAttribute(n,c.type)??((o=this._$Ej)==null?void 0:o.get(a))??null,this._$Em=null}}requestUpdate(e,n,i){var a;if(e!==void 0){const s=this.constructor,o=this[e];if(i??(i=s.getPropertyOptions(e)),!((i.hasChanged??fee)(o,n)||i.useDefault&&i.reflect&&o===((a=this._$Ej)==null?void 0:a.get(e))&&!this.hasAttribute(s._$Eu(e,i))))return;this.C(e,n,i)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,n,{useDefault:i,reflect:a,wrapped:s},o){i&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,o??n??this[e]),s!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||i||(n=void 0),this._$AL.set(e,n)),a===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var i;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[s,o]of this._$Ep)this[s]=o;this._$Ep=void 0}const a=this.constructor.elementProperties;if(a.size>0)for(const[s,o]of a){const{wrapped:c}=o,l=this[s];c!==!0||this._$AL.has(s)||l===void 0||this.C(s,void 0,o,l)}}let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),(i=this._$EO)==null||i.forEach(a=>{var s;return(s=a.hostUpdate)==null?void 0:s.call(a)}),this.update(n)):this._$EM()}catch(a){throw e=!1,this._$EM(),a}e&&this._$AE(n)}willUpdate(e){}_$AE(e){var n;(n=this._$EO)==null||n.forEach(i=>{var a;return(a=i.hostUpdated)==null?void 0:a.call(i)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(n=>this._$ET(n,this[n]))),this._$EM()}updated(e){}firstUpdated(e){}};ep.elementStyles=[],ep.shadowRootOptions={mode:"open"},ep[Xy("elementProperties")]=new Map,ep[Xy("finalized")]=new Map,tk==null||tk({ReactiveElement:ep}),(Ou.reactiveElementVersions??(Ou.reactiveElementVersions=[])).push("2.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Jy=globalThis,Tx=Jy.trustedTypes,LF=Tx?Tx.createPolicy("lit-html",{createHTML:r=>r}):void 0,hee="$lit$",du=`lit$${Math.random().toFixed(9).slice(2)}$`,pee="?"+du,Oje=`<${pee}>`,xf=document,d0=()=>xf.createComment(""),f0=r=>r===null||typeof r!="object"&&typeof r!="function",XD=Array.isArray,Nje=r=>XD(r)||typeof(r==null?void 0:r[Symbol.iterator])=="function",rk=`[ 	
\f\r]`,ey=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,UF=/-->/g,BF=/>/g,md=RegExp(`>|${rk}(?:([^\\s"'>=/]+)(${rk}*=${rk}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),FF=/'/g,qF=/"/g,gee=/^(?:script|style|textarea|title)$/i,mee=r=>(e,...n)=>({_$litType$:r,strings:e,values:n}),Llt=mee(1),Ult=mee(2),Vp=Symbol.for("lit-noChange"),Gn=Symbol.for("lit-nothing"),zF=new WeakMap,Ld=xf.createTreeWalker(xf,129);function yee(r,e){if(!XD(r)||!r.hasOwnProperty("raw"))throw Error("invalid template strings array");return LF!==void 0?LF.createHTML(e):e}const Ije=(r,e)=>{const n=r.length-1,i=[];let a,s=e===2?"<svg>":e===3?"<math>":"",o=ey;for(let c=0;c<n;c++){const l=r[c];let u,d,f=-1,p=0;for(;p<l.length&&(o.lastIndex=p,d=o.exec(l),d!==null);)p=o.lastIndex,o===ey?d[1]==="!--"?o=UF:d[1]!==void 0?o=BF:d[2]!==void 0?(gee.test(d[2])&&(a=RegExp("</"+d[2],"g")),o=md):d[3]!==void 0&&(o=md):o===md?d[0]===">"?(o=a??ey,f=-1):d[1]===void 0?f=-2:(f=o.lastIndex-d[2].length,u=d[1],o=d[3]===void 0?md:d[3]==='"'?qF:FF):o===qF||o===FF?o=md:o===UF||o===BF?o=ey:(o=md,a=void 0);const m=o===md&&r[c+1].startsWith("/>")?" ":"";s+=o===ey?l+Oje:f>=0?(i.push(u),l.slice(0,f)+hee+l.slice(f)+du+m):l+du+(f===-2?c:m)}return[yee(r,s+(r[n]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),i]};let g$=class vee{constructor({strings:e,_$litType$:n},i){let a;this.parts=[];let s=0,o=0;const c=e.length-1,l=this.parts,[u,d]=Ije(e,n);if(this.el=vee.createElement(u,i),Ld.currentNode=this.el.content,n===2||n===3){const f=this.el.content.firstChild;f.replaceWith(...f.childNodes)}for(;(a=Ld.nextNode())!==null&&l.length<c;){if(a.nodeType===1){if(a.hasAttributes())for(const f of a.getAttributeNames())if(f.endsWith(hee)){const p=d[o++],m=a.getAttribute(f).split(du),y=/([.?@])?(.*)/.exec(p);l.push({type:1,index:s,name:y[2],strings:m,ctor:y[1]==="."?$je:y[1]==="?"?jje:y[1]==="@"?Dje:FS}),a.removeAttribute(f)}else f.startsWith(du)&&(l.push({type:6,index:s}),a.removeAttribute(f));if(gee.test(a.tagName)){const f=a.textContent.split(du),p=f.length-1;if(p>0){a.textContent=Tx?Tx.emptyScript:"";for(let m=0;m<p;m++)a.append(f[m],d0()),Ld.nextNode(),l.push({type:2,index:++s});a.append(f[p],d0())}}}else if(a.nodeType===8)if(a.data===pee)l.push({type:2,index:s});else{let f=-1;for(;(f=a.data.indexOf(du,f+1))!==-1;)l.push({type:7,index:s}),f+=du.length-1}s++}}static createElement(e,n){const i=xf.createElement("template");return i.innerHTML=e,i}};function Gp(r,e,n=r,i){var o,c;if(e===Vp)return e;let a=i!==void 0?(o=n._$Co)==null?void 0:o[i]:n._$Cl;const s=f0(e)?void 0:e._$litDirective$;return(a==null?void 0:a.constructor)!==s&&((c=a==null?void 0:a._$AO)==null||c.call(a,!1),s===void 0?a=void 0:(a=new s(r),a._$AT(r,n,i)),i!==void 0?(n._$Co??(n._$Co=[]))[i]=a:n._$Cl=a),a!==void 0&&(e=Gp(r,a._$AS(r,e.values),a,i)),e}let Rje=class{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:n},parts:i}=this._$AD,a=((e==null?void 0:e.creationScope)??xf).importNode(n,!0);Ld.currentNode=a;let s=Ld.nextNode(),o=0,c=0,l=i[0];for(;l!==void 0;){if(o===l.index){let u;l.type===2?u=new Pb(s,s.nextSibling,this,e):l.type===1?u=new l.ctor(s,l.name,l.strings,this,e):l.type===6&&(u=new Mje(s,this,e)),this._$AV.push(u),l=i[++c]}o!==(l==null?void 0:l.index)&&(s=Ld.nextNode(),o++)}return Ld.currentNode=xf,a}p(e){let n=0;for(const i of this._$AV)i!==void 0&&(i.strings!==void 0?(i._$AI(e,i,n),n+=i.strings.length-2):i._$AI(e[n])),n++}};class Pb{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,n,i,a){this.type=2,this._$AH=Gn,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=i,this.options=a,this._$Cv=(a==null?void 0:a.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=Gp(this,e,n),f0(e)?e===Gn||e==null||e===""?(this._$AH!==Gn&&this._$AR(),this._$AH=Gn):e!==this._$AH&&e!==Vp&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):Nje(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==Gn&&f0(this._$AH)?this._$AA.nextSibling.data=e:this.T(xf.createTextNode(e)),this._$AH=e}$(e){var s;const{values:n,_$litType$:i}=e,a=typeof i=="number"?this._$AC(e):(i.el===void 0&&(i.el=g$.createElement(yee(i.h,i.h[0]),this.options)),i);if(((s=this._$AH)==null?void 0:s._$AD)===a)this._$AH.p(n);else{const o=new Rje(a,this),c=o.u(this.options);o.p(n),this.T(c),this._$AH=o}}_$AC(e){let n=zF.get(e.strings);return n===void 0&&zF.set(e.strings,n=new g$(e)),n}k(e){XD(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let i,a=0;for(const s of e)a===n.length?n.push(i=new Pb(this.O(d0()),this.O(d0()),this,this.options)):i=n[a],i._$AI(s),a++;a<n.length&&(this._$AR(i&&i._$AB.nextSibling,a),n.length=a)}_$AR(e=this._$AA.nextSibling,n){var i;for((i=this._$AP)==null?void 0:i.call(this,!1,!0,n);e&&e!==this._$AB;){const a=e.nextSibling;e.remove(),e=a}}setConnected(e){var n;this._$AM===void 0&&(this._$Cv=e,(n=this._$AP)==null||n.call(this,e))}}let FS=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,n,i,a,s){this.type=1,this._$AH=Gn,this._$AN=void 0,this.element=e,this.name=n,this._$AM=a,this.options=s,i.length>2||i[0]!==""||i[1]!==""?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=Gn}_$AI(e,n=this,i,a){const s=this.strings;let o=!1;if(s===void 0)e=Gp(this,e,n,0),o=!f0(e)||e!==this._$AH&&e!==Vp,o&&(this._$AH=e);else{const c=e;let l,u;for(e=s[0],l=0;l<s.length-1;l++)u=Gp(this,c[i+l],n,l),u===Vp&&(u=this._$AH[l]),o||(o=!f0(u)||u!==this._$AH[l]),u===Gn?e=Gn:e!==Gn&&(e+=(u??"")+s[l+1]),this._$AH[l]=u}o&&!a&&this.j(e)}j(e){e===Gn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}};class $je extends FS{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Gn?void 0:e}}let jje=class extends FS{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==Gn)}},Dje=class extends FS{constructor(e,n,i,a,s){super(e,n,i,a,s),this.type=5}_$AI(e,n=this){if((e=Gp(this,e,n,0)??Gn)===Vp)return;const i=this._$AH,a=e===Gn&&i!==Gn||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,s=e!==Gn&&(i===Gn||a);a&&this.element.removeEventListener(this.name,this,i),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var n;typeof this._$AH=="function"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,e):this._$AH.handleEvent(e)}},Mje=class{constructor(e,n,i){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(e){Gp(this,e)}};const nk=Jy.litHtmlPolyfillSupport;nk==null||nk(g$,Pb),(Jy.litHtmlVersions??(Jy.litHtmlVersions=[])).push("3.3.0");const Lje=(r,e,n)=>{const i=(n==null?void 0:n.renderBefore)??e;let a=i._$litPart$;if(a===void 0){const s=(n==null?void 0:n.renderBefore)??null;i._$litPart$=a=new Pb(e.insertBefore(d0(),s),s,void 0,n??{})}return a._$AI(r),a};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Zd=globalThis;let D_=class extends ep{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n;const e=super.createRenderRoot();return(n=this.renderOptions).renderBefore??(n.renderBefore=e.firstChild),e}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=Lje(n,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return Vp}};var gY;D_._$litElement$=!0,D_.finalized=!0,(gY=Zd.litElementHydrateSupport)==null||gY.call(Zd,{LitElement:D_});const ik=Zd.litElementPolyfillSupport;ik==null||ik({LitElement:D_});(Zd.litElementVersions??(Zd.litElementVersions=[])).push("4.2.0");let Zy,Nu,Iu;function Vlt(r,e){Zy=document.createElement("style"),Nu=document.createElement("style"),Iu=document.createElement("style"),Zy.textContent=pp(r).core.cssText,Nu.textContent=pp(r).dark.cssText,Iu.textContent=pp(r).light.cssText,document.head.appendChild(Zy),document.head.appendChild(Nu),document.head.appendChild(Iu),bee(e)}function bee(r){Nu&&Iu&&(r==="light"?(Nu.removeAttribute("media"),Iu.media="enabled"):(Iu.removeAttribute("media"),Nu.media="enabled"))}function Uje(r){Zy&&Nu&&Iu&&(Zy.textContent=pp(r).core.cssText,Nu.textContent=pp(r).dark.cssText,Iu.textContent=pp(r).light.cssText)}function pp(r){return{core:hp`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${ns(r!=null&&r["--w3m-color-mix-strength"]?`${r["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${ns((r==null?void 0:r["--w3m-font-family"])||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${ns((r==null?void 0:r["--w3m-font-size-master"])||"10px")};
        --w3m-border-radius-master: ${ns((r==null?void 0:r["--w3m-border-radius-master"])||"4px")};
        --w3m-z-index: ${ns((r==null?void 0:r["--w3m-z-index"])||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:hp`
      :root {
        --w3m-color-mix: ${ns((r==null?void 0:r["--w3m-color-mix"])||"#fff")};
        --w3m-accent: ${ns(zc(r,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${ns(zc(r,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:hp`
      :root {
        --w3m-color-mix: ${ns((r==null?void 0:r["--w3m-color-mix"])||"#000")};
        --w3m-accent: ${ns(zc(r,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${ns(zc(r,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const Glt=hp`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,Klt=hp`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,Ylt=hp`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,Py={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]};function Ob(r){return{formatters:void 0,fees:void 0,serializers:void 0,...r}}const HF=Ob({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),WF=Ob({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});Ob({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});Ob({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});Ob({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const Bje={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},Qy={getMethodsByChainNamespace(r){return Bje[r]||[]},createDefaultNamespace(r){return{methods:this.getMethodsByChainNamespace(r),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(r,e){if(!e)return{...r};const n={...r},i=new Set;if(e.methods&&Object.keys(e.methods).forEach(a=>i.add(a)),e.chains&&Object.keys(e.chains).forEach(a=>i.add(a)),e.events&&Object.keys(e.events).forEach(a=>i.add(a)),e.rpcMap&&Object.keys(e.rpcMap).forEach(a=>{const[s]=a.split(":");s&&i.add(s)}),i.forEach(a=>{n[a]||(n[a]=this.createDefaultNamespace(a))}),e.methods&&Object.entries(e.methods).forEach(([a,s])=>{n[a]&&(n[a].methods=s)}),e.chains&&Object.entries(e.chains).forEach(([a,s])=>{n[a]&&(n[a].chains=s)}),e.events&&Object.entries(e.events).forEach(([a,s])=>{n[a]&&(n[a].events=s)}),e.rpcMap){const a=new Set;Object.entries(e.rpcMap).forEach(([s,o])=>{const[c,l]=s.split(":");!c||!l||!n[c]||(n[c].rpcMap||(n[c].rpcMap={}),a.has(c)||(n[c].rpcMap={},a.add(c)),n[c].rpcMap[l]=o)})}return n},createNamespaces(r,e){const n=r.reduce((i,a)=>{const{id:s,chainNamespace:o,rpcUrls:c}=a,l=c.default.http[0];i[o]||(i[o]=this.createDefaultNamespace(o));const u=`${o}:${s}`,d=i[o];switch(d.chains.push(u),u){case HF.caipNetworkId:d.chains.push(HF.deprecatedCaipNetworkId);break;case WF.caipNetworkId:d.chains.push(WF.deprecatedCaipNetworkId);break}return d!=null&&d.rpcMap&&l&&(d.rpcMap[s]=l),i},{});return this.applyNamespaceOverrides(n,e)},resolveReownName:async r=>{var i;const e=await Yy.resolveName(r);return((i=(Object.values(e==null?void 0:e.addresses)||[])[0])==null?void 0:i.address)||!1},getChainsFromNamespaces(r={}){return Object.values(r).flatMap(e=>{const n=e.chains||[],i=e.accounts.map(a=>{const[s,o]=a.split(":");return`${s}:${o}`});return Array.from(new Set([...n,...i]))})},isSessionEventData(r){return typeof r=="object"&&r!==null&&"id"in r&&"topic"in r&&"params"in r&&typeof r.params=="object"&&r.params!==null&&"chainId"in r.params&&"event"in r.params&&typeof r.params.event=="object"&&r.params.event!==null},isOriginAllowed(r,e,n){for(const i of[...e,...n])if(i.includes("*")){const s=`^${i.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(s,"u").test(r))return!0}else if(i===r)return!0;return!1}};class JD{constructor({provider:e,namespace:n}){this.id=Ne.CONNECTOR_ID.WALLET_CONNECT,this.name=Su.ConnectorNamesMap[Ne.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=Su.ConnectorImageIds[Ne.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=Z.getCaipNetworks.bind(Z),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),i=Se.state.universalProviderConfigOverride,a=Qy.createNamespaces(n,i);await this.provider.connect({optionalNamespaces:a})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(n=>n.caipNetworkId);return Ky.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:Fje})}}const Fje=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];class wee{constructor(e){this.availableConnectors=[],this.eventListeners=new Map,this.getCaipNetworks=n=>Z.getCaipNetworks(n),e&&this.construct(e)}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get networks(){return this.getCaipNetworks(this.namespace)}setAuthProvider(e){this.addConnector({id:Ne.CONNECTOR_ID.AUTH,type:"AUTH",name:Ne.CONNECTOR_NAMES.AUTH,provider:e,imageId:Su.ConnectorImageIds[Ne.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const n=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(i=>n.has(i.id)?!1:(n.add(i.id),!0)),this.emit("connectors",this.availableConnectors)}setStatus(e,n){Je.setStatus(e,n)}on(e,n){var i;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),(i=this.eventListeners.get(e))==null||i.add(n)}off(e,n){const i=this.eventListeners.get(e);i&&i.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,n){const i=this.eventListeners.get(e);i&&i.forEach(a=>a(n))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){var s;const{caipNetwork:n,providerType:i}=e;if(!e.provider)return;const a="provider"in e.provider?e.provider.provider:e.provider;if(i==="WALLET_CONNECT"){a.setDefaultChain(n.caipNetworkId);return}if(a&&i==="AUTH"){const o=a,c=(s=Je.state.preferredAccountTypes)==null?void 0:s[n.chainNamespace];await o.switchNetwork(n.caipNetworkId);const l=await o.getUser({chainId:n.caipNetworkId,preferredAccountType:c});this.emit("switchNetwork",l)}}getWalletConnectConnector(){const e=this.connectors.find(n=>n instanceof JD);if(!e)throw new Error("WalletConnectConnector not found");return e}}class qje extends wee{setUniversalProvider(e){this.addConnector(new JD({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace}))}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect()}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}}async getAccounts({namespace:e}){var a,s,o,c;const n=this.provider,i=((c=(o=(s=(a=n==null?void 0:n.session)==null?void 0:a.namespaces)==null?void 0:s[e])==null?void 0:o.accounts)==null?void 0:c.map(l=>{const[,,u]=l.split(":");return u}).filter((l,u,d)=>d.indexOf(l)===u))||[];return Promise.resolve({accounts:i.map(l=>ft.createAccount(e,l,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var s,o,c,l,u;if(!(e.caipNetwork&&_n.BALANCE_SUPPORTED_CHAINS.includes((s=e.caipNetwork)==null?void 0:s.chainNamespace))||(o=e.caipNetwork)!=null&&o.testnet)return{balance:"0.00",symbol:((c=e.caipNetwork)==null?void 0:c.nativeCurrency.symbol)||""};if(Je.state.balanceLoading&&e.chainId===((l=Z.state.activeCaipNetwork)==null?void 0:l.id))return{balance:Je.state.balance||"0.00",symbol:Je.state.balanceSymbol||""};const a=(await Je.fetchTokenBalance()).find(d=>{var f,p;return d.chainId===`${(f=e.caipNetwork)==null?void 0:f.chainNamespace}:${e.chainId}`&&d.symbol===((p=e.caipNetwork)==null?void 0:p.nativeCurrency.symbol)});return{balance:(a==null?void 0:a.quantity.numeric)||"0.00",symbol:(a==null?void 0:a.symbol)||((u=e.caipNetwork)==null?void 0:u.nativeCurrency.symbol)||""}}async signMessage(e){var o,c,l;const{provider:n,message:i,address:a}=e;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let s="";return((o=Z.state.activeCaipNetwork)==null?void 0:o.chainNamespace)===Ne.CHAIN.SOLANA?s=(await n.request({method:"solana_signMessage",params:{message:kZ.encode(new TextEncoder().encode(i)),pubkey:a}},(c=Z.state.activeCaipNetwork)==null?void 0:c.caipNetworkId)).signature:s=await n.request({method:"personal_sign",params:[i,a]},(l=Z.state.activeCaipNetwork)==null?void 0:l.caipNetworkId),{signature:s}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){var a,s,o,c,l,u;const{caipNetwork:n}=e,i=this.getWalletConnectConnector();if(n.chainNamespace===Ne.CHAIN.EVM)try{await((a=i.provider)==null?void 0:a.request({method:"wallet_switchEthereumChain",params:[{chainId:Np(n.id)}]}))}catch(d){if(d.code===Py.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||d.code===Py.ERROR_INVALID_CHAIN_ID||d.code===Py.ERROR_CODE_DEFAULT||((o=(s=d==null?void 0:d.data)==null?void 0:s.originalError)==null?void 0:o.code)===Py.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await((u=i.provider)==null?void 0:u.request({method:"wallet_addEthereumChain",params:[{chainId:Np(n.id),rpcUrls:[(c=n==null?void 0:n.rpcUrls.chainDefault)==null?void 0:c.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[(l=n.blockExplorers)==null?void 0:l.default.url]}]}))}catch{throw new Error("Chain is not supported")}}i.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){const e=this.connectors.find(i=>i.type==="WALLET_CONNECT");return e==null?void 0:e.provider}}class zje{constructor(e){this.chainNamespaces=[],this.reportedAlertErrors={},this.getCaipNetwork=(n,i)=>{var a,s,o,c;if(n){const l=(s=(a=Z.getNetworkData(n))==null?void 0:a.requestedCaipNetworks)==null?void 0:s.find(f=>f.id===i);if(l)return l;const u=(o=Z.getNetworkData(n))==null?void 0:o.caipNetwork;return u||((c=Z.getRequestedCaipNetworks(n).filter(f=>f.chainNamespace===n))==null?void 0:c[0])}return Z.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>Z.getCaipNetworks(n),this.getActiveChainNamespace=()=>Z.state.activeChain,this.setRequestedCaipNetworks=(n,i)=>{Z.setRequestedCaipNetworks(n,i)},this.getApprovedCaipNetworkIds=()=>Z.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>Z.state.activeChain===n||!n?Z.state.activeCaipAddress:Z.getAccountProp("caipAddress",n),this.setClientId=n=>{bt.setClientId(n)},this.getProvider=n=>mr.getProvider(n),this.getProviderType=n=>mr.getProviderId(n),this.getPreferredAccountType=n=>{var i;return(i=Je.state.preferredAccountTypes)==null?void 0:i[n]},this.setCaipAddress=(n,i)=>{Je.setCaipAddress(n,i)},this.setBalance=(n,i,a)=>{Je.setBalance(n,i,a)},this.setProfileName=(n,i)=>{Je.setProfileName(n,i)},this.setProfileImage=(n,i)=>{Je.setProfileImage(n,i)},this.setUser=(n,i)=>{Je.setUser(n,i),Se.state.enableEmbedded&&pn.close()},this.resetAccount=n=>{Je.resetAccount(n)},this.setCaipNetwork=n=>{Z.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,i)=>{Z.setChainNetworkData(i,{caipNetwork:n})},this.setAllAccounts=(n,i)=>{Je.setAllAccounts(n,i),Se.setHasMultipleAddresses((n==null?void 0:n.length)>1)},this.setStatus=(n,i)=>{Je.setStatus(n,i),Ve.isConnected()?Be.setConnectionStatus("connected"):Be.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>Z.getAccountProp("address",n),this.setConnectors=n=>{const i=[...Ve.state.allConnectors,...n];Ve.setConnectors(i)},this.setConnections=(n,i)=>{yt.setConnections(n,i)},this.fetchIdentity=n=>bt.fetchIdentity(n),this.getReownName=n=>Yy.getNamesForAddress(n),this.getConnectors=()=>Ve.getConnectors(),this.getConnectorImage=n=>RJ.getConnectorImage(n),this.setConnectedWalletInfo=(n,i)=>{const a=mr.getProviderId(i),s=n?{...n,type:a}:void 0;Je.setConnectedWalletInfo(s,i)},this.getIsConnectedState=()=>!!Z.state.activeCaipAddress,this.addAddressLabel=(n,i,a)=>{Je.addAddressLabel(n,i,a)},this.removeAddressLabel=(n,i)=>{Je.removeAddressLabel(n,i)},this.getAddress=n=>Z.state.activeChain===n||!n?Je.state.address:Z.getAccountProp("address",n),this.setApprovedCaipNetworksData=n=>Z.setApprovedCaipNetworksData(n),this.resetNetwork=n=>{Z.resetNetwork(n)},this.addConnector=n=>{Ve.addConnector(n)},this.resetWcConnection=()=>{yt.resetWcConnection()},this.setAddressExplorerUrl=(n,i)=>{Je.setAddressExplorerUrl(n,i)},this.setSmartAccountDeployed=(n,i)=>{Je.setSmartAccountDeployed(n,i)},this.setSmartAccountEnabledNetworks=(n,i)=>{Z.setSmartAccountEnabledNetworks(n,i)},this.setPreferredAccountType=(n,i)=>{Je.setPreferredAccountType(n,i)},this.setEIP6963Enabled=n=>{Se.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.initialize(e)}getChainNamespacesSet(e,n){const i=e==null?void 0:e.map(s=>s.namespace).filter(s=>!!s);if(i!=null&&i.length)return[...new Set(i)];const a=n==null?void 0:n.map(s=>s.chainNamespace);return[...new Set(a)]}async initialize(e){var n,i,a;this.initControllers(e),await this.initChainAdapters(),await this.injectModalUi(),this.sendInitializeEvent(e),Ho.set({initialized:!0}),await this.syncExistingConnection(),((n=Se.state.features)!=null&&n.email||Array.isArray((i=Se.state.features)==null?void 0:i.socials)&&((a=Se.state.features)==null?void 0:a.socials.length)>0)&&await this.checkAllowedOrigins()}async checkAllowedOrigins(){const e=await mt.fetchAllowedOrigins();if(e&&ft.isClient()){const n=window.location.origin;Qy.isOriginAllowed(n,e,Py.DEFAULT_ALLOWED_ANCESTORS)||Di.open(Wn.ALERT_ERRORS.INVALID_APP_CONFIGURATION,"error")}else Di.open(Wn.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error")}sendInitializeEvent(e){var i;const{...n}=e;delete n.adapters,delete n.universalProvider,Lr.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:e.networks.map(a=>a.id),siweConfig:{options:((i=e.siweConfig)==null?void 0:i.options)||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&sa.setThemeMode(e.themeMode),e.themeVariables&&sa.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");Z.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const n=this.getDefaultNetwork();n&&Z.setActiveCaipNetwork(n)}initializeConnectionController(e){yt.setWcBasic(e.basic??!1)}initializeConnectorController(){Ve.initialize(this.chainNamespaces)}initializeOptionsController(e){var o;Se.setDebug(e.debug!==!1),Se.setEnableWalletConnect(e.enableWalletConnect!==!1),Se.setEnableWalletGuide(e.enableWalletGuide!==!1),Se.setEnableWallets(e.enableWallets!==!1),Se.setEIP6963Enabled(e.enableEIP6963!==!1),Se.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),Se.setEnableAuthLogger(e.enableAuthLogger!==!1),Se.setCustomRpcUrls(e.customRpcUrls),Se.setSdkVersion(e.sdkVersion),Se.setProjectId(e.projectId),Se.setEnableEmbedded(e.enableEmbedded),Se.setAllWallets(e.allWallets),Se.setIncludeWalletIds(e.includeWalletIds),Se.setExcludeWalletIds(e.excludeWalletIds),Se.setFeaturedWalletIds(e.featuredWalletIds),Se.setTokens(e.tokens),Se.setTermsConditionsUrl(e.termsConditionsUrl),Se.setPrivacyPolicyUrl(e.privacyPolicyUrl),Se.setCustomWallets(e.customWallets),Se.setFeatures(e.features),Se.setAllowUnsupportedChain(e.allowUnsupportedChain),Se.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),Se.setPreferUniversalLinks(e.experimental_preferUniversalLinks),Se.setDefaultAccountTypes(e.defaultAccountTypes);const n=Be.getPreferredAccountTypes()||{},i={...Se.state.defaultAccountTypes,...n};Je.setPreferredAccountTypes(i);const a=this.getDefaultMetaData();if(!e.metadata&&a&&(e.metadata=a),Se.setMetadata(e.metadata),Se.setDisableAppend(e.disableAppend),Se.setEnableEmbedded(e.enableEmbedded),Se.setSIWX(e.siwx),!e.projectId){Di.open(Wn.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(((o=e.adapters)==null?void 0:o.find(c=>c.namespace===Ne.CHAIN.EVM))&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");Se.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){var e,n,i,a;return typeof window<"u"&&typeof document<"u"?{name:((n=(e=document.getElementsByTagName("title"))==null?void 0:e[0])==null?void 0:n.textContent)||"",description:((i=document.querySelector('meta[property="og:description"]'))==null?void 0:i.content)||"",url:window.location.origin,icons:[((a=document.querySelector('link[rel~="icon"]'))==null?void 0:a.href)||""]}:null}setUnsupportedNetwork(e){const n=this.getActiveChainNamespace();if(n){const i=Lo.getUnsupportedNetwork(`${n}:${e}`);Z.setActiveCaipNetwork(i)}}getDefaultNetwork(){return Lo.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,n){return Lo.extendCaipNetwork(e,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(e){return Lo.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const n=e.networks.find(a=>{var s;return a.id===((s=e.defaultNetwork)==null?void 0:s.id)});return n?Lo.extendCaipNetwork(n,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var s;const e=Z.state.activeChain,n=this.getAdapter(e),i=(s=this.getCaipNetwork(e))==null?void 0:s.id;if(!n)throw new Error("Adapter not found");const a=await n.connectWalletConnect(i);this.close(),this.setClientId((a==null?void 0:a.clientId)||null),Be.setConnectedNamespaces([...Z.state.chains.keys()]),this.chainNamespaces.forEach(o=>{Ve.setConnectorId(Dr.CONNECTOR_TYPE_WALLET_CONNECT,o)}),await this.syncWalletConnectAccount()},connectExternal:async({id:e,info:n,type:i,provider:a,chain:s,caipNetwork:o,socialUri:c})=>{var v,b,w,x,E,A;const l=Z.state.activeChain,u=s||l,d=this.getAdapter(u);if(s&&s!==l&&!o){const S=this.getCaipNetworks().find(C=>C.chainNamespace===s);S&&this.setCaipNetwork(S)}if(!d)throw new Error("Adapter not found");const f=this.getCaipNetwork(u),p=await d.connect({id:e,info:n,type:i,provider:a,socialUri:c,chainId:(o==null?void 0:o.id)||(f==null?void 0:f.id),rpcUrl:((w=(b=(v=o==null?void 0:o.rpcUrls)==null?void 0:v.default)==null?void 0:b.http)==null?void 0:w[0])||((A=(E=(x=f==null?void 0:f.rpcUrls)==null?void 0:x.default)==null?void 0:E.http)==null?void 0:A[0])});if(!p)return;Be.addConnectedNamespace(u),this.syncProvider({...p,chainNamespace:u});const m=Je.state.allAccounts,{accounts:y}=(m==null?void 0:m.length)>0?{accounts:[...m]}:await d.getAccounts({namespace:u,id:e});this.setAllAccounts(y,u),this.setStatus("connected",u),this.syncConnectedWalletInfo(u)},reconnectExternal:async({id:e,info:n,type:i,provider:a})=>{var c;const s=Z.state.activeChain,o=this.getAdapter(s);o!=null&&o.reconnect&&(await(o==null?void 0:o.reconnect({id:e,info:n,type:i,provider:a,chainId:(c=this.getCaipNetwork())==null?void 0:c.id})),Be.addConnectedNamespace(s),this.syncConnectedWalletInfo(s))},disconnect:async e=>{const n=e||Z.state.activeChain,i=this.getAdapter(n),a=mr.getProvider(n),s=mr.getProviderId(n);await(i==null?void 0:i.disconnect({provider:a,providerType:s})),Be.removeConnectedNamespace(n),mr.resetChain(n),this.setUser(void 0,n),this.setStatus("disconnected",n),this.setConnectedWalletInfo(void 0,n)},checkInstalled:e=>e?e.some(n=>{var i;return!!((i=window.ethereum)!=null&&i[String(n)])}):!!window.ethereum,signMessage:async e=>{const n=this.getAdapter(Z.state.activeChain),i=await(n==null?void 0:n.signMessage({message:e,address:Je.state.address,provider:mr.getProvider(Z.state.activeChain)}));return(i==null?void 0:i.signature)||""},sendTransaction:async e=>{const n=e.chainNamespace;if(_n.SEND_SUPPORTED_NAMESPACES.includes(n)){const i=this.getAdapter(Z.state.activeChain),a=mr.getProvider(n),s=await(i==null?void 0:i.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:a}));return(s==null?void 0:s.hash)||""}return""},estimateGas:async e=>{if(e.chainNamespace===Ne.CHAIN.EVM){const n=this.getAdapter(Z.state.activeChain),i=mr.getProvider(Z.state.activeChain),a=this.getCaipNetwork();if(!a)throw new Error("CaipNetwork is undefined");const s=await(n==null?void 0:n.estimateGas({...e,provider:i,caipNetwork:a}));return(s==null?void 0:s.gas)||0n}return 0n},getEnsAvatar:async()=>{var e;return await this.syncIdentity({address:Je.state.address,chainId:Number((e=this.getCaipNetwork())==null?void 0:e.id),chainNamespace:Z.state.activeChain}),Je.state.profileImage||!1},getEnsAddress:async e=>await Qy.resolveReownName(e),writeContract:async e=>{const n=this.getAdapter(Z.state.activeChain),i=this.getCaipNetwork(),a=this.getCaipAddress(),s=mr.getProvider(Z.state.activeChain);if(!i||!a)throw new Error("CaipNetwork or CaipAddress is undefined");const o=await(n==null?void 0:n.writeContract({...e,caipNetwork:i,provider:s,caipAddress:a}));return o==null?void 0:o.hash},parseUnits:(e,n)=>{const i=this.getAdapter(Z.state.activeChain);return(i==null?void 0:i.parseUnits({value:e,decimals:n}))??0n},formatUnits:(e,n)=>{const i=this.getAdapter(Z.state.activeChain);return(i==null?void 0:i.formatUnits({value:e,decimals:n}))??"0"},getCapabilities:async e=>{const n=this.getAdapter(Z.state.activeChain);return await(n==null?void 0:n.getCapabilities(e))},grantPermissions:async e=>{const n=this.getAdapter(Z.state.activeChain);return await(n==null?void 0:n.grantPermissions(e))},revokePermissions:async e=>{const n=this.getAdapter(Z.state.activeChain);return n!=null&&n.revokePermissions?await n.revokePermissions(e):"0x"},walletGetAssets:async e=>{const n=this.getAdapter(Z.state.activeChain);return await(n==null?void 0:n.walletGetAssets(e))??{}},updateBalance:e=>{const n=this.getCaipNetwork(e);!n||!Je.state.address||this.updateNativeBalance(Je.state.address,n==null?void 0:n.id,e)}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},yt.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){var n,i,a,s,o;if(mr.getProviderId(Z.state.activeChain)===Dr.CONNECTOR_TYPE_WALLET_CONNECT){const c=(i=(n=this.universalProvider)==null?void 0:n.session)==null?void 0:i.namespaces;return{supportsAllNetworks:((o=(s=(a=this.universalProvider)==null?void 0:a.session)==null?void 0:s.peer)==null?void 0:o.metadata.name)==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(c)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const n=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const a=mr.getProvider(n),s=mr.getProviderId(n);if(e.chainNamespace===Z.state.activeChain){const o=this.getAdapter(n);await(o==null?void 0:o.switchNetwork({caipNetwork:e,provider:a,providerType:s}))}else if(this.setCaipNetwork(e),s===Dr.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(n);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:n})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(n=>{const i=n.chains||[],a=n.accounts.map(s=>{const{chainId:o,chainNamespace:c}=Hl.parseCaipAddress(s);return`${c}:${o}`});return Array.from(new Set([...i,...a]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((n,i)=>{var s;const a=e==null?void 0:e.find(o=>o.namespace===i);return a?(a.construct({namespace:i,projectId:(s=this.options)==null?void 0:s.projectId,networks:this.getCaipNetworks()}),n[i]=a):n[i]=new qje({namespace:i,networks:this.getCaipNetworks()}),n},{})}async initChainAdapter(e){var n;this.onConnectors(e),this.listenAdapter(e),(n=this.chainAdapters)==null||n[e].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){const n=this.getAdapter(e);n==null||n.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const n=this.getAdapter(e);if(!n)return;const i=Be.getConnectionStatus();i==="connected"?this.setStatus("connecting",e):i==="disconnected"?(Be.clearAddressCache(),this.setStatus(i,e)):this.setStatus(i,e),n.on("switchNetwork",({address:a,chainId:s})=>{const o=this.getCaipNetworks().find(u=>u.id===s||u.caipNetworkId===s),c=Z.state.activeChain===e,l=Z.getAccountProp("address",e);if(o){const u=c&&a?a:l;u&&this.syncAccount({address:u,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(s)}),n.on("disconnect",this.disconnect.bind(this,e)),n.on("connections",a=>{this.setConnections(a,e)}),n.on("pendingTransactions",()=>{const a=Je.state.address,s=Z.state.activeCaipNetwork;!a||!(s!=null&&s.id)||this.updateNativeBalance(a,s.id,s.chainNamespace)}),n.on("accountChanged",({address:a,chainId:s})=>{var c,l;const o=Z.state.activeChain===e;o&&s?this.syncAccount({address:a,chainId:s,chainNamespace:e}):o&&((c=Z.state.activeCaipNetwork)!=null&&c.id)?this.syncAccount({address:a,chainId:(l=Z.state.activeCaipNetwork)==null?void 0:l.id,chainNamespace:e}):this.syncAccountInfo(a,s,e),this.syncAllAccounts(e)})}async createUniversalProviderForAdapter(e){var n,i,a;await this.getUniversalProvider(),this.universalProvider&&((a=(i=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:i.setUniversalProvider)==null||a.call(i,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async syncNamespaceConnection(e){try{const n=Ve.getConnectorId(e);switch(this.setStatus("connecting",e),n){case Ne.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case Ne.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(n){console.warn("AppKit couldn't sync existing connection",n),this.setStatus("disconnected",e)}}async syncAdapterConnection(e){var o,c,l;const n=this.getAdapter(e),i=Ve.getConnectorId(e),a=this.getCaipNetwork(e),s=Ve.getConnectors(e).find(u=>u.id===i);try{if(!n||!s)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!(a!=null&&a.id))throw new Error("CaipNetwork not found");const u=await(n==null?void 0:n.syncConnection({namespace:e,id:s.id,chainId:a.id,rpcUrl:(l=(c=(o=a==null?void 0:a.rpcUrls)==null?void 0:o.default)==null?void 0:c.http)==null?void 0:l[0]}));if(u){const d=await(n==null?void 0:n.getAccounts({namespace:e,id:s.id}));d&&d.accounts.length>0?this.setAllAccounts(d.accounts,e):this.setAllAccounts([ft.createAccount(e,u.address,"eoa")],e),this.syncProvider({...u,chainNamespace:e}),await this.syncAccount({...u,chainNamespace:e}),this.setStatus("connected",e)}else this.setStatus("disconnected",e)}catch{this.setStatus("disconnected",e)}}async syncWalletConnectAccount(){const e=this.chainNamespaces.map(async n=>{var c,l,u,d,f;const i=this.getAdapter(n),a=((d=(u=(l=(c=this.universalProvider)==null?void 0:c.session)==null?void 0:l.namespaces)==null?void 0:u[n])==null?void 0:d.accounts)||[],s=(f=Z.state.activeCaipNetwork)==null?void 0:f.id,o=a.find(p=>{const{chainId:m}=Hl.parseCaipAddress(p);return m===(s==null?void 0:s.toString())})||a[0];if(o){const p=Hl.validateCaipAddress(o),{chainId:m,address:y}=Hl.parseCaipAddress(p);if(mr.setProviderId(n,Dr.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&Z.state.activeCaipNetwork&&(i==null?void 0:i.namespace)!==Ne.CHAIN.EVM){const v=i==null?void 0:i.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:Z.state.activeCaipNetwork});mr.setProvider(n,v)}else mr.setProvider(n,this.universalProvider);Ve.setConnectorId(Ne.CONNECTOR_ID.WALLET_CONNECT,n),Be.addConnectedNamespace(n),this.syncWalletConnectAccounts(n),await this.syncAccount({address:y,chainId:m,chainNamespace:n})}else this.setStatus("disconnected",n);this.syncConnectedWalletInfo(n),await Z.setApprovedCaipNetworksData(n)});await Promise.all(e)}syncWalletConnectAccounts(e){var i,a,s,o,c;const n=(c=(o=(s=(a=(i=this.universalProvider)==null?void 0:i.session)==null?void 0:a.namespaces)==null?void 0:s[e])==null?void 0:o.accounts)==null?void 0:c.map(l=>{const{address:u}=Hl.parseCaipAddress(l);return u}).filter((l,u,d)=>d.indexOf(l)===u);n&&this.setAllAccounts(n.map(l=>ft.createAccount(e,l,e==="bip122"?"payment":"eoa")),e)}syncProvider({type:e,provider:n,id:i,chainNamespace:a}){mr.setProviderId(a,e),mr.setProvider(a,n),Ve.setConnectorId(i,a)}async syncAllAccounts(e){const n=Ve.getConnectorId(e);if(!n)return;const i=this.getAdapter(e),a=await(i==null?void 0:i.getAccounts({namespace:e,id:n}));a&&a.accounts.length>0&&this.setAllAccounts(a.accounts,e)}async syncAccount(e){var f,p;const n=e.chainNamespace===Z.state.activeChain,i=Z.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:a,chainId:s,chainNamespace:o}=e,{chainId:c}=Be.getActiveNetworkProps(),l=s||c,u=((f=Z.state.activeCaipNetwork)==null?void 0:f.name)===Ne.UNSUPPORTED_NETWORK_NAME,d=Z.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(u&&!d)&&l){let m=this.getCaipNetworks().find(b=>b.id.toString()===l.toString()),y=this.getCaipNetworks().find(b=>b.chainNamespace===o);if(!d&&!m&&!y){const b=this.getApprovedCaipNetworkIds()||[],w=b.find(E=>{var A;return((A=Hl.parseCaipNetworkId(E))==null?void 0:A.chainId)===l.toString()}),x=b.find(E=>{var A;return((A=Hl.parseCaipNetworkId(E))==null?void 0:A.chainNamespace)===o});m=this.getCaipNetworks().find(E=>E.caipNetworkId===w),y=this.getCaipNetworks().find(E=>E.caipNetworkId===x||"deprecatedCaipNetworkId"in E&&E.deprecatedCaipNetworkId===x)}const v=m||y;(v==null?void 0:v.chainNamespace)===Z.state.activeChain?Se.state.enableNetworkSwitch&&!Se.state.allowUnsupportedChain&&((p=Z.state.activeCaipNetwork)==null?void 0:p.name)===Ne.UNSUPPORTED_NETWORK_NAME?Z.showUnsupportedChainUI():this.setCaipNetwork(v):n||i&&this.setCaipNetworkOfNamespace(i,o),this.syncConnectedWalletInfo(o),US.isLowerCaseMatch(a,Je.state.address)||this.syncAccountInfo(a,v==null?void 0:v.id,o),n?await this.syncBalance({address:a,chainId:v==null?void 0:v.id,chainNamespace:o}):await this.syncBalance({address:a,chainId:i==null?void 0:i.id,chainNamespace:o})}}async syncAccountInfo(e,n,i){const a=this.getCaipAddress(i),s=n||(a==null?void 0:a.split(":")[1]);if(!s)return;const o=`${i}:${s}:${e}`;this.setCaipAddress(o,i),await this.syncIdentity({address:e,chainId:s,chainNamespace:i})}async syncReownName(e,n){try{const i=await this.getReownName(e);if(i[0]){const a=i[0];this.setProfileName(a.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(e){var a;const n=Ve.getConnectorId(e),i=mr.getProviderId(e);if(i===Dr.CONNECTOR_TYPE_ANNOUNCED||i===Dr.CONNECTOR_TYPE_INJECTED){if(n){const s=this.getConnectors().find(o=>o.id===n);if(s){const{info:o,name:c,imageUrl:l}=s,u=l||this.getConnectorImage(s);this.setConnectedWalletInfo({name:c,icon:u,...o},e)}}}else if(i===Dr.CONNECTOR_TYPE_WALLET_CONNECT){const s=mr.getProvider(e);s!=null&&s.session&&this.setConnectedWalletInfo({...s.session.peer.metadata,name:s.session.peer.metadata.name,icon:(a=s.session.peer.metadata.icons)==null?void 0:a[0]},e)}else if(n&&n===Ne.CONNECTOR_ID.COINBASE){const s=this.getConnectors().find(o=>o.id===Ne.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(s)},e)}}async syncBalance(e){!qv.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(i=>{var a;return i.id.toString()===((a=e.chainId)==null?void 0:a.toString())})||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async updateNativeBalance(e,n,i){const a=this.getAdapter(i),s=Z.getCaipNetworkByNamespace(i,n);if(a){const o=await a.getBalance({address:e,chainId:n,caipNetwork:s,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,i),o}}async initializeUniversalAdapter(){var i,a,s,o,c,l,u,d,f,p;const e=QIe.createLogger((m,...y)=>{m&&this.handleAlertError(m),console.error(...y)}),n={projectId:(i=this.options)==null?void 0:i.projectId,metadata:{name:(a=this.options)!=null&&a.metadata?(s=this.options)==null?void 0:s.metadata.name:"",description:(o=this.options)!=null&&o.metadata?(c=this.options)==null?void 0:c.metadata.description:"",url:(l=this.options)!=null&&l.metadata?(u=this.options)==null?void 0:u.metadata.url:"",icons:(d=this.options)!=null&&d.metadata?(f=this.options)==null?void 0:f.metadata.icons:[""]},logger:e};Se.setManualWCControl(!!((p=this.options)!=null&&p.manualWCControl)),this.universalProvider=this.options.universalProvider??await DIe.init(n),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",e=>{yt.setUri(e)}),this.universalProvider.on("connect",yt.finalizeWcConnection),this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(e=>{this.resetAccount(e)}),yt.resetWcConnection()}),this.universalProvider.on("chainChanged",e=>{const n=this.getCaipNetworks().find(a=>a.id==e),i=this.getCaipNetwork();if(!n){this.setUnsupportedNetwork(e);return}(i==null?void 0:i.id)!==(n==null?void 0:n.id)&&this.setCaipNetwork(n)}),this.universalProvider.on("session_event",e=>{if(Qy.isSessionEventData(e)){const{name:n,data:i}=e.params.event;n==="accountsChanged"&&Array.isArray(i)&&ft.isCaipAddress(i[0])&&this.syncAccount(Hl.parseCaipAddress(i[0]))}}))}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&ft.isClient()&&((e=this.options)!=null&&e.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){Lr.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const n=Object.entries(Wn.UniversalProviderErrors).find(([,{message:c}])=>e.message.includes(c)),[i,a]=n??[],{message:s,alertErrorKey:o}=a??{};if(i&&s&&!this.reportedAlertErrors[i]){const c=Wn.ALERT_ERRORS[o];c&&(Di.open(c,"error"),this.reportedAlertErrors[i]=!0)}}getAdapter(e){var n;if(e)return(n=this.chainAdapters)==null?void 0:n[e]}createAdapter(e){var a;if(!e)return;const n=e.namespace;if(!n)return;this.createClients();const i=e;i.namespace=n,i.construct({namespace:n,projectId:(a=this.options)==null?void 0:a.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=i)}async open(e){if(await this.injectModalUi(),e!=null&&e.uri&&yt.setUri(e.uri),e!=null&&e.arguments)switch(e==null?void 0:e.view){case"Swap":return pn.open({...e,data:{swap:e.arguments}})}return pn.open(e)}async close(e=!1){await this.injectModalUi(),pn.close(e)}setLoading(e,n){pn.setLoading(e,n)}async disconnect(e){await yt.disconnect(e)}getSIWX(){return Se.state.siwx}getError(){return""}getChainId(){var e;return(e=Z.state.activeCaipNetwork)==null?void 0:e.id}async switchNetwork(e){const n=this.getCaipNetworks().find(i=>i.id===e.id);if(!n){Di.open(Wn.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await Z.switchActiveNetwork(n)}getWalletProvider(){return Z.state.activeChain?mr.state.providers[Z.state.activeChain]:null}getWalletProviderType(){return mr.getProviderId(Z.state.activeChain)}subscribeProviders(e){return mr.subscribeProviders(e)}getThemeMode(){return sa.state.themeMode}getThemeVariables(){return sa.state.themeVariables}setThemeMode(e){sa.setThemeMode(e),bee(sa.state.themeMode)}setTermsConditionsUrl(e){Se.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){Se.setPrivacyPolicyUrl(e)}setThemeVariables(e){sa.setThemeVariables(e),Uje(sa.state.themeVariables)}subscribeTheme(e){return sa.subscribe(e)}getWalletInfo(){return Je.state.connectedWalletInfo}getAccount(e){var o;const n=Ve.getAuthConnector(e),i=Z.getAccountData(e),a=Z.state.activeChain,s=Be.getConnectedConnectorId(e);if(i)return{allAccounts:i.allAccounts,caipAddress:i.caipAddress,address:ft.getPlainAddress(i.caipAddress),isConnected:!!i.caipAddress,status:i.status,embeddedWalletInfo:n&&s===Ne.CONNECTOR_ID.AUTH?{user:i.user?{...i.user,username:Be.getConnectedSocialUsername()}:void 0,authProvider:i.socialProvider||"email",accountType:(o=i.preferredAccountTypes)==null?void 0:o[e||a],isSmartAccountDeployed:!!i.smartAccountDeployed}:void 0}}subscribeAccount(e,n){const i=()=>{const a=this.getAccount(n);a&&e(a)};n?Z.subscribeChainProp("accountState",i,n):Z.subscribe(i),Ve.subscribe(i)}subscribeNetwork(e){return Z.subscribe(({activeCaipNetwork:n})=>{e({caipNetwork:n,chainId:n==null?void 0:n.id,caipNetworkId:n==null?void 0:n.caipNetworkId})})}subscribeWalletInfo(e){return Je.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){Je.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){Z.subscribeKey("activeCaipNetwork",e)}getState(){return Ho.state}subscribeState(e){return Ho.subscribe(e)}showErrorMessage(e){Qs.showError(e)}showSuccessMessage(e){Qs.showSuccess(e)}getEvent(){return{...Lr.state}}subscribeEvents(e){return Lr.subscribe(e)}replace(e){Kt.replace(e)}redirect(e){Kt.push(e)}popTransactionStack(e){Kt.popTransactionStack(e)}isOpen(){return pn.state.open}isTransactionStackEmpty(){return Kt.state.transactionStack.length===0}isTransactionShouldReplaceView(){var e;return(e=Kt.state.transactionStack[Kt.state.transactionStack.length-1])==null?void 0:e.replace}static getInstance(){return this.instance}updateFeatures(e){Se.setFeatures(e)}updateOptions(e){const i={...Se.state||{},...e};Se.setOptions(i)}setConnectMethodsOrder(e){Se.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){Se.setWalletFeaturesOrder(e)}setCollapseWallets(e){Se.setCollapseWallets(e)}setSocialsOrder(e){Se.setSocialsOrder(e)}getConnectMethodsOrder(){return h$.getConnectOrderMethod(Se.state.features,Ve.getConnectors())}addNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const i=this.extendCaipNetwork(n,this.options);this.getCaipNetworks().find(a=>a.id===i.id)||Z.addNetwork(i)}removeNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(a=>a.id===n)&&Z.removeNetwork(e,n)}}let VF=!1;class Hje extends zje{setupAuthConnectorListeners(e){e.onRpcRequest(n=>{Da.checkIfRequestExists(n)?Da.checkIfRequestIsSafe(n)||this.handleUnsafeRPCRequest():(this.open(),console.error(li.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:n.method}),setTimeout(()=>{this.showErrorMessage(li.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close(!0):this.popTransactionStack(!0))}),e.onRpcSuccess((n,i)=>{const a=Da.checkIfRequestIsSafe(i),s=Je.state.address,o=Z.state.activeCaipNetwork;a||(this.isTransactionStackEmpty()?(this.close(!0),s&&(o!=null&&o.id)&&this.updateNativeBalance(s,o.id,o.chainNamespace)):(this.popTransactionStack(),s&&(o!=null&&o.id)&&this.updateNativeBalance(s,o.id,o.chainNamespace)))}),e.onNotConnected(()=>{const n=Z.state.activeChain;Ve.getConnectorId(n)===Ne.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,n),this.setLoading(!1,n))}),e.onConnect(n=>{var u,d;const i=Z.state.activeChain,a=i===Ne.CHAIN.EVM?`eip155:${n.chainId}:${n.address}`:`${n.chainId}:${n.address}`,s=Se.state.defaultAccountTypes[i],o=(u=Je.state.preferredAccountTypes)==null?void 0:u[i],c=n.preferredAccountType||o||s;US.isLowerCaseMatch(n.address,Je.state.address)||this.syncIdentity({address:n.address,chainId:n.chainId,chainNamespace:i}),this.setCaipAddress(a,i),this.setUser({...Je.state.user||{},...n},i),this.setSmartAccountDeployed(!!n.smartAccountDeployed,i),this.setPreferredAccountType(c,i);const l=(d=n.accounts)==null?void 0:d.map(f=>ft.createAccount(i,f.address,f.type||o||s));this.setAllAccounts(l||[ft.createAccount(i,n.address,n.preferredAccountType||c)],i),this.setLoading(!1,i)}),e.onSocialConnected(({userName:n})=>{this.setUser({...Je.state.user||{},username:n},Z.state.activeChain)}),e.onGetSmartAccountEnabledNetworks(n=>{this.setSmartAccountEnabledNetworks(n,Z.state.activeChain)}),e.onSetPreferredAccount(({address:n,type:i})=>{n&&this.setPreferredAccountType(i,Z.state.activeChain)})}async syncAuthConnector(e,n){var d,f,p,m;const i=Ne.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n);if(!i)return;this.setLoading(!0,n);const a=e.getLoginEmailUsed();this.setLoading(a,n),a&&this.setStatus("connecting",n);const s=e.getEmail(),o=e.getUsername();this.setUser({...((d=Je.state)==null?void 0:d.user)||{},username:o,email:s},Z.state.activeChain),this.setupAuthConnectorListeners(e);const{isConnected:c}=await e.isConnected(),l=sa.getSnapshot(),u=Se.getSnapshot();await Promise.all([e.syncDappData({metadata:u.metadata,sdkVersion:u.sdkVersion,projectId:u.projectId,sdkType:u.sdkType}),e.syncTheme({themeMode:l.themeMode,themeVariables:l.themeVariables,w3mThemeVariables:zc(l.themeVariables,l.themeMode)})]),await e.getSmartAccountEnabledNetworks(),n&&i&&(c&&((f=this.connectionControllerClient)!=null&&f.connectExternal)?(await((m=this.connectionControllerClient)==null?void 0:m.connectExternal({id:Ne.CONNECTOR_ID.AUTH,info:{name:Ne.CONNECTOR_ID.AUTH},type:Dr.CONNECTOR_TYPE_AUTH,provider:e,chainId:(p=Z.state.activeCaipNetwork)==null?void 0:p.id,chain:n})),this.setStatus("connected",n)):Ve.getConnectorId(n)===Ne.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",n),Be.removeConnectedNamespace(n))),this.setLoading(!1,n)}async checkExistingTelegramSocialConnection(e){var n;try{if(!ft.isTelegram())return;const i=Be.getTelegramSocialProvider();if(!i||typeof window>"u"||typeof document>"u")return;const s=new URL(window.location.href).searchParams.get("result_uri");if(!s)return;Je.setSocialProvider(i,e),await((n=this.authProvider)==null?void 0:n.init());const o=Ve.getAuthConnector();i&&o&&(this.setLoading(!0,e),await yt.connectExternal({id:o.id,type:o.type,socialUri:s},o.chain),Be.setConnectedSocialProvider(i),Be.removeTelegramSocialProvider(),Lr.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:i}}))}catch(i){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",i)}try{const i=new URL(window.location.href);i.searchParams.delete("result_uri"),window.history.replaceState({},document.title,i.toString())}catch(i){console.error("tma social login failed",i)}}createAuthProvider(e){var o,c,l,u,d,f,p,m,y,v,b,w,x;if(!Ne.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const i=((c=(o=this.options)==null?void 0:o.features)==null?void 0:c.email)===void 0?_n.DEFAULT_FEATURES.email:(u=(l=this.options)==null?void 0:l.features)==null?void 0:u.email,a=(f=(d=this.options)==null?void 0:d.features)!=null&&f.socials?((y=(m=(p=this.options)==null?void 0:p.features)==null?void 0:m.socials)==null?void 0:y.length)>0:((b=(v=this.options)==null?void 0:v.features)==null?void 0:b.socials)??_n.DEFAULT_FEATURES.socials,s=i||a;!this.authProvider&&((w=this.options)!=null&&w.projectId)&&s&&(this.authProvider=Jd.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:(x=this.getCaipNetwork(e))==null?void 0:x.caipNetworkId,abortController:Wn.EmbeddedWalletAbortController,onTimeout:E=>{E==="iframe_load_failed"?Di.open(Wn.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):E==="iframe_request_timeout"?Di.open(Wn.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):E==="unverified_domain"&&Di.open(Wn.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")}}),Ho.subscribeOpen(E=>{var A;!E&&this.isTransactionStackEmpty()&&((A=this.authProvider)==null||A.rejectRpcRequests())}),this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){var n,i,a;this.createAuthProvider(e),this.authProvider&&((a=(i=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:i.setAuthProvider)==null||a.call(i,this.authProvider))}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&mt.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){var s,o;if(!e)return;const n=Z.state.activeChain,i=e.chainNamespace,a=this.getAddressByChainNamespace(e.chainNamespace);if(e.chainNamespace===Z.state.activeChain&&a){const c=this.getAdapter(i),l=mr.getProvider(i),u=mr.getProviderId(i);await(c==null?void 0:c.switchNetwork({caipNetwork:e,provider:l,providerType:u})),this.setCaipNetwork(e)}else{const l=mr.getProviderId(n)===Dr.CONNECTOR_TYPE_AUTH,u=mr.getProviderId(i),d=u===Dr.CONNECTOR_TYPE_AUTH,f=Ne.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(i);if((l&&u===void 0||d)&&f)try{Z.state.activeChain=e.chainNamespace,await((o=(s=this.connectionControllerClient)==null?void 0:s.connectExternal)==null?void 0:o.call(s,{id:Ne.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:i,chainId:e.id,type:Dr.CONNECTOR_TYPE_AUTH,caipNetwork:e})),this.setCaipNetwork(e)}catch{const m=this.getAdapter(i);await(m==null?void 0:m.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:u}))}else u===Dr.CONNECTOR_TYPE_WALLET_CONNECT?(this.setCaipNetwork(e),this.syncWalletConnectAccount()):(this.setCaipNetwork(e),a&&this.syncAccount({address:a,chainId:e.id,chainNamespace:i}))}}async initChainAdapter(e){await super.initChainAdapter(e),this.createAuthProviderForAdapter(e)}async syncIdentity({address:e,chainId:n,chainNamespace:i}){var o;const a=`${i}:${n}`,s=(o=this.caipNetworks)==null?void 0:o.find(c=>c.caipNetworkId===a);if(i!==Ne.CHAIN.EVM||s!=null&&s.testnet){this.setProfileName(null,i),this.setProfileImage(null,i);return}try{const{name:c,avatar:l}=await this.fetchIdentity({address:e,caipNetworkId:a});this.setProfileName(c,i),this.setProfileImage(l,i)}catch{await this.syncReownName(e,i),n!==1&&this.setProfileImage(null,i)}}syncConnectedWalletInfo(e){const n=mr.getProviderId(e);if(n===Dr.CONNECTOR_TYPE_AUTH){const i=this.authProvider;if(i){const a=Be.getConnectedSocialProvider()??"email",s=i.getEmail()??i.getUsername();this.setConnectedWalletInfo({name:n,identifier:s,social:a},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(!VF&&ft.isClient()){const e={..._n.DEFAULT_FEATURES,...this.options.features},n=[];if(e&&((e.email||e.socials&&e.socials.length)&&n.push(dn(()=>import("./embedded-wallet-CQPJo2ab.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]),import.meta.url)),e.email&&n.push(dn(()=>import("./email-CLOyHB71.js"),__vite__mapDeps([12,1,11,5,10,4,9,13,6]),import.meta.url)),e.socials&&n.push(dn(()=>import("./socials-DQxDaDOo.js"),__vite__mapDeps([14,1,15,4,16,17,10,18,9,5,11,19,3,20]),import.meta.url)),e.swaps&&n.push(dn(()=>import("./swaps-B-BTXhDo.js"),__vite__mapDeps([21,1,9,5,22,23,24,3,10,20,6,4]),import.meta.url)),e.send&&n.push(dn(()=>import("./send-B49gzd-x.js"),__vite__mapDeps([25,1,9,5,10,4,16,11,24,3,6,26,27]),import.meta.url)),e.receive&&n.push(dn(()=>import("./receive-DOm7DpD5.js"),__vite__mapDeps([28,1,29,3,19]),import.meta.url)),e.onramp&&n.push(dn(()=>import("./onramp-CkI1El5_.js"),__vite__mapDeps([30,1,31,20,10,3,5,32,15,4,16,33,11,9,18,6]),import.meta.url)),e.history&&n.push(dn(()=>import("./transactions-D-wt-aO8.js"),__vite__mapDeps([34,1,35,31,20,10,11,3]),import.meta.url)),e.pay&&n.push(dn(()=>import("./index-haSQ9rri.js"),__vite__mapDeps([36,1,9,5,37,3,10,7,32,27,18]),import.meta.url))),await Promise.all([...n,dn(()=>import("./index-BSEhNfdm.js"),__vite__mapDeps([38,1,3,5,26,10,39,23,7,32,9,8,37,35,31,20,11,22,4,6,27,13,15,16,17,2,18,29,19,33]),import.meta.url),dn(()=>import("./w3m-modal-g_-O_JSc.js"),__vite__mapDeps([40,1,7,3,10,8,5,23,39]),import.meta.url)]),!document.querySelector("w3m-modal")){const a=document.createElement("w3m-modal");!Se.state.disableAppend&&!Se.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",a)}VF=!0}}}let tu;function Wje(r){r&&(tu=r)}function Vje(){if(!tu)throw new Error('Please call "createAppKit" before using "useAppKit" hook');async function r(n){await(tu==null?void 0:tu.open(n))}async function e(){await(tu==null?void 0:tu.close())}return{open:r,close:e}}const Gje="1.7.6";let D1;function Kje(r){return D1||(D1=new Hje({...r,sdkVersion:ft.generateSdkVersion(r.adapters??[],"react",Gje)}),Wje(D1)),D1}function Yje(r,e=4){return!r||r.length<2*e+2?r:`${r.substring(0,e+2)}...${r.substring(r.length-e)}`}function Xje(){const[r,e]=U.useState(!1),{open:n}=Vje(),{isConnected:i,isConnecting:a,address:s}=KX();return T.jsxs("button",{onClick:n,onMouseEnter:()=>e(!0),onMouseLeave:()=>e(!1),className:`
          relative group
          px-4 sm:px-6 py-1 sm:py-1 rounded-lg
          transform transition-all duration-300
          ${a?"scale-[0.98]":r?"scale-[1.02]":"scale-100"}
          ${i?"bg-white dark:bg-slate-800 border border-emerald-500/50":"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700"}
          ${a?"":"hover:border-opacity-100"}
          shadow-sm
          w-[calc(100%-2rem)] sm:w-auto max-w-sm mx-4 sm:mx-0
        `,disabled:a,children:[T.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 justify-center",children:[T.jsx("div",{className:`
            relative
            w-6 h-6 sm:w-8 sm:h-8 rounded-md
            flex items-center justify-center
            transition-colors duration-300
            ${i?"bg-emerald-50 dark:bg-emerald-500/10":"bg-slate-100 dark:bg-slate-700/50"}
            ${a?"animate-pulse":""}
          `,children:T.jsx(Wye,{className:`
                w-4 h-4 sm:w-5 sm:h-5
                transition-all duration-300
                ${i?"text-emerald-600 dark:text-emerald-400":"text-slate-600 dark:text-slate-400"}
              `})}),T.jsx("span",{className:`
            text-sm sm:text-base font-medium
            transition-colors duration-300
            ${i?"text-emerald-600 dark:text-emerald-400":"text-slate-700 dark:text-slate-300"}
          `,children:i?Yje(s):a?"Connecting...":"Connect Wallet"})]}),a&&T.jsx("div",{className:"absolute inset-x-0 bottom-0 h-0.5",children:T.jsx("div",{className:"h-full animate-[loading_1s_ease-in-out_infinite] bg-slate-300 dark:bg-slate-600"})}),i&&T.jsx("div",{className:"absolute -right-1 -top-1 w-2 h-2 sm:w-2.5 sm:h-2.5 rounded-full bg-emerald-500 dark:bg-emerald-400"})]})}function Jje({user:r,onLogout:e}){const[n,i]=U.useState(!1),a=U.useRef(null);return U.useEffect(()=>{function s(o){a.current&&!a.current.contains(o.target)&&i(!1)}return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[]),r?T.jsxs("div",{className:"relative",ref:a,children:[T.jsxs("button",{onClick:()=>i(!n),className:"flex items-center gap-1 sm:gap-2 px-1 sm:px-2.5 py-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200",children:[T.jsx("img",{src:`http://localhost:8000${r.avatar}`,className:"w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-purple-500 flex items-center justify-center ring-2 ring-white dark:ring-gray-800"}),T.jsx("span",{className:"hidden md:block text-sm font-medium text-gray-700 dark:text-gray-200",children:r.username||"User"}),T.jsx(SJ,{className:"w-4 h-4 text-gray-500 dark:text-gray-400 transition-transform duration-200 hidden sm:block",style:{transform:n?"rotate(180deg)":"rotate(0deg)"}})]}),n&&T.jsxs("div",{className:"absolute right-0 mt-2 w-64 rounded-xl bg-white dark:bg-gray-800 shadow-lg ring-1 ring-black/5 dark:ring-white/10 py-2 z-50",children:[T.jsxs("div",{className:"px-4 py-2.5 border-b border-gray-100 dark:border-gray-700",children:[T.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:r.name}),T.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:r.email})]}),T.jsxs("div",{className:"py-1.5",children:[T.jsxs(fb,{to:"/profile",className:"w-full px-4 py-2 text-sm text-left text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 flex items-center gap-2.5 transition-colors",children:[T.jsx(OJ,{className:"w-4 h-4"}),"Profile"]}),T.jsxs("button",{className:"w-full px-4 py-2 text-sm text-left text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 flex items-center gap-2.5 transition-colors",children:[T.jsx(Lye,{className:"w-4 h-4"}),"Settings"]}),T.jsxs("button",{className:"w-full px-4 py-2 text-sm text-left text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 flex items-center gap-2.5 transition-colors",children:[T.jsx(mye,{className:"w-4 h-4"}),"Billing"]})]}),T.jsx("div",{className:"py-1.5 border-t border-gray-100 dark:border-gray-700",children:T.jsxs("button",{onClick:()=>{i(!1),e()},className:"w-full px-4 py-2 text-sm text-left text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-2.5 transition-colors",children:[T.jsx(Pye,{className:"w-4 h-4"}),"Logout"]})})]})]}):null}const Zje=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...n)=>dn(async()=>{const{default:i}=await Promise.resolve().then(()=>Ug);return{default:i}},void 0,import.meta.url).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)};class ZD extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class Qje extends ZD{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class e3e extends ZD{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class t3e extends ZD{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var m$;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(m$||(m$={}));var r3e=function(r,e,n,i){function a(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(d){try{u(i.next(d))}catch(f){o(f)}}function l(d){try{u(i.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(c,l)}u((i=i.apply(r,e||[])).next())})};class n3e{constructor(e,{headers:n={},customFetch:i,region:a=m$.Any}={}){this.url=e,this.headers=n,this.region=a,this.fetch=Zje(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var i;return r3e(this,void 0,void 0,function*(){try{const{headers:a,method:s,body:o}=n;let c={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(c["x-region"]=l);let u;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(c["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(c["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),a),body:u}).catch(y=>{throw new Qje(y)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new e3e(d);if(!d.ok)throw new t3e(d);let p=((i=d.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),m;return p==="application/json"?m=yield d.json():p==="application/octet-stream"?m=yield d.blob():p==="text/event-stream"?m=d:p==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null}}catch(a){return{data:null,error:a}}})}}var Bn={},Dh={},Mh={},Lh={},Uh={},Bh={},i3e=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Kp=i3e();const a3e=Kp.fetch,_ee=Kp.fetch.bind(Kp),xee=Kp.Headers,s3e=Kp.Request,o3e=Kp.Response,Ug=Object.freeze(Object.defineProperty({__proto__:null,Headers:xee,Request:s3e,Response:o3e,default:_ee,fetch:a3e},Symbol.toStringTag,{value:"Module"})),c3e=W3(Ug);var M1={},GF;function Eee(){if(GF)return M1;GF=1,Object.defineProperty(M1,"__esModule",{value:!0});class r extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return M1.default=r,M1}var KF;function See(){if(KF)return Bh;KF=1;var r=Bh&&Bh.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Bh,"__esModule",{value:!0});const e=r(c3e),n=r(Eee());class i{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=Object.assign({},this.headers),this.headers[s]=o,this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const c=this.fetch;let l=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,p;let m=null,y=null,v=null,b=u.status,w=u.statusText;if(u.ok){if(this.method!=="HEAD"){const S=await u.text();S===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?y=S:y=JSON.parse(S))}const E=(d=this.headers.Prefer)===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),A=(f=u.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");E&&A&&A.length>1&&(v=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(m={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,v=null,b=406,w="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const E=await u.text();try{m=JSON.parse(E),Array.isArray(m)&&u.status===404&&(y=[],m=null,b=200,w="OK")}catch{u.status===404&&E===""?(b=204,w="No Content"):m={message:E}}if(m&&this.isMaybeSingle&&(!((p=m==null?void 0:m.details)===null||p===void 0)&&p.includes("0 rows"))&&(m=null,b=200,w="OK"),m&&this.shouldThrowOnError)throw new n.default(m)}return{error:m,data:y,count:v,status:b,statusText:w}});return this.shouldThrowOnError||(l=l.catch(u=>{var d,f,p;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(p=u==null?void 0:u.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),l.then(s,o)}returns(){return this}overrideTypes(){return this}}return Bh.default=i,Bh}var YF;function Cee(){if(YF)return Uh;YF=1;var r=Uh&&Uh.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Uh,"__esModule",{value:!0});const e=r(See());class n extends e.default{select(a){let s=!1;const o=(a??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:s=!0,nullsFirst:o,foreignTable:c,referencedTable:l=c}={}){const u=l?`${l}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:s,referencedTable:o=s}={}){const c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${a}`),this}range(a,s,{foreignTable:o,referencedTable:c=o}={}){const l=typeof c>"u"?"offset":`${c}.offset`,u=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(l,`${a}`),this.url.searchParams.set(u,`${s-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:s=!1,settings:o=!1,buffers:c=!1,wal:l=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,s?"verbose":null,o?"settings":null,c?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(d=this.headers.Accept)!==null&&d!==void 0?d:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${p}"; options=${f};`,u==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Uh.default=n,Uh}var XF;function QD(){if(XF)return Lh;XF=1;var r=Lh&&Lh.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Lh,"__esModule",{value:!0});const e=r(Cee());class n extends e.default{eq(a,s){return this.url.searchParams.append(a,`eq.${s}`),this}neq(a,s){return this.url.searchParams.append(a,`neq.${s}`),this}gt(a,s){return this.url.searchParams.append(a,`gt.${s}`),this}gte(a,s){return this.url.searchParams.append(a,`gte.${s}`),this}lt(a,s){return this.url.searchParams.append(a,`lt.${s}`),this}lte(a,s){return this.url.searchParams.append(a,`lte.${s}`),this}like(a,s){return this.url.searchParams.append(a,`like.${s}`),this}likeAllOf(a,s){return this.url.searchParams.append(a,`like(all).{${s.join(",")}}`),this}likeAnyOf(a,s){return this.url.searchParams.append(a,`like(any).{${s.join(",")}}`),this}ilike(a,s){return this.url.searchParams.append(a,`ilike.${s}`),this}ilikeAllOf(a,s){return this.url.searchParams.append(a,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(a,s){return this.url.searchParams.append(a,`ilike(any).{${s.join(",")}}`),this}is(a,s){return this.url.searchParams.append(a,`is.${s}`),this}in(a,s){const o=Array.from(new Set(s)).map(c=>typeof c=="string"&&new RegExp("[,()]").test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(a,`in.(${o})`),this}contains(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cs.{${s.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(s)}`),this}containedBy(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cd.{${s.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(s)}`),this}rangeGt(a,s){return this.url.searchParams.append(a,`sr.${s}`),this}rangeGte(a,s){return this.url.searchParams.append(a,`nxl.${s}`),this}rangeLt(a,s){return this.url.searchParams.append(a,`sl.${s}`),this}rangeLte(a,s){return this.url.searchParams.append(a,`nxr.${s}`),this}rangeAdjacent(a,s){return this.url.searchParams.append(a,`adj.${s}`),this}overlaps(a,s){return typeof s=="string"?this.url.searchParams.append(a,`ov.${s}`):this.url.searchParams.append(a,`ov.{${s.join(",")}}`),this}textSearch(a,s,{config:o,type:c}={}){let l="";c==="plain"?l="pl":c==="phrase"?l="ph":c==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(a,`${l}fts${u}.${s}`),this}match(a){return Object.entries(a).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(a,s,o){return this.url.searchParams.append(a,`not.${s}.${o}`),this}or(a,{foreignTable:s,referencedTable:o=s}={}){const c=o?`${o}.or`:"or";return this.url.searchParams.append(c,`(${a})`),this}filter(a,s,o){return this.url.searchParams.append(a,`${s}.${o}`),this}}return Lh.default=n,Lh}var JF;function Aee(){if(JF)return Mh;JF=1;var r=Mh&&Mh.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Mh,"__esModule",{value:!0});const e=r(QD());class n{constructor(a,{headers:s={},schema:o,fetch:c}){this.url=a,this.headers=s,this.schema=o,this.fetch=c}select(a,{head:s=!1,count:o}={}){const c=s?"HEAD":"GET";let l=!1;const u=(a??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:s,defaultToNull:o=!0}={}){const c="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:s,ignoreDuplicates:o=!1,count:c,defaultToNull:l=!0}={}){const u="POST",d=[`resolution=${o?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&d.push(this.headers.Prefer),c&&d.push(`count=${c}`),l||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(a)){const f=a.reduce((p,m)=>p.concat(Object.keys(m)),[]);if(f.length>0){const p=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:s}={}){const o="PATCH",c=[];return this.headers.Prefer&&c.push(this.headers.Prefer),s&&c.push(`count=${s}`),this.headers.Prefer=c.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const s="DELETE",o=[];return a&&o.push(`count=${a}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Mh.default=n,Mh}var ty={},ry={},ZF;function l3e(){return ZF||(ZF=1,Object.defineProperty(ry,"__esModule",{value:!0}),ry.version=void 0,ry.version="0.0.0-automated"),ry}var QF;function u3e(){if(QF)return ty;QF=1,Object.defineProperty(ty,"__esModule",{value:!0}),ty.DEFAULT_HEADERS=void 0;const r=l3e();return ty.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`},ty}var eq;function d3e(){if(eq)return Dh;eq=1;var r=Dh&&Dh.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Dh,"__esModule",{value:!0});const e=r(Aee()),n=r(QD()),i=u3e();class a{constructor(o,{headers:c={},schema:l,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),c),this.schemaName=l,this.fetch=u}from(o){const c=new URL(`${this.url}/${o}`);return new e.default(c,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new a(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,c={},{head:l=!1,get:u=!1,count:d}={}){let f;const p=new URL(`${this.url}/rpc/${o}`);let m;l||u?(f=l?"HEAD":"GET",Object.entries(c).filter(([v,b])=>b!==void 0).map(([v,b])=>[v,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([v,b])=>{p.searchParams.append(v,b)})):(f="POST",m=c);const y=Object.assign({},this.headers);return d&&(y.Prefer=`count=${d}`),new n.default({method:f,url:p,headers:y,schema:this.schemaName,body:m,fetch:this.fetch,allowEmpty:!1})}}return Dh.default=a,Dh}var tq;function f3e(){if(tq)return Bn;tq=1;var r=Bn&&Bn.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Bn,"__esModule",{value:!0}),Bn.PostgrestError=Bn.PostgrestBuilder=Bn.PostgrestTransformBuilder=Bn.PostgrestFilterBuilder=Bn.PostgrestQueryBuilder=Bn.PostgrestClient=void 0;const e=r(d3e());Bn.PostgrestClient=e.default;const n=r(Aee());Bn.PostgrestQueryBuilder=n.default;const i=r(QD());Bn.PostgrestFilterBuilder=i.default;const a=r(Cee());Bn.PostgrestTransformBuilder=a.default;const s=r(See());Bn.PostgrestBuilder=s.default;const o=r(Eee());return Bn.PostgrestError=o.default,Bn.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:s.default,PostgrestError:o.default},Bn}var h3e=f3e();const p3e=Jt(h3e),{PostgrestClient:g3e,PostgrestQueryBuilder:Xlt,PostgrestFilterBuilder:Jlt,PostgrestTransformBuilder:Zlt,PostgrestBuilder:Qlt,PostgrestError:eut}=p3e,m3e="2.11.2",y3e={"X-Client-Info":`realtime-js/${m3e}`},v3e="1.0.0",Tee=1e4,b3e=1e3;var gp;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(gp||(gp={}));var Na;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Na||(Na={}));var Vs;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Vs||(Vs={}));var y$;(function(r){r.websocket="websocket"})(y$||(y$={}));var Pd;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Pd||(Pd={}));class w3e{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,n,i)}_decodeBroadcast(e,n,i){const a=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const c=i.decode(e.slice(o,o+a));o=o+a;const l=i.decode(e.slice(o,o+s));o=o+s;const u=JSON.parse(i.decode(e.slice(o,e.byteLength)));return{ref:null,topic:c,event:l,payload:u}}}let kee=class{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Or;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Or||(Or={}));const rq=(r,e,n={})=>{var i;const a=(i=n.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((s,o)=>(s[o]=_3e(o,r,e,a),s),{})},_3e=(r,e,n,i)=>{const a=e.find(c=>c.name===r),s=a==null?void 0:a.type,o=n[r];return s&&!i.includes(s)?Pee(s,o):v$(o)},Pee=(r,e)=>{if(r.charAt(0)==="_"){const n=r.slice(1,r.length);return C3e(e,n)}switch(r){case Or.bool:return x3e(e);case Or.float4:case Or.float8:case Or.int2:case Or.int4:case Or.int8:case Or.numeric:case Or.oid:return E3e(e);case Or.json:case Or.jsonb:return S3e(e);case Or.timestamp:return A3e(e);case Or.abstime:case Or.date:case Or.daterange:case Or.int4range:case Or.int8range:case Or.money:case Or.reltime:case Or.text:case Or.time:case Or.timestamptz:case Or.timetz:case Or.tsrange:case Or.tstzrange:return v$(e);default:return v$(e)}},v$=r=>r,x3e=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},E3e=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},S3e=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},C3e=(r,e)=>{if(typeof r!="string")return r;const n=r.length-1,i=r[n];if(r[0]==="{"&&i==="}"){let s;const o=r.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(c=>Pee(e,c))}return r},A3e=r=>typeof r=="string"?r.replace(" ","T"):r,Oee=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class ak{constructor(e,n,i={},a=Tee){this.channel=e,this.event=n,this.payload=i,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var nq;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(nq||(nq={}));class ev{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},a=>{const{onJoin:s,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ev.syncState(this.state,a,s,o),this.pendingDiffs.forEach(l=>{this.state=ev.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],c()}),this.channel._on(i.diff,{},a=>{const{onJoin:s,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ev.syncDiff(this.state,a,s,o),c())}),this.onJoin((a,s,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:o})}),this.onLeave((a,s,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,a){const s=this.cloneDeep(e),o=this.transformState(n),c={},l={};return this.map(s,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const f=s[u];if(f){const p=d.map(b=>b.presence_ref),m=f.map(b=>b.presence_ref),y=d.filter(b=>m.indexOf(b.presence_ref)<0),v=f.filter(b=>p.indexOf(b.presence_ref)<0);y.length>0&&(c[u]=y),v.length>0&&(l[u]=v)}else c[u]=d}),this.syncDiff(s,{joins:c,leaves:l},i,a)}static syncDiff(e,n,i,a){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),a||(a=()=>{}),this.map(s,(c,l)=>{var u;const d=(u=e[c])!==null&&u!==void 0?u:[];if(e[c]=this.cloneDeep(l),d.length>0){const f=e[c].map(m=>m.presence_ref),p=d.filter(m=>f.indexOf(m.presence_ref)<0);e[c].unshift(...p)}i(c,d,l)}),this.map(o,(c,l)=>{let u=e[c];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[c]=u,a(c,u,l),u.length===0&&delete e[c]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const a=e[i];return"metas"in a?n[i]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[i]=a,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var iq;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(iq||(iq={}));var aq;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(aq||(aq={}));var jc;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(jc||(jc={}));class e5{constructor(e,n={config:{}},i){this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=Na.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ak(this,Vs.join,this.params,this.timeout),this.rejoinTimer=new kee(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Na.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Na.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Na.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Na.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Vs.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new ev(this),this.broadcastEndpointURL=Oee(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var i,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:c}}=this.params;this._onError(d=>e==null?void 0:e(jc.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(jc.CLOSED));const l={},u={broadcast:s,presence:o,postgres_changes:(a=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(d=>d.filter))!==null&&a!==void 0?a:[],private:c};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){e==null||e(jc.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,m=(f=p==null?void 0:p.length)!==null&&f!==void 0?f:0,y=[];for(let v=0;v<m;v++){const b=p[v],{filter:{event:w,schema:x,table:E,filter:A}}=b,S=d&&d[v];if(S&&S.event===w&&S.schema===x&&S.table===E&&S.filter===A)y.push(Object.assign(Object.assign({},b),{id:S.id}));else{this.unsubscribe(),e==null||e(jc.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(jc.SUBSCRIBED);return}}).receive("error",d=>{e==null||e(jc.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(jc.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this._on(e,n,i)}async send(e,n={}){var i,a;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,c,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Na.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Vs.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(i=>{const a=new ak(this,Vs.leave,{},e);a.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(e,n,i){const a=new AbortController,s=setTimeout(()=>a.abort(),i),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(s),o}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new ak(this,e,n,i);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var a,s;const o=e.toLocaleLowerCase(),{close:c,error:l,leave:u,join:d}=Vs;if(i&&[c,l,u,d].indexOf(o)>=0&&i!==this._joinRef())return;let p=this._onMessage(o,n,i);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var y,v,b;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((b=(v=m.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(m=>m.callback(p,i)):(s=this.bindings[o])===null||s===void 0||s.filter(m=>{var y,v,b,w,x,E;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const A=m.id,S=(y=m.filter)===null||y===void 0?void 0:y.event;return A&&((v=n.ids)===null||v===void 0?void 0:v.includes(A))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const A=(x=(w=m==null?void 0:m.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return A==="*"||A===((E=n==null?void 0:n.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:v,table:b,commit_timestamp:w,type:x,errors:E}=y;p=Object.assign(Object.assign({},{schema:v,table:b,commit_timestamp:w,eventType:x,new:{},old:{},errors:E}),this._getPayloadRecords(y))}m.callback(p,i)})}_isClosed(){return this.state===Na.closed}_isJoined(){return this.state===Na.joined}_isJoining(){return this.state===Na.joining}_isLeaving(){return this.state===Na.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const a=e.toLocaleLowerCase(),s={type:a,filter:n,callback:i};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===i&&e5.isEqual(a.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Vs.close,{},e)}_onError(e){this._on(Vs.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Na.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=rq(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=rq(e.columns,e.old_record)),n}}const T3e=()=>{},k3e=typeof WebSocket<"u",P3e=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class O3e{constructor(e,n){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=y3e,this.params={},this.timeout=Tee,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=T3e,this.conn=null,this.sendBuffer=[],this.serializer=new w3e,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...c)=>dn(async()=>{const{default:l}=await Promise.resolve().then(()=>Ug);return{default:l}},void 0,import.meta.url).then(({default:l})=>l(...c)):o=fetch,(...c)=>o(...c)},this.endPoint=`${e}/${y$.websocket}`,this.httpEndpoint=Oee(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const a=(i=n==null?void 0:n.params)===null||i===void 0?void 0:i.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new kee(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(k3e){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new N3e(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),dn(async()=>{const{default:e}=await import("./browser-CFdCVB6M.js").then(n=>n.b);return{default:e}},[],import.meta.url).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:v3e}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case gp.connecting:return Pd.Connecting;case gp.open:return Pd.Open;case gp.closing:return Pd.Closing;default:return Pd.Closed}}isConnected(){return this.connectionState()===Pd.Open}channel(e,n={config:{}}){const i=new e5(`realtime:${e}`,n,this);return this.channels.push(i),i}push(e){const{topic:n,event:i,payload:a,ref:s}=e,o=()=>{this.encode(e,c=>{var l;(l=this.conn)===null||l===void 0||l.send(c)})};this.log("push",`${n} ${i} (${s})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let i=null;try{i=JSON.parse(atob(n.split(".")[1]))}catch{}if(i&&i.exp&&!(Math.floor(Date.now()/1e3)-i.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${i.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${i.exp}`);this.accessTokenValue=n,this.channels.forEach(a=>{n&&a.updateJoinPayload({access_token:n}),a.joinedOnce&&a._isJoined()&&a._push(Vs.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(b3e,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:i,event:a,payload:s,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${i} ${a} ${o&&"("+o+")"||""}`,s),this.channels.filter(c=>c._isMember(i)).forEach(c=>c._trigger(a,s,o)),this.stateChangeCallbacks.message.forEach(c=>c(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Vs.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${e}${i}${a}`}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([P3e],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}}class N3e{constructor(e,n,i){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=gp.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=i.close}}class t5 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function qn(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class I3e extends t5{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class b$ extends t5{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var R3e=function(r,e,n,i){function a(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(d){try{u(i.next(d))}catch(f){o(f)}}function l(d){try{u(i.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(c,l)}u((i=i.apply(r,e||[])).next())})};const Nee=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...n)=>dn(async()=>{const{default:i}=await Promise.resolve().then(()=>Ug);return{default:i}},void 0,import.meta.url).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},$3e=()=>R3e(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield dn(()=>Promise.resolve().then(()=>Ug),void 0,import.meta.url)).Response:Response}),w$=r=>{if(Array.isArray(r))return r.map(n=>w$(n));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([n,i])=>{const a=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[a]=w$(i)}),e};var Ff=function(r,e,n,i){function a(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(d){try{u(i.next(d))}catch(f){o(f)}}function l(d){try{u(i.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(c,l)}u((i=i.apply(r,e||[])).next())})};const sk=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),j3e=(r,e,n)=>Ff(void 0,void 0,void 0,function*(){const i=yield $3e();r instanceof i&&!(n!=null&&n.noResolveJson)?r.json().then(a=>{e(new I3e(sk(a),r.status||500))}).catch(a=>{e(new b$(sk(a),a))}):e(new b$(sk(r),r))}),D3e=(r,e,n,i)=>{const a={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i&&(a.body=JSON.stringify(i)),Object.assign(Object.assign({},a),n))};function Nb(r,e,n,i,a,s){return Ff(this,void 0,void 0,function*(){return new Promise((o,c)=>{r(n,D3e(e,i,a,s)).then(l=>{if(!l.ok)throw l;return i!=null&&i.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>j3e(l,c,i))})})}function kx(r,e,n,i){return Ff(this,void 0,void 0,function*(){return Nb(r,"GET",e,n,i)})}function ou(r,e,n,i,a){return Ff(this,void 0,void 0,function*(){return Nb(r,"POST",e,i,a,n)})}function M3e(r,e,n,i,a){return Ff(this,void 0,void 0,function*(){return Nb(r,"PUT",e,i,a,n)})}function L3e(r,e,n,i){return Ff(this,void 0,void 0,function*(){return Nb(r,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function Iee(r,e,n,i,a){return Ff(this,void 0,void 0,function*(){return Nb(r,"DELETE",e,i,a,n)})}var ra=function(r,e,n,i){function a(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(d){try{u(i.next(d))}catch(f){o(f)}}function l(d){try{u(i.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(c,l)}u((i=i.apply(r,e||[])).next())})};const U3e={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},sq={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class B3e{constructor(e,n={},i,a){this.url=e,this.headers=n,this.bucketId=i,this.fetch=Nee(a)}uploadOrUpdate(e,n,i,a){return ra(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},sq),a);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&i instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",i)):typeof FormData<"u"&&i instanceof FormData?(s=i,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=i,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,l&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),a!=null&&a.headers&&(c=Object.assign(Object.assign({},c),a.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:s,headers:c},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield f.json();return f.ok?{data:{path:u,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(s){if(qn(s))return{data:null,error:s};throw s}})}upload(e,n,i){return ra(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,i)})}uploadToSignedUrl(e,n,i,a){return ra(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),c=new URL(this.url+`/object/upload/sign/${o}`);c.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:sq.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.append("cacheControl",u.cacheControl)):(l=i,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(c.toString(),{method:"PUT",body:l,headers:d}),p=yield f.json();return f.ok?{data:{path:s,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(qn(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return ra(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const a=Object.assign({},this.headers);n!=null&&n.upsert&&(a["x-upsert"]="true");const s=yield ou(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:a}),o=new URL(this.url+s.url),c=o.searchParams.get("token");if(!c)throw new t5("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:c},error:null}}catch(i){if(qn(i))return{data:null,error:i};throw i}})}update(e,n,i){return ra(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,i)})}move(e,n,i){return ra(this,void 0,void 0,function*(){try{return{data:yield ou(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(qn(a))return{data:null,error:a};throw a}})}copy(e,n,i){return ra(this,void 0,void 0,function*(){try{return{data:{path:(yield ou(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(qn(a))return{data:null,error:a};throw a}})}createSignedUrl(e,n,i){return ra(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),s=yield ou(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const o=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(a){if(qn(a))return{data:null,error:a};throw a}})}createSignedUrls(e,n,i){return ra(this,void 0,void 0,function*(){try{const a=yield ou(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(a){if(qn(a))return{data:null,error:a};throw a}})}download(e,n){return ra(this,void 0,void 0,function*(){const a=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const c=this._getFinalPath(e);return{data:yield(yield kx(this.fetch,`${this.url}/${a}/${c}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(qn(c))return{data:null,error:c};throw c}})}info(e){return ra(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const i=yield kx(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:w$(i),error:null}}catch(i){if(qn(i))return{data:null,error:i};throw i}})}exists(e){return ra(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield L3e(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(qn(i)&&i instanceof b$){const a=i.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,n){const i=this._getFinalPath(e),a=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&a.push(s);const c=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&a.push(l);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${i}${u}`)}}}remove(e){return ra(this,void 0,void 0,function*(){try{return{data:yield Iee(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(qn(n))return{data:null,error:n};throw n}})}list(e,n,i){return ra(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},U3e),n),{prefix:e||""});return{data:yield ou(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},i),error:null}}catch(a){if(qn(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const F3e="2.7.1",q3e={"X-Client-Info":`storage-js/${F3e}`};var Fh=function(r,e,n,i){function a(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(d){try{u(i.next(d))}catch(f){o(f)}}function l(d){try{u(i.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(c,l)}u((i=i.apply(r,e||[])).next())})};class z3e{constructor(e,n={},i){this.url=e,this.headers=Object.assign(Object.assign({},q3e),n),this.fetch=Nee(i)}listBuckets(){return Fh(this,void 0,void 0,function*(){try{return{data:yield kx(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(qn(e))return{data:null,error:e};throw e}})}getBucket(e){return Fh(this,void 0,void 0,function*(){try{return{data:yield kx(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(qn(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Fh(this,void 0,void 0,function*(){try{return{data:yield ou(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(qn(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return Fh(this,void 0,void 0,function*(){try{return{data:yield M3e(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(qn(i))return{data:null,error:i};throw i}})}emptyBucket(e){return Fh(this,void 0,void 0,function*(){try{return{data:yield ou(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(qn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Fh(this,void 0,void 0,function*(){try{return{data:yield Iee(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(qn(n))return{data:null,error:n};throw n}})}}class H3e extends z3e{constructor(e,n={},i){super(e,n,i)}from(e){return new B3e(this.url,this.headers,e,this.fetch)}}const W3e="2.49.8";let Oy="";typeof Deno<"u"?Oy="deno":typeof document<"u"?Oy="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Oy="react-native":Oy="node";const V3e={"X-Client-Info":`supabase-js-${Oy}/${W3e}`},G3e={headers:V3e},K3e={schema:"public"},Y3e={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},X3e={};var J3e=function(r,e,n,i){function a(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(d){try{u(i.next(d))}catch(f){o(f)}}function l(d){try{u(i.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(c,l)}u((i=i.apply(r,e||[])).next())})};const Z3e=r=>{let e;return r?e=r:typeof fetch>"u"?e=_ee:e=fetch,(...n)=>e(...n)},Q3e=()=>typeof Headers>"u"?xee:Headers,eDe=(r,e,n)=>{const i=Z3e(n),a=Q3e();return(s,o)=>J3e(void 0,void 0,void 0,function*(){var c;const l=(c=yield e())!==null&&c!==void 0?c:r;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",r),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),i(s,Object.assign(Object.assign({},o),{headers:u}))})};var tDe=function(r,e,n,i){function a(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(d){try{u(i.next(d))}catch(f){o(f)}}function l(d){try{u(i.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(c,l)}u((i=i.apply(r,e||[])).next())})};function rDe(r){return r.endsWith("/")?r:r+"/"}function nDe(r,e){var n,i;const{db:a,auth:s,realtime:o,global:c}=r,{db:l,auth:u,realtime:d,global:f}=e,p={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},f),c),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(i=c==null?void 0:c.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>tDe(this,void 0,void 0,function*(){return""})};return r.accessToken?p.accessToken=r.accessToken:delete p.accessToken,p}const Ree="2.69.1",tp=30*1e3,_$=3,ok=_$*tp,iDe="http://localhost:9999",aDe="supabase.auth.token",sDe={"X-Client-Info":`gotrue-js/${Ree}`},x$="X-Supabase-Api-Version",$ee={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},oDe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,cDe=6e5;class r5 extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function It(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class lDe extends r5{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function uDe(r){return It(r)&&r.name==="AuthApiError"}class jee extends r5{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Fu extends r5{constructor(e,n,i,a){super(e,i,a),this.name=n,this.status=i}}class ru extends Fu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function dDe(r){return It(r)&&r.name==="AuthSessionMissingError"}class ck extends Fu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class L1 extends Fu{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class U1 extends Fu{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function fDe(r){return It(r)&&r.name==="AuthImplicitGrantRedirectError"}class oq extends Fu{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class E$ extends Fu{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function lk(r){return It(r)&&r.name==="AuthRetryableFetchError"}class cq extends Fu{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class tv extends Fu{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const lq="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),uq=` 	
\r=`.split(""),hDe=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<uq.length;e+=1)r[uq[e].charCodeAt(0)]=-2;for(let e=0;e<lq.length;e+=1)r[lq[e].charCodeAt(0)]=e;return r})();function Dee(r,e,n){const i=hDe[r];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function dq(r){const e=[],n=o=>{e.push(String.fromCodePoint(o))},i={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=o=>{mDe(o,i,n)};for(let o=0;o<r.length;o+=1)Dee(r.charCodeAt(o),a,s);return e.join("")}function pDe(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function gDe(r,e){for(let n=0;n<r.length;n+=1){let i=r.charCodeAt(n);if(i>55295&&i<=56319){const a=(i-55296)*1024&65535;i=(r.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}pDe(i,e)}}function mDe(r,e,n){if(e.utf8seq===0){if(r<=127){n(r);return}for(let i=1;i<6;i+=1)if((r>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function yDe(r){const e=[],n={queue:0,queuedBits:0},i=a=>{e.push(a)};for(let a=0;a<r.length;a+=1)Dee(r.charCodeAt(a),n,i);return new Uint8Array(e)}function vDe(r){const e=[];return gDe(r,n=>e.push(n)),new Uint8Array(e)}function bDe(r){return Math.round(Date.now()/1e3)+r}function wDe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const To=()=>typeof window<"u"&&typeof document<"u",yd={tested:!1,writable:!1},rv=()=>{if(!To())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(yd.tested)return yd.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),yd.tested=!0,yd.writable=!0}catch{yd.tested=!0,yd.writable=!1}return yd.writable};function _De(r){const e={},n=new URL(r);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,s)=>{e[s]=a})}catch{}return n.searchParams.forEach((i,a)=>{e[a]=i}),e}const Mee=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...n)=>dn(async()=>{const{default:i}=await Promise.resolve().then(()=>Ug);return{default:i}},void 0,import.meta.url).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},xDe=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Lee=async(r,e,n)=>{await r.setItem(e,JSON.stringify(n))},B1=async(r,e)=>{const n=await r.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},F1=async(r,e)=>{await r.removeItem(e)};class qS{constructor(){this.promise=new qS.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}qS.promiseConstructor=Promise;function uk(r){const e=r.split(".");if(e.length!==3)throw new tv("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!oDe.test(e[i]))throw new tv("JWT not in base64url format");return{header:JSON.parse(dq(e[0])),payload:JSON.parse(dq(e[1])),signature:yDe(e[2]),raw:{header:e[0],payload:e[1]}}}async function EDe(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function SDe(r,e){return new Promise((i,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await r(s);if(!e(s,null,o)){i(o);return}}catch(o){if(!e(s,o)){a(o);return}}})()})}function CDe(r){return("0"+r.toString(16)).substr(-2)}function ADe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let a="";for(let s=0;s<56;s++)a+=n.charAt(Math.floor(Math.random()*i));return a}return crypto.getRandomValues(e),Array.from(e,CDe).join("")}async function TDe(r){const n=new TextEncoder().encode(r),i=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(i);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function kDe(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const n=await TDe(r);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qh(r,e,n=!1){const i=ADe();let a=i;n&&(a+="/PASSWORD_RECOVERY"),await Lee(r,`${e}-code-verifier`,a);const s=await kDe(i);return[s,i===s?"plain":"s256"]}const PDe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ODe(r){const e=r.headers.get(x$);if(!e||!e.match(PDe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function NDe(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function IDe(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var RDe=function(r,e){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(r);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(r,i[a])&&(n[i[a]]=r[i[a]]);return n};const xd=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),$De=[502,503,504];async function fq(r){var e;if(!xDe(r))throw new E$(xd(r),0);if($De.includes(r.status))throw new E$(xd(r),r.status);let n;try{n=await r.json()}catch(s){throw new jee(xd(s),s)}let i;const a=ODe(r);if(a&&a.getTime()>=$ee["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new cq(xd(n),r.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new ru}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new cq(xd(n),r.status,n.weak_password.reasons);throw new lDe(xd(n),r.status||500,i)}const jDe=(r,e,n,i)=>{const a={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(i),Object.assign(Object.assign({},a),n))};async function zt(r,e,n,i){var a;const s=Object.assign({},i==null?void 0:i.headers);s[x$]||(s[x$]=$ee["2024-01-01"].name),i!=null&&i.jwt&&(s.Authorization=`Bearer ${i.jwt}`);const o=(a=i==null?void 0:i.query)!==null&&a!==void 0?a:{};i!=null&&i.redirectTo&&(o.redirect_to=i.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await DDe(r,e,n+c,{headers:s,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(l):{data:Object.assign({},l),error:null}}async function DDe(r,e,n,i,a,s){const o=jDe(e,i,a,s);let c;try{c=await r(n,Object.assign({},o))}catch(l){throw console.error(l),new E$(xd(l),0)}if(c.ok||await fq(c),i!=null&&i.noResolveJson)return c;try{return await c.json()}catch(l){await fq(l)}}function nu(r){var e;let n=null;BDe(r)&&(n=Object.assign({},r),r.expires_at||(n.expires_at=bDe(r.expires_in)));const i=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:n,user:i},error:null}}function hq(r){const e=nu(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=r.weak_password),e}function fu(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function MDe(r){return{data:r,error:null}}function LDe(r){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:a,verification_type:s}=r,o=RDe(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:n,hashed_token:i,redirect_to:a,verification_type:s},l=Object.assign({},o);return{data:{properties:c,user:l},error:null}}function UDe(r){return r}function BDe(r){return r.access_token&&r.refresh_token&&r.expires_in}var FDe=function(r,e){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(r);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(r,i[a])&&(n[i[a]]=r[i[a]]);return n};class qDe{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=Mee(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await zt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(It(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await zt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:fu})}catch(i){if(It(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=FDe(e,["options"]),a=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(a.new_email=i==null?void 0:i.newEmail,delete a.newEmail),await zt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:LDe,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(It(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await zt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:fu})}catch(n){if(It(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,a,s,o,c,l;try{const u={nextPage:null,lastPage:0,total:0},d=await zt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(s=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:UDe});if(d.error)throw d.error;const f=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(c=d.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(y=>{const v=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);u[`${b}Page`]=v}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(It(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await zt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:fu})}catch(n){if(It(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await zt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:fu})}catch(i){if(It(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){try{return await zt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:fu})}catch(i){if(It(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){try{const{data:n,error:i}=await zt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:i}}catch(n){if(It(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await zt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(It(n))return{data:null,error:n};throw n}}}const zDe={getItem:r=>rv()?globalThis.localStorage.getItem(r):null,setItem:(r,e)=>{rv()&&globalThis.localStorage.setItem(r,e)},removeItem:r=>{rv()&&globalThis.localStorage.removeItem(r)}};function pq(r={}){return{getItem:e=>r[e]||null,setItem:(e,n)=>{r[e]=n},removeItem:e=>{delete r[e]}}}function HDe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const zh={debug:!!(globalThis&&rv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Uee extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class WDe extends Uee{}async function VDe(r,e,n){zh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),zh.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async a=>{if(a){zh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,a.name);try{return await n()}finally{zh.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,a.name)}}else{if(e===0)throw zh.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new WDe(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(zh.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}HDe();const GDe={url:iDe,storageKey:aDe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sDe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function gq(r,e,n){return await n()}class h0{constructor(e){var n,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=h0.nextInstanceID,h0.nextInstanceID+=1,this.instanceID>0&&To()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},GDe),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new qDe({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Mee(a.fetch),this.lock=a.lock||gq,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:To()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=VDe:this.lock=gq,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:rv()?this.storage=zDe:(this.memoryStorage={},this.storage=pq(this.memoryStorage)):(this.memoryStorage={},this.storage=pq(this.memoryStorage)),To()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ree}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=_De(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),To()&&this.detectSessionInUrl&&i!=="none"){const{data:a,error:s}=await this._getSessionFromURL(n,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),fDe(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:c}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return It(n)?{error:n}:{error:new jee("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,a;try{const s=await zt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:nu}),{data:o,error:c}=s;if(c||!o)return{data:{user:null,session:null},error:c};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(It(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,i,a;try{let s;if("email"in e){const{email:d,password:f,options:p}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await qh(this.storage,this.storageKey)),s=await zt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:y},xform:nu})}else if("phone"in e){const{phone:d,password:f,options:p}=e;s=await zt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(i=p==null?void 0:p.data)!==null&&i!==void 0?i:{},channel:(a=p==null?void 0:p.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:nu})}else throw new L1("You must provide either an email or phone number and a password");const{data:o,error:c}=s;if(c||!o)return{data:{user:null,session:null},error:c};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(It(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:o,options:c}=e;n=await zt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:hq})}else if("phone"in e){const{phone:s,password:o,options:c}=e;n=await zt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:hq})}else throw new L1("You must provide either an email or phone number and a password");const{data:i,error:a}=n;return a?{data:{user:null,session:null},error:a}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new ck}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:a})}catch(n){if(It(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,i,a,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await B1(this.storage,`${this.storageKey}-code-verifier`),[i,a]=(n??"").split("/");try{const{data:s,error:o}=await zt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:nu});if(await F1(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new ck}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:o})}catch(s){if(It(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:i,token:a,access_token:s,nonce:o}=e,c=await zt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:a,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:nu}),{data:l,error:u}=c;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ck}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(It(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,i,a,s,o;try{if("email"in e){const{email:c,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await qh(this.storage,this.storageKey));const{error:f}=await zt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:c,options:l}=e,{data:u,error:d}=await zt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(a=l==null?void 0:l.data)!==null&&a!==void 0?a:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new L1("You must provide either an email or phone number.")}catch(c){if(It(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(e){var n,i;try{let a,s;"options"in e&&(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:o,error:c}=await zt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:nu});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(It(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var n,i,a;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await qh(this.storage,this.storageKey)),await zt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:MDe})}catch(s){if(It(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new ru;const{error:a}=await zt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(It(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:a,options:s}=e,{error:o}=await zt(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:i,type:a,options:s}=e,{data:o,error:c}=await zt(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:c}}throw new L1("You must provide either an email or phone number and a type")}catch(n){if(It(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await B1(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<ok:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:e},error:null}}const{session:a,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await zt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:fu}):await this._useSession(async n=>{var i,a,s;const{data:o,error:c}=n;if(c)throw c;return!(!((i=o.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ru}:await zt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:fu})})}catch(n){if(It(n))return dDe(n)&&(await this._removeSession(),await F1(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:a,error:s}=i;if(s)throw s;if(!a.session)throw new ru;const o=a.session;let c=null,l=null;this.flowType==="pkce"&&e.email!=null&&([c,l]=await qh(this.storage,this.storageKey));const{data:u,error:d}=await zt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:l}),jwt:o.access_token,xform:fu});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(i){if(It(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ru;const n=Date.now()/1e3;let i=n,a=!0,s=null;const{payload:o}=uk(e.access_token);if(o.exp&&(i=o.exp,a=i<=n),a){const{session:c,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};s=c}else{const{data:c,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(It(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:o,error:c}=n;if(c)throw c;e=(i=o.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new ru;const{session:a,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(It(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!To())throw new U1("No browser detected.");if(e.error||e.error_description||e.error_code)throw new U1(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new oq("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new U1("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new oq("No code detected.");const{data:x,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:a,access_token:s,refresh_token:o,expires_in:c,expires_at:l,token_type:u}=e;if(!s||!c||!o||!u)throw new U1("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(c);let p=d+f;l&&(p=parseInt(l));const m=p-d;m*1e3<=tp&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const y=p-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,d);const{data:v,error:b}=await this._getUser(s);if(b)throw b;const w={provider_token:i,provider_refresh_token:a,access_token:s,expires_in:f,expires_at:p,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:e.type},error:null}}catch(i){if(It(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await B1(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:a,error:s}=n;if(s)return{error:s};const o=(i=a.session)===null||i===void 0?void 0:i.access_token;if(o){const{error:c}=await this.admin.signOut(o,e);if(c&&!(uDe(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return e!=="others"&&(await this._removeSession(),await F1(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=wDe(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,a;try{const{data:{session:s},error:o}=n;if(o)throw o;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=await qh(this.storage,this.storageKey,!0));try{return await zt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(It(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(It(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:i,error:a}=await this._useSession(async s=>{var o,c,l,u,d;const{data:f,error:p}=s;if(p)throw p;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await zt(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return To()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:e.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(It(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,a;const{data:s,error:o}=n;if(o)throw o;return await zt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(It(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await SDe(async a=>(a>0&&await EDe(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await zt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:nu})),(a,s)=>{const o=200*Math.pow(2,a);return s&&lk(s)&&Date.now()+o-i<tp})}catch(i){if(this._debug(n,"error",i),It(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),To()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await B1(this.storage,this.storageKey);if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((e=i.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<ok;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${ok}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),lk(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new ru;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new qS;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new ru;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const c={session:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(a,"error",s),It(s)){const o={session:null,error:s};return lk(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,n,i=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Lee(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await F1(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&To()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),tp);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((i.expires_at*1e3-e)/tp);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${tp}ms, refresh threshold is ${_$} ticks`),a<=_$&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Uee)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!To()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const a=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&a.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&a.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[s,o]=await qh(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(c.toString())}if(i!=null&&i.queryParams){const s=new URLSearchParams(i.queryParams);a.push(s.toString())}return i!=null&&i.skipBrowserRedirect&&a.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:a,error:s}=n;return s?{data:null,error:s}:await zt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(It(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,a;const{data:s,error:o}=n;if(o)return{data:null,error:o};const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await zt(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(It(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:a,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:c}=await zt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:c})})}catch(n){if(It(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:a,error:s}=n;return s?{data:null,error:s}:await zt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(It(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const i=(e==null?void 0:e.factors)||[],a=i.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=i.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:i,totp:a,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,i;const{data:{session:a},error:s}=e;if(s)return{data:null,error:s};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=uk(a.access_token);let c=null;o.aal&&(c=o.aal);let l=c;((i=(n=a.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:c,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(o=>o.kid===e);if(i||(i=this.jwks.keys.find(o=>o.kid===e),i&&this.jwks_cached_at+cDe>Date.now()))return i;const{data:a,error:s}=await zt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!a.keys||a.keys.length===0)throw new tv("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),i=a.keys.find(o=>o.kid===e),!i)throw new tv("No matching signing key found in JWKS");return i}async getClaims(e,n={keys:[]}){try{let i=e;if(!i){const{data:m,error:y}=await this.getSession();if(y||!m.session)return{data:null,error:y};i=m.session.access_token}const{header:a,payload:s,signature:o,raw:{header:c,payload:l}}=uk(i);if(NDe(s.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(i);if(m)throw m;return{data:{claims:s,header:a,signature:o},error:null}}const u=IDe(a.alg),d=await this.fetchJwk(a.kid,n),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,vDe(`${c}.${l}`)))throw new tv("Invalid JWT signature");return{data:{claims:s,header:a,signature:o},error:null}}catch(i){if(It(i))return{data:null,error:i};throw i}}}h0.nextInstanceID=0;const KDe=h0;class YDe extends KDe{constructor(e){super(e)}}var XDe=function(r,e,n,i){function a(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(d){try{u(i.next(d))}catch(f){o(f)}}function l(d){try{u(i.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(c,l)}u((i=i.apply(r,e||[])).next())})};class JDe{constructor(e,n,i){var a,s,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const c=rDe(e),l=new URL(c);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:K3e,realtime:X3e,auth:Object.assign(Object.assign({},Y3e),{storageKey:u}),global:G3e},f=nDe(i??{},d);this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=eDe(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new g3e(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new n3e(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new H3e(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},i={}){return this.rest.rpc(e,n,i)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return XDe(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(n=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:a,storageKey:s,flowType:o,lock:c,debug:l},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new YDe({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:a,flowType:o,lock:c,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new O3e(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,n,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ZDe=(r,e,n)=>new JDe(r,e,n),QDe="https://swrizemcslheqscimzwp.supabase.co",e5e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN3cml6ZW1jc2xoZXFzY2ltendwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDE4MjI2OTAsImV4cCI6MjA1NzM5ODY5MH0.SOEqr5aqLmyEeeUXW7J2ENWkd-xb9FXVdnrw5z-oA0c",Ct=ZDe(QDe,e5e,{auth:{redirectTo:"https://aleflabs.net/main?tab=feed"}});function Bee(r,e){return function(){return r.apply(e,arguments)}}const{toString:t5e}=Object.prototype,{getPrototypeOf:n5}=Object,{iterator:zS,toStringTag:Fee}=Symbol,HS=(r=>e=>{const n=t5e.call(e);return r[n]||(r[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),uo=r=>(r=r.toLowerCase(),e=>HS(e)===r),WS=r=>e=>typeof e===r,{isArray:Bg}=Array,p0=WS("undefined");function r5e(r){return r!==null&&!p0(r)&&r.constructor!==null&&!p0(r.constructor)&&fa(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const qee=uo("ArrayBuffer");function n5e(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&qee(r.buffer),e}const i5e=WS("string"),fa=WS("function"),zee=WS("number"),VS=r=>r!==null&&typeof r=="object",a5e=r=>r===!0||r===!1,M_=r=>{if(HS(r)!=="object")return!1;const e=n5(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Fee in r)&&!(zS in r)},s5e=uo("Date"),o5e=uo("File"),c5e=uo("Blob"),l5e=uo("FileList"),u5e=r=>VS(r)&&fa(r.pipe),d5e=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||fa(r.append)&&((e=HS(r))==="formdata"||e==="object"&&fa(r.toString)&&r.toString()==="[object FormData]"))},f5e=uo("URLSearchParams"),[h5e,p5e,g5e,m5e]=["ReadableStream","Request","Response","Headers"].map(uo),y5e=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ib(r,e,{allOwnKeys:n=!1}={}){if(r===null||typeof r>"u")return;let i,a;if(typeof r!="object"&&(r=[r]),Bg(r))for(i=0,a=r.length;i<a;i++)e.call(null,r[i],i,r);else{const s=n?Object.getOwnPropertyNames(r):Object.keys(r),o=s.length;let c;for(i=0;i<o;i++)c=s[i],e.call(null,r[c],c,r)}}function Hee(r,e){e=e.toLowerCase();const n=Object.keys(r);let i=n.length,a;for(;i-- >0;)if(a=n[i],e===a.toLowerCase())return a;return null}const Ud=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Wee=r=>!p0(r)&&r!==Ud;function S$(){const{caseless:r}=Wee(this)&&this||{},e={},n=(i,a)=>{const s=r&&Hee(e,a)||a;M_(e[s])&&M_(i)?e[s]=S$(e[s],i):M_(i)?e[s]=S$({},i):Bg(i)?e[s]=i.slice():e[s]=i};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&Ib(arguments[i],n);return e}const v5e=(r,e,n,{allOwnKeys:i}={})=>(Ib(e,(a,s)=>{n&&fa(a)?r[s]=Bee(a,n):r[s]=a},{allOwnKeys:i}),r),b5e=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),w5e=(r,e,n,i)=>{r.prototype=Object.create(e.prototype,i),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),n&&Object.assign(r.prototype,n)},_5e=(r,e,n,i)=>{let a,s,o;const c={};if(e=e||{},r==null)return e;do{for(a=Object.getOwnPropertyNames(r),s=a.length;s-- >0;)o=a[s],(!i||i(o,r,e))&&!c[o]&&(e[o]=r[o],c[o]=!0);r=n!==!1&&n5(r)}while(r&&(!n||n(r,e))&&r!==Object.prototype);return e},x5e=(r,e,n)=>{r=String(r),(n===void 0||n>r.length)&&(n=r.length),n-=e.length;const i=r.indexOf(e,n);return i!==-1&&i===n},E5e=r=>{if(!r)return null;if(Bg(r))return r;let e=r.length;if(!zee(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=r[e];return n},S5e=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&n5(Uint8Array)),C5e=(r,e)=>{const i=(r&&r[zS]).call(r);let a;for(;(a=i.next())&&!a.done;){const s=a.value;e.call(r,s[0],s[1])}},A5e=(r,e)=>{let n;const i=[];for(;(n=r.exec(e))!==null;)i.push(n);return i},T5e=uo("HTMLFormElement"),k5e=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,a){return i.toUpperCase()+a}),mq=(({hasOwnProperty:r})=>(e,n)=>r.call(e,n))(Object.prototype),P5e=uo("RegExp"),Vee=(r,e)=>{const n=Object.getOwnPropertyDescriptors(r),i={};Ib(n,(a,s)=>{let o;(o=e(a,s,r))!==!1&&(i[s]=o||a)}),Object.defineProperties(r,i)},O5e=r=>{Vee(r,(e,n)=>{if(fa(r)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=r[n];if(fa(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},N5e=(r,e)=>{const n={},i=a=>{a.forEach(s=>{n[s]=!0})};return Bg(r)?i(r):i(String(r).split(e)),n},I5e=()=>{},R5e=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function $5e(r){return!!(r&&fa(r.append)&&r[Fee]==="FormData"&&r[zS])}const j5e=r=>{const e=new Array(10),n=(i,a)=>{if(VS(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[a]=i;const s=Bg(i)?[]:{};return Ib(i,(o,c)=>{const l=n(o,a+1);!p0(l)&&(s[c]=l)}),e[a]=void 0,s}}return i};return n(r,0)},D5e=uo("AsyncFunction"),M5e=r=>r&&(VS(r)||fa(r))&&fa(r.then)&&fa(r.catch),Gee=((r,e)=>r?setImmediate:e?((n,i)=>(Ud.addEventListener("message",({source:a,data:s})=>{a===Ud&&s===n&&i.length&&i.shift()()},!1),a=>{i.push(a),Ud.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",fa(Ud.postMessage)),L5e=typeof queueMicrotask<"u"?queueMicrotask.bind(Ud):typeof process<"u"&&process.nextTick||Gee,U5e=r=>r!=null&&fa(r[zS]),de={isArray:Bg,isArrayBuffer:qee,isBuffer:r5e,isFormData:d5e,isArrayBufferView:n5e,isString:i5e,isNumber:zee,isBoolean:a5e,isObject:VS,isPlainObject:M_,isReadableStream:h5e,isRequest:p5e,isResponse:g5e,isHeaders:m5e,isUndefined:p0,isDate:s5e,isFile:o5e,isBlob:c5e,isRegExp:P5e,isFunction:fa,isStream:u5e,isURLSearchParams:f5e,isTypedArray:S5e,isFileList:l5e,forEach:Ib,merge:S$,extend:v5e,trim:y5e,stripBOM:b5e,inherits:w5e,toFlatObject:_5e,kindOf:HS,kindOfTest:uo,endsWith:x5e,toArray:E5e,forEachEntry:C5e,matchAll:A5e,isHTMLForm:T5e,hasOwnProperty:mq,hasOwnProp:mq,reduceDescriptors:Vee,freezeMethods:O5e,toObjectSet:N5e,toCamelCase:k5e,noop:I5e,toFiniteNumber:R5e,findKey:Hee,global:Ud,isContextDefined:Wee,isSpecCompliantForm:$5e,toJSONObject:j5e,isAsyncFn:D5e,isThenable:M5e,setImmediate:Gee,asap:L5e,isIterable:U5e};function kt(r,e,n,i,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),a&&(this.response=a,this.status=a.status?a.status:null)}de.inherits(kt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:de.toJSONObject(this.config),code:this.code,status:this.status}}});const Kee=kt.prototype,Yee={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{Yee[r]={value:r}});Object.defineProperties(kt,Yee);Object.defineProperty(Kee,"isAxiosError",{value:!0});kt.from=(r,e,n,i,a,s)=>{const o=Object.create(Kee);return de.toFlatObject(r,o,function(l){return l!==Error.prototype},c=>c!=="isAxiosError"),kt.call(o,r.message,e,n,i,a),o.cause=r,o.name=r.name,s&&Object.assign(o,s),o};const B5e=null;function C$(r){return de.isPlainObject(r)||de.isArray(r)}function Xee(r){return de.endsWith(r,"[]")?r.slice(0,-2):r}function yq(r,e,n){return r?r.concat(e).map(function(a,s){return a=Xee(a),!n&&s?"["+a+"]":a}).join(n?".":""):e}function F5e(r){return de.isArray(r)&&!r.some(C$)}const q5e=de.toFlatObject(de,{},null,function(e){return/^is[A-Z]/.test(e)});function GS(r,e,n){if(!de.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,n=de.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,b){return!de.isUndefined(b[v])});const i=n.metaTokens,a=n.visitor||d,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&de.isSpecCompliantForm(e);if(!de.isFunction(a))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(de.isDate(y))return y.toISOString();if(!l&&de.isBlob(y))throw new kt("Blob is not supported. Use a Buffer instead.");return de.isArrayBuffer(y)||de.isTypedArray(y)?l&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,v,b){let w=y;if(y&&!b&&typeof y=="object"){if(de.endsWith(v,"{}"))v=i?v:v.slice(0,-2),y=JSON.stringify(y);else if(de.isArray(y)&&F5e(y)||(de.isFileList(y)||de.endsWith(v,"[]"))&&(w=de.toArray(y)))return v=Xee(v),w.forEach(function(E,A){!(de.isUndefined(E)||E===null)&&e.append(o===!0?yq([v],A,s):o===null?v:v+"[]",u(E))}),!1}return C$(y)?!0:(e.append(yq(b,v,s),u(y)),!1)}const f=[],p=Object.assign(q5e,{defaultVisitor:d,convertValue:u,isVisitable:C$});function m(y,v){if(!de.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(y),de.forEach(y,function(w,x){(!(de.isUndefined(w)||w===null)&&a.call(e,w,de.isString(x)?x.trim():x,v,p))===!0&&m(w,v?v.concat(x):[x])}),f.pop()}}if(!de.isObject(r))throw new TypeError("data must be an object");return m(r),e}function vq(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function i5(r,e){this._pairs=[],r&&GS(r,this,e)}const Jee=i5.prototype;Jee.append=function(e,n){this._pairs.push([e,n])};Jee.toString=function(e){const n=e?function(i){return e.call(this,i,vq)}:vq;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function z5e(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Zee(r,e,n){if(!e)return r;const i=n&&n.encode||z5e;de.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let s;if(a?s=a(e,n):s=de.isURLSearchParams(e)?e.toString():new i5(e,n).toString(i),s){const o=r.indexOf("#");o!==-1&&(r=r.slice(0,o)),r+=(r.indexOf("?")===-1?"?":"&")+s}return r}class bq{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){de.forEach(this.handlers,function(i){i!==null&&e(i)})}}const Qee={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},H5e=typeof URLSearchParams<"u"?URLSearchParams:i5,W5e=typeof FormData<"u"?FormData:null,V5e=typeof Blob<"u"?Blob:null,G5e={isBrowser:!0,classes:{URLSearchParams:H5e,FormData:W5e,Blob:V5e},protocols:["http","https","file","blob","url","data"]},a5=typeof window<"u"&&typeof document<"u",A$=typeof navigator=="object"&&navigator||void 0,K5e=a5&&(!A$||["ReactNative","NativeScript","NS"].indexOf(A$.product)<0),Y5e=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",X5e=a5&&window.location.href||"http://localhost",J5e=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:a5,hasStandardBrowserEnv:K5e,hasStandardBrowserWebWorkerEnv:Y5e,navigator:A$,origin:X5e},Symbol.toStringTag,{value:"Module"})),Ci={...J5e,...G5e};function Z5e(r,e){return GS(r,new Ci.classes.URLSearchParams,Object.assign({visitor:function(n,i,a,s){return Ci.isNode&&de.isBuffer(n)?(this.append(i,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function Q5e(r){return de.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function eMe(r){const e={},n=Object.keys(r);let i;const a=n.length;let s;for(i=0;i<a;i++)s=n[i],e[s]=r[s];return e}function ete(r){function e(n,i,a,s){let o=n[s++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),l=s>=n.length;return o=!o&&de.isArray(a)?a.length:o,l?(de.hasOwnProp(a,o)?a[o]=[a[o],i]:a[o]=i,!c):((!a[o]||!de.isObject(a[o]))&&(a[o]=[]),e(n,i,a[o],s)&&de.isArray(a[o])&&(a[o]=eMe(a[o])),!c)}if(de.isFormData(r)&&de.isFunction(r.entries)){const n={};return de.forEachEntry(r,(i,a)=>{e(Q5e(i),a,n,0)}),n}return null}function tMe(r,e,n){if(de.isString(r))try{return(e||JSON.parse)(r),de.trim(r)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(r)}const Rb={transitional:Qee,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",a=i.indexOf("application/json")>-1,s=de.isObject(e);if(s&&de.isHTMLForm(e)&&(e=new FormData(e)),de.isFormData(e))return a?JSON.stringify(ete(e)):e;if(de.isArrayBuffer(e)||de.isBuffer(e)||de.isStream(e)||de.isFile(e)||de.isBlob(e)||de.isReadableStream(e))return e;if(de.isArrayBufferView(e))return e.buffer;if(de.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Z5e(e,this.formSerializer).toString();if((c=de.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return GS(c?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||a?(n.setContentType("application/json",!1),tMe(e)):e}],transformResponse:[function(e){const n=this.transitional||Rb.transitional,i=n&&n.forcedJSONParsing,a=this.responseType==="json";if(de.isResponse(e)||de.isReadableStream(e))return e;if(e&&de.isString(e)&&(i&&!this.responseType||a)){const o=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(c){if(o)throw c.name==="SyntaxError"?kt.from(c,kt.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ci.classes.FormData,Blob:Ci.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};de.forEach(["delete","get","head","post","put","patch"],r=>{Rb.headers[r]={}});const rMe=de.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nMe=r=>{const e={};let n,i,a;return r&&r.split(`
`).forEach(function(o){a=o.indexOf(":"),n=o.substring(0,a).trim().toLowerCase(),i=o.substring(a+1).trim(),!(!n||e[n]&&rMe[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},wq=Symbol("internals");function ny(r){return r&&String(r).trim().toLowerCase()}function L_(r){return r===!1||r==null?r:de.isArray(r)?r.map(L_):String(r)}function iMe(r){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(r);)e[i[1]]=i[2];return e}const aMe=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function dk(r,e,n,i,a){if(de.isFunction(i))return i.call(this,e,n);if(a&&(e=n),!!de.isString(e)){if(de.isString(i))return e.indexOf(i)!==-1;if(de.isRegExp(i))return i.test(e)}}function sMe(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function oMe(r,e){const n=de.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(r,i+n,{value:function(a,s,o){return this[i].call(this,e,a,s,o)},configurable:!0})})}let ha=class{constructor(e){e&&this.set(e)}set(e,n,i){const a=this;function s(c,l,u){const d=ny(l);if(!d)throw new Error("header name must be a non-empty string");const f=de.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||l]=L_(c))}const o=(c,l)=>de.forEach(c,(u,d)=>s(u,d,l));if(de.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(de.isString(e)&&(e=e.trim())&&!aMe(e))o(nMe(e),n);else if(de.isObject(e)&&de.isIterable(e)){let c={},l,u;for(const d of e){if(!de.isArray(d))throw TypeError("Object iterator must return a key-value pair");c[u=d[0]]=(l=c[u])?de.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}o(c,n)}else e!=null&&s(n,e,i);return this}get(e,n){if(e=ny(e),e){const i=de.findKey(this,e);if(i){const a=this[i];if(!n)return a;if(n===!0)return iMe(a);if(de.isFunction(n))return n.call(this,a,i);if(de.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ny(e),e){const i=de.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||dk(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let a=!1;function s(o){if(o=ny(o),o){const c=de.findKey(i,o);c&&(!n||dk(i,i[c],c,n))&&(delete i[c],a=!0)}}return de.isArray(e)?e.forEach(s):s(e),a}clear(e){const n=Object.keys(this);let i=n.length,a=!1;for(;i--;){const s=n[i];(!e||dk(this,this[s],s,e,!0))&&(delete this[s],a=!0)}return a}normalize(e){const n=this,i={};return de.forEach(this,(a,s)=>{const o=de.findKey(i,s);if(o){n[o]=L_(a),delete n[s];return}const c=e?sMe(s):String(s).trim();c!==s&&delete n[s],n[c]=L_(a),i[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return de.forEach(this,(i,a)=>{i!=null&&i!==!1&&(n[a]=e&&de.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(a=>i.set(a)),i}static accessor(e){const i=(this[wq]=this[wq]={accessors:{}}).accessors,a=this.prototype;function s(o){const c=ny(o);i[c]||(oMe(a,o),i[c]=!0)}return de.isArray(e)?e.forEach(s):s(e),this}};ha.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);de.reduceDescriptors(ha.prototype,({value:r},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(i){this[n]=i}}});de.freezeMethods(ha);function fk(r,e){const n=this||Rb,i=e||n,a=ha.from(i.headers);let s=i.data;return de.forEach(r,function(c){s=c.call(n,s,a.normalize(),e?e.status:void 0)}),a.normalize(),s}function tte(r){return!!(r&&r.__CANCEL__)}function Fg(r,e,n){kt.call(this,r??"canceled",kt.ERR_CANCELED,e,n),this.name="CanceledError"}de.inherits(Fg,kt,{__CANCEL__:!0});function rte(r,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?r(n):e(new kt("Request failed with status code "+n.status,[kt.ERR_BAD_REQUEST,kt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function cMe(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function lMe(r,e){r=r||10;const n=new Array(r),i=new Array(r);let a=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=i[s];o||(o=u),n[a]=l,i[a]=u;let f=s,p=0;for(;f!==a;)p+=n[f++],f=f%r;if(a=(a+1)%r,a===s&&(s=(s+1)%r),u-o<e)return;const m=d&&u-d;return m?Math.round(p*1e3/m):void 0}}function uMe(r,e){let n=0,i=1e3/e,a,s;const o=(u,d=Date.now())=>{n=d,a=null,s&&(clearTimeout(s),s=null),r.apply(null,u)};return[(...u)=>{const d=Date.now(),f=d-n;f>=i?o(u,d):(a=u,s||(s=setTimeout(()=>{s=null,o(a)},i-f)))},()=>a&&o(a)]}const Px=(r,e,n=3)=>{let i=0;const a=lMe(50,250);return uMe(s=>{const o=s.loaded,c=s.lengthComputable?s.total:void 0,l=o-i,u=a(l),d=o<=c;i=o;const f={loaded:o,total:c,progress:c?o/c:void 0,bytes:l,rate:u||void 0,estimated:u&&c&&d?(c-o)/u:void 0,event:s,lengthComputable:c!=null,[e?"download":"upload"]:!0};r(f)},n)},_q=(r,e)=>{const n=r!=null;return[i=>e[0]({lengthComputable:n,total:r,loaded:i}),e[1]]},xq=r=>(...e)=>de.asap(()=>r(...e)),dMe=Ci.hasStandardBrowserEnv?((r,e)=>n=>(n=new URL(n,Ci.origin),r.protocol===n.protocol&&r.host===n.host&&(e||r.port===n.port)))(new URL(Ci.origin),Ci.navigator&&/(msie|trident)/i.test(Ci.navigator.userAgent)):()=>!0,fMe=Ci.hasStandardBrowserEnv?{write(r,e,n,i,a,s){const o=[r+"="+encodeURIComponent(e)];de.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),de.isString(i)&&o.push("path="+i),de.isString(a)&&o.push("domain="+a),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function hMe(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function pMe(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function nte(r,e,n){let i=!hMe(e);return r&&(i||n==!1)?pMe(r,e):e}const Eq=r=>r instanceof ha?{...r}:r;function Ef(r,e){e=e||{};const n={};function i(u,d,f,p){return de.isPlainObject(u)&&de.isPlainObject(d)?de.merge.call({caseless:p},u,d):de.isPlainObject(d)?de.merge({},d):de.isArray(d)?d.slice():d}function a(u,d,f,p){if(de.isUndefined(d)){if(!de.isUndefined(u))return i(void 0,u,f,p)}else return i(u,d,f,p)}function s(u,d){if(!de.isUndefined(d))return i(void 0,d)}function o(u,d){if(de.isUndefined(d)){if(!de.isUndefined(u))return i(void 0,u)}else return i(void 0,d)}function c(u,d,f){if(f in e)return i(u,d);if(f in r)return i(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(u,d,f)=>a(Eq(u),Eq(d),f,!0)};return de.forEach(Object.keys(Object.assign({},r,e)),function(d){const f=l[d]||a,p=f(r[d],e[d],d);de.isUndefined(p)&&f!==c||(n[d]=p)}),n}const ite=r=>{const e=Ef({},r);let{data:n,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:s,headers:o,auth:c}=e;e.headers=o=ha.from(o),e.url=Zee(nte(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let l;if(de.isFormData(n)){if(Ci.hasStandardBrowserEnv||Ci.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...d]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(Ci.hasStandardBrowserEnv&&(i&&de.isFunction(i)&&(i=i(e)),i||i!==!1&&dMe(e.url))){const u=a&&s&&fMe.read(s);u&&o.set(a,u)}return e},gMe=typeof XMLHttpRequest<"u",mMe=gMe&&function(r){return new Promise(function(n,i){const a=ite(r);let s=a.data;const o=ha.from(a.headers).normalize();let{responseType:c,onUploadProgress:l,onDownloadProgress:u}=a,d,f,p,m,y;function v(){m&&m(),y&&y(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(a.method.toUpperCase(),a.url,!0),b.timeout=a.timeout;function w(){if(!b)return;const E=ha.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),S={data:!c||c==="text"||c==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:E,config:r,request:b};rte(function(P){n(P),v()},function(P){i(P),v()},S),b=null}"onloadend"in b?b.onloadend=w:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(w)},b.onabort=function(){b&&(i(new kt("Request aborted",kt.ECONNABORTED,r,b)),b=null)},b.onerror=function(){i(new kt("Network Error",kt.ERR_NETWORK,r,b)),b=null},b.ontimeout=function(){let A=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const S=a.transitional||Qee;a.timeoutErrorMessage&&(A=a.timeoutErrorMessage),i(new kt(A,S.clarifyTimeoutError?kt.ETIMEDOUT:kt.ECONNABORTED,r,b)),b=null},s===void 0&&o.setContentType(null),"setRequestHeader"in b&&de.forEach(o.toJSON(),function(A,S){b.setRequestHeader(S,A)}),de.isUndefined(a.withCredentials)||(b.withCredentials=!!a.withCredentials),c&&c!=="json"&&(b.responseType=a.responseType),u&&([p,y]=Px(u,!0),b.addEventListener("progress",p)),l&&b.upload&&([f,m]=Px(l),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(d=E=>{b&&(i(!E||E.type?new Fg(null,r,b):E),b.abort(),b=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const x=cMe(a.url);if(x&&Ci.protocols.indexOf(x)===-1){i(new kt("Unsupported protocol "+x+":",kt.ERR_BAD_REQUEST,r));return}b.send(s||null)})},yMe=(r,e)=>{const{length:n}=r=r?r.filter(Boolean):[];if(e||n){let i=new AbortController,a;const s=function(u){if(!a){a=!0,c();const d=u instanceof Error?u:this.reason;i.abort(d instanceof kt?d:new Fg(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,s(new kt(`timeout ${e} of ms exceeded`,kt.ETIMEDOUT))},e);const c=()=>{r&&(o&&clearTimeout(o),o=null,r.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),r=null)};r.forEach(u=>u.addEventListener("abort",s));const{signal:l}=i;return l.unsubscribe=()=>de.asap(c),l}},vMe=function*(r,e){let n=r.byteLength;if(n<e){yield r;return}let i=0,a;for(;i<n;)a=i+e,yield r.slice(i,a),i=a},bMe=async function*(r,e){for await(const n of wMe(r))yield*vMe(n,e)},wMe=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},Sq=(r,e,n,i)=>{const a=bMe(r,e);let s=0,o,c=l=>{o||(o=!0,i&&i(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await a.next();if(u){c(),l.close();return}let f=d.byteLength;if(n){let p=s+=f;n(p)}l.enqueue(new Uint8Array(d))}catch(u){throw c(u),u}},cancel(l){return c(l),a.return()}},{highWaterMark:2})},KS=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ate=KS&&typeof ReadableStream=="function",_Me=KS&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),ste=(r,...e)=>{try{return!!r(...e)}catch{return!1}},xMe=ate&&ste(()=>{let r=!1;const e=new Request(Ci.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e}),Cq=64*1024,T$=ate&&ste(()=>de.isReadableStream(new Response("").body)),Ox={stream:T$&&(r=>r.body)};KS&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ox[e]&&(Ox[e]=de.isFunction(r[e])?n=>n[e]():(n,i)=>{throw new kt(`Response type '${e}' is not supported`,kt.ERR_NOT_SUPPORT,i)})})})(new Response);const EMe=async r=>{if(r==null)return 0;if(de.isBlob(r))return r.size;if(de.isSpecCompliantForm(r))return(await new Request(Ci.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(de.isArrayBufferView(r)||de.isArrayBuffer(r))return r.byteLength;if(de.isURLSearchParams(r)&&(r=r+""),de.isString(r))return(await _Me(r)).byteLength},SMe=async(r,e)=>{const n=de.toFiniteNumber(r.getContentLength());return n??EMe(e)},CMe=KS&&(async r=>{let{url:e,method:n,data:i,signal:a,cancelToken:s,timeout:o,onDownloadProgress:c,onUploadProgress:l,responseType:u,headers:d,withCredentials:f="same-origin",fetchOptions:p}=ite(r);u=u?(u+"").toLowerCase():"text";let m=yMe([a,s&&s.toAbortSignal()],o),y;const v=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let b;try{if(l&&xMe&&n!=="get"&&n!=="head"&&(b=await SMe(d,i))!==0){let S=new Request(e,{method:"POST",body:i,duplex:"half"}),C;if(de.isFormData(i)&&(C=S.headers.get("content-type"))&&d.setContentType(C),S.body){const[P,O]=_q(b,Px(xq(l)));i=Sq(S.body,Cq,P,O)}}de.isString(f)||(f=f?"include":"omit");const w="credentials"in Request.prototype;y=new Request(e,{...p,signal:m,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:i,duplex:"half",credentials:w?f:void 0});let x=await fetch(y);const E=T$&&(u==="stream"||u==="response");if(T$&&(c||E&&v)){const S={};["status","statusText","headers"].forEach(I=>{S[I]=x[I]});const C=de.toFiniteNumber(x.headers.get("content-length")),[P,O]=c&&_q(C,Px(xq(c),!0))||[];x=new Response(Sq(x.body,Cq,P,()=>{O&&O(),v&&v()}),S)}u=u||"text";let A=await Ox[de.findKey(Ox,u)||"text"](x,r);return!E&&v&&v(),await new Promise((S,C)=>{rte(S,C,{data:A,headers:ha.from(x.headers),status:x.status,statusText:x.statusText,config:r,request:y})})}catch(w){throw v&&v(),w&&w.name==="TypeError"&&/Load failed|fetch/i.test(w.message)?Object.assign(new kt("Network Error",kt.ERR_NETWORK,r,y),{cause:w.cause||w}):kt.from(w,w&&w.code,r,y)}}),k$={http:B5e,xhr:mMe,fetch:CMe};de.forEach(k$,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const Aq=r=>`- ${r}`,AMe=r=>de.isFunction(r)||r===null||r===!1,ote={getAdapter:r=>{r=de.isArray(r)?r:[r];const{length:e}=r;let n,i;const a={};for(let s=0;s<e;s++){n=r[s];let o;if(i=n,!AMe(n)&&(i=k$[(o=String(n)).toLowerCase()],i===void 0))throw new kt(`Unknown adapter '${o}'`);if(i)break;a[o||"#"+s]=i}if(!i){const s=Object.entries(a).map(([c,l])=>`adapter ${c} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(Aq).join(`
`):" "+Aq(s[0]):"as no adapter specified";throw new kt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:k$};function hk(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Fg(null,r)}function Tq(r){return hk(r),r.headers=ha.from(r.headers),r.data=fk.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),ote.getAdapter(r.adapter||Rb.adapter)(r).then(function(i){return hk(r),i.data=fk.call(r,r.transformResponse,i),i.headers=ha.from(i.headers),i},function(i){return tte(i)||(hk(r),i&&i.response&&(i.response.data=fk.call(r,r.transformResponse,i.response),i.response.headers=ha.from(i.response.headers))),Promise.reject(i)})}const cte="1.9.0",YS={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{YS[r]=function(i){return typeof i===r||"a"+(e<1?"n ":" ")+r}});const kq={};YS.transitional=function(e,n,i){function a(s,o){return"[Axios v"+cte+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,c)=>{if(e===!1)throw new kt(a(o," has been removed"+(n?" in "+n:"")),kt.ERR_DEPRECATED);return n&&!kq[o]&&(kq[o]=!0,console.warn(a(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,c):!0}};YS.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function TMe(r,e,n){if(typeof r!="object")throw new kt("options must be an object",kt.ERR_BAD_OPTION_VALUE);const i=Object.keys(r);let a=i.length;for(;a-- >0;){const s=i[a],o=e[s];if(o){const c=r[s],l=c===void 0||o(c,s,r);if(l!==!0)throw new kt("option "+s+" must be "+l,kt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new kt("Unknown option "+s,kt.ERR_BAD_OPTION)}}const U_={assertOptions:TMe,validators:YS},So=U_.validators;let Qd=class{constructor(e){this.defaults=e||{},this.interceptors={request:new bq,response:new bq}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ef(this.defaults,n);const{transitional:i,paramsSerializer:a,headers:s}=n;i!==void 0&&U_.assertOptions(i,{silentJSONParsing:So.transitional(So.boolean),forcedJSONParsing:So.transitional(So.boolean),clarifyTimeoutError:So.transitional(So.boolean)},!1),a!=null&&(de.isFunction(a)?n.paramsSerializer={serialize:a}:U_.assertOptions(a,{encode:So.function,serialize:So.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),U_.assertOptions(n,{baseUrl:So.spelling("baseURL"),withXsrfToken:So.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&de.merge(s.common,s[n.method]);s&&de.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),n.headers=ha.concat(o,s);const c=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(l=l&&v.synchronous,c.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,f=0,p;if(!l){const y=[Tq.bind(this),void 0];for(y.unshift.apply(y,c),y.push.apply(y,u),p=y.length,d=Promise.resolve(n);f<p;)d=d.then(y[f++],y[f++]);return d}p=c.length;let m=n;for(f=0;f<p;){const y=c[f++],v=c[f++];try{m=y(m)}catch(b){v.call(this,b);break}}try{d=Tq.call(this,m)}catch(y){return Promise.reject(y)}for(f=0,p=u.length;f<p;)d=d.then(u[f++],u[f++]);return d}getUri(e){e=Ef(this.defaults,e);const n=nte(e.baseURL,e.url,e.allowAbsoluteUrls);return Zee(n,e.params,e.paramsSerializer)}};de.forEach(["delete","get","head","options"],function(e){Qd.prototype[e]=function(n,i){return this.request(Ef(i||{},{method:e,url:n,data:(i||{}).data}))}});de.forEach(["post","put","patch"],function(e){function n(i){return function(s,o,c){return this.request(Ef(c||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Qd.prototype[e]=n(),Qd.prototype[e+"Form"]=n(!0)});let kMe=class lte{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const i=this;this.promise.then(a=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](a);i._listeners=null}),this.promise.then=a=>{let s;const o=new Promise(c=>{i.subscribe(c),s=c}).then(a);return o.cancel=function(){i.unsubscribe(s)},o},e(function(s,o,c){i.reason||(i.reason=new Fg(s,o,c),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new lte(function(a){e=a}),cancel:e}}};function PMe(r){return function(n){return r.apply(null,n)}}function OMe(r){return de.isObject(r)&&r.isAxiosError===!0}const P$={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(P$).forEach(([r,e])=>{P$[e]=r});function ute(r){const e=new Qd(r),n=Bee(Qd.prototype.request,e);return de.extend(n,Qd.prototype,e,{allOwnKeys:!0}),de.extend(n,e,null,{allOwnKeys:!0}),n.create=function(a){return ute(Ef(r,a))},n}const qe=ute(Rb);qe.Axios=Qd;qe.CanceledError=Fg;qe.CancelToken=kMe;qe.isCancel=tte;qe.VERSION=cte;qe.toFormData=GS;qe.AxiosError=kt;qe.Cancel=qe.CanceledError;qe.all=function(e){return Promise.all(e)};qe.spread=PMe;qe.isAxiosError=OMe;qe.mergeConfig=Ef;qe.AxiosHeaders=ha;qe.formToJSON=r=>ete(de.isHTMLForm(r)?new FormData(r):r);qe.getAdapter=ote.getAdapter;qe.HttpStatusCode=P$;qe.default=qe;const{Axios:iut,AxiosError:aut,CanceledError:sut,isCancel:out,CancelToken:cut,VERSION:lut,all:uut,Cancel:dut,isAxiosError:fut,spread:hut,toFormData:put,AxiosHeaders:gut,HttpStatusCode:mut,formToJSON:yut,getAdapter:vut,mergeConfig:but}=qe,NMe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySW5mb3JtYXRpb24iOnsiaWQiOiJjMzllM2QxNy0zYTZkLTQyZjMtOGU3MS1iMmFhYjVjZGVmOTYiLCJlbWFpbCI6Im1yLmRhbXJhQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJwaW5fcG9saWN5Ijp7InJlZ2lvbnMiOlt7ImRlc2lyZWRSZXBsaWNhdGlvbkNvdW50IjoxLCJpZCI6IkZSQTEifSx7ImRlc2lyZWRSZXBsaWNhdGlvbkNvdW50IjoxLCJpZCI6Ik5ZQzEifV0sInZlcnNpb24iOjF9LCJtZmFfZW5hYmxlZCI6ZmFsc2UsInN0YXR1cyI6IkFDVElWRSJ9LCJhdXRoZW50aWNhdGlvblR5cGUiOiJzY29wZWRLZXkiLCJzY29wZWRLZXlLZXkiOiIyZjU1ZjgxMzI3YjUxYzFlMmY2MyIsInNjb3BlZEtleVNlY3JldCI6ImExYzY5OGJmYjAxODhhNTgwOTMzMzBhY2UxZmI1MDdjZDc3MWZiYzJjNDE4YmQ5NDU4OTU1ZDEyYWEyN2E4Y2MiLCJleHAiOjE3NzgwMzIzOTF9.jmtAP4HrytuEX044Fvtides-57vySsX-cwNIALTDrD0",dte="54d95c9575e243f113bcaf91c622c299",Wr="http://127.0.0.1:8000",q1="0xd2a5ed09452561c1918e5e965173c90d021eea8c";function fte(r){var e,n,i="";if(typeof r=="string"||typeof r=="number")i+=r;else if(typeof r=="object")if(Array.isArray(r)){var a=r.length;for(e=0;e<a;e++)r[e]&&(n=fte(r[e]))&&(i&&(i+=" "),i+=n)}else for(n in r)r[n]&&(i&&(i+=" "),i+=n);return i}function ef(){for(var r,e,n=0,i="",a=arguments.length;n<a;n++)(r=arguments[n])&&(e=fte(r))&&(i&&(i+=" "),i+=e);return i}function IMe(r){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=r:n.appendChild(document.createTextNode(r))}IMe(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var $b=r=>typeof r=="number"&&!isNaN(r),Sf=r=>typeof r=="string",cl=r=>typeof r=="function",RMe=r=>Sf(r)||$b(r),O$=r=>Sf(r)||cl(r)?r:null,$Me=(r,e)=>r===!1||$b(r)&&r>0?r:e,N$=r=>U.isValidElement(r)||Sf(r)||cl(r)||$b(r);function jMe(r,e,n=300){let{scrollHeight:i,style:a}=r;requestAnimationFrame(()=>{a.minHeight="initial",a.height=i+"px",a.transition=`all ${n}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(e,n)})})}function DMe({enter:r,exit:e,appendPosition:n=!1,collapse:i=!0,collapseDuration:a=300}){return function({children:s,position:o,preventExitTransition:c,done:l,nodeRef:u,isIn:d,playToast:f}){let p=n?`${r}--${o}`:r,m=n?`${e}--${o}`:e,y=U.useRef(0);return U.useLayoutEffect(()=>{let v=u.current,b=p.split(" "),w=x=>{x.target===u.current&&(f(),v.removeEventListener("animationend",w),v.removeEventListener("animationcancel",w),y.current===0&&x.type!=="animationcancel"&&v.classList.remove(...b))};v.classList.add(...b),v.addEventListener("animationend",w),v.addEventListener("animationcancel",w)},[]),U.useEffect(()=>{let v=u.current,b=()=>{v.removeEventListener("animationend",b),i?jMe(v,l,a):l()};d||(c?b():(y.current=1,v.className+=` ${m}`,v.addEventListener("animationend",b)))},[d]),ee.createElement(ee.Fragment,null,s)}}function Pq(r,e){return{content:hte(r.content,r.props),containerId:r.props.containerId,id:r.props.toastId,theme:r.props.theme,type:r.props.type,data:r.props.data||{},isLoading:r.props.isLoading,icon:r.props.icon,reason:r.removalReason,status:e}}function hte(r,e,n=!1){return U.isValidElement(r)&&!Sf(r.type)?U.cloneElement(r,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):cl(r)?r({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):r}function MMe({closeToast:r,theme:e,ariaLabel:n="close"}){return ee.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),r(!0)},"aria-label":n},ee.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ee.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function LMe({delay:r,isRunning:e,closeToast:n,type:i="default",hide:a,className:s,controlledProgress:o,progress:c,rtl:l,isIn:u,theme:d}){let f=a||o&&c===0,p={animationDuration:`${r}ms`,animationPlayState:e?"running":"paused"};o&&(p.transform=`scaleX(${c})`);let m=ef("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":l}),y=cl(s)?s({rtl:l,type:i,defaultClassName:m}):ef(m,s),v={[o&&c>=1?"onTransitionEnd":"onAnimationEnd"]:o&&c<1?null:()=>{u&&n()}};return ee.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},ee.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${i}`}),ee.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:y,style:p,...v}))}var UMe=1,pte=()=>`${UMe++}`;function BMe(r,e,n){let i=1,a=0,s=[],o=[],c=e,l=new Map,u=new Set,d=x=>(u.add(x),()=>u.delete(x)),f=()=>{o=Array.from(l.values()),u.forEach(x=>x())},p=({containerId:x,toastId:E,updateId:A})=>{let S=x?x!==r:r!==1,C=l.has(E)&&A==null;return S||C},m=(x,E)=>{l.forEach(A=>{var S;(E==null||E===A.props.toastId)&&((S=A.toggle)==null||S.call(A,x))})},y=x=>{var E,A;(A=(E=x.props)==null?void 0:E.onClose)==null||A.call(E,x.removalReason),x.isActive=!1},v=x=>{if(x==null)l.forEach(y);else{let E=l.get(x);E&&y(E)}f()},b=()=>{a-=s.length,s=[]},w=x=>{var E,A;let{toastId:S,updateId:C}=x.props,P=C==null;x.staleId&&l.delete(x.staleId),x.isActive=!0,l.set(S,x),f(),n(Pq(x,P?"added":"updated")),P&&((A=(E=x.props).onOpen)==null||A.call(E))};return{id:r,props:c,observe:d,toggle:m,removeToast:v,toasts:l,clearQueue:b,buildToast:(x,E)=>{if(p(E))return;let{toastId:A,updateId:S,data:C,staleId:P,delay:O}=E,I=S==null;I&&a++;let M={...c,style:c.toastStyle,key:i++,...Object.fromEntries(Object.entries(E).filter(([q,K])=>K!=null)),toastId:A,updateId:S,data:C,isIn:!1,className:O$(E.className||c.toastClassName),progressClassName:O$(E.progressClassName||c.progressClassName),autoClose:E.isLoading?!1:$Me(E.autoClose,c.autoClose),closeToast(q){l.get(A).removalReason=q,v(A)},deleteToast(){let q=l.get(A);if(q!=null){if(n(Pq(q,"removed")),l.delete(A),a--,a<0&&(a=0),s.length>0){w(s.shift());return}f()}}};M.closeButton=c.closeButton,E.closeButton===!1||N$(E.closeButton)?M.closeButton=E.closeButton:E.closeButton===!0&&(M.closeButton=N$(c.closeButton)?c.closeButton:!0);let D={content:x,props:M,staleId:P};c.limit&&c.limit>0&&a>c.limit&&I?s.push(D):$b(O)?setTimeout(()=>{w(D)},O):w(D)},setProps(x){c=x},setToggle:(x,E)=>{let A=l.get(x);A&&(A.toggle=E)},isToastActive:x=>{var E;return(E=l.get(x))==null?void 0:E.isActive},getSnapshot:()=>o}}var Li=new Map,g0=[],I$=new Set,FMe=r=>I$.forEach(e=>e(r)),gte=()=>Li.size>0;function qMe(){g0.forEach(r=>yte(r.content,r.options)),g0=[]}var zMe=(r,{containerId:e})=>{var n;return(n=Li.get(e||1))==null?void 0:n.toasts.get(r)};function mte(r,e){var n;if(e)return!!((n=Li.get(e))!=null&&n.isToastActive(r));let i=!1;return Li.forEach(a=>{a.isToastActive(r)&&(i=!0)}),i}function HMe(r){if(!gte()){g0=g0.filter(e=>r!=null&&e.options.toastId!==r);return}if(r==null||RMe(r))Li.forEach(e=>{e.removeToast(r)});else if(r&&("containerId"in r||"id"in r)){let e=Li.get(r.containerId);e?e.removeToast(r.id):Li.forEach(n=>{n.removeToast(r.id)})}}var WMe=(r={})=>{Li.forEach(e=>{e.props.limit&&(!r.containerId||e.id===r.containerId)&&e.clearQueue()})};function yte(r,e){N$(r)&&(gte()||g0.push({content:r,options:e}),Li.forEach(n=>{n.buildToast(r,e)}))}function VMe(r){var e;(e=Li.get(r.containerId||1))==null||e.setToggle(r.id,r.fn)}function vte(r,e){Li.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(r,e==null?void 0:e.id)})}function GMe(r){let e=r.containerId||1;return{subscribe(n){let i=BMe(e,r,FMe);Li.set(e,i);let a=i.observe(n);return qMe(),()=>{a(),Li.delete(e)}},setProps(n){var i;(i=Li.get(e))==null||i.setProps(n)},getSnapshot(){var n;return(n=Li.get(e))==null?void 0:n.getSnapshot()}}}function KMe(r){return I$.add(r),()=>{I$.delete(r)}}function YMe(r){return r&&(Sf(r.toastId)||$b(r.toastId))?r.toastId:pte()}function jb(r,e){return yte(r,e),e.toastId}function XS(r,e){return{...e,type:e&&e.type||r,toastId:YMe(e)}}function JS(r){return(e,n)=>jb(e,XS(r,n))}function pr(r,e){return jb(r,XS("default",e))}pr.loading=(r,e)=>jb(r,XS("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function XMe(r,{pending:e,error:n,success:i},a){let s;e&&(s=Sf(e)?pr.loading(e,a):pr.loading(e.render,{...a,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(u,d,f)=>{if(d==null){pr.dismiss(s);return}let p={type:u,...o,...a,data:f},m=Sf(d)?{render:d}:d;return s?pr.update(s,{...p,...m}):pr(m.render,{...p,...m}),f},l=cl(r)?r():r;return l.then(u=>c("success",i,u)).catch(u=>c("error",n,u)),l}pr.promise=XMe;pr.success=JS("success");pr.info=JS("info");pr.error=JS("error");pr.warning=JS("warning");pr.warn=pr.warning;pr.dark=(r,e)=>jb(r,XS("default",{theme:"dark",...e}));function JMe(r){HMe(r)}pr.dismiss=JMe;pr.clearWaitingQueue=WMe;pr.isActive=mte;pr.update=(r,e={})=>{let n=zMe(r,e);if(n){let{props:i,content:a}=n,s={delay:100,...i,...e,toastId:e.toastId||r,updateId:pte()};s.toastId!==r&&(s.staleId=r);let o=s.render||a;delete s.render,jb(o,s)}};pr.done=r=>{pr.update(r,{progress:1})};pr.onChange=KMe;pr.play=r=>vte(!0,r);pr.pause=r=>vte(!1,r);function ZMe(r){var e;let{subscribe:n,getSnapshot:i,setProps:a}=U.useRef(GMe(r)).current;a(r);let s=(e=U.useSyncExternalStore(n,i,i))==null?void 0:e.slice();function o(c){if(!s)return[];let l=new Map;return r.newestOnTop&&s.reverse(),s.forEach(u=>{let{position:d}=u.props;l.has(d)||l.set(d,[]),l.get(d).push(u)}),Array.from(l,u=>c(u[0],u[1]))}return{getToastToRender:o,isToastActive:mte,count:s==null?void 0:s.length}}function QMe(r){let[e,n]=U.useState(!1),[i,a]=U.useState(!1),s=U.useRef(null),o=U.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:l,closeToast:u,onClick:d,closeOnClick:f}=r;VMe({id:r.toastId,containerId:r.containerId,fn:n}),U.useEffect(()=>{if(r.pauseOnFocusLoss)return p(),()=>{m()}},[r.pauseOnFocusLoss]);function p(){document.hasFocus()||w(),window.addEventListener("focus",b),window.addEventListener("blur",w)}function m(){window.removeEventListener("focus",b),window.removeEventListener("blur",w)}function y(P){if(r.draggable===!0||r.draggable===P.pointerType){x();let O=s.current;o.canCloseOnClick=!0,o.canDrag=!0,O.style.transition="none",r.draggableDirection==="x"?(o.start=P.clientX,o.removalDistance=O.offsetWidth*(r.draggablePercent/100)):(o.start=P.clientY,o.removalDistance=O.offsetHeight*(r.draggablePercent===80?r.draggablePercent*1.5:r.draggablePercent)/100)}}function v(P){let{top:O,bottom:I,left:M,right:D}=s.current.getBoundingClientRect();P.nativeEvent.type!=="touchend"&&r.pauseOnHover&&P.clientX>=M&&P.clientX<=D&&P.clientY>=O&&P.clientY<=I?w():b()}function b(){n(!0)}function w(){n(!1)}function x(){o.didMove=!1,document.addEventListener("pointermove",A),document.addEventListener("pointerup",S)}function E(){document.removeEventListener("pointermove",A),document.removeEventListener("pointerup",S)}function A(P){let O=s.current;if(o.canDrag&&O){o.didMove=!0,e&&w(),r.draggableDirection==="x"?o.delta=P.clientX-o.start:o.delta=P.clientY-o.start,o.start!==P.clientX&&(o.canCloseOnClick=!1);let I=r.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;O.style.transform=`translate3d(${I},0)`,O.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function S(){E();let P=s.current;if(o.canDrag&&o.didMove&&P){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){a(!0),r.closeToast(!0),r.collapseAll();return}P.style.transition="transform 0.2s, opacity 0.2s",P.style.removeProperty("transform"),P.style.removeProperty("opacity")}}let C={onPointerDown:y,onPointerUp:v};return c&&l&&(C.onMouseEnter=w,r.stacked||(C.onMouseLeave=b)),f&&(C.onClick=P=>{d&&d(P),o.canCloseOnClick&&u(!0)}),{playToast:b,pauseToast:w,isRunning:e,preventExitTransition:i,toastRef:s,eventHandlers:C}}var e4e=typeof window<"u"?U.useLayoutEffect:U.useEffect,ZS=({theme:r,type:e,isLoading:n,...i})=>ee.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:r==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function t4e(r){return ee.createElement(ZS,{...r},ee.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function r4e(r){return ee.createElement(ZS,{...r},ee.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function n4e(r){return ee.createElement(ZS,{...r},ee.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function i4e(r){return ee.createElement(ZS,{...r},ee.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function a4e(){return ee.createElement("div",{className:"Toastify__spinner"})}var R$={info:r4e,warning:t4e,success:n4e,error:i4e,spinner:a4e},s4e=r=>r in R$;function o4e({theme:r,type:e,isLoading:n,icon:i}){let a=null,s={theme:r,type:e};return i===!1||(cl(i)?a=i({...s,isLoading:n}):U.isValidElement(i)?a=U.cloneElement(i,s):n?a=R$.spinner():s4e(e)&&(a=R$[e](s))),a}var c4e=r=>{let{isRunning:e,preventExitTransition:n,toastRef:i,eventHandlers:a,playToast:s}=QMe(r),{closeButton:o,children:c,autoClose:l,onClick:u,type:d,hideProgressBar:f,closeToast:p,transition:m,position:y,className:v,style:b,progressClassName:w,updateId:x,role:E,progress:A,rtl:S,toastId:C,deleteToast:P,isIn:O,isLoading:I,closeOnClick:M,theme:D,ariaLabel:q}=r,K=ef("Toastify__toast",`Toastify__toast-theme--${D}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":S},{"Toastify__toast--close-on-click":M}),L=cl(v)?v({rtl:S,position:y,type:d,defaultClassName:K}):ef(K,v),R=o4e(r),j=!!A||!l,W={closeToast:p,type:d,theme:D},H=null;return o===!1||(cl(o)?H=o(W):U.isValidElement(o)?H=U.cloneElement(o,W):H=MMe(W)),ee.createElement(m,{isIn:O,done:P,position:y,preventExitTransition:n,nodeRef:i,playToast:s},ee.createElement("div",{id:C,tabIndex:0,onClick:u,"data-in":O,className:L,...a,style:b,ref:i,...O&&{role:E,"aria-label":q}},R!=null&&ee.createElement("div",{className:ef("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!I})},R),hte(c,r,!e),H,!r.customProgressBar&&ee.createElement(LMe,{...x&&!j?{key:`p-${x}`}:{},rtl:S,theme:D,delay:l,isRunning:e,isIn:O,closeToast:p,hide:f,type:d,className:w,controlledProgress:j,progress:A||0})))},l4e=(r,e=!1)=>({enter:`Toastify--animate Toastify__${r}-enter`,exit:`Toastify--animate Toastify__${r}-exit`,appendPosition:e}),u4e=DMe(l4e("bounce",!0)),d4e={position:"top-right",transition:u4e,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:r=>r.altKey&&r.code==="KeyT"};function f4e(r){let e={...d4e,...r},n=r.stacked,[i,a]=U.useState(!0),s=U.useRef(null),{getToastToRender:o,isToastActive:c,count:l}=ZMe(e),{className:u,style:d,rtl:f,containerId:p,hotKeys:m}=e;function y(b){let w=ef("Toastify__toast-container",`Toastify__toast-container--${b}`,{"Toastify__toast-container--rtl":f});return cl(u)?u({position:b,rtl:f,defaultClassName:w}):ef(w,O$(u))}function v(){n&&(a(!0),pr.play())}return e4e(()=>{var b;if(n){let w=s.current.querySelectorAll('[data-in="true"]'),x=12,E=(b=e.position)==null?void 0:b.includes("top"),A=0,S=0;Array.from(w).reverse().forEach((C,P)=>{let O=C;O.classList.add("Toastify__toast--stacked"),P>0&&(O.dataset.collapsed=`${i}`),O.dataset.pos||(O.dataset.pos=E?"top":"bot");let I=A*(i?.2:1)+(i?0:x*P);O.style.setProperty("--y",`${E?I:I*-1}px`),O.style.setProperty("--g",`${x}`),O.style.setProperty("--s",`${1-(i?S:0)}`),A+=O.offsetHeight,S+=.025})}},[i,l,n]),U.useEffect(()=>{function b(w){var x;let E=s.current;m(w)&&((x=E.querySelector('[tabIndex="0"]'))==null||x.focus(),a(!1),pr.pause()),w.key==="Escape"&&(document.activeElement===E||E!=null&&E.contains(document.activeElement))&&(a(!0),pr.play())}return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[m]),ee.createElement("section",{ref:s,className:"Toastify",id:p,onMouseEnter:()=>{n&&(a(!1),pr.pause())},onMouseLeave:v,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},o((b,w)=>{let x=w.length?{...d}:{...d,pointerEvents:"none"};return ee.createElement("div",{tabIndex:-1,className:y(b),"data-stacked":n,style:x,key:`c-${b}`},w.map(({content:E,props:A})=>ee.createElement(c4e,{...A,stacked:n,collapseAll:v,isIn:c(A.toastId,A.containerId),key:`t-${A.key}`},E)))}))}const qu=U.createContext(),h4e=({children:r})=>{const[e,n]=U.useState(null);async function i(a){const s=await qe.post(`${Wr}/login_with_google`,{token:a});s.status==200?(pr.success("Success"),n(s.data.user),console.log(s.data.user),localStorage.setItem("access_token",a)):(n(null),pr.warning("Invalid Authentication"),localStorage.removeItem("access_token"))}return U.useEffect(()=>{(async()=>{await i(localStorage.getItem("access_token"))})();const{data:s}=Ct.auth.onAuthStateChange(async(o,c)=>{if(c){if(c.access_token==localStorage.getItem("access_token"))return;await i(c.access_token)}else n(null),localStorage.removeItem("access_token")});return()=>s.subscription.unsubscribe()},[]),T.jsx(qu.Provider,{value:{user:e,setUser:n},children:r})};function p4e({setSidebarOpen:r,darkMode:e,setDarkMode:n}){const{user:i,setUser:a}=U.useContext(qu),[s,o]=U.useState([]),[c,l]=U.useState(!1),u=async()=>{await Ct.auth.signOut(),a(null),localStorage.removeItem("access_token")};return U.useEffect(()=>{(async()=>{const{data:{session:f}}=await Ct.auth.getSession(),p=f==null?void 0:f.access_token;if(p)try{const m=await qe.get("/api/friend_requests/",{headers:{Authorization:`Bearer ${p}`}});o(m.data)}catch(m){console.error("Failed to fetch friend requests:",m)}})()},[]),T.jsx("nav",{className:"fixed top-0 left-0 right-0 h-16 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 z-50",children:T.jsxs("div",{className:"h-full max-w-7xl mx-auto flex items-center justify-between px-2 sm:px-4",children:[T.jsxs("div",{className:"flex items-center gap-1 sm:gap-4",children:[T.jsx("button",{onClick:()=>r(!0),className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors lg:hidden","aria-label":"Open menu",children:T.jsx(Oye,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})}),T.jsx("div",{className:"flex items-center",children:T.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[T.jsx("img",{src:`${e?"logo-light.png":"logo-dark.png"}`,className:"w-8 sm:w-9 transition-all",alt:"Logo"}),T.jsx("div",{className:"hidden sm:block text-2xl font-bold tracking-tight text-gray-900 dark:text-white transition-colors",children:"THIELIUM"})]})})]}),T.jsx("div",{className:"flex items-center",children:T.jsxs("div",{className:"flex items-center gap-1 sm:gap-3",children:[T.jsx(Xje,{}),T.jsx(Jje,{user:i,onLogout:u}),T.jsx("div",{className:"mx-0.5 sm:mx-2 h-6 w-px bg-gray-200 dark:bg-gray-700"}),T.jsxs("div",{className:"relative",children:[T.jsxs("button",{onClick:()=>l(!c),className:"relative p-2",children:[T.jsx(xJ,{className:"w-6 h-6 text-gray-700 dark:text-gray-300"}),s.length>0&&T.jsx("span",{className:"absolute top-0 right-0 w-2.5 h-2.5 bg-red-500 rounded-full animate-pulse"})]}),c&&T.jsx("div",{className:"absolute right-0 mt-2 w-64 bg-white dark:bg-gray-800 shadow-md rounded z-50 p-2 max-h-64 overflow-y-auto",children:Array.isArray(s)?s.length===0?T.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"No friend requests."}):s.map((d,f)=>{var p;return T.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-200 dark:border-gray-700",children:[T.jsx("span",{className:"text-sm text-gray-800 dark:text-gray-200",children:((p=d==null?void 0:d.sender)==null?void 0:p.username)||"Unknown"}),T.jsx("button",{onClick:async()=>{var m;try{const{data:{session:y}}=await Ct.auth.getSession(),v=y==null?void 0:y.access_token;if(!v)return;await qe.post("/api/friends_list/",{friend_id:(m=d==null?void 0:d.sender)==null?void 0:m.id},{headers:{Authorization:`Bearer ${v}`}}),o(b=>b.filter(w=>(w==null?void 0:w.id)!==(d==null?void 0:d.id)))}catch(y){console.error("Accept failed:",y)}},className:"text-xs bg-green-600 text-white px-2 py-1 rounded hover:bg-green-700",children:"Accept"})]},(d==null?void 0:d.id)||`req-${f}`)}):T.jsx("p",{className:"text-sm text-red-500",children:"Friend data unavailable."})})]}),T.jsx(Kye,{darkMode:e,setDarkMode:n})]})})]})})}function g4e(){const r=async()=>{const{user:i,error:a}=await Ct.auth.signInWithOAuth({provider:"google",options:{redirectTo:"https://aleflabs.net/auth/callback"}});console.log("User: ",i),a&&console.error("Google login error:",a)},e=async()=>{const{user:i,error:a}=await Ct.auth.signInWithOAuth({provider:"linkedin"});a&&console.error("LinkedIn login error:",a)},n=()=>{console.log("orchid-auth")};return T.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-xl backdrop-blur-sm",children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Welcome Back"}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("button",{onClick:r,className:"w-full py-3 px-4 flex items-center justify-center gap-3 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:[T.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"w-5 h-5"}),T.jsx("span",{className:"text-gray-700 dark:text-gray-200",children:"Continue with Google"})]}),T.jsxs("button",{onClick:e,className:"w-full py-3 px-4 flex items-center justify-center gap-3 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:[T.jsx("img",{src:"https://www.linkedin.com/favicon.ico",alt:"LinkedIn",className:"w-5 h-5"}),T.jsx("span",{className:"text-gray-700 dark:text-gray-200",children:"Continue with LinkedIn"})]}),T.jsxs("button",{onClick:n,className:"w-full py-3 px-4 flex items-center justify-center gap-3 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:[T.jsx("img",{src:"https://orcid.org/favicon.ico",alt:"ORCID",className:"w-5 h-5"}),T.jsx("span",{className:"text-gray-700 dark:text-gray-200",children:"Continue with ORCID"})]}),T.jsx("div",{className:"relative",children:T.jsx("div",{className:"absolute inset-0 flex items-center",children:T.jsx("div",{className:"w-full border-t border-gray-200 dark:border-gray-600"})})})]})]})}function m4e(){return T.jsx("section",{className:"px-4 w-full mt-10 pb-40",children:T.jsx("div",{className:"w-full",children:T.jsxs("div",{className:"w-full grid lg:grid-cols-2 gap-12 items-center",children:[T.jsxs("div",{className:"w-full",children:[T.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 dark:text-white mb-6",children:"Empowering Tomorrows Breakthroughs"}),T.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 mb-8",children:"Pioneering OpenAnalysis, with the first Social Blockchain"}),T.jsxs("div",{className:"flex gap-4",children:[T.jsxs("button",{className:"px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium flex items-center gap-2",children:["Get Started ",T.jsx(tye,{className:"w-4 h-4"})]}),T.jsx("button",{className:"px-6 py-3 border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg font-medium text-gray-700 dark:text-gray-300",children:"Learn More"})]})]}),T.jsx("div",{className:"py-2",children:T.jsx(g4e,{})})]})})})}var $$=new Map,z1=new WeakMap,Oq=0,y4e=void 0;function v4e(r){return r?(z1.has(r)||(Oq+=1,z1.set(r,Oq.toString())),z1.get(r)):"0"}function b4e(r){return Object.keys(r).sort().filter(e=>r[e]!==void 0).map(e=>`${e}_${e==="root"?v4e(r.root):r[e]}`).toString()}function w4e(r){const e=b4e(r);let n=$$.get(e);if(!n){const i=new Map;let a;const s=new IntersectionObserver(o=>{o.forEach(c=>{var l;const u=c.isIntersecting&&a.some(d=>c.intersectionRatio>=d);r.trackVisibility&&typeof c.isVisible>"u"&&(c.isVisible=u),(l=i.get(c.target))==null||l.forEach(d=>{d(u,c)})})},r);a=s.thresholds||(Array.isArray(r.threshold)?r.threshold:[r.threshold||0]),n={id:e,observer:s,elements:i},$$.set(e,n)}return n}function _4e(r,e,n={},i=y4e){if(typeof window.IntersectionObserver>"u"&&i!==void 0){const l=r.getBoundingClientRect();return e(i,{isIntersecting:i,target:r,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:a,observer:s,elements:o}=w4e(n),c=o.get(r)||[];return o.has(r)||o.set(r,c),c.push(e),s.observe(r),function(){c.splice(c.indexOf(e),1),c.length===0&&(o.delete(r),s.unobserve(r)),o.size===0&&(s.disconnect(),$$.delete(a))}}function x4e({threshold:r,delay:e,trackVisibility:n,rootMargin:i,root:a,triggerOnce:s,skip:o,initialInView:c,fallbackInView:l,onChange:u}={}){var d;const[f,p]=U.useState(null),m=U.useRef(u),[y,v]=U.useState({inView:!!c,entry:void 0});m.current=u,U.useEffect(()=>{if(o||!f)return;let E;return E=_4e(f,(A,S)=>{v({inView:A,entry:S}),m.current&&m.current(A,S),S.isIntersecting&&s&&E&&(E(),E=void 0)},{root:a,rootMargin:i,threshold:r,trackVisibility:n,delay:e},l),()=>{E&&E()}},[Array.isArray(r)?r.toString():r,f,a,i,s,o,n,l,e]);const b=(d=y.entry)==null?void 0:d.target,w=U.useRef(void 0);!f&&b&&!s&&!o&&w.current!==b&&(w.current=b,v({inView:!!c,entry:void 0}));const x=[p,y.inView,y.entry];return x.ref=x[0],x.inView=x[1],x.entry=x[2],x}function E4e({image:r,title:e,author:n,description:i,price:a,category:s}){return T.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-shadow duration-300",children:[T.jsxs("div",{className:"relative group",children:[T.jsx("img",{src:r,alt:e,className:"w-full h-64 object-cover"}),T.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center opacity-0 group-hover:opacity-100",children:T.jsxs("div",{className:"flex gap-4",children:[T.jsx("button",{className:"p-2 bg-white rounded-full hover:bg-gray-100 transition-colors",children:T.jsx(bye,{className:"w-5 h-5 text-gray-900"})}),T.jsx("button",{className:"p-2 bg-white rounded-full hover:bg-gray-100 transition-colors",children:T.jsx(Uye,{className:"w-5 h-5 text-gray-900"})})]})})]}),T.jsxs("div",{className:"p-6",children:[T.jsxs("div",{className:"flex items-center justify-between mb-4",children:[T.jsx("span",{className:"px-3 py-1 bg-purple-100 dark:bg-purple-900 text-purple-600 dark:text-purple-300 rounded-full text-sm font-medium",children:s}),T.jsxs("span",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:[a," ETH"]})]}),T.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:e}),T.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-4",children:i}),T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-purple-400 to-pink-500"}),T.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["by ",n]})]}),T.jsx("button",{className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg text-sm font-medium transition-colors",children:"View Details"})]})]})]})}const S4e=[{name:"All",icon:TJ},{name:"Biology",icon:yye},{name:"Neuroscience",icon:uye},{name:"Physics",icon:Iye},{name:"Chemistry",icon:_ye}],C4e=[{image:"https://images.unsplash.com/photo-1532187863486-abf9dbad1b69?auto=format&fit=crop&q=80&w=1000",title:"Neural Network Visualization",author:"Dr. Sarah Chen",description:"A stunning visualization of artificial neural networks in action, representing the complexity of deep learning systems.",price:"2.5",category:"Neuroscience"},{image:"https://images.unsplash.com/photo-1614935151651-0bea6508db6b?auto=format&fit=crop&q=80&w=1000",title:"Quantum Entanglement",author:"Prof. James Maxwell",description:"An artistic representation of quantum entanglement, showcasing the mysterious connection between particles.",price:"3.2",category:"Physics"},{image:"https://images.unsplash.com/photo-1554475900-0a0350e3fc7b?auto=format&fit=crop&q=80&w=1000",title:"DNA Double Helix",author:"Dr. Maria Rodriguez",description:"A beautiful interpretation of the DNA double helix structure, highlighting the building blocks of life.",price:"1.8",category:"Biology"},{image:"https://images.unsplash.com/photo-1616400619175-5beda3a17896?auto=format&fit=crop&q=80&w=1000",title:"Molecular Bonds",author:"Dr. Michael Chang",description:"Abstract visualization of molecular bonding patterns in complex chemical reactions.",price:"2.0",category:"Chemistry"}];function A4e(){const[r,e]=U.useState("All"),[n,i]=U.useState(""),{ref:a,inView:s}=x4e({threshold:.1,triggerOnce:!0}),o=C4e.filter(c=>{const l=r==="All"||c.category===r,u=c.title.toLowerCase().includes(n.toLowerCase())||c.description.toLowerCase().includes(n.toLowerCase());return l&&u});return T.jsx("section",{className:"py-20 bg-gray-50 dark:bg-gray-900",ref:a,children:T.jsxs("div",{className:"w-full mx-auto px-4",children:[T.jsxs("div",{className:`text-center mb-16 transition-all duration-700 ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[T.jsx("h2",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Popular Scientific NFT"}),T.jsx("p",{className:"text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Discover unique digital assets representing groundbreaking scientific discoveries and visualizations."})]}),T.jsx("div",{className:"mb-8",children:T.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[T.jsxs("div",{className:"relative w-full md:w-96",children:[T.jsx(xD,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),T.jsx("input",{type:"text",placeholder:"Search NFTs...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent",value:n,onChange:c=>i(c.target.value)})]}),T.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 w-full md:w-auto",children:S4e.map(c=>{const l=c.icon;return T.jsxs("button",{onClick:()=>e(c.name),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${r===c.name?"bg-purple-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[T.jsx(l,{className:"w-4 h-4"}),c.name]},c.name)})})]})}),T.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:o.map((c,l)=>T.jsx("div",{className:`transition-all duration-700 ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,style:{transitionDelay:`${l*100}ms`},children:T.jsx(E4e,{...c})},l))})]})})}function T4e(){return T.jsx("section",{className:"py-20 bg-gradient-to-r from-purple-600 to-blue-500",children:T.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[T.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Ready to Get Started?"}),T.jsx("p",{className:"text-purple-100 mb-8 max-w-2xl mx-auto",children:"Join thousands of satisfied customers who have transformed their business with our platform."}),T.jsx("button",{className:"px-8 py-4 bg-white text-purple-600 rounded-lg font-medium hover:bg-gray-100 transition-colors",children:"Start Free Trial"})]})})}function k4e(){return T.jsx("footer",{className:"bg-gray-50 dark:bg-gray-800 py-12",children:T.jsx("div",{className:"max-w-7xl mx-auto px-4 text-center",children:T.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"© 2025 THIELIUM. All rights reserved."})})})}function P4e(){return T.jsxs(T.Fragment,{children:[T.jsx(m4e,{}),T.jsx(A4e,{}),T.jsx(T4e,{}),T.jsx(k4e,{})]})}const O4e=["Art","Collectibles","Domain Names","Music","Photography","Sports","Trading Cards","Utility","Virtual Worlds"],iy=6;function N4e(){const[r,e]=U.useState([]),[n,i]=U.useState(!0),[a,s]=U.useState(null),[o,c]=U.useState(""),[l,u]=U.useState("price"),[d,f]=U.useState("asc"),[p,m]=U.useState("grid"),[y,v]=U.useState(""),[b,w]=U.useState(1);U.useEffect(()=>{(async()=>{i(!0);try{const D=await qe.get("https://api.opensea.io/api/v2/chain/ethereum/contract/0x524cab2ec69124574082676e6f654a18df49a048/nfts",{headers:{"X-API-KEY":"24b3a11a025643f796db1c57cb28f163"},params:{limit:50}});console.log(D.data);const q=D.data.nfts.map(K=>{var L,R,j,W,H,z;return{id:K.identifier,title:K.name||"Unnamed NFT",category:K.collection||"Uncategorized",price:((R=(L=K.last_sale)==null?void 0:L.payment_token)==null?void 0:R.eth_price)||((j=K.last_sale)==null?void 0:j.total_price)/1e18||Math.random()*5,image:K.image_url||K.image_preview_url||"https://via.placeholder.com/400",author:((H=(W=K.creator)==null?void 0:W.user)==null?void 0:H.username)||((z=K.collection)==null?void 0:z.name)||"Unknown",description:K.description||"No description available"}});e(q),s(null)}catch(D){console.error("Error fetching NFTs:",D),s("Failed to load NFTs. Please try again later.")}finally{i(!1)}})()},[]);const x=r.filter(M=>{const D=!o||M.category===o,q=!y||M.title.toLowerCase().includes(y.toLowerCase())||M.description.toLowerCase().includes(y.toLowerCase())||M.author.toLowerCase().includes(y.toLowerCase())||M.category.toLowerCase().includes(y.toLowerCase());return D&&q}).sort((M,D)=>{const q=d==="asc"?1:-1;return l==="price"?(M.price-D.price)*q:M.title.localeCompare(D.title)*q}),E=Math.ceil(x.length/iy),A=x.slice((b-1)*iy,b*iy);U.useEffect(()=>{w(1)},[o,y,l,d]);const S=()=>T.jsxs("div",{className:"flex justify-center items-center h-64",children:[T.jsxs("div",{className:"relative",children:[T.jsx("div",{className:"w-16 h-16 border-4 border-blue-200 border-solid rounded-full"}),T.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent border-solid rounded-full animate-spin absolute top-0 left-0"})]}),T.jsx("p",{className:"ml-4 text-lg font-medium text-gray-700 dark:text-gray-300",children:"Loading NFTs..."})]}),C=()=>T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map((M,D)=>T.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300",children:[T.jsxs("div",{className:"relative aspect-square",children:[T.jsx("img",{src:M.image,alt:M.title,className:"w-full h-full object-cover",onError:q=>{q.target.onerror=null,q.target.src="https://via.placeholder.com/400?text=Image+Not+Available"}}),T.jsxs("div",{className:"absolute top-4 right-4 bg-blue-500 text-white px-3 py-1 rounded-full text-sm font-semibold",children:[typeof M.price=="number"?M.price.toFixed(3):M.price," ETH"]})]}),T.jsxs("div",{className:"p-6",children:[T.jsxs("div",{className:"flex items-center justify-between mb-3",children:[T.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white truncate",children:M.title}),T.jsx("span",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded-full text-sm",children:M.category})]}),T.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4 line-clamp-2",children:M.description}),T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["By ",M.author]}),T.jsx("button",{className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors duration-200",children:"View Details"})]})]})]},D))}),P=()=>T.jsx("div",{className:"space-y-4",children:A.map((M,D)=>T.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300",children:T.jsxs("div",{className:"flex flex-col sm:flex-row",children:[T.jsx("div",{className:"w-full sm:w-48 h-48 flex-shrink-0",children:T.jsx("img",{src:M.image,alt:M.title,className:"w-full h-full object-cover",onError:q=>{q.target.onerror=null,q.target.src="https://via.placeholder.com/400?text=Image+Not+Available"}})}),T.jsxs("div",{className:"flex-1 p-4 sm:p-6",children:[T.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-3 gap-2",children:[T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-800 dark:text-white",children:M.title}),T.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["By ",M.author]})]}),T.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 mt-2 sm:mt-0",children:[T.jsx("span",{className:"px-2 sm:px-3 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded-full text-xs sm:text-sm",children:M.category}),T.jsxs("div",{className:"bg-blue-500 text-white px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-semibold",children:[typeof M.price=="number"?M.price.toFixed(3):M.price," ETH"]})]})]}),T.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-xs sm:text-sm mb-4 line-clamp-2",children:M.description}),T.jsx("div",{className:"flex justify-end",children:T.jsx("button",{className:"px-3 sm:px-4 py-1.5 sm:py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors duration-200 text-sm",children:"View Details"})})]})]})},D))}),O=()=>T.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 dark:border-gray-700 px-4 py-3 sm:px-6 mt-6",children:[T.jsxs("div",{className:"flex flex-1 justify-between sm:hidden",children:[T.jsx("button",{onClick:()=>w(M=>Math.max(1,M-1)),disabled:b===1,className:"relative inline-flex items-center px-4 py-2 text-sm font-medium rounded-md text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),T.jsx("button",{onClick:()=>w(M=>Math.min(E,M+1)),disabled:b===E,className:"relative ml-3 inline-flex items-center px-4 py-2 text-sm font-medium rounded-md text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),T.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[T.jsx("div",{children:T.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Showing ",T.jsx("span",{className:"font-medium",children:Math.min(x.length,(b-1)*iy+1)})," to"," ",T.jsx("span",{className:"font-medium",children:Math.min(x.length,b*iy)})," of"," ",T.jsx("span",{className:"font-medium",children:x.length})," results"]})}),T.jsx("div",{children:T.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[T.jsxs("button",{onClick:()=>w(M=>Math.max(1,M-1)),disabled:b===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[T.jsx("span",{className:"sr-only",children:"Previous"}),T.jsx(yR,{className:"h-5 w-5"})]}),[...Array(E)].map((M,D)=>T.jsx("button",{onClick:()=>w(D+1),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${b===D+1?"z-10 bg-blue-50 dark:bg-blue-900 border-blue-500 text-blue-600 dark:text-blue-300":"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:D+1},D+1)),T.jsxs("button",{onClick:()=>w(M=>Math.min(E,M+1)),disabled:b===E,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[T.jsx("span",{className:"sr-only",children:"Next"}),T.jsx(ax,{className:"h-5 w-5"})]})]})})]})]}),I=()=>T.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6 text-center",children:[T.jsx("p",{className:"text-red-600 dark:text-red-400 text-lg mb-2",children:"Error Loading NFTs"}),T.jsx("p",{className:"text-red-500 dark:text-red-300",children:a}),T.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors duration-200",children:"Try Again"})]});return T.jsxs("div",{className:"m-8",children:[T.jsxs("div",{className:"mb-8 space-y-4",children:[T.jsxs("div",{className:"relative",children:[T.jsx(xD,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),T.jsx("input",{type:"text",placeholder:"Search NFTs by title, description, author, or category...",value:y,onChange:M=>v(M.target.value),className:"w-full pl-12 pr-4 py-3 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow duration-200",disabled:n})]}),T.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[T.jsx("div",{className:"flex items-center gap-4",children:T.jsxs("div",{className:"relative",children:[T.jsx(TJ,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),T.jsxs("select",{value:o,onChange:M=>c(M.target.value),className:"pl-10 pr-4 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none cursor-pointer",disabled:n,children:[T.jsx("option",{value:"",children:"All Categories"}),O4e.map(M=>T.jsx("option",{value:M,children:M},M))]})]})}),T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsxs("select",{value:l,onChange:M=>u(M.target.value),className:"px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:n,children:[T.jsx("option",{value:"price",children:"Sort by Price"}),T.jsx("option",{value:"title",children:"Sort by Title"})]}),T.jsx("button",{onClick:()=>f(d==="asc"?"desc":"asc"),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50",disabled:n,children:T.jsx(rye,{className:`w-5 h-5 text-gray-500 dark:text-gray-400 transform ${d==="desc"?"rotate-180":""}`})}),T.jsxs("div",{className:"flex rounded-lg border border-gray-200 dark:border-gray-700",children:[T.jsx("button",{onClick:()=>m("grid"),className:`p-2 ${p==="grid"?"bg-gray-100 dark:bg-gray-700":"hover:bg-gray-50 dark:hover:bg-gray-700"} rounded-l-lg disabled:opacity-50`,"aria-label":"Grid view",disabled:n,children:T.jsx(Tye,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})}),T.jsx("button",{onClick:()=>m("list"),className:`p-2 ${p==="list"?"bg-gray-100 dark:bg-gray-700":"hover:bg-gray-50 dark:hover:bg-gray-700"} rounded-r-lg disabled:opacity-50`,"aria-label":"List view",disabled:n,children:T.jsx(vR,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]})]})]})]}),n?T.jsx(S,{}):a?T.jsx(I,{}):x.length>0?T.jsxs(T.Fragment,{children:[E>1&&T.jsx(O,{}),p==="grid"?T.jsx(C,{}):T.jsx(P,{}),E>1&&T.jsx(O,{})]}):T.jsx("div",{className:"text-center py-12",children:T.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:"No NFTs found matching your criteria"})})]})}var ge=class extends Error{constructor(r,e,n){super(r),this.statusCode=e,this.details=n,this.name="PinataError"}},ht=class extends ge{constructor(r,e,n){super(r,e,n),this.name="NetworkError"}},Ot=class extends ge{constructor(r,e,n){super(r,e,n),this.name="AuthenticationError"}},Ft=class extends ge{constructor(r,e){super(r,void 0,e),this.name="ValidationError"}};function I4e(r){return/^Qm[1-9A-HJ-NP-Za-km-z]{44}$/.test(r)}function R4e(r){return/^b[a-z2-7]{58,}$/.test(r)}function Nq(r){return r=r.trim(),I4e(r)||R4e(r)}async function $4e(r){if(typeof r!="string")throw new Error("Input is not a string");const e=o=>{const c=o.split("/");return Nq(c[0])?c[0]:null},n=e(r);if(n)return{containsCid:!0,cid:n};let i;try{i=new URL(r)}catch{const c=r.split(/\/|\?/);for(const l of c){const u=e(l);if(u)return{containsCid:!0,cid:u}}return{containsCid:!1,cid:null}}const a=i.hostname.split(".");for(const o of a)if(Nq(o))return{containsCid:!0,cid:o};const s=i.pathname.split("/");for(const o of s){const c=e(o);if(c)return{containsCid:!0,cid:c}}return{containsCid:!1,cid:null}}async function j4e(r,e){const n=await $4e(r);if(n.containsCid!==!0)throw new Error("url does not contain CID");if(!r.startsWith("https")&&!r.startsWith("ipfs://"))return`${e}/ipfs/${r}`;const i=new URL(r),a=i.pathname+i.search+i.hash;if(r.startsWith(`ipfs://${n.cid}`))return`${e}/ipfs/${n.cid}${a}`;if(r.includes(`/ipfs/${n.cid}`))return`${e}${a}`;if(r.includes(`/ipns/${n.cid}`))return`${e}${a}`;if(i.hostname.includes(n.cid))return`${e}/ipfs/${n.cid}${a}`;throw new Error("unsupported URL pattern, please submit a github issue with the URL utilized")}function D4e(r){const e=r.match(/\/files\/([^\/]+)/);if(e&&e[1])return e[1];throw new ht("File ID not found in URL",400,{error:"File ID not found in URL",code:"HTTP_ERROR",metadata:{requestUrl:r}})}var zi=r=>{let e=r==null?void 0:r.pinataGateway;return r&&e&&(e&&!e.startsWith("https://")&&(e=`https://${e}`),r.pinataGateway=e),r},M4e=async(r,e)=>{if(!r)throw new Ft("Pinata configuration is missing");const n=new URLSearchParams;if(e){const{cid:s,gateway_domain:o,start_date:c,end_date:l,file_name:u,user_agent:d,country:f,region:p,referer:m,limit:y,sort_order:v,date_interval:b,sort_by:w}=e;s&&n.append("cid",s),o&&n.append("gateway_domain",o),c&&n.append("start_date",c),l&&n.append("end_date",l),u&&n.append("file_name",u),d&&n.append("user_agent",d.toString()),f&&n.append("country",f.toString()),p&&n.append("region",p),m&&n.append("referer",m.toString()),y&&n.append("limit",y.toString()),v&&n.append("sort_order",v),w&&n.append("sort_by",w),b&&n.append("by",b)}let i="https://api.pinata.cloud/v3";r.endpointUrl&&(i=r.endpointUrl);const a=`${i}/ipfs/gateway_analytics_time_series?${n.toString()}`;try{let s;r.customHeaders&&Object.keys(r.customHeaders).length>0?s={...r.customHeaders}:s={Authorization:`Bearer ${r.pinataJwt}`,Source:"sdk/analyticsDateInterval"};const o=await fetch(a,{method:"GET",headers:s});if(!o.ok){const u=await o.text();throw o.status===401||o.status===403?new Ot(`Authentication failed: ${u}`,o.status,{error:u,code:"AUTH_ERROR",metadata:{requestUrl:o.url}}):new ht(`HTTP error: ${u}`,o.status,{error:u,code:"HTTP_ERROR",metadata:{requestUrl:o.url}})}return(await o.json()).data}catch(s){throw s instanceof ge?s:s instanceof Error?new ge(`Error processing anaytics usage: ${s.message}`):new ge("An unknown error occurred while fetching gateway usage")}},L4e=async(r,e)=>{if(!r)throw new Ft("Pinata configuration is missing");const n=new URLSearchParams;if(e){const{cid:s,gateway_domain:o,start_date:c,end_date:l,file_name:u,user_agent:d,country:f,region:p,referer:m,limit:y,sort_order:v,sort_by:b,attribute:w}=e,x=o||r.pinataGateway;if(x){const E=x.replace(/^https?:\/\//,"");n.append("gateway_domain",E)}s&&n.append("cid",s),c&&n.append("start_date",c),l&&n.append("end_date",l),u&&n.append("file_name",u),d&&n.append("user_agent",d.toString()),f&&n.append("country",f.toString()),p&&n.append("region",p),m&&n.append("referer",m.toString()),y&&n.append("limit",y.toString()),v&&n.append("sort_order",v),b&&n.append("sort_by",b),w&&n.append("by",w)}let i="https://api.pinata.cloud/v3";r.endpointUrl&&(i=r.endpointUrl);const a=`${i}/ipfs/gateway_analytics_top?${n.toString()}`;try{let s;r.customHeaders&&Object.keys(r.customHeaders).length>0?s={...r.customHeaders}:s={Authorization:`Bearer ${r.pinataJwt}`,Source:"sdk/analyticsTopUsage"};const o=await fetch(a,{method:"GET",headers:s});if(!o.ok){const l=await o.text();throw o.status===401||o.status===403?new Ot(`Authentication failed: ${l}`,o.status,{error:l,code:"AUTH_ERROR",metadata:{requestUrl:o.url}}):new ht(`HTTP error: ${l}`,o.status,{error:l,code:"HTTP_ERROR",metadata:{requestUrl:o.url}})}return await o.json()}catch(s){throw s instanceof ge?s:s instanceof Error?new ge(`Error processing anaytics usage: ${s.message}`):new ge("An unknown error occurred while fetching gateway usage")}},U4e=async r=>{if(!r)throw new Ft("Pinata configuration is missing");let e,n="https://api.pinata.cloud";r.endpointUrl&&(n=r.endpointUrl),r.customHeaders&&Object.keys(r.customHeaders).length>0?e={Authorization:`Bearer ${r.pinataJwt}`,...r.customHeaders}:e={Authorization:`Bearer ${r.pinataJwt}`,Source:"sdk/testAuthentication"};try{const i=await fetch(`${n}/data/testAuthentication`,{method:"GET",headers:e});if(!i.ok){const s=await i.text();throw i.status===401||i.status===403?new Ot(`Authentication failed: ${s}`,i.status,{error:s,code:"AUTH_ERROR",metadata:{requestUrl:i.url}}):new ht(`HTTP error: ${s}`,i.status,{error:s,code:"HTTP_ERROR",metadata:{requestUrl:i.url}})}return await i.json()}catch(i){throw i instanceof ge?i:i instanceof Error?new ge(`Error processing authentication: ${i.message}`):new ge("An unknown error occurred while testing authentication")}},B4e=r=>new Promise(e=>{setTimeout(e,r)}),bte=async(r,e,n)=>{if(!r)throw new Ft("Pinata configuration is missing");const i=[];let a;r.customHeaders&&Object.keys(r.customHeaders).length>0?a={Authorization:`Bearer ${r.pinataJwt}`,...r.customHeaders}:a={Authorization:`Bearer ${r.pinataJwt}`,Source:"sdk/deleteFile"};let s="https://api.pinata.cloud/v3";r.endpointUrl&&(s=r.endpointUrl);for(const o of e)try{const c=await fetch(`${s}/files/${n}/${o}`,{method:"DELETE",headers:a});if(await B4e(300),!c.ok){const l=await c.text();throw c.status===401?new Ot(`Authentication failed: ${l}`,c.status,{error:l,code:"HTTP_ERROR",metadata:{requestUrl:c.url}}):new ht("HTTP error",c.status,{error:l,code:"HTTP_ERROR",metadata:{requestUrl:c.url}})}i.push({id:o,status:c.statusText})}catch(c){let l;c instanceof ge?l=c.message:c instanceof Error?l=`Error deleting file ${o}: ${c.message}`:l=`An unknown error occurred while deleting file ${o}`,i.push({id:o,status:l})}return i},F4e=async(r,e)=>{if(!r)throw new Ft("Pinata configuration is missing");let n;r.customHeaders&&Object.keys(r.customHeaders).length>0?n={Authorization:`Bearer ${r.pinataJwt}`,...r.customHeaders}:n={Authorization:`Bearer ${r.pinataJwt}`,Source:"sdk/vectorizeFile"};let i="https://uploads.pinata.cloud/v3";r.uploadUrl&&(i=r.uploadUrl);try{const a=await fetch(`${i}/vectorize/files/${e}`,{method:"DELETE",headers:n});if(!a.ok){const o=await a.text();throw a.status===401||a.status===403?new Ot(`Authentication failed: ${o}`,a.status,{error:o,code:"AUTH_ERROR",metadata:{requestUrl:a.url}}):new ht(`HTTP error: ${o}`,a.status,{error:o,code:"HTTP_ERROR",metadata:{requestUrl:a.url}})}return await a.json()}catch(a){throw a instanceof ge?a:a instanceof Error?new ge(`Error processing vectorize file: ${a.message}`):new ge("An unknown error occurred while vectorizing file")}},wte=async(r,e,n)=>{if(!r)throw new Ft("Pinata configuration is missing");let i;r.customHeaders&&Object.keys(r.customHeaders).length>0?i={Authorization:`Bearer ${r.pinataJwt}`,"Content-Type":"application/json",...r.customHeaders}:i={Authorization:`Bearer ${r.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/deleteSwap"};let a="https://api.pinata.cloud/v3";r.endpointUrl&&(a=r.endpointUrl);try{const s=await fetch(`${a}/files/${n}/swap/${e}`,{method:"DELETE",headers:i});if(!s.ok){const o=await s.text();throw s.status===401||s.status===403?new Ot("Authentication failed",s.status,{error:o,code:"AUTH_ERROR"}):s.status===403?new ge("Unauthorized CID Swap Deletion",s.status,{error:o,code:"UNAUTHORIZED"}):s.status===404?new ge("CID not pinned to account",s.status,{error:o,code:"NOT_FOUND"}):new ht("HTTP error occurred",s.status,{error:o,code:"NETWORK_ERROR"})}return s.statusText}catch(s){throw s instanceof ge?s:s instanceof Error?new ge(`Error processing deleteSwap: ${s.message}`,void 0,{code:"DELETE_SWAP_ERROR"}):new ge("An unknown error occurred while deleting swap",void 0,{code:"UNKNOWN_ERROR"})}},q4e=async(r,e,n)=>{if(!r)throw new Ft("Pinata configuration is missing");const i=new URLSearchParams;if(n){const{name:o,group:c,cid:l,order:u,limit:d,mimeType:f,pageToken:p,cidPending:m,metadata:y,noGroup:v}=n;d&&i.append("limit",d.toString()),o&&i.append("name",o),c&&i.append("group",c),l&&i.append("cid",l),f&&i.append("mimeType",f),u&&i.append("order",u),p&&i.append("pageToken",p),m&&i.append("cidPending","true"),v&&i.append("group","null"),y&&typeof y=="object"&&Object.entries(y).forEach(([b,w])=>{i.append(`keyvalues[${b.toString()}]`,w.toString())})}let a="https://api.pinata.cloud/v3";r.endpointUrl&&(a=r.endpointUrl);const s=`${a}/files/${e}?${i.toString()}`;try{let o;r.customHeaders&&Object.keys(r.customHeaders).length>0?o={Authorization:`Bearer ${r.pinataJwt}`,...r.customHeaders}:o={Authorization:`Bearer ${r.pinataJwt}`,Source:"sdk/listFiles"};const c=await fetch(s,{method:"GET",headers:o});if(!c.ok){const d=await c.text();throw c.status===401||c.status===403?new Ot(`Authentication failed: ${d}`,c.status,{error:d,code:"AUTH_ERROR",metadata:{requestUrl:c.url}}):new ht(`HTTP error: ${d}`,c.status,{error:d,code:"HTTP_ERROR",metadata:{requestUrl:c.url}})}return(await c.json()).data}catch(o){throw o instanceof ge?o:o instanceof Error?new ge(`Error processing list files: ${o.message}`):new ge("An unknown error occurred while listing files")}},_te=async(r,e,n)=>{if(!r)throw new Ft("Pinata configuration is missing");const i=JSON.stringify({swap_cid:e.swapCid});let a;r.customHeaders&&Object.keys(r.customHeaders).length>0?a={Authorization:`Bearer ${r.pinataJwt}`,"Content-Type":"application/json",...r.customHeaders}:a={Authorization:`Bearer ${r.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/swapCid"};let s="https://api.pinata.cloud/v3";r.endpointUrl&&(s=r.endpointUrl);try{const o=await fetch(`${s}/files/${n}/swap/${e.cid}`,{method:"PUT",headers:a,body:i});if(!o.ok){const u=await o.text();throw o.status===401||o.status===403?new Ot(`Authentication failed: ${u}`,o.status,{error:u,code:"AUTH_ERROR",metadata:{requestUrl:o.url}}):o.status===403?new ge("Unauthorized CID Swap",o.status,{error:u,code:"AUTH_ERROR",metadata:{requestUrl:o.url}}):o.status===404?new ge("CID not pinned to account",o.status,{error:u,code:"HTTP_ERROR",metadata:{requestUrl:o.url}}):new ht(`HTTP error: ${u}`,o.status,{error:u,code:"HTTP_ERROR",metadata:{requestUrl:o.url}})}return(await o.json()).data}catch(o){throw o instanceof ge?o:o instanceof Error?new ge(`Error processing CID Swap: ${o.message}`):new ge("An unknown error occurred while swapping CID")}},xte=async(r,e,n)=>{if(!r)throw new Ft("Pinata configuration is missing");let i;r.customHeaders&&Object.keys(r.customHeaders).length>0?i={Authorization:`Bearer ${r.pinataJwt}`,"Content-Type":"application/json",...r.customHeaders}:i={Authorization:`Bearer ${r.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/swapHistory"};let a="https://api.pinata.cloud/v3";r.endpointUrl&&(a=r.endpointUrl);try{const s=await fetch(`${a}/files/${n}/swap/${e.cid}?domain=${e.domain}`,{method:"GET",headers:i});if(!s.ok){const l=await s.text();throw s.status===401||s.status===403?new Ot(`Authentication failed: ${l}`,s.status,{error:l,code:"AUTH_ERROR",metadata:{requestUrl:s.url}}):s.status===404?new ge("CID does not have history",s.status,{error:l,code:"HTTP_ERROR",metadata:{requestUrl:s.url}}):new ht(`HTTP error: ${l}`,s.status,{error:l,code:"HTTP_ERROR",metadata:{requestUrl:s.url}})}return(await s.json()).data}catch(s){throw s instanceof ge?s:s instanceof Error?new ge(`Error fetching swap history: ${s.message}`):new ge("An unknown error occurred while fetching swap history")}},Ete=async(r,e,n)=>{if(!r)throw new Ft("Pinata configuration is missing");if(!e.name&&(!e.keyvalues||Object.keys(e.keyvalues).length===0))throw new Ft("At least one of 'name' or 'keyvalues' must be provided");const i={};e.name!==void 0&&(i.name=e.name),e.keyvalues&&Object.keys(e.keyvalues).length>0&&(i.keyvalues=e.keyvalues);const a=JSON.stringify(i);let s;r.customHeaders&&Object.keys(r.customHeaders).length>0?s={Authorization:`Bearer ${r.pinataJwt}`,"Content-Type":"application/json",...r.customHeaders}:s={Authorization:`Bearer ${r.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/updateMetadata"};let o="https://api.pinata.cloud/v3";r.endpointUrl&&(o=r.endpointUrl);try{const c=await fetch(`${o}/files/${n}/${e.id}`,{method:"PUT",headers:s,body:a});if(!c.ok){const d=await c.text();throw c.status===401||c.status===403?new Ot(`Authentication failed: ${d}`,c.status,{error:d,code:"AUTH_ERROR",metadata:{requestUrl:c.url}}):new ht(`HTTP error: ${d}`,c.status,{error:d,code:"HTTP_ERROR",metadata:{requestUrl:c.url}})}return(await c.json()).data}catch(c){throw c instanceof ge?c:c instanceof Error?new ge(`Error processing updateFile: ${c.message}`):new ge("An unknown error occurred while updating file")}},z4e=async(r,e)=>{if(!r)throw new Ft("Pinata configuration is missing");let n;r.customHeaders&&Object.keys(r.customHeaders).length>0?n={Authorization:`Bearer ${r.pinataJwt}`,...r.customHeaders}:n={Authorization:`Bearer ${r.pinataJwt}`,Source:"sdk/vectorizeFile"};let i="https://uploads.pinata.cloud/v3";r.uploadUrl&&(i=r.uploadUrl);try{const a=await fetch(`${i}/vectorize/files/${e}`,{method:"POST",headers:n});if(!a.ok){const o=await a.text();throw a.status===401||a.status===403?new Ot(`Authentication failed: ${o}`,a.status,{error:o,code:"AUTH_ERROR",metadata:{requestUrl:a.url}}):new ht(`HTTP error: ${o}`,a.status,{error:o,code:"HTTP_ERROR",metadata:{requestUrl:a.url}})}return await a.json()}catch(a){throw a instanceof ge?a:a instanceof Error?new ge(`Error processing vectorize file: ${a.message}`):new ge("An unknown error occurred while vectorizing file")}},H4e=async(r,e)=>{if(!r)throw new Ft("Pinata configuration is missing");let n;r.customHeaders&&Object.keys(r.customHeaders).length>0?n={Authorization:`Bearer ${r.pinataJwt}`,...r.customHeaders}:n={Authorization:`Bearer ${r.pinataJwt}`,Source:"sdk/vectorQuery"};let i="https://uploads.pinata.cloud/v3";r.uploadUrl&&(i=r.uploadUrl);const a=JSON.stringify({text:e.query});try{const s=await fetch(`${i}/vectorize/groups/${e.groupId}/query`,{method:"POST",headers:n,body:a});if(!s.ok){const l=await s.text();throw s.status===401||s.status===403?new Ot(`Authentication failed: ${l}`,s.status,{error:l,code:"AUTH_ERROR",metadata:{requestUrl:s.url}}):new ht(`HTTP error: ${l}`,s.status,{error:l,code:"HTTP_ERROR",metadata:{requestUrl:s.url}})}const c=(await s.json()).data;if(e.returnFile){if(c.matches.length===0)throw new ge("No files returned in query to fetch");const l=c.matches[0].cid;return await Ste(r,l,"files")}return c}catch(s){throw s instanceof ge?s:s instanceof Error?new ge(`Error processing vectorize file: ${s.message}`):new ge("An unknown error occurred while vectorizing file")}},Iq=async(r,e)=>{if(!r)throw new Ft("Pinata configuration is missing");const n=new URLSearchParams({includesCount:"false"});if(e){const{cid:o,status:c,sort:l,limit:u,pageToken:d}=e;o&&n.append("cid",o.toString()),c&&n.append("status",c.toString()),l&&n.append("sort",l.toString()),u&&n.append("limit",u.toString()),d&&n.append("pageToken",d.toString())}let i="https://api.pinata.cloud/v3";r.endpointUrl&&(i=r.endpointUrl);const a=`${i}/files/public/pin_by_cid?${n.toString()}`;let s;r.customHeaders&&Object.keys(r.customHeaders).length>0?s={Authorization:`Bearer ${r.pinataJwt}`,...r.customHeaders}:s={Authorization:`Bearer ${r.pinataJwt}`,Source:"sdk/pinJobs"};try{const o=await fetch(a,{method:"GET",headers:s});if(!o.ok){const u=await o.text();throw o.status===401||o.status===403?new Ot(`Authentication failed: ${u}`,o.status,{error:u,code:"AUTH_ERROR",metadata:{requestUrl:o.url}}):new ht(`HTTP error: ${u}`,o.status,{error:u,code:"HTTP_ERROR",metadata:{requestUrl:o.url}})}return(await o.json()).data}catch(o){throw o instanceof ge?o:o instanceof Error?new ge(`Error processing pinJobs: ${o.message}`):new ge("An unknown error occurred while listing pin jobs")}},W4e=async(r,e)=>{if(!r)throw new Ft("Pinata configuration is missing");let n;r.customHeaders&&Object.keys(r.customHeaders).length>0?n={Authorization:`Bearer ${r.pinataJwt}`,...r.customHeaders}:n={Authorization:`Bearer ${r.pinataJwt}`,Source:"sdk/deletePinRequest"};let i="https://api.pinata.cloud/v3";r.endpointUrl&&(i=r.endpointUrl);try{const a=await fetch(`${i}/files/public/pin_by_cid/${e}`,{method:"DELETE",headers:n});if(!a.ok){const s=await a.text();throw a.status===401?new Ot(`Authentication failed: ${s}`,a.status,{error:s,code:"HTTP_ERROR",metadata:{requestUrl:a.url}}):new ht("HTTP error",a.status,{error:s,code:"HTTP_ERROR",metadata:{requestUrl:a.url}})}return"OK"}catch(a){throw a instanceof ge?a:a instanceof Error?new ge(`Error deleting pin by request: ${a.message}`):new ge("An unknown error occurred while deleting pin by CID request")}},Ste=async(r,e,n,i)=>{var y,v;if(!r)throw new Ft("Pinata configuration is missing");let a,s=`${r==null?void 0:r.pinataGateway}/${n}/${e}`;const o=new URLSearchParams;i&&(i.width&&o.append("img-width",i.width.toString()),i.height&&o.append("img-height",i.height.toString()),i.dpr&&o.append("img-dpr",i.dpr.toString()),i.fit&&o.append("img-fit",i.fit),i.gravity&&o.append("img-gravity",i.gravity),i.quality&&o.append("img-quality",i.quality.toString()),i.format&&o.append("img-format",i.format),i.animation!==void 0&&o.append("img-anim",i.animation.toString()),i.sharpen&&o.append("img-sharpen",i.sharpen.toString()),i.onError===!0&&o.append("img-onerror","redirect"),i.metadata&&o.append("img-metadata",i.metadata)),r!=null&&r.pinataGatewayKey&&o.append("pinataGatewayToken",r.pinataGatewayKey);const c=o.toString();if(c&&(s+=`?${c}`),n==="ipfs"){const b=await fetch(s);if(!b.ok){const E=await b.text();throw b.status===401||b.status===403?new Ot(`Authentication Failed: ${E}`,b.status,{error:E,code:"AUTH_ERROR",metadata:{requestUrl:b.url}}):new ht(`HTTP error: ${E}`,b.status,{error:E,code:"HTTP_ERROR",metadata:{requestUrl:b.url}})}const w=((y=b.headers.get("content-type"))==null?void 0:y.split(";")[0])||null;return w!=null&&w.includes("application/json")?a=await b.json():w!=null&&w.includes("text/")?a=await b.text():a=await b.blob(),{data:a,contentType:w}}const l=Math.floor(new Date().getTime()/1e3),u=JSON.stringify({url:s,date:l,expires:30,method:"GET"});let d="https://api.pinata.cloud/v3";r.endpointUrl&&(d=r.endpointUrl);let f;r.customHeaders&&Object.keys(r.customHeaders).length>0?f={Authorization:`Bearer ${r.pinataJwt}`,"Content-Type":"application/json",...r.customHeaders}:f={"Content-Type":"application/json",Authorization:`Bearer ${r.pinataJwt}`,Source:"sdk/getCid"};const m=await(await fetch(`${d}/files/sign`,{method:"POST",headers:f,body:u})).json();try{const b=await fetch(m.data);if(!b.ok){const E=await b.text();throw b.status===401||b.status===403?new Ot(`Authentication Failed: ${E}`,b.status,{error:E,code:"AUTH_ERROR",metadata:{requestUrl:b.url}}):new ht(`HTTP error: ${E}`,b.status,{error:E,code:"HTTP_ERROR",metadata:{requestUrl:b.url}})}const w=((v=b.headers.get("content-type"))==null?void 0:v.split(";")[0])||null;return w!=null&&w.includes("application/json")?a=await b.json():w!=null&&w.includes("text/")?a=await b.text():a=await b.blob(),{data:a,contentType:w}}catch(b){throw b instanceof ge?b:b instanceof Error?new ge(`Error processing getCid: ${b.message}`):new ge("An unknown error occurred while getting CID contents")}},V4e=async(r,e,n)=>{let i,a=n||(r==null?void 0:r.pinataGateway)||"https://gateway.pinata.cloud";return i=await j4e(e,a),r!=null&&r.pinataGatewayKey&&`${i}${r==null?void 0:r.pinataGatewayKey}`,i},G4e=async(r,e,n)=>{if(!r)throw new Ft("Pinata configuration is missing");let i;e!=null&&e.gateway?i=e.gateway.startsWith("https://")?e.gateway:`https://${e.gateway}`:i=r.pinataGateway;let a=`${i}/files/${e.cid}`;const s=new URLSearchParams;n&&(n.width&&s.append("img-width",n.width.toString()),n.height&&s.append("img-height",n.height.toString()),n.dpr&&s.append("img-dpr",n.dpr.toString()),n.fit&&s.append("img-fit",n.fit),n.gravity&&s.append("img-gravity",n.gravity),n.quality&&s.append("img-quality",n.quality.toString()),n.format&&s.append("img-format",n.format),n.animation!==void 0&&s.append("img-anim",n.animation.toString()),n.sharpen&&s.append("img-sharpen",n.sharpen.toString()),n.onError===!0&&s.append("img-onerror","redirect"),n.metadata&&s.append("img-metadata",n.metadata));const o=s.toString();o&&(a+=`?${o}`);const c=(e==null?void 0:e.date)||Math.floor(new Date().getTime()/1e3),l=JSON.stringify({url:a,date:c,expires:e.expires,method:"GET"});let u="https://api.pinata.cloud/v3";r.endpointUrl&&(u=r.endpointUrl);let d;r.customHeaders&&Object.keys(r.customHeaders).length>0?d={Authorization:`Bearer ${r.pinataJwt}`,"Content-Type":"application/json",...r.customHeaders}:d={"Content-Type":"application/json",Authorization:`Bearer ${r.pinataJwt}`,Source:"sdk/createSignURL"};try{const f=await fetch(`${u}/files/private/download_link`,{method:"POST",headers:d,body:l});if(!f.ok){const m=await f.text();throw f.status===401||f.status===403?new Ot(`Authentication Failed: ${m}`,f.status,{error:m,code:"AUTH_ERROR",metadata:{requestUrl:f.url}}):new ht(`HTTP error: ${m}`,f.status,{error:m,code:"HTTP_ERROR",metadata:{requestUrl:f.url}})}return(await f.json()).data}catch(f){throw f instanceof ge?f:f instanceof Error?new ge(`Error processing createSignedURL: ${f.message}`):new ge("An unknown error occurred while getting signed url")}},Cte=async(r,e,n)=>{if(!r)throw new Ft("Pinata configuration is missing");const i=c=>new Promise(l=>{setTimeout(l,c)}),a=[];let s;r.customHeaders&&Object.keys(r.customHeaders).length>0?s={Authorization:`Bearer ${r.pinataJwt}`,"Content-Type":"application/json",...r.customHeaders}:s={Authorization:`Bearer ${r.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/addToGroup"};let o="https://api.pinata.cloud/v3";r.endpointUrl&&(o=r.endpointUrl);for(const c of e.files)try{const l=await fetch(`${o}/groups/${n}/${e.groupId}/ids/${c}`,{method:"PUT",headers:s});if(await i(300),!l.ok){const u=await l.text();throw l.status===401?new Ot(`Authentication failed: ${u}`,l.status,{error:u,code:"AUTH_ERROR",metadata:{requestUrl:l.url}}):new ht(`HTTP error: ${u}`,l.status,{error:u,code:"HTTP_ERROR",metadata:{requestUrl:l.url}})}a.push({id:c,status:l.statusText})}catch(l){let u;l instanceof ge?u=l.message:l instanceof Error?u=`Error adding file ${c} to group: ${l.message}`:u=`An unknown error occurred while adding file ${c} to group`,a.push({id:c,status:u})}return a},Ate=async(r,e,n)=>{if(!r)throw new Ft("Pinata configuration is missing");const i=JSON.stringify({name:e.name,is_public:e.isPublic});let a;r.customHeaders&&Object.keys(r.customHeaders).length>0?a={Authorization:`Bearer ${r.pinataJwt}`,"Content-Type":"application/json",...r.customHeaders}:a={Authorization:`Bearer ${r.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/createGroup"};let s="https://api.pinata.cloud/v3";r.endpointUrl&&(s=r.endpointUrl);try{const o=await fetch(`${s}/groups/${n}`,{method:"POST",headers:a,body:i});if(!o.ok){const u=await o.text();throw o.status===401||o.status===403?new Ot(`Authentication failed: ${u}`,o.status,{error:u,code:"AUTH_ERROR",metadata:{requestUrl:o.url}}):new ht(`HTTP error: ${u}`,o.status,{error:u,code:"HTTP_ERROR",metadata:{requestUrl:o.url}})}return(await o.json()).data}catch(o){throw o instanceof ge?o:o instanceof Error?new ge(`Error processing createGroup: ${o.message}`):new ge("An unknown error occurred while creating a group")}},Tte=async(r,e,n)=>{if(!r)throw new Ft("Pinata configuration is missing");let i;r.customHeaders&&Object.keys(r.customHeaders).length>0?i={Authorization:`Bearer ${r.pinataJwt}`,"Content-Type":"application/json",...r.customHeaders}:i={Authorization:`Bearer ${r.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/deleteGroup"};let a="https://api.pinata.cloud/v3";r.endpointUrl&&(a=r.endpointUrl);try{const s=await fetch(`${a}/groups/${n}/${e.groupId}`,{method:"DELETE",headers:i});if(!s.ok){const c=await s.text();throw s.status===401||s.status===403?new Ot(`Authentication failed: ${c}`,s.status,{error:c,code:"AUTH_ERROR",metadata:{requestUrl:s.url}}):new ht(`HTTP error: ${c}`,s.status,{error:c,code:"HTTP_ERROR",metadata:{requestUrl:s.url}})}return s.statusText}catch(s){throw s instanceof ge?s:s instanceof Error?new ge(`Error processing deleteGroup: ${s.message}`):new ge("An unknown error occurred while deleting a group")}},kte=async(r,e,n)=>{if(!r)throw new Ft("Pinata configuration is missing");let i;r.customHeaders&&Object.keys(r.customHeaders).length>0?i={Authorization:`Bearer ${r.pinataJwt}`,"Content-Type":"application/json",...r.customHeaders}:i={Authorization:`Bearer ${r.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/getGroup"};let a="https://api.pinata.cloud/v3";r.endpointUrl&&(a=r.endpointUrl);try{const s=await fetch(`${a}/groups/${n}/${e.groupId}`,{method:"GET",headers:i});if(!s.ok){const l=await s.text();throw s.status===401||s.status===403?new Ot(`Authentication failed: ${l}`,s.status,{error:l,code:"AUTH_ERROR",metadata:{requestUrl:s.url}}):new ht(`HTTP error: ${l}`,s.status,{error:l,code:"HTTP_ERROR",metadata:{requestUrl:s.url}})}return(await s.json()).data}catch(s){throw s instanceof ge?s:s instanceof Error?new ge(`Error processing getGroup: ${s.message}`):new ge("An unknown error occurred while getting info for a group")}},K4e=async(r,e,n)=>{if(!r)throw new Ft("Pinata configuration is missing");let i;r.customHeaders&&Object.keys(r.customHeaders).length>0?i={Authorization:`Bearer ${r.pinataJwt}`,"Content-Type":"application/json",...r.customHeaders}:i={Authorization:`Bearer ${r.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/listGroups"};const a=new URLSearchParams;if(n){const{pageToken:o,name:c,limit:l,isPublic:u}=n;o&&a.append("pageToken",o.toString()),u&&a.append("isPublic",u.toString()),c&&a.append("name",c),l!==void 0&&a.append("limit",l.toString())}let s="https://api.pinata.cloud/v3";r.endpointUrl&&(s=r.endpointUrl);try{const o=await fetch(`${s}/groups/${e}?${a.toString()}`,{method:"GET",headers:i});if(!o.ok){const u=await o.text();throw o.status===401||o.status===403?new Ot(`Authentication failed: ${u}`,o.status,{error:u,code:"AUTH_ERROR",metadata:{requestUrl:o.url}}):new ht(`HTTP error: ${u}`,o.status,{error:u,code:"HTTP_ERROR",metadata:{requestUrl:o.url}})}return(await o.json()).data}catch(o){throw o instanceof ge?o:o instanceof Error?new ge(`Error processing listGroups: ${o.message}`):new ge("An unknown error occurred while listing groups")}},Pte=async(r,e,n)=>{if(!r)throw new Ft("Pinata configuration is missing");const i=c=>new Promise(l=>{setTimeout(l,c)}),a=[];let s;r.customHeaders&&Object.keys(r.customHeaders).length>0?s={Authorization:`Bearer ${r.pinataJwt}`,"Content-Type":"application/json",...r.customHeaders}:s={Authorization:`Bearer ${r.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/addToGroup"};let o="https://api.pinata.cloud/v3";r.endpointUrl&&(o=r.endpointUrl);for(const c of e.files)try{const l=await fetch(`${o}/groups/${n}/${e.groupId}/ids/${c}`,{method:"DELETE",headers:s});if(await i(300),!l.ok){const u=await l.text();throw l.status===401?new Ot(`Authentication failed: ${u}`,l.status,{error:u,code:"AUTH_ERROR",metadata:{requestUrl:l.url}}):new ht(`HTTP error: ${u}`,l.status,{error:u,code:"HTTP_ERROR",metadata:{requestUrl:l.url}})}a.push({id:c,status:l.statusText})}catch(l){let u;l instanceof ge?u=l.message:l instanceof Error?u=`Error adding file ${c} to group: ${l.message}`:u=`An unknown error occurred while adding file ${c} to group`,a.push({id:c,status:u})}return a},Ote=async(r,e,n)=>{if(!r)throw new Ft("Pinata configuration is missing");const i=JSON.stringify({name:e.name,is_public:e.isPublic});let a;r.customHeaders&&Object.keys(r.customHeaders).length>0?a={Authorization:`Bearer ${r.pinataJwt}`,"Content-Type":"application/json",...r.customHeaders}:a={Authorization:`Bearer ${r.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/updateGroup"};let s="https://api.pinata.cloud/v3";r.endpointUrl&&(s=r.endpointUrl);try{const o=await fetch(`${s}/groups/${n}/${e.groupId}`,{method:"PUT",headers:a,body:i});if(!o.ok){const u=await o.text();throw o.status===401||o.status===403?new Ot(`Authentication failed: ${u}`,o.status,{error:u,code:"AUTH_ERROR",metadata:{requestUrl:o.url}}):new ht(`HTTP error: ${u}`,o.status,{error:u,code:"HTTP_ERROR",metadata:{requestUrl:o.url}})}return(await o.json()).data}catch(o){throw o instanceof ge?o:o instanceof Error?new ge(`Error processing updateGroup: ${o.message}`):new ge("An unknown error occurred while updating group")}},Y4e=async(r,e)=>{if(!r)throw new Ft("Pinata configuration is missing");let n;r.customHeaders&&Object.keys(r.customHeaders).length>0?n={Authorization:`Bearer ${r.pinataJwt}`,"Content-Type":"application/json",...r.customHeaders}:n={Authorization:`Bearer ${r.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/createKey"};const i=JSON.stringify(e);let a="https://api.pinata.cloud/v3";r.endpointUrl&&(a=r.endpointUrl);try{const s=await fetch(`${a}/pinata/keys`,{method:"POST",headers:n,body:i});if(!s.ok){const c=await s.text();throw s.status===401||s.status===403?new Ot(`Authentication failed: ${c}`,s.status,{error:c,code:"AUTH_ERROR",metadata:{requestUrl:s.url}}):new ht(`HTTP error: ${c}`,s.status,{error:c,code:"HTTP_ERROR",metadata:{requestUrl:s.url}})}return await s.json()}catch(s){throw s instanceof ge?s:s instanceof Error?new ge(`Error processing createKey: ${s.message}`):new ge("An unknown error occurred while creating API key")}},Rq=async(r,e)=>{if(!r)throw new Ft("Pinata configuration is missing");let n;r.customHeaders&&Object.keys(r.customHeaders).length>0?n={Authorization:`Bearer ${r.pinataJwt}`,"Content-Type":"application/json",...r.customHeaders}:n={Authorization:`Bearer ${r.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/listKeys"};const i=new URLSearchParams;if(e){const{offset:s,name:o,revoked:c,limitedUse:l,exhausted:u}=e;s&&i.append("offset",s.toString()),c!==void 0&&i.append("revoked",c.toString()),l!==void 0&&i.append("limitedUse",l.toString()),u!==void 0&&i.append("exhausted",u.toString()),o&&i.append("name",o)}let a="https://api.pinata.cloud/v3";r.endpointUrl&&(a=r.endpointUrl);try{const s=await fetch(`${a}/pinata/keys?${i.toString()}`,{method:"GET",headers:n});if(!s.ok){const c=await s.text();throw s.status===401||s.status===403?new Ot(`Authentication failed: ${c}`,s.status,{error:c,code:"AUTH_ERROR",metadata:{requestUrl:s.url}}):new ht(`HTTP error: ${c}`,s.status,{error:c,code:"HTTP_ERROR",metadata:{requestUrl:s.url}})}return(await s.json()).keys}catch(s){throw s instanceof ge?s:s instanceof Error?new ge(`Error processing listKeys: ${s.message}`):new ge("An unknown error occurred while listing API keys")}},X4e=r=>new Promise(e=>{setTimeout(e,r)}),J4e=async(r,e)=>{if(!r)throw new Ft("Pinata configuration is missing");let n;r.customHeaders&&Object.keys(r.customHeaders).length>0?(n={Authorization:`Bearer ${r.pinataJwt}`,"Content-Type":"application/json",...r.customHeaders},n={...r.customHeaders}):n={Authorization:`Bearer ${r.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/revokeKeys"};const i=[];let a="https://api.pinata.cloud/v3";r.endpointUrl&&(a=r.endpointUrl);for(const s of e)try{const o=await fetch(`${a}/pinata/keys/${s}`,{method:"PUT",headers:n});if(await X4e(300),!o.ok){const l=await o.text();throw o.status===401||o.status===403?new Ot(`Authentication failed: ${l}`,o.status,{error:l,code:"AUTH_ERROR",metadata:{requestUrl:o.url}}):new ht(`HTTP error: ${l}`,o.status,{error:l,code:"HTTP_ERROR",metadata:{requestUrl:o.url}})}const c=await o.json();i.push({key:s,status:c})}catch(o){let c;o instanceof ge?c=o.message:o instanceof Error?c=`Error revoking key ${s}: ${o.message}`:c=`An unknown error occurred while revoking key ${s}`,i.push({key:s,status:c})}return i},Nte=async(r,e,n,i)=>{var f,p,m;if(!r)throw new Ft("Pinata configuration is missing");const a=(i==null?void 0:i.keys)||(r==null?void 0:r.pinataJwt),s=(f=i==null?void 0:i.metadata)!=null&&f.name?(p=i==null?void 0:i.metadata)==null?void 0:p.name:"base64 string",o=Buffer.from(e,"base64"),c=new Blob([o]),l=new FormData;l.append("file",c,s),l.append("network",n),l.append("name",s),i!=null&&i.groupId&&l.append("group_id",i.groupId),(m=i==null?void 0:i.metadata)!=null&&m.keyvalues&&l.append("keyvalues",JSON.stringify(i.metadata.keyvalues));let u;r.customHeaders&&Object.keys(r.customHeaders).length>0?u={Authorization:`Bearer ${a}`,...r.customHeaders}:u={Authorization:`Bearer ${a}`,Source:"sdk/base64"};let d="https://uploads.pinata.cloud/v3";if(r.uploadUrl&&(d=r.uploadUrl),i!=null&&i.url)try{const y=await fetch(i.url,{method:"POST",body:l});if(!y.ok){const w=await y.text();throw y.status===401||y.status===403?new Ot(`Authentication failed: ${w}`,y.status,{error:w,code:"AUTH_ERROR",metadata:{requestUrl:y.url}}):new ht(`HTTP error: ${w}`,y.status,{error:w,code:"HTTP_ERROR",metadata:{requestUrl:y.url}})}return(await y.json()).data}catch(y){throw y instanceof ge?y:y instanceof Error?new ge(`Error processing base64: ${y.message}`):new ge("An unknown error occurred while trying to upload base64")}try{const y=await fetch(`${d}/files`,{method:"POST",headers:u,body:l});if(!y.ok){const w=await y.text();throw y.status===401||y.status===403?new Ot(`Authentication failed: ${w}`,y.status,{error:w,code:"AUTH_ERROR",metadata:{requestUrl:y.url}}):new ht(`HTTP error: ${w}`,y.status,{error:w,code:"HTTP_ERROR",metadata:{requestUrl:y.url}})}const b=(await y.json()).data;if(i!=null&&i.vectorize){const w=await fetch(`${d}/vectorize/files/${b.id}`,{method:"POST",headers:{Authorization:`Bearer ${a}`}});if(w.ok)return b.vectorized=!0,b;{const x=await w.text();throw new ht(`HTTP error during vectorization: ${x}`,w.status,{error:x,code:"HTTP_ERROR",metadata:{requestUrl:y.url}})}}return b}catch(y){throw y instanceof ge?y:y instanceof Error?new ge(`Error processing base64: ${y.message}`):new ge("An unknown error occurred while trying to upload base64")}},Ite=async(r,e,n)=>{if(!r)throw new Ft("Pinata configuration is missing");const a={date:(e==null?void 0:e.date)||Math.floor(new Date().getTime()/1e3),expires:e.expires};e.groupId&&(a.group_id=e.groupId),e.name&&(a.filename=e.name),e.keyvalues&&(a.keyvalues=e.keyvalues),n&&(a.network=n),e.streamable&&(a.streamable=e.streamable),e.maxFileSize&&(a.max_file_size=e.maxFileSize),e.mimeTypes&&(a.allow_mime_types=e.mimeTypes);let s="https://uploads.pinata.cloud/v3";r.uploadUrl&&(s=r.uploadUrl);let o;r.customHeaders&&Object.keys(r.customHeaders).length>0?o={Authorization:`Bearer ${r.pinataJwt}`,"Content-Type":"application/json",...r.customHeaders}:o={"Content-Type":"application/json",Authorization:`Bearer ${r.pinataJwt}`,Source:"sdk/createSignURL"};try{const c=await fetch(`${s}/files/sign`,{method:"POST",headers:o,body:JSON.stringify(a)});if(!c.ok){const u=await c.text();throw c.status===401||c.status===403?new Ot(`Authentication Failed: ${u}`,c.status,{error:u,code:"AUTH_ERROR",metadata:{requestUrl:c.url}}):new ht(`HTTP error: ${u}`,c.status,{error:u,code:"HTTP_ERROR",metadata:{requestUrl:c.url}})}return(await c.json()).data}catch(c){throw c instanceof ge?c:c instanceof Error?new ge(`Error processing createSignedURL: ${c.message}`):new ge("An unknown error occurred while getting signed url")}},Rte=async(r,e,n,i)=>{var l,u,d,f;if(!r)throw new Ft("Pinata configuration is missing");const a=(i==null?void 0:i.keys)||r.pinataJwt;let s="https://uploads.pinata.cloud/v3";if(r.uploadUrl&&(s=r.uploadUrl),e.size>94371840){let p;r.customHeaders&&Object.keys(r.customHeaders).length>0?p={Authorization:`Bearer ${a}`,...r.customHeaders}:p={Authorization:`Bearer ${a}`,Source:"sdk/file"};const m=((l=i==null?void 0:i.metadata)==null?void 0:l.name)||e.name||"File from SDK";let y=`filename ${btoa(m)},filetype ${btoa(e.type)},network ${btoa(n)}`;i!=null&&i.groupId&&y+`,group_id ${btoa(i.groupId)}`,(u=i==null?void 0:i.metadata)!=null&&u.keyvalues&&y+`,keyvalues ${btoa(JSON.stringify(i.metadata.keyvalues))}`,i!=null&&i.streamable&&y+`,keyvalues ${btoa("true")}`;let v=`${s}/files`;i!=null&&i.url&&(v=i.url);const b=await fetch(v,{method:"POST",headers:{"Upload-Length":`${e.size}`,"Upload-Metadata":y,...p}}),w=b.headers.get("Location");if(!w){const C=await b.text();throw new ht("Upload URL not provided",b.status,{error:C,code:"HTTP_ERROR",metadata:{requestUrl:b.url,requestHeaders:b.headers}})}const x=50*1024*1024,E=Math.ceil(e.size/x);let A=0,S;for(let C=0;C<E;C++){const P=e.slice(A,A+x);if(S=await fetch(w,{method:"PATCH",headers:{"Content-Type":"application/offset+octet-stream","Upload-Offset":A.toString(),...p},body:P}),!S.ok){const O=await S.text();throw new ht(`HTTP error during chunk upload: ${O}`,S.status,{error:O,code:"HTTP_ERROR",metadata:{requestUrl:S.url}})}A+=P.size}if(S.status===204){const C=D4e(w);let P;r.endpointUrl?P=r.endpointUrl:P="https://api.pinata.cloud/v3";const M=(await(await fetch(`${P}/files/${n}/${C}`,{method:"GET",headers:{Authorization:`Bearer ${a}`}})).json()).data;if(i!=null&&i.vectorize){const D=await fetch(`${s}/vectorize/files/${M.id}`,{method:"POST",headers:{Authorization:`Bearer ${a}`}});if(D.ok)return M.vectorized=!0,M;{const q=await D.text();throw new ht(`HTTP error during vectorization: ${q}`,D.status,{error:q,code:"HTTP_ERROR",metadata:{requestUrl:D.url}})}}return M}}let o;r.customHeaders&&Object.keys(r.customHeaders).length>0?o={Authorization:`Bearer ${a}`,...r.customHeaders}:o={Authorization:`Bearer ${a}`,Source:"sdk/file"};const c=new FormData;if(c.append("file",e,e.name),c.append("network",n),c.append("name",((d=i==null?void 0:i.metadata)==null?void 0:d.name)||e.name||"File from SDK"),i!=null&&i.groupId&&c.append("group_id",i.groupId),(f=i==null?void 0:i.metadata)!=null&&f.keyvalues&&c.append("keyvalues",JSON.stringify(i.metadata.keyvalues)),i!=null&&i.streamable&&c.append("streamable","true"),i!=null&&i.url)try{const p=await fetch(i.url,{method:"POST",headers:o,body:c});if(!p.ok){const v=await p.text();throw p.status===401||p.status===403?new Ot(`Authentication failed: ${v}`,p.status,{error:v,code:"AUTH_ERROR",metadata:{requestUrl:p.url}}):new ht(`HTTP error: ${v}`,p.status,{error:v,code:"HTTP_ERROR",metadata:{requestUrl:p.url}})}return(await p.json()).data}catch(p){throw p instanceof ge?p:p instanceof Error?new ge(`Error processing base64: ${p.message}`):new ge("An unknown error occurred while trying to upload base64")}try{const p=await fetch(`${s}/files`,{method:"POST",headers:o,body:c});if(!p.ok){const v=await p.text();throw p.status===401||p.status===403?new Ot(`Authentication failed: ${v}`,p.status,{error:v,code:"AUTH_ERROR",metadata:{requestUrl:p.url}}):new ht(`HTTP error: ${v}`,p.status,{error:v,code:"HTTP_ERROR",metadata:{requestUrl:p.url}})}const y=(await p.json()).data;if(i!=null&&i.vectorize){const v=await fetch(`${s}/vectorize/files/${y.id}`,{method:"POST",headers:{Authorization:`Bearer ${a}`}});if(v.ok)return y.vectorized=!0,y;{const b=await v.text();throw new ht(`HTTP error during vectorization: ${b}`,v.status,{error:b,code:"HTTP_ERROR",metadata:{requestUrl:p.url}})}}return y}catch(p){throw p instanceof ge?p:p instanceof Error?new ge(`Error uploading file: ${p.message}`):new ge("An unknown error occurred while uploading the file")}},Z4e=async(r,e,n,i)=>{var u,d;if(!r)throw new Ft("Pinata configuration is missing");const a=(i==null?void 0:i.keys)||(r==null?void 0:r.pinataJwt),s=((u=i==null?void 0:i.metadata)==null?void 0:u.name)||"folder_from_sdk",o=new FormData;for(const f of Array.from(e)){const p=f.webkitRelativePath||`${s}/${f.name}`;o.append("file",f,p)}o.append("pinataMetadata",JSON.stringify({name:s,keyvalues:(d=i==null?void 0:i.metadata)==null?void 0:d.keyvalues})),o.append("pinataOptions",JSON.stringify({groupId:i==null?void 0:i.groupId,cidVersion:1}));let c;r.customHeaders&&Object.keys(r.customHeaders).length>0?c={Authorization:`Bearer ${a}`,...r.customHeaders}:c={Authorization:`Bearer ${a}`,Source:"sdk/fileArray"};let l="https://api.pinata.cloud/pinning/pinFileToIPFS";r.legacyUploadUrl&&(l=r.legacyUploadUrl);try{const f=await fetch(`${l}`,{method:"POST",headers:c,body:o});if(!f.ok){const y=await f.text();throw f.status===401||f.status===403?new Ot(`Authentication failed: ${y}`,f.status,{error:y,code:"AUTH_ERROR",metadata:{requestUrl:f.url}}):new ht(`HTTP error: ${y}`,f.status,{error:y,code:"HTTP_ERROR",metadata:{requestUrl:f.url}})}const p=await f.json();return{id:p.ID,name:p.Name,cid:p.IpfsHash,size:p.PinSize,created_at:p.Timestamp,number_of_files:p.NumberOfFiles,mime_type:p.MimeType,group_id:p.GroupId,keyvalues:p.Keyvalues,vectorized:!1,network:"public"}}catch(f){throw f instanceof ge?f:f instanceof Error?new ge(`Error processing fileArray: ${f.message}`):new ge("An unknown error occurred while uploading an array of files")}},$te=async(r,e,n,i)=>{var f,p;if(!r)throw new Ft("Pinata configuration is missing");const a=(i==null?void 0:i.keys)||(r==null?void 0:r.pinataJwt),s=JSON.stringify(e),o=new Blob([s]),c=new File([o],"data.json",{type:"application/json"}),l=new FormData;l.append("file",c,c.name),l.append("network",n),l.append("name",((f=i==null?void 0:i.metadata)==null?void 0:f.name)||c.name||"File from SDK"),i!=null&&i.groupId&&l.append("group_id",i.groupId),(p=i==null?void 0:i.metadata)!=null&&p.keyvalues&&l.append("keyvalues",JSON.stringify(i.metadata.keyvalues));let u;r.customHeaders&&Object.keys(r.customHeaders).length>0?u={Authorization:`Bearer ${a}`,...r.customHeaders}:u={Authorization:`Bearer ${a}`,Source:"sdk/json"};let d="https://uploads.pinata.cloud/v3";if(r.uploadUrl&&(d=r.uploadUrl),i!=null&&i.url)try{const m=await fetch(i.url,{method:"POST",body:l});if(!m.ok){const b=await m.text();throw m.status===401||m.status===403?new Ot(`Authentication failed: ${b}`,m.status,{error:b,code:"AUTH_ERROR",metadata:{requestUrl:m.url}}):new ht(`HTTP error: ${b}`,m.status,{error:b,code:"HTTP_ERROR",metadata:{requestUrl:m.url}})}return(await m.json()).data}catch(m){throw m instanceof ge?m:m instanceof Error?new ge(`Error processing base64: ${m.message}`):new ge("An unknown error occurred while trying to upload base64")}try{const m=await fetch(`${d}/files`,{method:"POST",headers:u,body:l});if(!m.ok){const b=await m.text();throw m.status===401||m.status===403?new Ot(`Authentication failed: ${b}`,m.status,{error:b,code:"AUTH_ERROR",metadata:{requestUrl:m.url}}):new ht(`HTTP error: ${b}`,m.status,{error:b,code:"HTTP_ERROR",metadata:{requestUrl:m.url}})}const v=(await m.json()).data;if(i!=null&&i.vectorize){const b=await fetch(`${d}/vectorize/files/${v.id}`,{method:"POST",headers:{Authorization:`Bearer ${a}`}});if(b.ok)return v.vectorized=!0,v;{const w=await b.text();throw new ht(`HTTP error during vectorization: ${w}`,b.status,{error:w,code:"HTTP_ERROR",metadata:{requestUrl:m.url}})}}return v}catch(m){throw m instanceof ge?m:m instanceof Error?new ge(`Error processing json: ${m.message}`):new ge("An unknown error occurred while uploading json")}},jte=async(r,e,n,i)=>{var m,y;if(!r)throw new Ft("Pinata configuration is missing");const a=(i==null?void 0:i.keys)||(r==null?void 0:r.pinataJwt),s=new FormData,o=await fetch(e);if(!o.ok){const v=await o.text();throw new ht(`HTTP error: ${v}`,o.status,{error:v,code:"HTTP_ERROR",metadata:{requestUrl:o.url}})}const c=await o.arrayBuffer(),l=new Blob([c]),u=((m=i==null?void 0:i.metadata)==null?void 0:m.name)??"url_upload",d=new File([l],u);s.append("file",d,u),s.append("network",n),s.append("name",u),i!=null&&i.groupId&&s.append("group_id",i.groupId),(y=i==null?void 0:i.metadata)!=null&&y.keyvalues&&s.append("keyvalues",JSON.stringify(i.metadata.keyvalues));let f;r.customHeaders&&Object.keys(r.customHeaders).length>0?f={Authorization:`Bearer ${a}`,...r.customHeaders}:f={Authorization:`Bearer ${a}`,Source:"sdk/url"};let p="https://uploads.pinata.cloud/v3";if(r.uploadUrl&&(p=r.uploadUrl),i!=null&&i.url)try{const v=await fetch(i.url,{method:"POST",body:s});if(!v.ok){const x=await v.text();throw v.status===401||v.status===403?new Ot(`Authentication failed: ${x}`,v.status,{error:x,code:"AUTH_ERROR",metadata:{requestUrl:v.url}}):new ht(`HTTP error: ${x}`,v.status,{error:x,code:"HTTP_ERROR",metadata:{requestUrl:v.url}})}return(await v.json()).data}catch(v){throw v instanceof ge?v:v instanceof Error?new ge(`Error processing base64: ${v.message}`):new ge("An unknown error occurred while trying to upload base64")}try{const v=await fetch(`${p}/files`,{method:"POST",headers:f,body:s});if(!v.ok){const x=await v.text();throw v.status===401||v.status===403?new Ot(`Authentication failed: ${x}`,v.status,{error:x,code:"AUTH_ERROR",metadata:{requestUrl:v.url}}):new ht(`HTTP error: ${x}`,v.status,{error:x,code:"HTTP_ERROR",metadata:{requestUrl:v.url}})}const w=(await v.json()).data;if(i!=null&&i.vectorize){const x=await fetch(`${p}/vectorize/files/${w.id}`,{method:"POST",headers:{Authorization:`Bearer ${a}`}});if(x.ok)return w.vectorized=!0,w;{const E=await x.text();throw new ht(`HTTP error during vectorization: ${E}`,x.status,{error:E,code:"HTTP_ERROR",metadata:{requestUrl:v.url}})}}return w}catch(v){throw v instanceof ge?v:v instanceof Error?new ge(`Error processing url: ${v.message}`):new ge("An unknown error occurred while uploading by url")}},Q4e=async(r,e,n)=>{var l,u;if(!r)throw new Ft("Pinata configuration is missing");const i=(n==null?void 0:n.keys)||(r==null?void 0:r.pinataJwt);let a;r.customHeaders&&Object.keys(r.customHeaders).length>0?a={Authorization:`Bearer ${i}`,"Content-Type":"application/json",...r.customHeaders}:a={Authorization:`Bearer ${i}`,"Content-Type":"application/json",Source:"sdk/cid"};const s={cid:e,name:n!=null&&n.metadata?(l=n==null?void 0:n.metadata)==null?void 0:l.name:e,keyvalues:(u=n==null?void 0:n.metadata)==null?void 0:u.keyvalues,group_id:n==null?void 0:n.groupId,host_nodes:n==null?void 0:n.peerAddresses},o=JSON.stringify(s);let c="https://api.pinata.cloud/v3";r.endpointUrl&&(c=r.endpointUrl);try{const d=await fetch(`${c}/files/public/pin_by_cid`,{method:"POST",headers:a,body:o});if(!d.ok){const m=await d.text();throw d.status===401||d.status===403?new Ot(`Authentication failed: ${m}`,d.status,{error:m,code:"AUTH_ERROR",metadata:{requestUrl:d.url}}):new ht(`HTTP error: ${m}`,d.status,{error:m,code:"HTTP_ERROR",metadata:{requestUrl:d.url}})}return(await d.json()).data}catch(d){throw d instanceof ge?d:d instanceof Error?new ge(`Error processing cid: ${d.message}`):new ge("An unknown error occurred while pinning by CID")}},e6e=class{constructor(r){this.config=zi(r),this.requests=new i6e(this.config),this.bandwidth=new r6e(this.config)}updateConfig(r){this.config=r,this.requests.updateConfig(r),this.bandwidth.updateConfig(r)}summary(r){return new a6e(this.config,r.domain,r.start,r.end,r.interval)}},t6e=r=>{const e=new Date,n=new Date;return n.setDate(n.getDate()-r),{start:n.toISOString().split("T")[0],end:e.toISOString().split("T")[0]}},Dte=class{constructor(r,e,n,i){this.config=r,this.query={gateway_domain:e,start_date:n,end_date:i,sort_by:"requests",attribute:"cid"}}cid(r){return this.query.attribute="cid",r&&(this.query.cid=r),this}fileName(r){return this.query.attribute="file_name",r&&(this.query.file_name=r),this}userAgent(r){return this.query.attribute="user_agent",r&&(this.query.user_agent=r),this}country(r){return this.query.attribute="country",r&&(this.query.country=r),this}region(r){return this.query.attribute="region",r&&(this.query.region=r),this}referer(r){return this.query.attribute="referer",r&&(this.query.referer=r),this}limit(r){return this.query.limit=r,this}sort(r){return this.query.sort_order=r,this}days(r){const{start:e,end:n}=t6e(r);return this.query.start_date=e,this.query.end_date=n,this}then(r){return L4e(this.config,this.query).then(r)}},r6e=class extends Dte{constructor(r){super(r,"","",""),this.query.sort_by="bandwidth"}updateConfig(r){this.config=r}customDates(r,e){return r&&(this.query.start_date=r),e&&(this.query.end_date=e),this}from(r){return this.query.gateway_domain=r,this}},n6e=class{constructor(r,e){this.requestCount=0,this.lastRequestTime=0,this.MAX_REQUESTS_PER_MINUTE=30,this.MINUTE_IN_MS=6e4,this.config=r,this.query=e}cid(r){return this.query.cid=r,this}fileName(r){return this.query.file_name=r,this}userAgent(r){return this.query.user_agent=r,this}country(r){return this.query.country=r,this}region(r){return this.query.region=r,this}referer(r){return this.query.referer=r,this}limit(r){return this.query.limit=r,this}sort(r){return this.query.sort_order=r,this}async getAnalytics(){throw new Error("getAnalytics method must be implemented in derived class")}then(r){return this.getAnalytics().then(r)}},i6e=class extends Dte{constructor(r){super(r,"","",""),this.query.sort_by="requests"}updateConfig(r){this.config=r}customDates(r,e){return r&&(this.query.start_date=r),e&&(this.query.end_date=e),this}from(r){return this.query.gateway_domain=r,this}},a6e=class extends n6e{constructor(r,e,n,i,a){super(r,{gateway_domain:e,start_date:n,end_date:i,date_interval:a})}sortBy(r){return this.query.sort_by=r,this}async getAnalytics(){return M4e(this.config,this.query)}async all(){return this.getAnalytics()}},Mte=class{constructor(r,e){this.query={},this.config=r,this.privacy=e}name(r){return this.query.name=r,this}limit(r){return this.query.limit=r,this}isPublic(r){return this.query.isPublic=r,this}pageToken(r){return this.query.pageToken=r,this}then(r){return this.fetchPage().then(e=>(this.nextPageToken=e.next_page_token,e)).then(r)}async fetchPage(){return this.nextPageToken&&(this.query.pageToken=this.nextPageToken),K4e(this.config,this.privacy,this.query)}async*[Symbol.asyncIterator](){for(;;){const r=await this.fetchPage();for(const e of r.groups)yield e;if(!r.next_page_token)break;this.nextPageToken=r.next_page_token}}async all(){const r=[];for await(const e of this)r.push(e);return r}},s6e=class{constructor(r){this.config=zi(r)}updateConfig(r){this.config=r}create(r){return Ate(this.config,r,"public")}list(){return new Mte(this.config,"public")}get(r){return kte(this.config,r,"public")}addFiles(r){return Cte(this.config,r,"public")}removeFiles(r){return Pte(this.config,r,"public")}update(r){return Ote(this.config,r,"public")}delete(r){return Tte(this.config,r,"public")}},o6e=class{constructor(r){this.config=zi(r)}updateConfig(r){this.config=r}create(r){return Ate(this.config,r,"private")}list(){return new Mte(this.config,"private")}get(r){return kte(this.config,r,"private")}addFiles(r){return Cte(this.config,r,"private")}removeFiles(r){return Pte(this.config,r,"private")}update(r){return Ote(this.config,r,"private")}delete(r){return Tte(this.config,r,"private")}},c6e=class{constructor(r){this.config=zi(r),this.public=new s6e(r),this.private=new o6e(r)}updateConfig(r){this.config=r}},l6e=class{constructor(r){this.config=zi(r)}updateConfig(r){this.config=r}create(r){return Y4e(this.config,r)}list(){return new u6e(this.config)}revoke(r){return J4e(this.config,r)}},u6e=class{constructor(r){this.query={},this.config=r}offset(r){return this.query.offset=r,this}revoked(r){return this.query.revoked=r,this}limitedUse(r){return this.query.limitedUse=r,this}exhausted(r){return this.query.exhausted=r,this}name(r){return this.query.name=r,this}then(r){return Rq(this.config,this.query).then(r)}async*[Symbol.asyncIterator](){let r=!0,e=0;for(;r;){this.query.offset=e;const n=await Rq(this.config,this.query);for(const i of n)yield i;n.length===0?r=!1:e+=n.length}}async all(){const r=[];for await(const e of this)r.push(e);return r}},d6e=class{constructor(r){this.config=zi(r),this.public=new p6e(r),this.private=new h6e(r)}updateConfig(r){this.config=r}},f6e=class{constructor(r,e){this.imgOpts={},this.config=r,this.urlOpts=e}optimizeImage(r){return this.imgOpts={...this.imgOpts,...r},this}then(r){return G4e(this.config,this.urlOpts,this.imgOpts).then(r)}},Lte=class{constructor(r,e,n){this.options={},this.config=r,this.cid=e,this.gatewayType=n}optimizeImage(r){return this.options={...this.options,...r},this}then(r){return Ste(this.config,this.cid,this.gatewayType,this.options).then(r)}},h6e=class{constructor(r){this.config=r}get(r){return new Lte(this.config,r,"files")}createAccessLink(r){return new f6e(this.config,r)}},p6e=class{constructor(r){this.config=r}get(r){return new Lte(this.config,r,"ipfs")}convert(r,e){return V4e(this.config,r,e)}},Ute=async(r,e,n)=>{if(!r)throw new Ft("Pinata configuration is missing");let i;r.customHeaders&&Object.keys(r.customHeaders).length>0?i={Authorization:`Bearer ${r.pinataJwt}`,"Content-Type":"application/json",...r.customHeaders}:i={Authorization:`Bearer ${r.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/getFile"};let a="https://api.pinata.cloud/v3";r.endpointUrl&&(a=r.endpointUrl);try{const s=await fetch(`${a}/files/${n}/${e}`,{method:"GET",headers:i});if(!s.ok){const l=await s.text();throw s.status===401||s.status===403?new Ot(`Authentication failed: ${l}`,s.status,{error:l,code:"AUTH_ERROR",metadata:{requestUrl:s.url}}):new ht(`HTTP error: ${l}`,s.status,{error:l,code:"HTTP_ERROR",metadata:{requestUrl:s.url}})}return(await s.json()).data}catch(s){throw s instanceof ge?s:s instanceof Error?new ge(`Error processing getGroup: ${s.message}`):new ge("An unknown error occurred while getting info for a group")}},Bte=class{constructor(r,e){this.query={},this.config=r,this.privacy=e}name(r){return this.query.name=r,this}group(r){return this.query.group=r,this}cid(r){return this.query.cid=r,this}mimeType(r){return this.query.mimeType=r,this}order(r){return this.query.order=r,this}limit(r){return this.query.limit=r,this}cidPending(r){return this.query.cidPending=r,this}keyvalues(r){return this.query.metadata=r,this}noGroup(r){return this.query.noGroup=r,this}pageToken(r){return this.query.pageToken=r,this}then(r){return this.fetchPage().then(r)}async fetchPage(){this.currentPageToken&&(this.query.pageToken=this.currentPageToken);const r=await q4e(this.config,this.privacy,this.query);return this.currentPageToken=r.next_page_token,r}async*[Symbol.asyncIterator](){for(;;){const r=await this.fetchPage();for(const e of r.files)yield e;if(!this.currentPageToken)break}}async all(){const r=[];for await(const e of this)r.push(e);return r}},g6e=class{constructor(r){this.query={},this.requestCount=0,this.lastRequestTime=0,this.MAX_REQUESTS_PER_MINUTE=30,this.MINUTE_IN_MS=6e4,this.config=r}cid(r){return this.query.cid=r,this}status(r){return this.query.status=r,this}pageLimit(r){return this.query.limit=r,this}pageToken(r){return this.query.pageToken=r,this}async fetchPage(){this.currentPageToken&&(this.query.pageToken=this.currentPageToken);const r=await Iq(this.config,this.query);return this.currentPageToken=r.next_page_token,r}sort(r){return this.query.sort=r,this}then(r){return Iq(this.config,this.query).then(r)}async rateLimit(){this.requestCount++;const r=Date.now();if(this.requestCount>=this.MAX_REQUESTS_PER_MINUTE){const e=r-this.lastRequestTime;if(e<this.MINUTE_IN_MS){const n=this.MINUTE_IN_MS-e;await new Promise(i=>setTimeout(i,n))}this.requestCount=0}this.lastRequestTime=Date.now()}async*[Symbol.asyncIterator](){for(;;){const r=await this.fetchPage();for(const e of r.jobs)yield e;if(!this.currentPageToken)break}}async all(){const r=[];for await(const e of this)r.push(e);return r}},m6e=class{constructor(r){this.config=zi(r)}list(){return new Bte(this.config,"public")}get(r){return Ute(this.config,r,"public")}delete(r){return bte(this.config,r,"public")}update(r){return Ete(this.config,r,"public")}addSwap(r){return _te(this.config,r,"public")}getSwapHistory(r){return xte(this.config,r,"public")}deleteSwap(r){return wte(this.config,r,"public")}queue(){return new g6e(this.config)}deletePinRequest(r){return W4e(this.config,r)}},y6e=class{constructor(r){this.config=zi(r)}list(){return new Bte(this.config,"private")}get(r){return Ute(this.config,r,"private")}delete(r){return bte(this.config,r,"private")}update(r){return Ete(this.config,r,"private")}addSwap(r){return _te(this.config,r,"private")}getSwapHistory(r){return xte(this.config,r,"private")}deleteSwap(r){return wte(this.config,r,"private")}vectorize(r){return z4e(this.config,r)}queryVectors(r){return H4e(this.config,r)}deleteVectors(r){return F4e(this.config,r)}},v6e=class{constructor(r){this.config=zi(r),this.public=new m6e(r),this.private=new y6e(r)}updateConfig(r){this.config=r}},Mo=class{constructor(r,e,...n){this.metadata={},this.config=r,this.uploadFunction=e,this.args=n}name(r){return this.metadata||(this.metadata={}),this.metadata.name=r,this}keyvalues(r){return this.metadata||(this.metadata={}),this.metadata.keyvalues=r,this}key(r){return this.keys=r,this}vectorize(){return this.vector=!0,this}url(r){return this.uploadUrl=r,this}group(r){return this.groupId=r,this}streamable(){return this.isStreamable=!0,this}peerAddress(r){return this.peerAddresses=r,this}then(r,e){const n=this.args[this.args.length-1]||{};return this.metadata&&(n.metadata=this.metadata),this.keys&&(n.keys=this.keys),this.groupId&&(n.groupId=this.groupId),this.vector&&(n.vectorize=this.vector),this.uploadUrl&&(n.url=this.uploadUrl),this.isStreamable&&(n.streamable=this.isStreamable),this.peerAddresses&&(n.peerAddresses=this.peerAddresses),this.args[this.args.length-1]=n,this.uploadFunction(this.config,...this.args).then(r,e)}},b6e=class{constructor(r){this.config=zi(r)}updateConfig(r){this.config=r}file(r,e){return new Mo(this.config,(n,i,a)=>Rte(n,i,"public",a),r,e)}fileArray(r,e){return new Mo(this.config,(n,i,a)=>Z4e(n,i,"public",a),r,e)}base64(r,e){return new Mo(this.config,(n,i,a)=>Nte(n,i,"public",a),r,e)}url(r,e){return new Mo(this.config,(n,i,a)=>jte(n,i,"public",a),r,e)}json(r,e){return new Mo(this.config,(n,i,a)=>$te(n,i,"public",a),r,e)}cid(r,e){return new Mo(this.config,(n,i,a)=>Q4e(n,i,a),r,e)}createSignedURL(r){return Ite(this.config,r,"public")}},w6e=class{constructor(r){this.config=zi(r)}updateConfig(r){this.config=r}file(r,e){return new Mo(this.config,(n,i,a)=>Rte(n,i,"private",a),r,e)}base64(r,e){return new Mo(this.config,(n,i,a)=>Nte(n,i,"private",a),r,e)}url(r,e){return new Mo(this.config,(n,i,a)=>jte(n,i,"private",a),r,e)}json(r,e){return new Mo(this.config,(n,i,a)=>$te(n,i,"private",a),r,e)}createSignedURL(r){return Ite(this.config,r,"private")}},_6e=class{constructor(r){this.config=zi(r),this.public=new b6e(r),this.private=new w6e(r)}updateConfig(r){this.config=r}},x6e=async(r,e,n)=>{if(!r)throw new Ft("Pinata configuration is missing");const i=JSON.stringify({signature:e.signature,address:e.address});let a;r.customHeaders&&Object.keys(r.customHeaders).length>0?a={...r.customHeaders}:a={Authorization:`Bearer ${r.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/addSignature"};let s="https://api.pinata.cloud/v3";r.endpointUrl&&(s=r.endpointUrl);try{const o=await fetch(`${s}/files/${n}/signature/${e.cid}`,{method:"POST",headers:a,body:i});if(!o.ok){const l=await o.text();throw o.status===401||o.status===403?new Ot(`Authentication failed: ${l}`,o.status,{error:l,code:"AUTH_ERROR",metadata:{requestUrl:o.url}}):o.status===403?new ge("Unauthorized signing, you must be the original owner of the file and it must not have a signature",o.status,{error:l,code:"HTTP_ERROR",metadata:{requestUrl:o.url}}):new ht(`HTTP error: ${l}`,o.status,{error:l,code:"HTTP_ERROR",metadata:{requestUrl:o.url}})}return(await o.json()).data}catch(o){throw o instanceof ge?o:o instanceof Error?new ge(`Error processing addSignature: ${o.message}`):new ge("An unknown error occurred while adding signature to CID")}},E6e=async(r,e,n)=>{if(!r)throw new Ft("Pinata configuration is missing");let i;r.customHeaders&&Object.keys(r.customHeaders).length>0?i={...r.customHeaders}:i={Authorization:`Bearer ${r.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/getSignature"};let a="https://api.pinata.cloud/v3";r.endpointUrl&&(a=r.endpointUrl);try{const s=await fetch(`${a}/files/${n}/signature/${e}`,{method:"GET",headers:i});if(!s.ok){const c=await s.text();throw s.status===401||s.status===403?new Ot(`Authentication failed: ${c}`,s.status,{error:c,code:"AUTH_ERROR",metadata:{requestUrl:s.url}}):new ht(`HTTP error: ${c}`,s.status,{error:c,code:"HTTP_ERROR",metadata:{requestUrl:s.url}})}return(await s.json()).data}catch(s){throw s instanceof ge?s:s instanceof Error?new ge(`Error processing getSignature: ${s.message}`):new ge("An unknown error occurred while fetching signature for CID")}},S6e=async(r,e,n)=>{if(!r)throw new Ft("Pinata configuration is missing");let i;r.customHeaders&&Object.keys(r.customHeaders).length>0?i={...r.customHeaders}:i={Authorization:`Bearer ${r.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/removeSignature"};let a="https://api.pinata.cloud/v3";r.endpointUrl&&(a=r.endpointUrl);try{const s=await fetch(`${a}/files/${n}/signature/${e}`,{method:"DELETE",headers:i});if(!s.ok){const o=await s.text();throw s.status===401||s.status===403?new Ot(`Authentication failed: ${o}`,s.status,{error:o,code:"AUTH_ERROR",metadata:{requestUrl:s.url}}):new ht(`HTTP error: ${o}`,s.status,{error:o,code:"HTTP_ERROR",metadata:{requestUrl:s.url}})}return"OK"}catch(s){throw s instanceof ge?s:s instanceof Error?new ge(`Error processing addSignature: ${s.message}`):new ge("An unknown error occurred while adding signature to CID")}},C6e=class{constructor(r){this.config=zi(r)}updateConfig(r){this.config=r}add(r){return x6e(this.config,r,"public")}get(r){return E6e(this.config,r,"public")}delete(r){return S6e(this.config,r,"public")}},A6e=class{constructor(r){this.config=zi(r),this.public=new C6e(r)}updateConfig(r){this.config=r}},T6e=class{constructor(r){this.config=zi(r),this.files=new v6e(this.config),this.upload=new _6e(this.config),this.gateways=new d6e(this.config),this.keys=new l6e(this.config),this.groups=new c6e(this.config),this.analytics=new e6e(this.config),this.signatures=new A6e(this.config)}setNewHeaders(r){this.config||(this.config={pinataJwt:"",customHeaders:{}}),this.config.customHeaders={...this.config.customHeaders,...r},this.files.updateConfig(this.config),this.upload.updateConfig(this.config),this.gateways.updateConfig(this.config),this.keys.updateConfig(this.config),this.groups.updateConfig(this.config),this.analytics.updateConfig(this.config),this.signatures.updateConfig(this.config)}setNewJwt(r){this.config||(this.config={pinataJwt:""}),this.config.pinataJwt=r,this.files.updateConfig(this.config),this.upload.updateConfig(this.config),this.gateways.updateConfig(this.config),this.keys.updateConfig(this.config),this.groups.updateConfig(this.config),this.analytics.updateConfig(this.config),this.signatures.updateConfig(this.config)}testAuthentication(){return U4e(this.config)}};let k6e={data:""},P6e=r=>typeof window=="object"?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||k6e,O6e=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,N6e=/\/\*[^]*?\*\/|  +/g,$q=/\n+/g,hu=(r,e)=>{let n="",i="",a="";for(let s in r){let o=r[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":i+=s[1]=="f"?hu(o,s):s+"{"+hu(o,s[1]=="k"?"":e)+"}":typeof o=="object"?i+=hu(o,e?e.replace(/([^,])+/g,c=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,c):c?c+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=hu.p?hu.p(s,o):s+":"+o+";")}return n+(e&&a?e+"{"+a+"}":a)+i},Tc={},Fte=r=>{if(typeof r=="object"){let e="";for(let n in r)e+=n+Fte(r[n]);return e}return r},I6e=(r,e,n,i,a)=>{let s=Fte(r),o=Tc[s]||(Tc[s]=(l=>{let u=0,d=11;for(;u<l.length;)d=101*d+l.charCodeAt(u++)>>>0;return"go"+d})(s));if(!Tc[o]){let l=s!==r?r:(u=>{let d,f,p=[{}];for(;d=O6e.exec(u.replace(N6e,""));)d[4]?p.shift():d[3]?(f=d[3].replace($q," ").trim(),p.unshift(p[0][f]=p[0][f]||{})):p[0][d[1]]=d[2].replace($q," ").trim();return p[0]})(r);Tc[o]=hu(a?{["@keyframes "+o]:l}:l,n?"":"."+o)}let c=n&&Tc.g?Tc.g:null;return n&&(Tc.g=Tc[o]),((l,u,d,f)=>{f?u.data=u.data.replace(f,l):u.data.indexOf(l)===-1&&(u.data=d?l+u.data:u.data+l)})(Tc[o],e,i,c),o},R6e=(r,e,n)=>r.reduce((i,a,s)=>{let o=e[s];if(o&&o.call){let c=o(n),l=c&&c.props&&c.props.className||/^go/.test(c)&&c;o=l?"."+l:c&&typeof c=="object"?c.props?"":hu(c,""):c===!1?"":c}return i+a+(o??"")},"");function QS(r){let e=this||{},n=r.call?r(e.p):r;return I6e(n.unshift?n.raw?R6e(n,[].slice.call(arguments,1),e.p):n.reduce((i,a)=>Object.assign(i,a&&a.call?a(e.p):a),{}):n,P6e(e.target),e.g,e.o,e.k)}let qte,j$,D$;QS.bind({g:1});let ll=QS.bind({k:1});function $6e(r,e,n,i){hu.p=e,qte=r,j$=n,D$=i}function zu(r,e){let n=this||{};return function(){let i=arguments;function a(s,o){let c=Object.assign({},s),l=c.className||a.className;n.p=Object.assign({theme:j$&&j$()},c),n.o=/ *go\d+/.test(l),c.className=QS.apply(n,i)+(l?" "+l:"");let u=r;return r[0]&&(u=c.as||r,delete c.as),D$&&u[0]&&D$(c),qte(u,c)}return a}}var j6e=r=>typeof r=="function",M$=(r,e)=>j6e(r)?r(e):r,D6e=(()=>{let r=0;return()=>(++r).toString()})(),M6e=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r}})(),L6e=20,zte=(r,e)=>{switch(e.type){case 0:return{...r,toasts:[e.toast,...r.toasts].slice(0,L6e)};case 1:return{...r,toasts:r.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return zte(r,{type:r.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:i}=e;return{...r,toasts:r.toasts.map(s=>s.id===i||i===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...r,pausedAt:e.time};case 6:let a=e.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+a}))}}},U6e=[],pk={toasts:[],pausedAt:void 0},s5=r=>{pk=zte(pk,r),U6e.forEach(e=>{e(pk)})},B6e=(r,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...n,id:(n==null?void 0:n.id)||D6e()}),Db=r=>(e,n)=>{let i=B6e(e,r,n);return s5({type:2,toast:i}),i.id},oi=(r,e)=>Db("blank")(r,e);oi.error=Db("error");oi.success=Db("success");oi.loading=Db("loading");oi.custom=Db("custom");oi.dismiss=r=>{s5({type:3,toastId:r})};oi.remove=r=>s5({type:4,toastId:r});oi.promise=(r,e,n)=>{let i=oi.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof r=="function"&&(r=r()),r.then(a=>{let s=e.success?M$(e.success,a):void 0;return s?oi.success(s,{id:i,...n,...n==null?void 0:n.success}):oi.dismiss(i),a}).catch(a=>{let s=e.error?M$(e.error,a):void 0;s?oi.error(s,{id:i,...n,...n==null?void 0:n.error}):oi.dismiss(i)}),r};var F6e=ll`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,q6e=ll`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,z6e=ll`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,H6e=zu("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${F6e} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${q6e} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${z6e} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,W6e=ll`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,V6e=zu("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${W6e} 1s linear infinite;
`,G6e=ll`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,K6e=ll`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Y6e=zu("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${G6e} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${K6e} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,X6e=zu("div")`
  position: absolute;
`,J6e=zu("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Z6e=ll`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Q6e=zu("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Z6e} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,eLe=({toast:r})=>{let{icon:e,type:n,iconTheme:i}=r;return e!==void 0?typeof e=="string"?U.createElement(Q6e,null,e):e:n==="blank"?null:U.createElement(J6e,null,U.createElement(V6e,{...i}),n!=="loading"&&U.createElement(X6e,null,n==="error"?U.createElement(H6e,{...i}):U.createElement(Y6e,{...i})))},tLe=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,rLe=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,nLe="0%{opacity:0;} 100%{opacity:1;}",iLe="0%{opacity:1;} 100%{opacity:0;}",aLe=zu("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,sLe=zu("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,oLe=(r,e)=>{let n=r.includes("top")?1:-1,[i,a]=M6e()?[nLe,iLe]:[tLe(n),rLe(n)];return{animation:e?`${ll(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ll(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};U.memo(({toast:r,position:e,style:n,children:i})=>{let a=r.height?oLe(r.position||e||"top-center",r.visible):{opacity:0},s=U.createElement(eLe,{toast:r}),o=U.createElement(sLe,{...r.ariaProps},M$(r.message,r));return U.createElement(aLe,{className:r.className,style:{...a,...n,...r.style}},typeof i=="function"?i({icon:s,message:o}):U.createElement(U.Fragment,null,s,o))});$6e(U.createElement);QS`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;const cLe=["Agriculture and Food Science","Artificial Intelligence (AI)","Atmosphere & Climate","Astronomy & Cosmology","Bioinformatics","Biology","Biodiversity/Wildlife","Blockchain Science","Cell Biology","Chemistry","Civil Engineering","Cryptogology","Computer Science","Cybersecurity & Privacy","Data Science & Analytics","Disease Biology","Disaster Science & Resilience","Economics","Ecology","Engineering","Electrical Engineering","Environmental Science","Ethics & Policy","Genetics","Geology","Historcal Science","Materials Science","Mathematics","Mechanical Engineering","Medicine","Molecular Biology","Neuroscience","Pharmacology","Physics","Psychology","Public Health","Oceanography","Quantum Mechanics & Computing","Societal Systems Science","Sociology","Supply Chain & Logistics Science","Zoology/Animal Science","Emerging Science"],Nx={categories:cLe},jq=[{inputs:[{internalType:"address",name:"initialOwner",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"owner",type:"address"}],name:"ERC721IncorrectOwner",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ERC721InsufficientApproval",type:"error"},{inputs:[{internalType:"address",name:"approver",type:"address"}],name:"ERC721InvalidApprover",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"}],name:"ERC721InvalidOperator",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"ERC721InvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"ERC721InvalidReceiver",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"ERC721InvalidSender",type:"error"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ERC721NonexistentToken",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_fromTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_toTokenId",type:"uint256"}],name:"BatchMetadataUpdate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"MetadataUpdate",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"string",name:"tokenURI",type:"string"}],name:"mintNFT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"tokenCounter",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}];/*! js-cookie v3.0.5 | MIT */function H1(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)r[i]=n[i]}return r}var lLe={read:function(r){return r[0]==='"'&&(r=r.slice(1,-1)),r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(r){return encodeURIComponent(r).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function L$(r,e){function n(a,s,o){if(!(typeof document>"u")){o=H1({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),a=encodeURIComponent(a).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var c="";for(var l in o)o[l]&&(c+="; "+l,o[l]!==!0&&(c+="="+o[l].split(";")[0]));return document.cookie=a+"="+r.write(s,a)+c}}function i(a){if(!(typeof document>"u"||arguments.length&&!a)){for(var s=document.cookie?document.cookie.split("; "):[],o={},c=0;c<s.length;c++){var l=s[c].split("="),u=l.slice(1).join("=");try{var d=decodeURIComponent(l[0]);if(o[d]=r.read(u,d),a===d)break}catch{}}return a?o[a]:o}}return Object.create({set:n,get:i,remove:function(a,s){n(a,"",H1({},s,{expires:-1}))},withAttributes:function(a){return L$(this.converter,H1({},this.attributes,a))},withConverter:function(a){return L$(H1({},this.converter,a),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(r)}})}var uLe=L$(lLe,{path:"/"});const dLe=Nx.categories;function fLe(){const r=vl(),{title:e,abstract:n,doi:i,hash_id:a}=r.state||{},{switchChainAsync:s}=Ege(),{writeContractAsync:o}=Sge(),{address:c,isConnected:l}=KX(),[u,d]=U.useState({title:e||"",description:n||"",category:"",articleLink:i||"",hash_id:a||""}),[f,p]=U.useState(null),[m,y]=U.useState(null),[v,b]=U.useState(!1),[w,x]=U.useState(!1),E=new T6e({pinataJwt:NMe,pinataGateway:"silver-impressive-rat-686.mypinata.cloud"}),A=O=>{const{name:I,value:M}=O.target;d(D=>({...D,[I]:M}))},S=O=>{const I=O.target.files[0];if(I&&I.type.startsWith("image/")){y(I);const M=new FileReader;M.onload=()=>{p(M.result)},M.readAsDataURL(I)}},C=()=>{p(null),y(null)},P=async O=>{if(O.preventDefault(),!l){alert("Please connect your wallet");return}if(!m){oi.error("Please select an image file");return}try{x(!0);const I=await E.upload.public.file(m);console.log("Image uploaded:",I);const M={name:u.title,description:u.description,image:`https://silver-impressive-rat-686.mypinata.cloud/ipfs/${I.cid}`,attributes:[{trait_type:"Category",value:u.category},{trait_type:"Link",value:u.articleLink}]},D=new Blob([JSON.stringify(M)],{type:"application/json"}),q=new File([D],"metadata.json",{type:"application/json"}),K=await E.upload.public.file(q);console.log("Metadata uploaded:",K),await s({chainId:11155111});const L=`https://silver-impressive-rat-686.mypinata.cloud/ipfs/${K.cid}`,R=await o({abi:jq,address:q1,functionName:"mintNFT",args:[c,L]});if(R){const j=hD({chains:[Uv],transports:{[Uv.id]:jd("https://sepolia.infura.io/v3/942d6966ac694151ae4f661e11320a71")}});console.log(R);const W=await zX(j,{hash:R});console.log(R),console.log("🧪 Minting NFT with:"),console.log("  → Address:",c),console.log("  → Token URI:",L),console.log("  → NFT Contract:",q1),console.log(W);let H=await FX(j,{abi:jq,address:q1,functionName:"tokenCounter"});console.log("Config used for waitForTransactionReceipt:",j),console.log("📦 Receipt:",W),H=H-BigInt(1),console.log(H),x(!1),oi.success("NFT created successfully!");const z={hash_id:u.hash_id,tx_link:`https://sepolia.etherscan.io/tx/${R}`,nft_url:`https://testnets.opensea.io/assets/sepolia/${q1}/${H}`};console.log(z),await qe.put(`${Wr}/article/update_nft_links`,z,{headers:{"X-CSRFToken":uLe.get("csrftoken"),"Content-Type":"application/json"}})}else alert("Failed to create NFT");d({title:"",description:"",category:"",articleLink:"",hash_id:""}),p(null),y(null)}catch(I){console.error("Failed to create NFT:",I),oi.error("Failed to create NFT")}finally{x(!1)}};return T.jsx("div",{className:"container mx-auto px-4 py-8",children:T.jsx("form",{onSubmit:P,className:"max-w-2xl mx-auto space-y-6",children:T.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg",children:[T.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:"Create New NFT"}),T.jsx("div",{className:`mb-6 p-4 border-2 border-dashed rounded-lg ${v?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600"}`,children:f?T.jsxs("div",{className:"relative",children:[T.jsx("img",{src:f,alt:"Preview",className:"max-h-64 mx-auto rounded-lg"}),T.jsx("button",{type:"button",onClick:C,className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:T.jsx(sx,{className:"w-4 h-4"})})]}):T.jsxs("div",{className:"space-y-4",children:[T.jsx(zye,{className:"w-12 h-12 mx-auto text-gray-400"}),T.jsx("div",{children:T.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[T.jsx("span",{className:"mt-2 block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Drag and drop or click to upload"}),T.jsx("input",{id:"file-upload",type:"file",className:"hidden",accept:"image/*",onChange:S})]})})]})}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Title"}),T.jsx("input",{type:"text",id:"title",name:"title",value:u.title,readOnly:!0,className:"mt-1 block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-4 py-2 text-gray-900 dark:text-white focus:border-blue-500 focus:ring-blue-500"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Description"}),T.jsx("textarea",{id:"description",name:"description",value:u.description,readOnly:!0,rows:4,className:"mt-1 block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-4 py-2 text-gray-900 dark:text-white focus:border-blue-500 focus:ring-blue-500"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"articleLink",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Scientific Article Link"}),T.jsx("div",{className:"mt-1 relative rounded-lg shadow-sm",children:T.jsx("input",{type:"url",id:"articleLink",name:"articleLink",value:u.articleLink,readOnly:!0,className:"block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-4 py-2 text-gray-900 dark:text-white focus:border-blue-500 focus:ring-blue-500"})}),T.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Please provide a DOI or direct link to your scientific article"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"hash_id",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Article Hash ID"}),T.jsx("input",{type:"text",id:"hash_id",name:"hash_id",value:u.hash_id,readOnly:!0,className:"mt-1 block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-4 py-2 text-gray-900 dark:text-white focus:border-blue-500 focus:ring-blue-500"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Scientific Category"}),T.jsxs("select",{id:"category",name:"category",value:u.category,onChange:A,className:"mt-1 block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-4 py-2 text-gray-900 dark:text-white focus:border-blue-500 focus:ring-blue-500",required:!0,children:[T.jsx("option",{value:"",children:"Select a category"}),dLe.map(O=>T.jsx("option",{value:O,className:"py-1",children:O},O))]}),T.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Choose the most relevant category for your scientific NFT"})]}),T.jsx("button",{type:"submit",disabled:w,className:`w-full px-6 py-3 rounded-lg text-white transition-colors duration-200 ${w?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:w?T.jsxs("div",{className:"flex items-center justify-center gap-2",children:[T.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),T.jsx("span",{children:"Minting NFT..."})]}):"Create NFT"})]})]})})})}const hLe=()=>{const[r,e]=U.useState([]);return U.useEffect(()=>{(async()=>{try{const i=await qe.get("http://127.0.0.1:8000/article/metaclusters/");console.log("✅ MetaClusters response:",i.data),e(i.data.metaclusters||[])}catch(i){console.error("❌ Failed to fetch MetaClusters:",i)}})()},[]),T.jsxs("div",{className:"p-6 text-gray-900 dark:text-white",children:[T.jsx("h1",{className:"text-2xl font-bold mb-6",children:"MetaClusters"}),r.length===0?T.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No clusters found."}):T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:r.map((n,i)=>{var s;const a=n.mesh_terms||[];return T.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-md border dark:border-gray-700",children:[T.jsx("h2",{className:"text-xl font-semibold mb-2",children:n.mesh_label!=="Unknown"?n.mesh_label:"🔍 Unclassified"}),T.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Root: ",n.mesh_root]}),T.jsxs("p",{className:"mt-2",children:["🧩 Clusters: ",((s=n.cluster_ids)==null?void 0:s.length)||0]}),T.jsxs("p",{children:["📚 Articles: ",n.article_count]}),T.jsxs("p",{className:"mt-2 text-xs italic text-gray-500 dark:text-gray-400",children:["Terms: ",a.length?a.slice(0,5).join(", "):"—"]})]},i)})})]})};function pLe({article:r,isEditing:e}){return T.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow relative",children:[e&&T.jsx("button",{className:"absolute top-2 right-2 p-1 bg-purple-100 dark:bg-purple-900 rounded-full",children:T.jsx(_D,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),T.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-2",children:r.title}),T.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:r.abstract}),T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:r.publishDate}),T.jsxs("span",{className:"text-xs bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded",children:[r.citations," citations"]})]})]})}function gLe({nft:r,isEditing:e}){return T.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-shadow relative",children:[e&&T.jsx("button",{className:"absolute top-2 right-2 p-1 bg-purple-100 dark:bg-purple-900 rounded-full z-10",children:T.jsx(_D,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),T.jsx("img",{src:r.imageUrl,alt:r.title,className:"w-full h-48 object-cover"}),T.jsxs("div",{className:"p-4",children:[T.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-2",children:r.title}),T.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:r.description}),T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsxs("span",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:[r.price," ETH"]}),T.jsx("button",{className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:e?"Update Price":"Buy Now"})]})]})]})}var gk={exports:{}},mk,Dq;function mLe(){if(Dq)return mk;Dq=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return mk=r,mk}var yk,Mq;function yLe(){if(Mq)return yk;Mq=1;var r=mLe();function e(){}function n(){}return n.resetWarningCache=e,yk=function(){function i(o,c,l,u,d,f){if(f!==r){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}i.isRequired=i;function a(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},yk}var Lq;function vLe(){return Lq||(Lq=1,gk.exports=yLe()()),gk.exports}var bLe=vLe();const Sr=Jt(bLe);var U$=function(r,e){return U$=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},U$(r,e)};function Hte(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");U$(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Ix=function(){return Ix=Object.assign||function(e){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ix.apply(this,arguments)};function Wte(r,e){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(r);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(r,i[a])&&(n[i[a]]=r[i[a]]);return n}function Vte(r,e,n,i){var a=arguments.length,s=a<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,n,i);else for(var c=r.length-1;c>=0;c--)(o=r[c])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s}function Gte(r,e){return function(n,i){e(n,i,r)}}function Kte(r,e,n,i,a,s){function o(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var c=i.kind,l=c==="getter"?"get":c==="setter"?"set":"value",u=!e&&r?i.static?r:r.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,i.name):{}),f,p=!1,m=n.length-1;m>=0;m--){var y={};for(var v in i)y[v]=v==="access"?{}:i[v];for(var v in i.access)y.access[v]=i.access[v];y.addInitializer=function(w){if(p)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(w||null))};var b=(0,n[m])(c==="accessor"?{get:d.get,set:d.set}:d[l],y);if(c==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(f=o(b.get))&&(d.get=f),(f=o(b.set))&&(d.set=f),(f=o(b.init))&&a.unshift(f)}else(f=o(b))&&(c==="field"?a.unshift(f):d[l]=f)}u&&Object.defineProperty(u,i.name,d),p=!0}function Yte(r,e,n){for(var i=arguments.length>2,a=0;a<e.length;a++)n=i?e[a].call(r,n):e[a].call(r);return i?n:void 0}function Xte(r){return typeof r=="symbol"?r:"".concat(r)}function Jte(r,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(r,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function Zte(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function bl(r,e,n,i){function a(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(d){try{u(i.next(d))}catch(f){o(f)}}function l(d){try{u(i.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(c,l)}u((i=i.apply(r,e||[])).next())})}function Qte(r,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,a,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(u){return function(d){return l([u,d])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(i=1,a&&(s=u[0]&2?a.return:u[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,u[1])).done)return s;switch(a=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,a=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(r,n)}catch(d){u=[6,d],a=0}finally{i=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var eC=Object.create?function(r,e,n,i){i===void 0&&(i=n);var a=Object.getOwnPropertyDescriptor(e,n);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(r,i,a)}:function(r,e,n,i){i===void 0&&(i=n),r[i]=e[n]};function ere(r,e){for(var n in r)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&eC(e,r,n)}function Rx(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],i=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function o5(r,e){var n=typeof Symbol=="function"&&r[Symbol.iterator];if(!n)return r;var i=n.call(r),a,s=[],o;try{for(;(e===void 0||e-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(c){o={error:c}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function tre(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(o5(arguments[e]));return r}function rre(){for(var r=0,e=0,n=arguments.length;e<n;e++)r+=arguments[e].length;for(var i=Array(r),a=0,e=0;e<n;e++)for(var s=arguments[e],o=0,c=s.length;o<c;o++,a++)i[a]=s[o];return i}function nre(r,e,n){if(n||arguments.length===2)for(var i=0,a=e.length,s;i<a;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return r.concat(s||Array.prototype.slice.call(e))}function Yp(r){return this instanceof Yp?(this.v=r,this):new Yp(r)}function ire(r,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(r,e||[]),a,s=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),a[Symbol.asyncIterator]=function(){return this},a;function o(m){return function(y){return Promise.resolve(y).then(m,f)}}function c(m,y){i[m]&&(a[m]=function(v){return new Promise(function(b,w){s.push([m,v,b,w])>1||l(m,v)})},y&&(a[m]=y(a[m])))}function l(m,y){try{u(i[m](y))}catch(v){p(s[0][3],v)}}function u(m){m.value instanceof Yp?Promise.resolve(m.value.v).then(d,f):p(s[0][2],m)}function d(m){l("next",m)}function f(m){l("throw",m)}function p(m,y){m(y),s.shift(),s.length&&l(s[0][0],s[0][1])}}function are(r){var e,n;return e={},i("next"),i("throw",function(a){throw a}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(a,s){e[a]=r[a]?function(o){return(n=!n)?{value:Yp(r[a](o)),done:!1}:s?s(o):o}:s}}function sre(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],n;return e?e.call(r):(r=typeof Rx=="function"?Rx(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=r[s]&&function(o){return new Promise(function(c,l){o=r[s](o),a(c,l,o.done,o.value)})}}function a(s,o,c,l){Promise.resolve(l).then(function(u){s({value:u,done:c})},o)}}function ore(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}var wLe=Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e},B$=function(r){return B$=Object.getOwnPropertyNames||function(e){var n=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[n.length]=i);return n},B$(r)};function cre(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var n=B$(r),i=0;i<n.length;i++)n[i]!=="default"&&eC(e,r,n[i]);return wLe(e,r),e}function lre(r){return r&&r.__esModule?r:{default:r}}function ure(r,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(r):i?i.value:e.get(r)}function dre(r,e,n,i,a){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!a:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?a.call(r,n):a?a.value=n:e.set(r,n),n}function fre(r,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof r=="function"?e===r:r.has(e)}function hre(r,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i,a;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose],n&&(a=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");a&&(i=function(){try{a.call(this)}catch(s){return Promise.reject(s)}}),r.stack.push({value:e,dispose:i,async:n})}else n&&r.stack.push({async:!0});return e}var _Le=typeof SuppressedError=="function"?SuppressedError:function(r,e,n){var i=new Error(n);return i.name="SuppressedError",i.error=r,i.suppressed=e,i};function pre(r){function e(s){r.error=r.hasError?new _Le(s,r.error,"An error was suppressed during disposal."):s,r.hasError=!0}var n,i=0;function a(){for(;n=r.stack.pop();)try{if(!n.async&&i===1)return i=0,r.stack.push(n),Promise.resolve().then(a);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(s).then(a,function(o){return e(o),a()})}else i|=1}catch(o){e(o)}if(i===1)return r.hasError?Promise.reject(r.error):Promise.resolve();if(r.hasError)throw r.error}return a()}function gre(r,e){return typeof r=="string"&&/^\.\.?\//.test(r)?r.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,i,a,s,o){return i?e?".jsx":".js":a&&(!s||!o)?n:a+s+"."+o.toLowerCase()+"js"}):r}const xLe={__extends:Hte,__assign:Ix,__rest:Wte,__decorate:Vte,__param:Gte,__esDecorate:Kte,__runInitializers:Yte,__propKey:Xte,__setFunctionName:Jte,__metadata:Zte,__awaiter:bl,__generator:Qte,__createBinding:eC,__exportStar:ere,__values:Rx,__read:o5,__spread:tre,__spreadArrays:rre,__spreadArray:nre,__await:Yp,__asyncGenerator:ire,__asyncDelegator:are,__asyncValues:sre,__makeTemplateObject:ore,__importStar:cre,__importDefault:lre,__classPrivateFieldGet:ure,__classPrivateFieldSet:dre,__classPrivateFieldIn:fre,__addDisposableResource:hre,__disposeResources:pre,__rewriteRelativeImportExtension:gre},wut=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:hre,get __assign(){return Ix},__asyncDelegator:are,__asyncGenerator:ire,__asyncValues:sre,__await:Yp,__awaiter:bl,__classPrivateFieldGet:ure,__classPrivateFieldIn:fre,__classPrivateFieldSet:dre,__createBinding:eC,__decorate:Vte,__disposeResources:pre,__esDecorate:Kte,__exportStar:ere,__extends:Hte,__generator:Qte,__importDefault:lre,__importStar:cre,__makeTemplateObject:ore,__metadata:Zte,__param:Gte,__propKey:Xte,__read:o5,__rest:Wte,__rewriteRelativeImportExtension:gre,__runInitializers:Yte,__setFunctionName:Jte,__spread:tre,__spreadArray:nre,__spreadArrays:rre,__values:Rx,default:xLe},Symbol.toStringTag,{value:"Module"})),ELe=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Xp(r,e,n){const i=SLe(r),{webkitRelativePath:a}=r,s=typeof e=="string"?e:typeof a=="string"&&a.length>0?a:`./${r.name}`;return typeof i.path!="string"&&Uq(i,"path",s),Uq(i,"relativePath",s),i}function SLe(r){const{name:e}=r;if(e&&e.lastIndexOf(".")!==-1&&!r.type){const i=e.split(".").pop().toLowerCase(),a=ELe.get(i);a&&Object.defineProperty(r,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return r}function Uq(r,e,n){Object.defineProperty(r,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const CLe=[".DS_Store","Thumbs.db"];function ALe(r){return bl(this,void 0,void 0,function*(){return $x(r)&&TLe(r.dataTransfer)?NLe(r.dataTransfer,r.type):kLe(r)?PLe(r):Array.isArray(r)&&r.every(e=>"getFile"in e&&typeof e.getFile=="function")?OLe(r):[]})}function TLe(r){return $x(r)}function kLe(r){return $x(r)&&$x(r.target)}function $x(r){return typeof r=="object"&&r!==null}function PLe(r){return F$(r.target.files).map(e=>Xp(e))}function OLe(r){return bl(this,void 0,void 0,function*(){return(yield Promise.all(r.map(n=>n.getFile()))).map(n=>Xp(n))})}function NLe(r,e){return bl(this,void 0,void 0,function*(){if(r.items){const n=F$(r.items).filter(a=>a.kind==="file");if(e!=="drop")return n;const i=yield Promise.all(n.map(ILe));return Bq(mre(i))}return Bq(F$(r.files).map(n=>Xp(n)))})}function Bq(r){return r.filter(e=>CLe.indexOf(e.name)===-1)}function F$(r){if(r===null)return[];const e=[];for(let n=0;n<r.length;n++){const i=r[n];e.push(i)}return e}function ILe(r){if(typeof r.webkitGetAsEntry!="function")return Fq(r);const e=r.webkitGetAsEntry();return e&&e.isDirectory?yre(e):Fq(r,e)}function mre(r){return r.reduce((e,n)=>[...e,...Array.isArray(n)?mre(n):[n]],[])}function Fq(r,e){return bl(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof r.getAsFileSystemHandle=="function"){const s=yield r.getAsFileSystemHandle();if(s===null)throw new Error(`${r} is not a File`);if(s!==void 0){const o=yield s.getFile();return o.handle=s,Xp(o)}}const i=r.getAsFile();if(!i)throw new Error(`${r} is not a File`);return Xp(i,(n=e==null?void 0:e.fullPath)!==null&&n!==void 0?n:void 0)})}function RLe(r){return bl(this,void 0,void 0,function*(){return r.isDirectory?yre(r):$Le(r)})}function yre(r){const e=r.createReader();return new Promise((n,i)=>{const a=[];function s(){e.readEntries(o=>bl(this,void 0,void 0,function*(){if(o.length){const c=Promise.all(o.map(RLe));a.push(c),s()}else try{const c=yield Promise.all(a);n(c)}catch(c){i(c)}}),o=>{i(o)})}s()})}function $Le(r){return bl(this,void 0,void 0,function*(){return new Promise((e,n)=>{r.file(i=>{const a=Xp(i,r.fullPath);e(a)},i=>{n(i)})})})}var W1={},qq;function jLe(){return qq||(qq=1,W1.__esModule=!0,W1.default=function(r,e){if(r&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var i=r.name||"",a=(r.type||"").toLowerCase(),s=a.replace(/\/.*$/,"");return n.some(function(o){var c=o.trim().toLowerCase();return c.charAt(0)==="."?i.toLowerCase().endsWith(c):c.endsWith("/*")?s===c.replace(/\/.*$/,""):a===c})}return!0}),W1}var DLe=jLe();const vk=Jt(DLe);function zq(r){return ULe(r)||LLe(r)||bre(r)||MLe()}function MLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LLe(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function ULe(r){if(Array.isArray(r))return q$(r)}function Hq(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function Wq(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hq(Object(n),!0).forEach(function(i){vre(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Hq(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function vre(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function m0(r,e){return qLe(r)||FLe(r,e)||bre(r,e)||BLe()}function BLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bre(r,e){if(r){if(typeof r=="string")return q$(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q$(r,e)}}function q$(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=r[n];return i}function FLe(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var i=[],a=!0,s=!1,o,c;try{for(n=n.call(r);!(a=(o=n.next()).done)&&(i.push(o.value),!(e&&i.length===e));a=!0);}catch(l){s=!0,c=l}finally{try{!a&&n.return!=null&&n.return()}finally{if(s)throw c}}return i}}function qLe(r){if(Array.isArray(r))return r}var zLe=typeof vk=="function"?vk:vk.default,HLe="file-invalid-type",WLe="file-too-large",VLe="file-too-small",GLe="too-many-files",KLe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),i=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:HLe,message:"File type must be ".concat(i)}},Vq=function(e){return{code:WLe,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},Gq=function(e){return{code:VLe,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},YLe={code:GLe,message:"Too many files"};function wre(r,e){var n=r.type==="application/x-moz-file"||zLe(r,e);return[n,n?null:KLe(e)]}function _re(r,e,n){if(Od(r.size))if(Od(e)&&Od(n)){if(r.size>n)return[!1,Vq(n)];if(r.size<e)return[!1,Gq(e)]}else{if(Od(e)&&r.size<e)return[!1,Gq(e)];if(Od(n)&&r.size>n)return[!1,Vq(n)]}return[!0,null]}function Od(r){return r!=null}function XLe(r){var e=r.files,n=r.accept,i=r.minSize,a=r.maxSize,s=r.multiple,o=r.maxFiles,c=r.validator;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(l){var u=wre(l,n),d=m0(u,1),f=d[0],p=_re(l,i,a),m=m0(p,1),y=m[0],v=c?c(l):null;return f&&y&&!v})}function jx(r){return typeof r.isPropagationStopped=="function"?r.isPropagationStopped():typeof r.cancelBubble<"u"?r.cancelBubble:!1}function V1(r){return r.dataTransfer?Array.prototype.some.call(r.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!r.target&&!!r.target.files}function Kq(r){r.preventDefault()}function JLe(r){return r.indexOf("MSIE")!==-1||r.indexOf("Trident/")!==-1}function ZLe(r){return r.indexOf("Edge/")!==-1}function QLe(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return JLe(r)||ZLe(r)}function Co(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return function(i){for(var a=arguments.length,s=new Array(a>1?a-1:0),o=1;o<a;o++)s[o-1]=arguments[o];return e.some(function(c){return!jx(i)&&c&&c.apply(void 0,[i].concat(s)),jx(i)})}}function e8e(){return"showOpenFilePicker"in window}function t8e(r){if(Od(r)){var e=Object.entries(r).filter(function(n){var i=m0(n,2),a=i[0],s=i[1],o=!0;return xre(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(s)||!s.every(Ere))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,i){var a=m0(i,2),s=a[0],o=a[1];return Wq(Wq({},n),{},vre({},s,o))},{});return[{description:"Files",accept:e}]}return r}function r8e(r){if(Od(r))return Object.entries(r).reduce(function(e,n){var i=m0(n,2),a=i[0],s=i[1];return[].concat(zq(e),[a],zq(s))},[]).filter(function(e){return xre(e)||Ere(e)}).join(",")}function n8e(r){return r instanceof DOMException&&(r.name==="AbortError"||r.code===r.ABORT_ERR)}function i8e(r){return r instanceof DOMException&&(r.name==="SecurityError"||r.code===r.SECURITY_ERR)}function xre(r){return r==="audio/*"||r==="video/*"||r==="image/*"||r==="text/*"||r==="application/*"||/\w+\/[-+.\w]+/g.test(r)}function Ere(r){return/^.*\.[\w]+$/.test(r)}var a8e=["children"],s8e=["open"],o8e=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],c8e=["refKey","onChange","onClick"];function l8e(r){return f8e(r)||d8e(r)||Sre(r)||u8e()}function u8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d8e(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function f8e(r){if(Array.isArray(r))return z$(r)}function bk(r,e){return g8e(r)||p8e(r,e)||Sre(r,e)||h8e()}function h8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sre(r,e){if(r){if(typeof r=="string")return z$(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z$(r,e)}}function z$(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=r[n];return i}function p8e(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var i=[],a=!0,s=!1,o,c;try{for(n=n.call(r);!(a=(o=n.next()).done)&&(i.push(o.value),!(e&&i.length===e));a=!0);}catch(l){s=!0,c=l}finally{try{!a&&n.return!=null&&n.return()}finally{if(s)throw c}}return i}}function g8e(r){if(Array.isArray(r))return r}function Yq(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function Jr(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yq(Object(n),!0).forEach(function(i){H$(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Yq(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function H$(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Dx(r,e){if(r==null)return{};var n=m8e(r,e),i,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(a=0;a<s.length;a++)i=s[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(r,i)&&(n[i]=r[i])}return n}function m8e(r,e){if(r==null)return{};var n={},i=Object.keys(r),a,s;for(s=0;s<i.length;s++)a=i[s],!(e.indexOf(a)>=0)&&(n[a]=r[a]);return n}var c5=U.forwardRef(function(r,e){var n=r.children,i=Dx(r,a8e),a=Are(i),s=a.open,o=Dx(a,s8e);return U.useImperativeHandle(e,function(){return{open:s}},[s]),ee.createElement(U.Fragment,null,n(Jr(Jr({},o),{},{open:s})))});c5.displayName="Dropzone";var Cre={disabled:!1,getFilesFromEvent:ALe,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};c5.defaultProps=Cre;c5.propTypes={children:Sr.func,accept:Sr.objectOf(Sr.arrayOf(Sr.string)),multiple:Sr.bool,preventDropOnDocument:Sr.bool,noClick:Sr.bool,noKeyboard:Sr.bool,noDrag:Sr.bool,noDragEventsBubbling:Sr.bool,minSize:Sr.number,maxSize:Sr.number,maxFiles:Sr.number,disabled:Sr.bool,getFilesFromEvent:Sr.func,onFileDialogCancel:Sr.func,onFileDialogOpen:Sr.func,useFsAccessApi:Sr.bool,autoFocus:Sr.bool,onDragEnter:Sr.func,onDragLeave:Sr.func,onDragOver:Sr.func,onDrop:Sr.func,onDropAccepted:Sr.func,onDropRejected:Sr.func,onError:Sr.func,validator:Sr.func};var W$={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Are(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Jr(Jr({},Cre),r),n=e.accept,i=e.disabled,a=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,c=e.multiple,l=e.maxFiles,u=e.onDragEnter,d=e.onDragLeave,f=e.onDragOver,p=e.onDrop,m=e.onDropAccepted,y=e.onDropRejected,v=e.onFileDialogCancel,b=e.onFileDialogOpen,w=e.useFsAccessApi,x=e.autoFocus,E=e.preventDropOnDocument,A=e.noClick,S=e.noKeyboard,C=e.noDrag,P=e.noDragEventsBubbling,O=e.onError,I=e.validator,M=U.useMemo(function(){return r8e(n)},[n]),D=U.useMemo(function(){return t8e(n)},[n]),q=U.useMemo(function(){return typeof b=="function"?b:Xq},[b]),K=U.useMemo(function(){return typeof v=="function"?v:Xq},[v]),L=U.useRef(null),R=U.useRef(null),j=U.useReducer(y8e,W$),W=bk(j,2),H=W[0],z=W[1],B=H.isFocused,F=H.isFileDialogActive,G=U.useRef(typeof window<"u"&&window.isSecureContext&&w&&e8e()),Q=function(){!G.current&&F&&setTimeout(function(){if(R.current){var rt=R.current.files;rt.length||(z({type:"closeDialog"}),K())}},300)};U.useEffect(function(){return window.addEventListener("focus",Q,!1),function(){window.removeEventListener("focus",Q,!1)}},[R,F,K,G]);var te=U.useRef([]),ae=function(rt){L.current&&L.current.contains(rt.target)||(rt.preventDefault(),te.current=[])};U.useEffect(function(){return E&&(document.addEventListener("dragover",Kq,!1),document.addEventListener("drop",ae,!1)),function(){E&&(document.removeEventListener("dragover",Kq),document.removeEventListener("drop",ae))}},[L,E]),U.useEffect(function(){return!i&&x&&L.current&&L.current.focus(),function(){}},[L,x,i]);var fe=U.useCallback(function(Re){O?O(Re):console.error(Re)},[O]),xe=U.useCallback(function(Re){Re.preventDefault(),Re.persist(),on(Re),te.current=[].concat(l8e(te.current),[Re.target]),V1(Re)&&Promise.resolve(a(Re)).then(function(rt){if(!(jx(Re)&&!P)){var oe=rt.length,be=oe>0&&XLe({files:rt,accept:M,minSize:o,maxSize:s,multiple:c,maxFiles:l,validator:I}),Qe=oe>0&&!be;z({isDragAccept:be,isDragReject:Qe,isDragActive:!0,type:"setDraggedFiles"}),u&&u(Re)}}).catch(function(rt){return fe(rt)})},[a,u,fe,P,M,o,s,c,l,I]),Ee=U.useCallback(function(Re){Re.preventDefault(),Re.persist(),on(Re);var rt=V1(Re);if(rt&&Re.dataTransfer)try{Re.dataTransfer.dropEffect="copy"}catch{}return rt&&f&&f(Re),!1},[f,P]),le=U.useCallback(function(Re){Re.preventDefault(),Re.persist(),on(Re);var rt=te.current.filter(function(be){return L.current&&L.current.contains(be)}),oe=rt.indexOf(Re.target);oe!==-1&&rt.splice(oe,1),te.current=rt,!(rt.length>0)&&(z({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),V1(Re)&&d&&d(Re))},[L,d,P]),Ce=U.useCallback(function(Re,rt){var oe=[],be=[];Re.forEach(function(Qe){var st=wre(Qe,M),ke=bk(st,2),ze=ke[0],lt=ke[1],Mt=_re(Qe,o,s),Fr=bk(Mt,2),En=Fr[0],Sn=Fr[1],Pi=I?I(Qe):null;if(ze&&En&&!Pi)oe.push(Qe);else{var ks=[lt,Sn];Pi&&(ks=ks.concat(Pi)),be.push({file:Qe,errors:ks.filter(function(Xu){return Xu})})}}),(!c&&oe.length>1||c&&l>=1&&oe.length>l)&&(oe.forEach(function(Qe){be.push({file:Qe,errors:[YLe]})}),oe.splice(0)),z({acceptedFiles:oe,fileRejections:be,isDragReject:be.length>0,type:"setFiles"}),p&&p(oe,be,rt),be.length>0&&y&&y(be,rt),oe.length>0&&m&&m(oe,rt)},[z,c,M,o,s,l,p,m,y,I]),Me=U.useCallback(function(Re){Re.preventDefault(),Re.persist(),on(Re),te.current=[],V1(Re)&&Promise.resolve(a(Re)).then(function(rt){jx(Re)&&!P||Ce(rt,Re)}).catch(function(rt){return fe(rt)}),z({type:"reset"})},[a,Ce,fe,P]),he=U.useCallback(function(){if(G.current){z({type:"openDialog"}),q();var Re={multiple:c,types:D};window.showOpenFilePicker(Re).then(function(rt){return a(rt)}).then(function(rt){Ce(rt,null),z({type:"closeDialog"})}).catch(function(rt){n8e(rt)?(K(rt),z({type:"closeDialog"})):i8e(rt)?(G.current=!1,R.current?(R.current.value=null,R.current.click()):fe(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):fe(rt)});return}R.current&&(z({type:"openDialog"}),q(),R.current.value=null,R.current.click())},[z,q,K,w,Ce,fe,D,c]),me=U.useCallback(function(Re){!L.current||!L.current.isEqualNode(Re.target)||(Re.key===" "||Re.key==="Enter"||Re.keyCode===32||Re.keyCode===13)&&(Re.preventDefault(),he())},[L,he]),Ae=U.useCallback(function(){z({type:"focus"})},[]),tt=U.useCallback(function(){z({type:"blur"})},[]),Nt=U.useCallback(function(){A||(QLe()?setTimeout(he,0):he())},[A,he]),ct=function(rt){return i?null:rt},Wt=function(rt){return S?null:ct(rt)},Br=function(rt){return C?null:ct(rt)},on=function(rt){P&&rt.stopPropagation()},Kr=U.useMemo(function(){return function(){var Re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},rt=Re.refKey,oe=rt===void 0?"ref":rt,be=Re.role,Qe=Re.onKeyDown,st=Re.onFocus,ke=Re.onBlur,ze=Re.onClick,lt=Re.onDragEnter,Mt=Re.onDragOver,Fr=Re.onDragLeave,En=Re.onDrop,Sn=Dx(Re,o8e);return Jr(Jr(H$({onKeyDown:Wt(Co(Qe,me)),onFocus:Wt(Co(st,Ae)),onBlur:Wt(Co(ke,tt)),onClick:ct(Co(ze,Nt)),onDragEnter:Br(Co(lt,xe)),onDragOver:Br(Co(Mt,Ee)),onDragLeave:Br(Co(Fr,le)),onDrop:Br(Co(En,Me)),role:typeof be=="string"&&be!==""?be:"presentation"},oe,L),!i&&!S?{tabIndex:0}:{}),Sn)}},[L,me,Ae,tt,Nt,xe,Ee,le,Me,S,C,i]),mn=U.useCallback(function(Re){Re.stopPropagation()},[]),Jn=U.useMemo(function(){return function(){var Re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},rt=Re.refKey,oe=rt===void 0?"ref":rt,be=Re.onChange,Qe=Re.onClick,st=Dx(Re,c8e),ke=H$({accept:M,multiple:c,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:ct(Co(be,Me)),onClick:ct(Co(Qe,mn)),tabIndex:-1},oe,R);return Jr(Jr({},ke),st)}},[R,n,c,Me,i]);return Jr(Jr({},H),{},{isFocused:B&&!i,getRootProps:Kr,getInputProps:Jn,rootRef:L,inputRef:R,open:ct(he)})}function y8e(r,e){switch(e.type){case"focus":return Jr(Jr({},r),{},{isFocused:!0});case"blur":return Jr(Jr({},r),{},{isFocused:!1});case"openDialog":return Jr(Jr({},W$),{},{isFileDialogActive:!0});case"closeDialog":return Jr(Jr({},r),{},{isFileDialogActive:!1});case"setDraggedFiles":return Jr(Jr({},r),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Jr(Jr({},r),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return Jr({},W$);default:return r}}function Xq(){}function v8e({currentAvatar:r,onAvatarChange:e}){const[n,i]=U.useState(!1),[a,s]=U.useState(null),{user:o,setUser:c}=U.useContext(qu),l=U.useCallback(async p=>{const m=p[0];if(m)try{if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(m.type))throw new Error("Invalid file type. Please upload JPEG, JPG, PNG, or WebP images.");const v=20*1024*1024;if(m.size>v)throw new Error("File is too large. Maximum size is 20MB.");const b=URL.createObjectURL(m);e({target:{name:"avatar",value:b,file:m}})}catch(y){s(y.message||"Failed to upload image"),console.error("Upload error:",y)}},[e]),{getRootProps:u,getInputProps:d,isDragActive:f}=Are({onDrop:l,accept:{"image/jpeg":[".jpeg",".jpg"],"image/png":[".png"],"image/webp":[".webp"]},maxSize:20*1024*1024,multiple:!1});return T.jsxs("div",{className:"relative group",children:[T.jsx("img",{src:r||"/default-avatar.png",alt:"Profile",className:"w-24 h-24 rounded-full border-4 border-purple-500 dark:border-purple-400 object-cover"}),T.jsxs("div",{...u(),className:`absolute inset-0 flex items-center justify-center rounded-full bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer ${n?"opacity-100":""}`,children:[T.jsx("input",{...d()}),T.jsx("div",{className:"text-white text-center p-2",children:n?T.jsx("div",{className:"flex items-center justify-center",children:T.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"})}):T.jsxs(T.Fragment,{children:[T.jsx(Aye,{className:"w-6 h-6 mx-auto mb-1"}),T.jsx("span",{className:"text-xs",children:f?"Drop here":"Upload"})]})})]}),a&&T.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-red-500 text-white text-xs p-1 text-center rounded-b-full",children:a})]})}function b8e(){const{user:r,setUser:e}=U.useContext(qu),[n,i]=U.useState(!1),[a,s]=U.useState(r),[o,c]=U.useState(null),[l,u]=U.useState(!1),[d,f]=U.useState([]),[p,m]=U.useState([]),[y,v]=U.useState(!1);U.useEffect(()=>{r&&s(r)},[r]);const b=E=>{const{name:A,value:S,file:C}=E.target;console.log(A,S),C&&c(C),s(P=>{const O={...P,[A]:S};return console.log("Updated profile:",O),O})},w=async()=>{try{v(!0);let E;if(o){const A=new FormData;A.append("avatar",o),Object.keys(a).forEach(S=>{S!=="avatar"&&A.append(S,a[S])}),E=await qe.put(`${Wr}/edit_profile/${r.id}`,A,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"multipart/form-data"}}),E.status==200&&e(S=>({...S,avatar:E.data.user.avatar}))}else E=await qe.put(`${Wr}/edit_profile/${r.id}`,a,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}});E.status===200&&(e(E.data.user||E.data),i(!1),c(null),oi.success("Profile updated successfully!"))}catch(E){console.error("Failed to update profile:",E),oi.error("Failed to update profile")}finally{v(!1)}},x=()=>{s(r),i(!1)};return T.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 transition-colors",children:r?T.jsxs("div",{className:"flex flex-col lg:flex-row",children:[T.jsxs("div",{className:`
            lg:w-80 bg-white dark:bg-gray-800 shadow-xl
            fixed lg:sticky top-0 h-screen
            transform transition-transform duration-300 ease-in-out
            ${l?"translate-x-0":"-translate-x-full lg:translate-x-0"}
            z-40
          `,children:[T.jsx("button",{onClick:()=>u(!1),className:"lg:hidden absolute right-4 top-4 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:T.jsx(sx,{className:"w-6 h-6"})}),T.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 sm:mt-10 lg:mt-0 mt-10",children:[T.jsx("div",{className:"flex justify-end mb-4",children:n?T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{onClick:w,disabled:y,className:`flex items-center gap-1 ${y?"bg-green-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"} text-white px-3 py-1 rounded-lg transition-colors`,children:y?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):T.jsxs(T.Fragment,{children:[T.jsx(hye,{className:"w-4 h-4"}),"Save"]})}),T.jsxs("button",{onClick:x,disabled:y,className:`flex items-center gap-1 ${y?"bg-red-400 cursor-not-allowed":"bg-red-600 hover:bg-red-700"} text-white px-3 py-1 rounded-lg transition-colors`,children:[T.jsx(sx,{className:"w-4 h-4"}),"Cancel"]})]}):T.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 text-purple-600 dark:text-purple-400 hover:text-purple-700 dark:hover:text-purple-300",children:[T.jsx(_D,{className:"w-4 h-4"}),"Edit Profile"]})}),T.jsxs("div",{className:"flex flex-col items-center",children:[T.jsx("div",{className:"mb-4",children:n?T.jsx(v8e,{currentAvatar:a.avatar,onAvatarChange:b}):T.jsx("img",{src:`http://localhost:8000${r.avatar}`,alt:r.username,className:"w-24 h-24 rounded-full border-4 border-purple-500 dark:border-purple-400"})}),T.jsx("div",{className:"text-center",children:T.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[n?T.jsx("input",{type:"text",name:"username",value:a.username,onChange:b,className:"text-2xl font-bold bg-transparent border-b-2 border-purple-500 dark:text-white focus:outline-none text-center"}):T.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.username}),T.jsx(gR,{className:"w-6 h-6 text-purple-500 dark:text-purple-400"})]})})]})]}),T.jsx("div",{className:"p-6"})]}),T.jsx("button",{onClick:()=>u(!l),className:"lg:hidden fixed bottom-4 left-4 z-50 bg-purple-600 text-white p-4 rounded-full shadow-lg",children:T.jsx(gR,{className:"w-6 h-6"})}),T.jsx("div",{className:"flex-1 p-4 lg:p-8 mt-16 lg:mt-0",children:T.jsxs("div",{className:"max-w-6xl mx-auto",children:[T.jsxs("div",{className:"mb-12",children:[T.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[T.jsx(sye,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),T.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Scientific Articles"})]}),T.jsx("div",{className:"grid sm:grid-cols-1 lg:grid-cols-2 gap-6",children:p.map(E=>T.jsx(pLe,{article:E,isEditing:n},E.id))})]}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"NFT Collection"}),T.jsx("div",{className:"grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(E=>T.jsx(gLe,{nft:E,isEditing:n},E.id))})]})]})})]}):T.jsx("div",{className:"flex items-center justify-center h-screen",children:T.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Please login to view your profile"})})})}const w8e=({postId:r,refreshTrigger:e})=>{const[n,i]=U.useState([]),[a,s]=U.useState(!0),[o,c]=U.useState(null),[l,u]=U.useState(""),[d,f]=U.useState(""),[p,m]=U.useState(!1),y=async()=>{var w;try{const{data:{session:x},error:E}=await Ct.auth.getSession(),A=x==null?void 0:x.access_token;if(!A)throw new Error("No auth token");const S=await qe.get(`${Wr}/api/comments/feed/${r}/`,{headers:{Authorization:`Bearer ${A}`,"X-Requested-With":"XMLHttpRequest"}});console.log("🧪 API response:",S.data);const C=Array.isArray(S.data)?S.data:S.data.comments||[];i(C),console.log("✅ Set comments:",C)}catch(x){console.error("❌ Error fetching post comments:",((w=x.response)==null?void 0:w.data)||x.message)}finally{s(!1)}};U.useEffect(()=>{y()},[r,e]);const v=async(w,x=null)=>{var E;if(l.trim())try{const{data:{session:A}}=await Ct.auth.getSession(),S=A==null?void 0:A.access_token;if(!S)return;if(console.log("🔁 Submitting reply:",{comment_id:w,parent_id:x,reply:l}),!w||!l.trim()){console.warn("⛔ Missing commentId or replyText");return}try{await qe.post("/api/comments/reply/",{comment_id:w,reply:l,parent_id:x},{headers:{Authorization:`Bearer ${S}`,"Content-Type":"application/json"}}),console.log("✅ Reply submitted successfully!"),u(""),c(null),y()}catch(C){console.error("❌ Reply error:",((E=C.response)==null?void 0:E.data)||C.message)}u(""),c(null),y()}catch(A){console.error("Reply error:",A)}},b=(w,x,E=1)=>w.map(A=>T.jsxs("div",{className:`ml-${E*4} mt-2`,children:[T.jsxs("p",{className:"text-sm text-gray-400",children:["↳ ",A.content]}),T.jsx("button",{onClick:()=>c(o===A.id?null:A.id),className:"text-xs text-blue-400 hover:underline mt-1",children:o===A.id?"Cancel":"Reply"}),o===A.id&&T.jsxs("div",{className:"mt-2",children:[T.jsx("textarea",{rows:2,className:"w-full p-2 rounded bg-gray-900 text-white border border-gray-600",placeholder:"Write your reply...",value:l,onChange:S=>u(S.target.value)}),T.jsx("button",{className:"mt-1 text-sm px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>v(x,A.id),children:"Submit Reply"})]}),A.replies&&b(A.replies,x,E+1)]},A.id));return T.jsxs("div",{className:"mt-4 bg-gray-800 p-4 rounded border border-gray-700 max-h-96 overflow-y-auto",children:[T.jsx("div",{className:"mt-4 border-t border-gray-700 pt-4"}),a?T.jsx("p",{className:"text-gray-400",children:"Loading comments..."}):(n||[]).length===0?T.jsx("p",{className:"text-gray-500 italic",children:"No comments yet."}):n.map(w=>T.jsxs("div",{className:"mb-4",children:[T.jsx("p",{className:"text-sm text-white",children:w.content}),T.jsx("button",{onClick:()=>c(o===w.id?null:w.id),className:"text-xs text-blue-400 hover:underline mt-1",children:o===w.id?"Cancel":"Reply"}),o===w.id&&T.jsxs("div",{className:"mt-2",children:[T.jsx("textarea",{rows:2,className:"w-full p-2 rounded bg-gray-900 text-white border border-gray-600",placeholder:"Write your reply...",value:l,onChange:x=>u(x.target.value)}),T.jsx("button",{className:"mt-1 text-sm px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>v(w.id),children:"Submit Reply"})]}),w.replies&&b(w.replies,w.id)]},w.id))]})},_8e=(r={})=>{const e=U.useRef(null),[n,i]=U.useState(!1);return U.useEffect(()=>{const a=new IntersectionObserver(([s])=>i(s.isIntersecting),r);return e.current&&a.observe(e.current),()=>a.disconnect()},[r]),[e,n]},x8e=()=>{const[r,e]=U.useState([]),[n,i]=U.useState(!0),[a,s]=U.useState(null),[o,c]=U.useState(""),[l,u]=U.useState(""),[d,f]=U.useState(""),[p,m]=U.useState(""),[y,v]=U.useState(!1),[b,w]=U.useState({}),[x,E]=U.useState(null),[A,S]=U.useState(null),[C,P]=U.useState(null),[O,I]=U.useState(null),[M,D]=U.useState(""),[q,K]=U.useState(""),[L,R]=U.useState(null),[j,W]=U.useState(null),[H,z]=U.useState(""),[B,F]=U.useState({}),[G,Q]=U.useState(""),[te,ae]=U.useState([]),[fe,xe]=U.useState([]),[Ee,le]=U.useState([]),{user:Ce}=U.useContext(qu),[Me,he]=U.useState(null),me=async oe=>{var ke;if(!window.confirm("Are you sure you want to delete this post?"))return;const{data:{session:Qe}}=await Ct.auth.getSession(),st=Qe==null?void 0:Qe.access_token;if(st)try{await qe.delete(`/api/post/delete/${oe}/`,{headers:{Authorization:`Bearer ${st}`}}),e(ze=>ze.filter(lt=>lt.id!==oe))}catch(ze){console.error("❌ Failed to delete post:",((ke=ze.response)==null?void 0:ke.data)||ze.message)}},Ae=({src:oe})=>{const[be,Qe]=_8e({threshold:.25});return T.jsx("div",{ref:be,className:"mt-4 flex justify-center",children:T.jsx("video",{ref:be,src:oe,controls:!0,muted:!0,playsInline:!0,autoPlay:Qe,loop:!0,className:"max-h-96 rounded-lg border border-gray-700"})})},tt=oe=>{if(!oe)return null;const be=oe.match(/(?:v=|\/embed\/|youtu.be\/)([\w-]{11})/);return be?be[1]:null},Nt=async oe=>{var be,Qe,st;try{const ze=`https://www.googleapis.com/youtube/v3/videos?part=snippet,liveStreamingDetails&id=${oe}&key=AIzaSyB_B9PieyVyL1vF4feRMMX1Mpv_HPMU04U`,Mt=(be=(await qe.get(ze)).data.items)==null?void 0:be[0];if(!Mt)return;const Fr=!!((Qe=Mt==null?void 0:Mt.liveStreamingDetails)!=null&&Qe.actualStartTime);F(En=>({...En,[oe]:Fr}))}catch(ke){console.error("Error fetching from YouTube API:",((st=ke.response)==null?void 0:st.data)||ke.message)}},ct=async oe=>{var st;const{data:{session:be}}=await Ct.auth.getSession(),Qe=be==null?void 0:be.access_token;if(Qe)try{const ke=await qe.post("/api/post/bookmark/",{post_id:oe},{headers:{Authorization:`Bearer ${Qe}`}});ae(ze=>ke.data.status==="added"?[...ze,oe]:ze.filter(lt=>lt!==oe))}catch(ke){console.error("❌ Bookmark toggle failed:",((st=ke.response)==null?void 0:st.data)||ke.message)}},Wt=async()=>{var Qe;if(!j)return;const{data:{session:oe}}=await Ct.auth.getSession(),be=oe==null?void 0:oe.access_token;if(be)try{await qe.post("/api/post/repost/",{original_post_id:j.id,comment:H},{headers:{Authorization:`Bearer ${be}`,"Content-Type":"application/json"}}),W(null),z(""),Br()}catch(st){console.error("❌ Repost failed:",((Qe=st.response)==null?void 0:Qe.data)||st.message)}},Br=async()=>{var oe;try{const{data:{session:be},error:Qe}=await Ct.auth.getSession();if(Qe||!be)throw new Error("No active Supabase session");const st=be.access_token,ke=await qe.get(`${Wr}/discussions/api/discussions/`,{headers:{Authorization:`Bearer ${st}`,"X-Requested-With":"XMLHttpRequest"}});console.log("✅ Posts refreshed:",ke.data);const ze=Array.isArray(ke.data)?ke.data:ke.data.posts||[];e(ze)}catch(be){console.error("❌ Error loading posts:",((oe=be.response)==null?void 0:oe.data)||be.message)}finally{i(!1)}};U.useEffect(()=>{console.log("📡 useEffect: calling fetchPosts()"),Br()},[]),U.useEffect(()=>{Array.isArray(r)?r.forEach(oe=>{const be=tt(oe.youtube_url);be&&!(be in B)&&Nt(be)}):console.warn("⚠️ `posts` is not an array:",r)},[r]),U.useEffect(()=>{(async()=>{var st;const{data:{session:be}}=await Ct.auth.getSession(),Qe=be==null?void 0:be.access_token;if(Qe)try{const ke=await qe.get("/api/subscriptions/",{headers:{Authorization:`Bearer ${Qe}`}});xe(ke.data)}catch(ke){console.error("Failed to fetch subscriptions:",((st=ke.response)==null?void 0:st.data)||ke.message)}})()},[]),U.useEffect(()=>{(async()=>{var st;const{data:{session:be}}=await Ct.auth.getSession(),Qe=be==null?void 0:be.access_token;if(Qe)try{const ze=(await qe.get("/api/friend_requests/",{headers:{Authorization:`Bearer ${Qe}`}})).data.map(lt=>lt.sender.id);le(ze)}catch(ke){console.error("Failed to fetch friend requests:",((st=ke.response)==null?void 0:st.data)||ke.message)}})()},[]);const on=async()=>{var oe;if(!(!o.trim()||!l.trim()||!d.trim())){v(!0);try{const{data:{session:be}}=await Ct.auth.getSession(),Qe=be==null?void 0:be.access_token;if(!Qe)return console.error("User not authenticated");const st=new FormData;if(st.append("title",o),st.append("content",l),st.append("category",d),C){const ke=C.type.startsWith("video/");st.append(ke?"video":"image",C)}p.trim()&&st.append("youtube_url",p.trim()),await qe.post("/api/post/new/",st,{headers:{Authorization:`Bearer ${Qe}`,"Content-Type":"multipart/form-data"}}),c(""),u(""),P(null),m(""),f(""),Br()}catch(be){console.error("Error creating post:",((oe=be.response)==null?void 0:oe.data)||be.message)}finally{v(!1)}}},Kr=async oe=>{var Qe;const be=b[oe];if(be!=null&&be.trim()){E(oe);try{const{data:{session:st}}=await Ct.auth.getSession(),ke=st==null?void 0:st.access_token;if(!ke)return;await qe.post("/api/comments/new/",{post_id:oe,comment:be},{headers:{Authorization:`Bearer ${ke}`,"Content-Type":"application/json"}}),w(ze=>({...ze,[oe]:""})),s(oe)}catch(st){console.error("❌ Failed to post comment:",((Qe=st.response)==null?void 0:Qe.data)||st.message)}finally{E(null)}}},mn=async oe=>{var st;const{data:{session:be}}=await Ct.auth.getSession(),Qe=be==null?void 0:be.access_token;if(Qe)try{await qe.post("/api/post/upvote/",{post_id:oe},{headers:{Authorization:`Bearer ${Qe}`}}),e(ke=>ke.map(ze=>ze.id===oe?{...ze,vote_difference:(ze.vote_difference||0)+1}:ze))}catch(ke){console.error("❌ Upvote failed:",((st=ke.response)==null?void 0:st.data)||ke.message)}},Jn=oe=>{s(be=>be===oe?null:oe)},Re=Array.isArray(r)?r:[],rt=oe=>`${Wr}${oe.startsWith("/")?oe:`/${oe}`}`;return T.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:T.jsxs("div",{className:"p-6 text-white max-w-4xl mx-auto",children:[T.jsxs("div",{className:"mb-10 p-6 bg-gray-800 rounded-lg shadow-md",children:[T.jsx("h2",{className:"text-lg font-bold text-white mb-2",children:"Create a Post"}),T.jsx("input",{type:"text",className:"w-full p-2 mb-2 rounded bg-gray-900 text-white border border-gray-600",placeholder:"Title",value:o,onChange:oe=>c(oe.target.value)}),T.jsx("textarea",{className:"w-full p-2 mb-4 rounded bg-gray-900 text-white border border-gray-600",rows:3,placeholder:"What's on your mind?",value:l,onChange:oe=>u(oe.target.value)}),T.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[T.jsx("label",{className:"text-lg font-medium",children:"Post to:"}),T.jsxs("select",{value:d,onChange:oe=>f(oe.target.value),className:"w-64 p-2 rounded bg-gray-900 text-white border border-gray-600",children:[T.jsx("option",{value:"",children:"Select a category"}),Nx.categories.map(oe=>T.jsx("option",{value:oe,children:oe},oe))]})]}),T.jsxs("div",{className:"flex items-center gap-4 mt-4 align-middle",children:[T.jsx("button",{className:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded disabled:opacity-50",onClick:on,disabled:y,children:y?"Posting...":"Post"}),T.jsx("input",{type:"text",className:"flex-1 p-2 rounded bg-gray-900 text-white border border-gray-600",placeholder:"https://www.youtube.com/watch?v=...",value:p,onChange:oe=>m(oe.target.value)}),T.jsx("label",{htmlFor:"media-upload",className:"cursor-pointer flex items-center justify-center w-10 h-10 bg-gray-700 hover:bg-gray-600 text-white rounded-full",title:"Attach media",children:"📎"}),T.jsx("input",{id:"media-upload",type:"file",accept:"image/*,video/*",onChange:oe=>P(oe.target.files[0]),className:"hidden"}),C&&T.jsx("span",{className:"text-sm text-gray-300 truncate max-w-xs",children:C.name})]})]}),T.jsxs("div",{className:"mb-6 flex items-center gap-2",children:[T.jsx("label",{className:"text-white",children:"Topics: "}),T.jsxs("select",{value:G,onChange:oe=>Q(oe.target.value),className:"w-64 p-2 rounded bg-gray-900 text-white border border-gray-600",children:[T.jsx("option",{value:"",children:"All Categories"}),Nx.categories.map(oe=>T.jsx("option",{value:oe,children:oe},oe))]})]}),n?T.jsx("p",{children:"Loading feed..."}):Array.isArray(Re)&&Re.length===0?T.jsx("p",{children:"No posts available."}):Re.filter(oe=>!G||oe.category===G).map(oe=>T.jsx("div",{className:"p-3 flex flex-col items-center",children:T.jsxs("div",{className:"w-full max-w-2xl",children:[T.jsx("div",{className:"flex items-center justify-between mb-3 px-4",children:T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("img",{src:`${Wr}${oe.author.avatar}`,alt:oe.author.username,className:"w-12 h-12 rounded-full object-cover border border-gray-600"}),T.jsx("span",{className:"text-lg text-white font-medium",children:oe.author.username}),Ce&&Ce.id!==oe.author.id&&T.jsx("button",{onClick:async()=>{var ke;const{data:{session:be}}=await Ct.auth.getSession(),Qe=be==null?void 0:be.access_token;if(!Qe)return;const st=fe.includes(oe.author.id);try{st?(await qe.post(`/api/subscriptions/delete/${oe.author.id}/`,{},{headers:{Authorization:`Bearer ${Qe}`}}),xe(ze=>ze.filter(lt=>lt!==oe.author.id))):(await qe.post(`/api/subscriptions/add/${oe.author.id}/`,{},{headers:{Authorization:`Bearer ${Qe}`}}),xe(ze=>[...ze,oe.author.id]))}catch(ze){console.error("Subscription toggle failed:",((ke=ze.response)==null?void 0:ke.data)||ze.message)}},className:`ml-2 text-sm font-semibold px-3 py-1 rounded-full ${fe.includes(oe.author.id)?"bg-green-600 text-white":"bg-gray-700 text-gray-200"}`,children:fe.includes(oe.author.id)?"✓ Subscribed":"Subscribe"}),Ce&&Ce.id!==oe.author.id&&T.jsx("button",{disabled:Ee.includes(oe.author.id),onClick:async()=>{var st;const{data:{session:be}}=await Ct.auth.getSession(),Qe=be==null?void 0:be.access_token;if(Qe)try{await qe.post("/api/friend_requests/",{sender:Ce.id,receiver:oe.author.id},{headers:{Authorization:`Bearer ${Qe}`}}),le(ke=>[...ke,oe.author.id])}catch(ke){console.error("Friend request failed:",((st=ke.response)==null?void 0:st.data)||ke.message),alert("Friend request could not be sent.")}},className:`ml-2 text-sm font-semibold px-3 py-1 rounded-full ${Ee.includes(oe.author.id)?"bg-gray-500 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:Ee.includes(oe.author.id)?"Pending":"Add Friend"})]})}),T.jsxs("div",{className:"rounded-xl overflow-hidden shadow-md transition-transform hover:scale-[1.005] bg-white dark:bg-gray-800 hover:shadow-blue-200 dark:hover:shadow-blue-500/20 flex flex-col h-full border border-gray-700",children:[T.jsx("div",{className:"flex items-center gap-3 mb-3"}),T.jsxs("div",{className:"p-3",children:[T.jsx("p",{className:"text-sm  mb-7",children:oe.category||"Uncategorized"}),T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("h2",{className:"text-xl font-bold text-white",children:oe.title}),Ce&&Ce.id===oe.author.id&&T.jsxs("div",{className:"relative ml-4",children:[T.jsx("button",{onClick:()=>he(be=>be===oe.id?null:oe.id),children:T.jsx($ye,{className:"w-5 h-5 text-white hover:text-gray-400"})}),Me===oe.id&&T.jsx("div",{className:"absolute right-0 mt-2 w-32 bg-gray-800 text-white border border-gray-700 rounded shadow-lg z-10",children:T.jsx("button",{onClick:()=>{he(null),me(oe.id)},className:"block w-full text-left px-4 py-2 hover:bg-gray-700 text-red-400",children:"🗑️ Delete"})})]})]}),T.jsx("p",{className:"text-md text-gray-300",children:oe.content}),oe.original_post&&oe.original_post.author&&T.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded p-3 mt-3",children:[T.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[T.jsx("img",{src:rt(oe.original_post.author.avatar),alt:oe.original_post.author.username,className:"w-8 h-8 rounded-full border border-gray-600 object-cover"}),T.jsx("span",{className:"text-sm font-semibold text-white",children:oe.original_post.author.username})]}),T.jsx("p",{className:"text-sm text-gray-300",children:oe.original_post.content})]}),oe.youtube_url?T.jsxs("div",{className:"mt-4 flex flex-col items-center",children:[B[tt(oe.youtube_url)]&&T.jsx("div",{className:"text-red-500 font-bold mb-1",children:"🔴 LIVE"}),T.jsx("iframe",{src:`https://www.youtube.com/embed/${tt(oe.youtube_url)}`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full max-w-xl h-64 rounded-lg border border-gray-700"})]}):oe.video?T.jsx(Ae,{src:rt(oe.video)}):oe.image&&T.jsx("div",{className:"mt-4 flex justify-center",children:T.jsx("img",{src:rt(oe.image),alt:"Post attachment",className:"max-h-96 rounded-lg object-contain border border-gray-700",onError:be=>{console.warn("⚠️ Image load failed",be),be.target.style.display="none"}})}),T.jsxs("div",{className:"flex items-center gap-4 mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[T.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>ct(oe.id),title:"Bookmark",children:T.jsx(EJ,{className:"w-5 h-5",fill:te.includes(oe.id)?"white":"none",stroke:"currentColor"})}),T.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>W(oe),title:"Repost",children:T.jsx(Dye,{className:"w-5 h-5 text-white"})}),T.jsxs("button",{className:"flex items-center gap-1 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>S(be=>be===oe.id?null:oe.id),children:[T.jsx(kJ,{className:"w-5 h-5"}),T.jsx("span",{className:"text-sm",children:oe.comments_count??0})]}),T.jsxs("button",{className:"flex items-center gap-1 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>mn(oe.id),children:[T.jsx(PJ,{className:"w-5 h-5 text-white"}),T.jsx("span",{className:"text-sm",children:typeof oe.vote_difference=="number"?oe.vote_difference:0})]})]}),T.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700",children:[j&&T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:T.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg w-full max-w-md",children:[T.jsx("h2",{className:"text-xl mb-4 text-white",children:"Reposting"}),T.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded p-3 mb-4",children:[T.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[T.jsx("img",{src:`http://localhost:8000${j.author.avatar}`,alt:j.author.username,className:"w-8 h-8 rounded-full border border-gray-600 object-cover"}),T.jsx("span",{className:"text-sm font-semibold text-white",children:j.author.username})]}),T.jsx("p",{className:"text-sm text-gray-300",children:j.content})]}),T.jsx("textarea",{className:"w-full p-2 mb-4 rounded bg-gray-900 text-white border border-gray-600",placeholder:"Add a comment...",value:H,onChange:be=>z(be.target.value)}),T.jsxs("div",{className:"flex justify-end gap-2",children:[T.jsx("button",{className:"px-4 py-2 bg-gray-700 text-white rounded",onClick:()=>W(null),children:"Cancel"}),T.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded",onClick:Wt,children:"Repost"})]})]})}),A===oe.id&&T.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700",children:[T.jsx("textarea",{rows:3,className:"w-full p-2 rounded bg-gray-900 text-white border border-gray-600",placeholder:"Write a comment...",value:b[oe.id]||"",onChange:be=>w(Qe=>({...Qe,[oe.id]:be.target.value}))}),T.jsx("button",{onClick:()=>Kr(oe.id),disabled:x===oe.id,className:"mt-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50",children:x===oe.id?"Posting...":"Post Comment"})]})]}),T.jsx("p",{className:"mt-2 text-sm text-blue-400 hover:underline cursor-pointer",onClick:()=>Jn(oe.id),children:a===oe.id?"Hide Comments":"View Comments"})]}),a===oe.id&&T.jsx(w8e,{postId:oe.id,refreshTrigger:x===null?Date.now():null})]})]})},oe.id))]})})},Tre=r=>{const[e,n]=U.useState(null),[i,a]=U.useState(!1);return U.useEffect(()=>{if(!r)return;(async()=>{a(!0);try{const o=r.split("/"),c=o[4],l=o[5],u=o[6],d=`https://testnets-api.opensea.io/api/v2/chain/${c}/contract/${l}/nfts/${u}`,f=await qe.get(d,{headers:{"X-API-KEY":"24b3a11a025643f796db1c57cb28f163"}});n(f.data.nft)}catch(o){console.error("❌ NFT fetch failed:",o),n(null)}finally{a(!1)}})()},[r]),{nftData:e,isNftLoading:i}},E8e=({article:r,onReadFullPaper:e,formatDate:n,truncateAbstract:i,formatAuthors:a})=>{var c,l,u;const{nftData:s,isNftLoading:o}=Tre(r.nft_link);return T.jsxs("article",{className:"rounded-xl overflow-hidden shadow-lg transition-transform hover:scale-[1.01] bg-white dark:bg-gray-800 hover:shadow-blue-200 dark:hover:shadow-blue-500/20 flex flex-col h-full",children:[r.nft_link&&T.jsx("div",{className:"relative w-full h-64 bg-gray-100 dark:bg-gray-700",children:o?T.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:T.jsx("div",{className:"animate-spin h-6 w-6 border-b-2 border-blue-500 rounded-full border-t-transparent"})}):s!=null&&s.image_url?T.jsx("img",{src:s.image_url,alt:s.name||"NFT Preview",className:"w-full h-full object-cover"}):T.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-sm text-gray-500",children:"No image found"})}),T.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[(c=r.category)==null?void 0:c.name,T.jsx("h2",{className:"text-2xl font-bold mb-3 text-gray-900 dark:text-white",children:r.title||"Untitled Article"}),T.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-4 text-sm text-gray-600 dark:text-gray-300",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(OJ,{className:"w-4 h-4"}),T.jsx("p",{className:"font-medium",children:a(r.authors)})]}),T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx(mR,{className:"w-4 h-4"}),T.jsx("span",{children:n(r.created_at)})]}),r.PMID&&T.jsxs("div",{className:"font-mono",children:["PMID: ",r.PMID]})]}),r.abstract&&T.jsx("p",{className:"mb-6 text-gray-600 dark:text-gray-300 flex-grow",children:i(r.abstract)}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6 text-center",children:[T.jsxs("div",{className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700",children:[T.jsx(jye,{className:"w-4 h-4 mx-auto mb-1"}),T.jsxs("p",{className:"text-sm font-medium",children:[r.citation_count||0," Citations"]})]}),T.jsxs("div",{className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700",children:[T.jsx(mR,{className:"w-4 h-4 mx-auto mb-1"}),T.jsx("p",{className:"text-sm font-medium",children:n(r.NFT_Created_At)||"N/A"})]}),T.jsxs("div",{className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700",children:[T.jsx(CJ,{className:"w-4 h-4 mx-auto mb-1"}),T.jsx("p",{className:"text-sm font-medium",children:r.readTime||"5 min read"})]})]}),T.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[T.jsx("div",{className:"flex items-center gap-4",children:r.nftSummary&&T.jsxs("div",{className:"mt-auto px-4 py-2 border-t border-gray-200 dark:border-gray-700",children:[((l=r.nftSummary)==null?void 0:l.lastSalePrice)&&T.jsxs(T.Fragment,{children:[T.jsxs("p",{className:"text-lg text-zinc-800 dark:text-cyan-200 mt-2",children:["PRICE: ₳ ",r.nftSummary.lastSalePrice]}),T.jsxs("p",{className:"text-lg text-gray-400",children:["≈ $",(r.nftSummary.lastSalePrice*2500).toFixed(2)," USD"]})]}),r.nftSummary.conversions!==void 0&&T.jsxs("p",{className:"text-slg text-gray-400",children:["Seller Hold Rate: ",(r.nftSummary.conversions*100).toFixed(1),"%"]}),T.jsxs("p",{className:"text-xs text-zinc-400 mt-1",children:["Updated: ",new Date(r.nftSummary.last_updated).toLocaleDateString()]}),((u=r.nftSummary)==null?void 0:u.last_updated)&&T.jsxs("p",{className:"text-xs text-zinc-400 mt-1",children:["Updated: ",new Date(r.nftSummary.last_updated).toLocaleDateString()]}),r.nftSummary.totalOffers!==void 0&&T.jsxs("p",{className:"text-sm text-purple-400",children:["Offers: ",r.nftSummary.totalOffers]})]})}),T.jsxs("button",{onClick:()=>e(r),className:"flex items-center gap-1 px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white",children:["Read Full Paper",T.jsx(_J,{className:"w-4 h-4"})]})]})]})]})};function S8e(){const[r,e]=U.useState([]),[n,i]=U.useState(1),[a,s]=U.useState(1),[o,c]=U.useState(0),[l,u]=U.useState(""),[d,f]=U.useState(!0),[p,m]=U.useState(null),[y,v]=U.useState("grid"),[b,w]=U.useState("date"),x=bS(),[E,A]=U.useState("feed");Tre(r.nft_link);const[S,C]=U.useState(null),{queryHash:P}=wS(),[O,I]=U.useState(!1);U.useEffect(()=>{M(n),console.log("✅ ArticleList mounted")},[n]);const M=async B=>{console.log("Requesting:",`${Wr}/api/all_articles?page=${B}`);try{f(!0),m(null);const F=await qe.get(`${Wr}/article/all_articles?page=${B}&notebook_only=true`);console.log(F.data),F.data&&F.data.articles?(console.log(F.data.articles),e(F.data.articles),s(F.data.total_pages||1),c(F.data.article_count||F.data.articles.length),i(F.data.current_page||B)):m("Unexpected data format received from server")}catch(F){console.error("Error fetching articles:",F),m("Failed to fetch articles. Please try again later.")}finally{f(!1)}},D=B=>{B>=1&&B<=a&&(i(B),window.scrollTo(0,0))},q=B=>{w(B.target.value)},K=[...r].sort((B,F)=>b==="date"?new Date(F.created_at)-new Date(B.created_at):b==="citations"?(F.cited_by||0)-(B.cited_by||0):0),L=K.filter(B=>{var G,Q,te,ae,fe,xe;return((G=B.title)==null?void 0:G.toLowerCase().includes(l.toLowerCase()))||!1||((Q=B.abstract)==null?void 0:Q.toLowerCase().includes(l.toLowerCase()))||!1||((te=B.authors)==null?void 0:te.toLowerCase().includes(l.toLowerCase()))||!1||((ae=B.hash_id)==null?void 0:ae.toLowerCase().includes(l.toLowerCase()))||!1||((fe=B.DOI)==null?void 0:fe.toLowerCase().includes(l.toLowerCase()))||!1||((xe=B.PMID)==null?void 0:xe.includes(l))||!1});console.log(K[0]);const R=(B,F=200)=>B?B.length>F?B.substring(0,F)+"...":B:"",j=B=>{if(!B)return"N/A";try{return new Date(B).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return"N/A"}},W=B=>{if(!B)return"Unknown Authors";const F=B.split(";");return F.length<=3?B:`${F.slice(0,3).join(";")} et al.`},H=()=>{const B=[];if(a<=5)for(let G=1;G<=a;G++)B.push(G);else{B.push(1);let G=Math.max(2,n-Math.floor(5/2)+1),Q=Math.min(a-1,G+5-3);Q===a-1&&(G=Math.max(2,Q-2)),G>2&&B.push("...");for(let te=G;te<=Q;te++)B.push(te);Q<a-1&&B.push("..."),B.push(a)}return B},z=B=>{console.log(B),x(`/rblock/${B.hash_id}`,{state:{article:B}})};return U.useEffect(()=>{(async()=>{var F;if(P)try{const{data:{session:G},error:Q}=await Ct.auth.getSession(),te=G==null?void 0:G.access_token;if(!te)throw new Error("No auth token");const ae=await qe.get(`${Wr}/polymerase/api/pricing_nft/${P}/`,{headers:{Authorization:`Bearer ${te}`,"X-Requested-With":"XMLHttpRequest"}});setPricingData(ae.data)}catch(G){console.error("❌ Failed to fetch pricing model:",((F=G.response)==null?void 0:F.data)||G.message)}})()},[P]),U.useEffect(()=>{(async()=>{const{data:F,error:G}=await Ct.auth.getSession();G?console.error("Auth error:",G):C(F.session)})()},[]),U.useEffect(()=>{(async()=>{var F;if(!(!r||r.length===0||!(S!=null&&S.access_token)||O))try{const G=[...new Set(r.map(fe=>fe.hash_id).filter(Boolean))],te=(await qe.post(`${Wr}/api/events/summary/`,{hashes:G},{headers:{Authorization:`Bearer ${S.access_token}`,"Content-Type":"application/json"}})).data,ae=r.map(fe=>({...fe,nftSummary:te[fe.hash_id]||{}}));e(ae),I(!0)}catch(G){console.error("❌ NFT fetch failed:",((F=G.response)==null?void 0:F.data)||G.message)}})()},[r,S,O]),T.jsx(T.Fragment,{children:E==="articles"?T.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[T.jsx("nav",{className:"fixed w-full z-10 bg-white dark:bg-gray-800 shadow-lg",children:T.jsx("div",{className:"container mx-auto px-6 py-4",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsxs("div",{className:"flex space-x-4 mb-6",children:[T.jsx("button",{onClick:()=>A("articles"),className:`px-4 py-2 rounded-md font-semibold ${E==="articles"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700"}`,children:"Articles"}),T.jsx("button",{onClick:()=>A("feed"),className:`px-4 py-2 rounded-md font-semibold ${E==="feed"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700"}`,children:"Social"})]}),T.jsx(gR,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),T.jsx("span",{className:"ml-2 text-xl font-bold text-gray-800 dark:text-white",children:"ScienceHub"})]}),T.jsxs("div",{className:"flex items-center gap-4 justify-center",children:[T.jsx("button",{onClick:()=>v("grid"),className:`p-2 rounded ${y==="grid"?"bg-gray-200 dark:bg-gray-700":""}`,children:T.jsx(x8,{className:`w-5 h-5 ${y==="grid"?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`})}),T.jsx("button",{onClick:()=>v("list"),className:`p-2 rounded ${y==="list"?"bg-gray-200 dark:bg-gray-700":""}`,children:T.jsx(vR,{className:`w-5 h-5 ${y==="list"?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`})})]})]})})}),T.jsxs("main",{className:"container mx-auto px-6 pt-24 pb-16",children:[T.jsxs("div",{className:"mb-8",children:[T.jsx("h1",{className:"text-4xl font-bold mb-6 text-gray-900 dark:text-white",children:"Latest Scientific Publications"}),T.jsx(fb,{to:"/new-article",children:T.jsx("button",{className:"bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700",children:"🧠 Post a New Article"})}),T.jsx("div",{className:"flex items-center mb-4",children:T.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Showing ",L.length," of ",o," articles"]})}),T.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[T.jsx("div",{className:"flex-1",children:T.jsxs("div",{className:"relative text-gray-900 dark:text-white",children:[T.jsx(xD,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),T.jsx("input",{type:"text",placeholder:"Search by title, abstract, authors, or PMID...",value:l,onChange:B=>u(B.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg border bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]})}),T.jsxs("select",{value:b,onChange:q,className:"px-4 py-2 rounded-lg border bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white",children:[T.jsx("option",{value:"date",children:"Sort by Date"}),T.jsx("option",{value:"citations",children:"Sort by Citations"})]})]})]}),d?T.jsxs("div",{className:"flex justify-center items-center py-20",children:[T.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),T.jsx("span",{className:"ml-4 text-blue-500 dark:text-white",children:"Loading articles..."})]}):p?T.jsx("div",{className:"p-6 rounded-lg text-center bg-red-100 dark:bg-red-900 text-red-700 dark:text-white",children:T.jsx("p",{children:p})}):L.length===0?T.jsx("div",{className:"p-6 rounded-lg text-center bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300",children:T.jsx("p",{children:"No articles found. Try adjusting your search criteria."})}):T.jsx("div",{className:`space-y-8 ${y==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"flex flex-col"}`,children:L.map(B=>T.jsx("article",{className:"rounded-xl overflow-hidden shadow-lg transition-transform hover:scale-[1.01] bg-white dark:bg-gray-800 hover:shadow-blue-200 dark:hover:shadow-blue-500/20 flex flex-col h-full",children:T.jsx(E8e,{article:B,onReadFullPaper:z,formatDate:j,truncateAbstract:R,formatAuthors:W},B.hash_id||B.PMID)},B.PMID||`article-${Math.random().toString(36).substr(2,9)}`))}),!d&&!p&&a>1&&T.jsx("div",{className:"mt-12",children:T.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[T.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Page ",n," of ",a]}),T.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[T.jsxs("button",{onClick:()=>D(1),disabled:n===1,className:"flex items-center px-3 py-2 rounded-md border bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-300 disabled:text-gray-400 dark:disabled:text-gray-600 disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:border-gray-200 dark:disabled:border-gray-800","aria-label":"First page",children:[T.jsx(yR,{className:"w-4 h-4 mr-1"}),"First"]}),T.jsx("button",{onClick:()=>D(n-1),disabled:n===1,className:"px-3 py-2 rounded-md border bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-300 disabled:text-gray-400 dark:disabled:text-gray-600 disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:border-gray-200 dark:disabled:border-gray-800","aria-label":"Previous page",children:T.jsx(yR,{className:"w-4 h-4"})}),H().map((B,F)=>typeof B=="number"?T.jsx("button",{onClick:()=>D(B),className:`w-10 h-10 rounded-md border ${n===B?"bg-blue-600 border-blue-500 text-white":"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,"aria-label":`Page ${B}`,"aria-current":n===B?"page":void 0,children:B},F):T.jsx("span",{className:"flex items-center justify-center w-10 h-10 text-gray-500 dark:text-gray-400",children:B},F)),T.jsx("button",{onClick:()=>D(n+1),disabled:n===a,className:"px-3 py-2 rounded-md border bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-300 disabled:text-gray-400 dark:disabled:text-gray-600 disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:border-gray-200 dark:disabled:border-gray-800","aria-label":"Next page",children:T.jsx(ax,{className:"w-4 h-4"})}),T.jsxs("button",{onClick:()=>D(a),disabled:n===a,className:"flex items-center px-3 py-2 rounded-md border bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-300 disabled:text-gray-400 dark:disabled:text-gray-600 disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:border-gray-200 dark:disabled:border-gray-800","aria-label":"Last page",children:["Last",T.jsx(ax,{className:"w-4 h-4 ml-1"})]})]})]})})]})]}):T.jsxs("div",{children:[T.jsx("nav",{className:"fixed w-full z-10 bg-white dark:bg-gray-800 shadow-lg",children:T.jsx("div",{className:"container mx-auto px-6 py-4",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex space-x-4 mb-6",children:[T.jsx("button",{onClick:()=>A("articles"),className:`px-4 py-2 rounded-md font-semibold ${E==="articles"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700"}`,children:"Articles"}),T.jsx("button",{onClick:()=>A("feed"),className:`px-4 py-2 rounded-md font-semibold ${E==="feed"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700"}`,children:"Feed"})]}),T.jsxs("div",{className:"flex items-center gap-4 justify-center",children:[T.jsx("button",{onClick:()=>v("grid"),className:`p-2 rounded ${y==="grid"?"bg-gray-200 dark:bg-gray-700":""}`,children:T.jsx(x8,{className:`w-5 h-5 ${y==="grid"?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`})}),T.jsx("button",{onClick:()=>v("list"),className:`p-2 rounded ${y==="list"?"bg-gray-200 dark:bg-gray-700":""}`,children:T.jsx(vR,{className:`w-5 h-5 ${y==="list"?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`})})]})]})})}),T.jsx("br",{}),T.jsx("br",{}),T.jsx("br",{}),T.jsx("br",{}),T.jsx(x8e,{})]})})}const kre=({queryHash:r})=>{var W,H;const[e,n]=U.useState([]),[i,a]=U.useState(""),[s,o]=U.useState(!1),[c,l]=U.useState(null),[u,d]=U.useState(!0),[f,p]=U.useState({}),[m,y]=U.useState({}),[v,b]=U.useState({}),[w,x]=U.useState(!1),[E,A]=U.useState(!1),S=async z=>{var G;const{data:{session:B}}=await Ct.auth.getSession(),F=B==null?void 0:B.access_token;if(F)try{const Q=await qe.post(`${Wr}/api/article/${z}/upvote/`,null,{headers:{Authorization:`Bearer ${F}`,"X-Requested-With":"XMLHttpRequest"}}),{status:te,count:ae}=Q.data;b(fe=>({...fe,[z]:{voted:te==="added",count:ae}}))}catch(Q){console.error("❌ Article upvote failed:",((G=Q.response)==null?void 0:G.data)||Q.message)}},P=(z=>{let B=0;const F=G=>{B+=1,G.replies&&G.replies.length>0&&G.replies.forEach(Q=>F(Q))};return z.forEach(F),B})(e),O=async()=>{var F;const{data:{session:z}}=await Ct.auth.getSession(),B=z==null?void 0:z.access_token;if(B)try{const G=await qe.post(`/api/article/${r}/bookmark/`,null,{headers:{Authorization:`Bearer ${B}`,"X-Requested-With":"XMLHttpRequest"},withCredentials:!0});x(G.data.bookmarked)}catch(G){console.error("❌ Failed to toggle bookmark:",((F=G.response)==null?void 0:F.data)||G.message)}},I=async()=>{var F;const{data:{session:z}}=await Ct.auth.getSession(),B=z==null?void 0:z.access_token;if(B)try{const G=await qe.post(`/api/article/${r}/subscribe/`,null,{headers:{Authorization:`Bearer ${B}`,"X-Requested-With":"XMLHttpRequest"},withCredentials:!0});A(G.data.subscribed)}catch(G){console.error("❌ Failed to toggle subscribe:",((F=G.response)==null?void 0:F.data)||G.message)}};U.useEffect(()=>{r&&(async()=>{var G;const{data:{session:B}}=await Ct.auth.getSession(),F=B==null?void 0:B.access_token;if(F)try{const Q=await qe.get(`${Wr}/api/article/${r}/vote_status/`,{headers:{Authorization:`Bearer ${F}`}}),{voted:te,count:ae}=Q.data;b(fe=>({...fe,[r]:{voted:te,count:ae}}))}catch(Q){console.error("❌ Failed to fetch article vote status:",((G=Q.response)==null?void 0:G.data)||Q.message)}})()},[r]),U.useEffect(()=>{r&&(async()=>{var G;const{data:{session:B}}=await Ct.auth.getSession(),F=B==null?void 0:B.access_token;if(F)try{const Q=await qe.get(`${Wr}/article/main/${r}/`,{headers:{Authorization:`Bearer ${F}`}});x(Q.data.is_bookmarked),A(Q.data.is_subscribed)}catch(Q){console.error("❌ Failed to fetch bookmark/subscription status:",((G=Q.response)==null?void 0:G.data)||Q.message)}})()},[r]);const M=async()=>{var z;try{const{data:{session:B},error:F}=await Ct.auth.getSession(),G=B==null?void 0:B.access_token;if(!G)throw new Error("No auth token");const Q=await qe.get(`/article/api/article/comments/${r}/`,{headers:{Authorization:`Bearer ${G}`,"X-Requested-With":"XMLHttpRequest"}});console.log("🧪 API response:",Q.data);const te=Array.isArray(Q.data)?Q.data:Q.data.comments||[];n(te),console.log("✅ Set comments:",te)}catch(B){console.error("❌ Error fetching comments:",((z=B.response)==null?void 0:z.data)||B.message)}finally{d(!1)}};U.useEffect(()=>{r&&M()},[r]);const D=z=>{y(B=>({...B,[z]:!B[z]}))},q=async(z=null)=>{const B=z?f[z]:i;if(B!=null&&B.trim()){o(!0);try{const F=new FormData;F.append("query_hash",r),F.append("comment",B),z&&F.append("parent_id",z);const{data:{session:G},error:Q}=await Ct.auth.getSession();if(Q||!G)throw new Error("User not logged in");const te=G.access_token;if(!te)throw new Error("No access token");const ae=await qe.post("/article/save_comment_react/",F,{headers:{Authorization:`Bearer ${te}`,"X-Requested-With":"XMLHttpRequest"},withCredentials:!0});if(ae.data.status==="success"){const fe={id:ae.data.comment.id,text:ae.data.comment.text,created_at:ae.data.comment.created_at,author:ae.data.comment.author||{username:"You",avatar:"/default-avatar.png",id:null},replies:[]};z?(n(xe=>K(xe,z,fe)),p(xe=>({...xe,[z]:""}))):(n(xe=>[fe,...xe]),a("")),l(null)}else M()}catch(F){console.error("Error posting comment:",F)}finally{o(!1)}}},K=(z,B,F)=>z.map(G=>G.id===B?{...G,replies:[...G.replies||[],F]}:G.replies&&G.replies.length>0?{...G,replies:K(G.replies,B,F)}:G),L=z=>!z.replies||z.replies.length===0?0:z.replies.reduce((B,F)=>B+1+L(F),0),R=(z,B=1)=>T.jsx("div",{className:`ml-${Math.min(B*4,20)} mt-3 border-l border-gray-600 pl-4`,children:z.map(F=>{var G,Q;return T.jsxs("div",{className:"mt-3",children:[T.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[T.jsx("img",{src:((G=F==null?void 0:F.author)==null?void 0:G.avatar)||"/default-avatar.png",className:"w-6 h-6 rounded-full",alt:"avatar"}),T.jsx("span",{className:"text-sm font-semibold text-blue-600 dark:text-blue-300",children:((Q=F==null?void 0:F.author)==null?void 0:Q.username)||"Anonymous"}),T.jsx("span",{className:"text-xs text-gray-400",children:F.created_at})]}),T.jsx("p",{className:"text-gray-800 dark:text-gray-300 text-sm leading-relaxed",children:F.text}),T.jsx("button",{onClick:()=>l(te=>te===F.id?null:F.id),className:"text-xs text-blue-500 mt-1",children:c===F.id?"Cancel":"Reply"}),c===F.id&&T.jsxs("div",{className:"mt-2",children:[T.jsx("textarea",{rows:2,className:"w-full p-2 rounded bg-gray-100 dark:bg-gray-700 text-sm text-black dark:text-white border border-gray-300 dark:border-gray-600",placeholder:"Write your reply...",value:f[F.id]||"",onChange:te=>p(ae=>({...ae,[F.id]:te.target.value}))}),T.jsx("button",{className:"mt-1 text-sm px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:()=>q(F.id),children:"Reply"})]}),F.replies&&F.replies.length>0&&R(F.replies,B+1)]},F.id)})}),j=z=>z.map(B=>{var G,Q,te;const F=L(B);return T.jsxs("div",{className:"border-t border-gray-300 dark:border-gray-700 pt-5",children:[T.jsxs("div",{className:"flex items-center mb-2",children:[T.jsx("img",{src:((G=B==null?void 0:B.author)==null?void 0:G.avatar)||"/default-avatar.png",alt:"avatar",className:"w-8 h-8 rounded-full mr-3 object-cover"}),T.jsxs("div",{children:[T.jsx("p",{className:"font-semibold text-sm text-blue-600 dark:text-blue-300",children:((Q=B==null?void 0:B.author)==null?void 0:Q.username)||"Anonymous"}),T.jsx("p",{className:"text-xs text-gray-400",children:B.created_at})]})]}),T.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm leading-relaxed",children:B.text}),T.jsx("button",{onClick:()=>l(B.id),className:"text-xs text-blue-500 mt-1",children:"Reply"}),T.jsx("button",{onClick:()=>D(B.id),className:"text-xs text-blue-500 mt-1 ml-2",children:m[B.id]?"Hide replies":F>0?`View ${F} ${F>1?"replies":"reply"}`:null}),c===B.id&&T.jsxs("div",{className:"mt-2",children:[T.jsx("textarea",{rows:2,className:"w-full p-2 rounded bg-gray-100 dark:bg-gray-700 text-sm text-black dark:text-white border border-gray-300 dark:border-gray-600",placeholder:"Write your reply...",value:f[B.id]||"",onChange:ae=>p(fe=>({...fe,[B.id]:ae.target.value}))}),T.jsx("button",{className:"mt-1 text-sm px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:()=>q(B.id),children:"Reply"})]}),m[B.id]&&((te=B.replies)==null?void 0:te.length)>0&&R(B.replies)]},B.id)});return T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[T.jsxs("button",{onClick:()=>S(r),className:"flex items-center gap-1 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:[T.jsx(PJ,{className:`w-8 h-8 ${(W=v[r])!=null&&W.voted?"text-teal-400":"text-gray-400"}`}),T.jsx("span",{className:"text-3xl font-bold text-gray-700 dark:text-gray-400 tracking-tight",children:typeof((H=v[r])==null?void 0:H.count)=="number"?v[r].count:0})]}),T.jsxs("button",{className:"flex items-center gap-1 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:[T.jsx(kJ,{className:`w-8 h-8 ${P>0?"text-teal-400":"text-gray-400"}`}),T.jsx("span",{className:"text-3xl font-bold text-gray-700 dark:text-gray-400 tracking-tight",children:P})]}),T.jsx("button",{onClick:O,className:`p-2 rounded-full transition-colors ${w?"bg-yellow-500 text-white hover:bg-yellow-600":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-white"}`,children:w?T.jsx(cye,{className:"w-5 h-5"}):T.jsx(EJ,{className:"w-5 h-5"})}),T.jsx("button",{onClick:I,className:`p-2 rounded-full transition-colors ${E?"bg-green-500 text-white hover:bg-green-600":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-white"}`,children:E?T.jsx(iye,{className:"w-5 h-5"}):T.jsx(xJ,{className:"w-5 h-5"})})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("textarea",{className:"w-full p-2 border rounded bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white",rows:"3",placeholder:"Write your comment here...",value:i,onChange:z=>a(z.target.value),disabled:s}),T.jsx("div",{className:"flex justify-end items-center mt-2",children:T.jsx("button",{onClick:()=>q(null),disabled:s,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded disabled:opacity-50",children:s?"Posting...":"Post Comment"})})]}),u?T.jsx("p",{children:"Loading comments..."}):e.length===0?T.jsx("p",{className:"text-gray-400",children:"No comments yet."}):j([...e].sort((z,B)=>new Date(B.created_at)-new Date(z.created_at)))]})},C8e=({articleUrl:r,articleTitle:e})=>{const n=encodeURIComponent(r),i=encodeURIComponent(e),a=async()=>{try{await navigator.clipboard.writeText(r),alert("Link copied to clipboard! You can paste it anywhere, including Instagram.")}catch(o){console.error("Failed to copy link:",o)}},s=[{name:"Facebook",url:`https://www.facebook.com/sharer/sharer.php?u=${n}`,icon:"/icons/facebook.svg"},{name:"X",url:`https://twitter.com/intent/tweet?text=${i}&url=${n}`,icon:"/icons/x.svg"},{name:"Reddit",url:`https://www.reddit.com/submit?url=${n}&title=${i}`,icon:"/icons/reddit.svg"},{name:"LinkedIn",url:`https://www.linkedin.com/shareArticle?mini=true&url=${n}&title=${i}`,icon:"/icons/linkedin.svg"},{name:"WhatsApp",url:`https://wa.me/?text=${i}%20${n}`,icon:"/icons/whatsapp.svg"}];return T.jsxs("div",{className:"flex flex-wrap gap-4 mt-6",children:[s.map(o=>T.jsxs("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 bg-gray-100 dark:bg-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:[T.jsx("img",{src:o.icon,alt:o.name,className:"w-5 h-5"}),T.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:o.name})]},o.name)),T.jsxs("button",{onClick:a,className:"flex items-center space-x-2 bg-pink-400 dark:bg-pink-600 px-4 py-2 rounded-lg hover:bg-pink-500 dark:hover:bg-pink-700 transition-colors",children:[T.jsx("img",{src:"/icons/instagram.svg",alt:"Instagram",className:"w-5 h-5"}),T.jsx("span",{className:"text-sm font-medium text-white",children:"Instagram"})]}),T.jsx("button",{onClick:a,className:"flex items-center space-x-2 bg-blue-100 dark:bg-blue-700 px-4 py-2 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-600 transition-colors",children:T.jsx("span",{className:"text-sm font-medium text-blue-700 dark:text-white",children:"Copy Link"})})]})};function Pre(r){var e,n,i="";if(typeof r=="string"||typeof r=="number")i+=r;else if(typeof r=="object")if(Array.isArray(r)){var a=r.length;for(e=0;e<a;e++)r[e]&&(n=Pre(r[e]))&&(i&&(i+=" "),i+=n)}else for(n in r)r[n]&&(i&&(i+=" "),i+=n);return i}function ar(){for(var r,e,n=0,i="",a=arguments.length;n<a;n++)(r=arguments[n])&&(e=Pre(r))&&(i&&(i+=" "),i+=e);return i}var wk,Jq;function va(){if(Jq)return wk;Jq=1;var r=Array.isArray;return wk=r,wk}var _k,Zq;function Ore(){if(Zq)return _k;Zq=1;var r=typeof ca=="object"&&ca&&ca.Object===Object&&ca;return _k=r,_k}var xk,Qq;function ac(){if(Qq)return xk;Qq=1;var r=Ore(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=r||e||Function("return this")();return xk=n,xk}var Ek,ez;function Mb(){if(ez)return Ek;ez=1;var r=ac(),e=r.Symbol;return Ek=e,Ek}var Sk,tz;function A8e(){if(tz)return Sk;tz=1;var r=Mb(),e=Object.prototype,n=e.hasOwnProperty,i=e.toString,a=r?r.toStringTag:void 0;function s(o){var c=n.call(o,a),l=o[a];try{o[a]=void 0;var u=!0}catch{}var d=i.call(o);return u&&(c?o[a]=l:delete o[a]),d}return Sk=s,Sk}var Ck,rz;function T8e(){if(rz)return Ck;rz=1;var r=Object.prototype,e=r.toString;function n(i){return e.call(i)}return Ck=n,Ck}var Ak,nz;function wl(){if(nz)return Ak;nz=1;var r=Mb(),e=A8e(),n=T8e(),i="[object Null]",a="[object Undefined]",s=r?r.toStringTag:void 0;function o(c){return c==null?c===void 0?a:i:s&&s in Object(c)?e(c):n(c)}return Ak=o,Ak}var Tk,iz;function _l(){if(iz)return Tk;iz=1;function r(e){return e!=null&&typeof e=="object"}return Tk=r,Tk}var kk,az;function qg(){if(az)return kk;az=1;var r=wl(),e=_l(),n="[object Symbol]";function i(a){return typeof a=="symbol"||e(a)&&r(a)==n}return kk=i,kk}var Pk,sz;function l5(){if(sz)return Pk;sz=1;var r=va(),e=qg(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function a(s,o){if(r(s))return!1;var c=typeof s;return c=="number"||c=="symbol"||c=="boolean"||s==null||e(s)?!0:i.test(s)||!n.test(s)||o!=null&&s in Object(o)}return Pk=a,Pk}var Ok,oz;function Hu(){if(oz)return Ok;oz=1;function r(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return Ok=r,Ok}var Nk,cz;function u5(){if(cz)return Nk;cz=1;var r=wl(),e=Hu(),n="[object AsyncFunction]",i="[object Function]",a="[object GeneratorFunction]",s="[object Proxy]";function o(c){if(!e(c))return!1;var l=r(c);return l==i||l==a||l==n||l==s}return Nk=o,Nk}var Ik,lz;function k8e(){if(lz)return Ik;lz=1;var r=ac(),e=r["__core-js_shared__"];return Ik=e,Ik}var Rk,uz;function P8e(){if(uz)return Rk;uz=1;var r=k8e(),e=function(){var i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function n(i){return!!e&&e in i}return Rk=n,Rk}var $k,dz;function Nre(){if(dz)return $k;dz=1;var r=Function.prototype,e=r.toString;function n(i){if(i!=null){try{return e.call(i)}catch{}try{return i+""}catch{}}return""}return $k=n,$k}var jk,fz;function O8e(){if(fz)return jk;fz=1;var r=u5(),e=P8e(),n=Hu(),i=Nre(),a=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,c=Object.prototype,l=o.toString,u=c.hasOwnProperty,d=RegExp("^"+l.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(p){if(!n(p)||e(p))return!1;var m=r(p)?d:s;return m.test(i(p))}return jk=f,jk}var Dk,hz;function N8e(){if(hz)return Dk;hz=1;function r(e,n){return e==null?void 0:e[n]}return Dk=r,Dk}var Mk,pz;function qf(){if(pz)return Mk;pz=1;var r=O8e(),e=N8e();function n(i,a){var s=e(i,a);return r(s)?s:void 0}return Mk=n,Mk}var Lk,gz;function tC(){if(gz)return Lk;gz=1;var r=qf(),e=r(Object,"create");return Lk=e,Lk}var Uk,mz;function I8e(){if(mz)return Uk;mz=1;var r=tC();function e(){this.__data__=r?r(null):{},this.size=0}return Uk=e,Uk}var Bk,yz;function R8e(){if(yz)return Bk;yz=1;function r(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return Bk=r,Bk}var Fk,vz;function $8e(){if(vz)return Fk;vz=1;var r=tC(),e="__lodash_hash_undefined__",n=Object.prototype,i=n.hasOwnProperty;function a(s){var o=this.__data__;if(r){var c=o[s];return c===e?void 0:c}return i.call(o,s)?o[s]:void 0}return Fk=a,Fk}var qk,bz;function j8e(){if(bz)return qk;bz=1;var r=tC(),e=Object.prototype,n=e.hasOwnProperty;function i(a){var s=this.__data__;return r?s[a]!==void 0:n.call(s,a)}return qk=i,qk}var zk,wz;function D8e(){if(wz)return zk;wz=1;var r=tC(),e="__lodash_hash_undefined__";function n(i,a){var s=this.__data__;return this.size+=this.has(i)?0:1,s[i]=r&&a===void 0?e:a,this}return zk=n,zk}var Hk,_z;function M8e(){if(_z)return Hk;_z=1;var r=I8e(),e=R8e(),n=$8e(),i=j8e(),a=D8e();function s(o){var c=-1,l=o==null?0:o.length;for(this.clear();++c<l;){var u=o[c];this.set(u[0],u[1])}}return s.prototype.clear=r,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=i,s.prototype.set=a,Hk=s,Hk}var Wk,xz;function L8e(){if(xz)return Wk;xz=1;function r(){this.__data__=[],this.size=0}return Wk=r,Wk}var Vk,Ez;function d5(){if(Ez)return Vk;Ez=1;function r(e,n){return e===n||e!==e&&n!==n}return Vk=r,Vk}var Gk,Sz;function rC(){if(Sz)return Gk;Sz=1;var r=d5();function e(n,i){for(var a=n.length;a--;)if(r(n[a][0],i))return a;return-1}return Gk=e,Gk}var Kk,Cz;function U8e(){if(Cz)return Kk;Cz=1;var r=rC(),e=Array.prototype,n=e.splice;function i(a){var s=this.__data__,o=r(s,a);if(o<0)return!1;var c=s.length-1;return o==c?s.pop():n.call(s,o,1),--this.size,!0}return Kk=i,Kk}var Yk,Az;function B8e(){if(Az)return Yk;Az=1;var r=rC();function e(n){var i=this.__data__,a=r(i,n);return a<0?void 0:i[a][1]}return Yk=e,Yk}var Xk,Tz;function F8e(){if(Tz)return Xk;Tz=1;var r=rC();function e(n){return r(this.__data__,n)>-1}return Xk=e,Xk}var Jk,kz;function q8e(){if(kz)return Jk;kz=1;var r=rC();function e(n,i){var a=this.__data__,s=r(a,n);return s<0?(++this.size,a.push([n,i])):a[s][1]=i,this}return Jk=e,Jk}var Zk,Pz;function nC(){if(Pz)return Zk;Pz=1;var r=L8e(),e=U8e(),n=B8e(),i=F8e(),a=q8e();function s(o){var c=-1,l=o==null?0:o.length;for(this.clear();++c<l;){var u=o[c];this.set(u[0],u[1])}}return s.prototype.clear=r,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=i,s.prototype.set=a,Zk=s,Zk}var Qk,Oz;function f5(){if(Oz)return Qk;Oz=1;var r=qf(),e=ac(),n=r(e,"Map");return Qk=n,Qk}var eP,Nz;function z8e(){if(Nz)return eP;Nz=1;var r=M8e(),e=nC(),n=f5();function i(){this.size=0,this.__data__={hash:new r,map:new(n||e),string:new r}}return eP=i,eP}var tP,Iz;function H8e(){if(Iz)return tP;Iz=1;function r(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return tP=r,tP}var rP,Rz;function iC(){if(Rz)return rP;Rz=1;var r=H8e();function e(n,i){var a=n.__data__;return r(i)?a[typeof i=="string"?"string":"hash"]:a.map}return rP=e,rP}var nP,$z;function W8e(){if($z)return nP;$z=1;var r=iC();function e(n){var i=r(this,n).delete(n);return this.size-=i?1:0,i}return nP=e,nP}var iP,jz;function V8e(){if(jz)return iP;jz=1;var r=iC();function e(n){return r(this,n).get(n)}return iP=e,iP}var aP,Dz;function G8e(){if(Dz)return aP;Dz=1;var r=iC();function e(n){return r(this,n).has(n)}return aP=e,aP}var sP,Mz;function K8e(){if(Mz)return sP;Mz=1;var r=iC();function e(n,i){var a=r(this,n),s=a.size;return a.set(n,i),this.size+=a.size==s?0:1,this}return sP=e,sP}var oP,Lz;function h5(){if(Lz)return oP;Lz=1;var r=z8e(),e=W8e(),n=V8e(),i=G8e(),a=K8e();function s(o){var c=-1,l=o==null?0:o.length;for(this.clear();++c<l;){var u=o[c];this.set(u[0],u[1])}}return s.prototype.clear=r,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=i,s.prototype.set=a,oP=s,oP}var cP,Uz;function Ire(){if(Uz)return cP;Uz=1;var r=h5(),e="Expected a function";function n(i,a){if(typeof i!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var s=function(){var o=arguments,c=a?a.apply(this,o):o[0],l=s.cache;if(l.has(c))return l.get(c);var u=i.apply(this,o);return s.cache=l.set(c,u)||l,u};return s.cache=new(n.Cache||r),s}return n.Cache=r,cP=n,cP}var lP,Bz;function Y8e(){if(Bz)return lP;Bz=1;var r=Ire(),e=500;function n(i){var a=r(i,function(o){return s.size===e&&s.clear(),o}),s=a.cache;return a}return lP=n,lP}var uP,Fz;function X8e(){if(Fz)return uP;Fz=1;var r=Y8e(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,i=r(function(a){var s=[];return a.charCodeAt(0)===46&&s.push(""),a.replace(e,function(o,c,l,u){s.push(l?u.replace(n,"$1"):c||o)}),s});return uP=i,uP}var dP,qz;function p5(){if(qz)return dP;qz=1;function r(e,n){for(var i=-1,a=e==null?0:e.length,s=Array(a);++i<a;)s[i]=n(e[i],i,e);return s}return dP=r,dP}var fP,zz;function J8e(){if(zz)return fP;zz=1;var r=Mb(),e=p5(),n=va(),i=qg(),a=r?r.prototype:void 0,s=a?a.toString:void 0;function o(c){if(typeof c=="string")return c;if(n(c))return e(c,o)+"";if(i(c))return s?s.call(c):"";var l=c+"";return l=="0"&&1/c==-1/0?"-0":l}return fP=o,fP}var hP,Hz;function Rre(){if(Hz)return hP;Hz=1;var r=J8e();function e(n){return n==null?"":r(n)}return hP=e,hP}var pP,Wz;function $re(){if(Wz)return pP;Wz=1;var r=va(),e=l5(),n=X8e(),i=Rre();function a(s,o){return r(s)?s:e(s,o)?[s]:n(i(s))}return pP=a,pP}var gP,Vz;function aC(){if(Vz)return gP;Vz=1;var r=qg();function e(n){if(typeof n=="string"||r(n))return n;var i=n+"";return i=="0"&&1/n==-1/0?"-0":i}return gP=e,gP}var mP,Gz;function g5(){if(Gz)return mP;Gz=1;var r=$re(),e=aC();function n(i,a){a=r(a,i);for(var s=0,o=a.length;i!=null&&s<o;)i=i[e(a[s++])];return s&&s==o?i:void 0}return mP=n,mP}var yP,Kz;function jre(){if(Kz)return yP;Kz=1;var r=g5();function e(n,i,a){var s=n==null?void 0:r(n,i);return s===void 0?a:s}return yP=e,yP}var Z8e=jre();const vs=Jt(Z8e);var vP,Yz;function Q8e(){if(Yz)return vP;Yz=1;function r(e){return e==null}return vP=r,vP}var eUe=Q8e();const Ht=Jt(eUe);var bP,Xz;function tUe(){if(Xz)return bP;Xz=1;var r=wl(),e=va(),n=_l(),i="[object String]";function a(s){return typeof s=="string"||!e(s)&&n(s)&&r(s)==i}return bP=a,bP}var rUe=tUe();const Cf=Jt(rUe);var nUe=u5();const jt=Jt(nUe);var iUe=Hu();const zg=Jt(iUe);var wP={exports:{}},lr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jz;function aUe(){if(Jz)return lr;Jz=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),y;y=Symbol.for("react.module.reference");function v(b){if(typeof b=="object"&&b!==null){var w=b.$$typeof;switch(w){case r:switch(b=b.type,b){case n:case a:case i:case u:case d:return b;default:switch(b=b&&b.$$typeof,b){case c:case o:case l:case p:case f:case s:return b;default:return w}}case e:return w}}}return lr.ContextConsumer=o,lr.ContextProvider=s,lr.Element=r,lr.ForwardRef=l,lr.Fragment=n,lr.Lazy=p,lr.Memo=f,lr.Portal=e,lr.Profiler=a,lr.StrictMode=i,lr.Suspense=u,lr.SuspenseList=d,lr.isAsyncMode=function(){return!1},lr.isConcurrentMode=function(){return!1},lr.isContextConsumer=function(b){return v(b)===o},lr.isContextProvider=function(b){return v(b)===s},lr.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===r},lr.isForwardRef=function(b){return v(b)===l},lr.isFragment=function(b){return v(b)===n},lr.isLazy=function(b){return v(b)===p},lr.isMemo=function(b){return v(b)===f},lr.isPortal=function(b){return v(b)===e},lr.isProfiler=function(b){return v(b)===a},lr.isStrictMode=function(b){return v(b)===i},lr.isSuspense=function(b){return v(b)===u},lr.isSuspenseList=function(b){return v(b)===d},lr.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===n||b===a||b===i||b===u||b===d||b===m||typeof b=="object"&&b!==null&&(b.$$typeof===p||b.$$typeof===f||b.$$typeof===s||b.$$typeof===o||b.$$typeof===l||b.$$typeof===y||b.getModuleId!==void 0)},lr.typeOf=v,lr}var Zz;function sUe(){return Zz||(Zz=1,wP.exports=aUe()),wP.exports}var oUe=sUe(),_P,Qz;function Dre(){if(Qz)return _P;Qz=1;var r=wl(),e=_l(),n="[object Number]";function i(a){return typeof a=="number"||e(a)&&r(a)==n}return _P=i,_P}var xP,e7;function cUe(){if(e7)return xP;e7=1;var r=Dre();function e(n){return r(n)&&n!=+n}return xP=e,xP}var lUe=cUe();const Lb=Jt(lUe);var uUe=Dre();const dUe=Jt(uUe);var no=function(e){return e===0?0:e>0?1:-1},Bd=function(e){return Cf(e)&&e.indexOf("%")===e.length-1},De=function(e){return dUe(e)&&!Lb(e)},Rn=function(e){return De(e)||Cf(e)},fUe=0,Ub=function(e){var n=++fUe;return"".concat(e||"").concat(n)},Af=function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!De(e)&&!Cf(e))return i;var s;if(Bd(e)){var o=e.indexOf("%");s=n*parseFloat(e.slice(0,o))/100}else s=+e;return Lb(s)&&(s=i),a&&s>n&&(s=n),s},pu=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},hUe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,i={},a=0;a<n;a++)if(!i[e[a]])i[e[a]]=!0;else return!0;return!1},Xs=function(e,n){return De(e)&&De(n)?function(i){return e+i*(n-e)}:function(){return n}};function Mx(r,e,n){return!r||!r.length?null:r.find(function(i){return i&&(typeof e=="function"?e(i):vs(i,e))===n})}var pUe=function(e,n){return De(e)&&De(n)?e-n:Cf(e)&&Cf(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function mp(r,e){for(var n in r)if({}.hasOwnProperty.call(r,n)&&(!{}.hasOwnProperty.call(e,n)||r[n]!==e[n]))return!1;for(var i in e)if({}.hasOwnProperty.call(e,i)&&!{}.hasOwnProperty.call(r,i))return!1;return!0}function V$(r){"@babel/helpers - typeof";return V$=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V$(r)}var gUe=["viewBox","children"],mUe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],t7=["points","pathLength"],EP={svg:gUe,polygon:t7,polyline:t7},m5=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Lx=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(U.isValidElement(e)&&(i=e.props),!zg(i))return null;var a={};return Object.keys(i).forEach(function(s){m5.includes(s)&&(a[s]=n||function(o){return i[s](i,o)})}),a},yUe=function(e,n,i){return function(a){return e(n,i,a),null}},Ux=function(e,n,i){if(!zg(e)||V$(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(s){var o=e[s];m5.includes(s)&&typeof o=="function"&&(a||(a={}),a[s]=yUe(o,n,i))}),a},vUe=["children"],bUe=["children"];function r7(r,e){if(r==null)return{};var n=wUe(r,e),i,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(a=0;a<s.length;a++)i=s[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(r,i)&&(n[i]=r[i])}return n}function wUe(r,e){if(r==null)return{};var n={};for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){if(e.indexOf(i)>=0)continue;n[i]=r[i]}return n}function G$(r){"@babel/helpers - typeof";return G$=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G$(r)}var n7={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},el=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},i7=null,SP=null,y5=function r(e){if(e===i7&&Array.isArray(SP))return SP;var n=[];return U.Children.forEach(e,function(i){Ht(i)||(oUe.isFragment(i)?n=n.concat(r(i.props.children)):n.push(i))}),SP=n,i7=e,n};function bs(r,e){var n=[],i=[];return Array.isArray(e)?i=e.map(function(a){return el(a)}):i=[el(e)],y5(r).forEach(function(a){var s=vs(a,"type.displayName")||vs(a,"type.name");i.indexOf(s)!==-1&&n.push(a)}),n}function $a(r,e){var n=bs(r,e);return n&&n[0]}var a7=function(e){if(!e||!e.props)return!1;var n=e.props,i=n.width,a=n.height;return!(!De(i)||i<=0||!De(a)||a<=0)},_Ue=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],xUe=function(e){return e&&e.type&&Cf(e.type)&&_Ue.indexOf(e.type)>=0},EUe=function(e){return e&&G$(e)==="object"&&"clipDot"in e},SUe=function(e,n,i,a){var s,o=(s=EP==null?void 0:EP[a])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!jt(e)&&(a&&o.includes(n)||mUe.includes(n))||i&&m5.includes(n)},Xt=function(e,n,i){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(U.isValidElement(e)&&(a=e.props),!zg(a))return null;var s={};return Object.keys(a).forEach(function(o){var c;SUe((c=a)===null||c===void 0?void 0:c[o],o,n,i)&&(s[o]=a[o])}),s},K$=function r(e,n){if(e===n)return!0;var i=U.Children.count(e);if(i!==U.Children.count(n))return!1;if(i===0)return!0;if(i===1)return s7(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var a=0;a<i;a++){var s=e[a],o=n[a];if(Array.isArray(s)||Array.isArray(o)){if(!r(s,o))return!1}else if(!s7(s,o))return!1}return!0},s7=function(e,n){if(Ht(e)&&Ht(n))return!0;if(!Ht(e)&&!Ht(n)){var i=e.props||{},a=i.children,s=r7(i,vUe),o=n.props||{},c=o.children,l=r7(o,bUe);return a&&c?mp(s,l)&&K$(a,c):!a&&!c?mp(s,l):!1}return!1},o7=function(e,n){var i=[],a={};return y5(e).forEach(function(s,o){if(xUe(s))i.push(s);else if(s){var c=el(s.type),l=n[c]||{},u=l.handler,d=l.once;if(u&&(!d||!a[c])){var f=u(s,c,o);i.push(f),a[c]=!0}}}),i},CUe=function(e){var n=e&&e.type;return n&&n7[n]?n7[n]:null},AUe=function(e,n){return y5(n).indexOf(e)},TUe=["children","width","height","viewBox","className","style","title","desc"];function Y$(){return Y$=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},Y$.apply(this,arguments)}function kUe(r,e){if(r==null)return{};var n=PUe(r,e),i,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(a=0;a<s.length;a++)i=s[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(r,i)&&(n[i]=r[i])}return n}function PUe(r,e){if(r==null)return{};var n={};for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){if(e.indexOf(i)>=0)continue;n[i]=r[i]}return n}function X$(r){var e=r.children,n=r.width,i=r.height,a=r.viewBox,s=r.className,o=r.style,c=r.title,l=r.desc,u=kUe(r,TUe),d=a||{width:n,height:i,x:0,y:0},f=ar("recharts-surface",s);return ee.createElement("svg",Y$({},Xt(u,!0,"svg"),{className:f,width:n,height:i,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),ee.createElement("title",null,c),ee.createElement("desc",null,l),e)}var OUe=["children","className"];function J$(){return J$=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},J$.apply(this,arguments)}function NUe(r,e){if(r==null)return{};var n=IUe(r,e),i,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(a=0;a<s.length;a++)i=s[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(r,i)&&(n[i]=r[i])}return n}function IUe(r,e){if(r==null)return{};var n={};for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){if(e.indexOf(i)>=0)continue;n[i]=r[i]}return n}var gn=ee.forwardRef(function(r,e){var n=r.children,i=r.className,a=NUe(r,OUe),s=ar("recharts-layer",i);return ee.createElement("g",J$({className:s},Xt(a,!0),{ref:e}),n)}),tl=function(e,n){for(var i=arguments.length,a=new Array(i>2?i-2:0),s=2;s<i;s++)a[s-2]=arguments[s]},CP,c7;function RUe(){if(c7)return CP;c7=1;function r(e,n,i){var a=-1,s=e.length;n<0&&(n=-n>s?0:s+n),i=i>s?s:i,i<0&&(i+=s),s=n>i?0:i-n>>>0,n>>>=0;for(var o=Array(s);++a<s;)o[a]=e[a+n];return o}return CP=r,CP}var AP,l7;function $Ue(){if(l7)return AP;l7=1;var r=RUe();function e(n,i,a){var s=n.length;return a=a===void 0?s:a,!i&&a>=s?n:r(n,i,a)}return AP=e,AP}var TP,u7;function Mre(){if(u7)return TP;u7=1;var r="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",i="\\u20d0-\\u20ff",a=e+n+i,s="\\ufe0e\\ufe0f",o="\\u200d",c=RegExp("["+o+r+a+s+"]");function l(u){return c.test(u)}return TP=l,TP}var kP,d7;function jUe(){if(d7)return kP;d7=1;function r(e){return e.split("")}return kP=r,kP}var PP,f7;function DUe(){if(f7)return PP;f7=1;var r="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",i="\\u20d0-\\u20ff",a=e+n+i,s="\\ufe0e\\ufe0f",o="["+r+"]",c="["+a+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+c+"|"+l+")",d="[^"+r+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",m="\\u200d",y=u+"?",v="["+s+"]?",b="(?:"+m+"(?:"+[d,f,p].join("|")+")"+v+y+")*",w=v+y+b,x="(?:"+[d+c+"?",c,f,p,o].join("|")+")",E=RegExp(l+"(?="+l+")|"+x+w,"g");function A(S){return S.match(E)||[]}return PP=A,PP}var OP,h7;function MUe(){if(h7)return OP;h7=1;var r=jUe(),e=Mre(),n=DUe();function i(a){return e(a)?n(a):r(a)}return OP=i,OP}var NP,p7;function LUe(){if(p7)return NP;p7=1;var r=$Ue(),e=Mre(),n=MUe(),i=Rre();function a(s){return function(o){o=i(o);var c=e(o)?n(o):void 0,l=c?c[0]:o.charAt(0),u=c?r(c,1).join(""):o.slice(1);return l[s]()+u}}return NP=a,NP}var IP,g7;function UUe(){if(g7)return IP;g7=1;var r=LUe(),e=r("toUpperCase");return IP=e,IP}var BUe=UUe();const sC=Jt(BUe);function Nr(r){return function(){return r}}const Lre=Math.cos,Bx=Math.sin,fo=Math.sqrt,Fx=Math.PI,oC=2*Fx,Z$=Math.PI,Q$=2*Z$,Ed=1e-6,FUe=Q$-Ed;function Ure(r){this._+=r[0];for(let e=1,n=r.length;e<n;++e)this._+=arguments[e]+r[e]}function qUe(r){let e=Math.floor(r);if(!(e>=0))throw new Error(`invalid digits: ${r}`);if(e>15)return Ure;const n=10**e;return function(i){this._+=i[0];for(let a=1,s=i.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}class zUe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Ure:qUe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,a){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+a}`}bezierCurveTo(e,n,i,a,s,o){this._append`C${+e},${+n},${+i},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,i,a,s){if(e=+e,n=+n,i=+i,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,c=this._y1,l=i-e,u=a-n,d=o-e,f=c-n,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>Ed)if(!(Math.abs(f*l-u*d)>Ed)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let m=i-o,y=a-c,v=l*l+u*u,b=m*m+y*y,w=Math.sqrt(v),x=Math.sqrt(p),E=s*Math.tan((Z$-Math.acos((v+p-b)/(2*w*x)))/2),A=E/x,S=E/w;Math.abs(A-1)>Ed&&this._append`L${e+A*d},${n+A*f}`,this._append`A${s},${s},0,0,${+(f*m>d*y)},${this._x1=e+S*l},${this._y1=n+S*u}`}}arc(e,n,i,a,s,o){if(e=+e,n=+n,i=+i,o=!!o,i<0)throw new Error(`negative radius: ${i}`);let c=i*Math.cos(a),l=i*Math.sin(a),u=e+c,d=n+l,f=1^o,p=o?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ed||Math.abs(this._y1-d)>Ed)&&this._append`L${u},${d}`,i&&(p<0&&(p=p%Q$+Q$),p>FUe?this._append`A${i},${i},0,1,${f},${e-c},${n-l}A${i},${i},0,1,${f},${this._x1=u},${this._y1=d}`:p>Ed&&this._append`A${i},${i},0,${+(p>=Z$)},${f},${this._x1=e+i*Math.cos(s)},${this._y1=n+i*Math.sin(s)}`)}rect(e,n,i,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+a}h${-i}Z`}toString(){return this._}}function v5(r){let e=3;return r.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);e=i}return r},()=>new zUe(e)}function b5(r){return typeof r=="object"&&"length"in r?r:Array.from(r)}function Bre(r){this._context=r}Bre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;default:this._context.lineTo(r,e);break}}};function cC(r){return new Bre(r)}function Fre(r){return r[0]}function qre(r){return r[1]}function zre(r,e){var n=Nr(!0),i=null,a=cC,s=null,o=v5(c);r=typeof r=="function"?r:r===void 0?Fre:Nr(r),e=typeof e=="function"?e:e===void 0?qre:Nr(e);function c(l){var u,d=(l=b5(l)).length,f,p=!1,m;for(i==null&&(s=a(m=o())),u=0;u<=d;++u)!(u<d&&n(f=l[u],u,l))===p&&((p=!p)?s.lineStart():s.lineEnd()),p&&s.point(+r(f,u,l),+e(f,u,l));if(m)return s=null,m+""||null}return c.x=function(l){return arguments.length?(r=typeof l=="function"?l:Nr(+l),c):r},c.y=function(l){return arguments.length?(e=typeof l=="function"?l:Nr(+l),c):e},c.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Nr(!!l),c):n},c.curve=function(l){return arguments.length?(a=l,i!=null&&(s=a(i)),c):a},c.context=function(l){return arguments.length?(l==null?i=s=null:s=a(i=l),c):i},c}function G1(r,e,n){var i=null,a=Nr(!0),s=null,o=cC,c=null,l=v5(u);r=typeof r=="function"?r:r===void 0?Fre:Nr(+r),e=typeof e=="function"?e:Nr(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?qre:Nr(+n);function u(f){var p,m,y,v=(f=b5(f)).length,b,w=!1,x,E=new Array(v),A=new Array(v);for(s==null&&(c=o(x=l())),p=0;p<=v;++p){if(!(p<v&&a(b=f[p],p,f))===w)if(w=!w)m=p,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),y=p-1;y>=m;--y)c.point(E[y],A[y]);c.lineEnd(),c.areaEnd()}w&&(E[p]=+r(b,p,f),A[p]=+e(b,p,f),c.point(i?+i(b,p,f):E[p],n?+n(b,p,f):A[p]))}if(x)return c=null,x+""||null}function d(){return zre().defined(a).curve(o).context(s)}return u.x=function(f){return arguments.length?(r=typeof f=="function"?f:Nr(+f),i=null,u):r},u.x0=function(f){return arguments.length?(r=typeof f=="function"?f:Nr(+f),u):r},u.x1=function(f){return arguments.length?(i=f==null?null:typeof f=="function"?f:Nr(+f),u):i},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Nr(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Nr(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Nr(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(r).y(e)},u.lineY1=function(){return d().x(r).y(n)},u.lineX1=function(){return d().x(i).y(e)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Nr(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,s!=null&&(c=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=c=null:c=o(s=f),u):s},u}class Hre{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function HUe(r){return new Hre(r,!0)}function WUe(r){return new Hre(r,!1)}const w5={draw(r,e){const n=fo(e/Fx);r.moveTo(n,0),r.arc(0,0,n,0,oC)}},VUe={draw(r,e){const n=fo(e/5)/2;r.moveTo(-3*n,-n),r.lineTo(-n,-n),r.lineTo(-n,-3*n),r.lineTo(n,-3*n),r.lineTo(n,-n),r.lineTo(3*n,-n),r.lineTo(3*n,n),r.lineTo(n,n),r.lineTo(n,3*n),r.lineTo(-n,3*n),r.lineTo(-n,n),r.lineTo(-3*n,n),r.closePath()}},Wre=fo(1/3),GUe=Wre*2,KUe={draw(r,e){const n=fo(e/GUe),i=n*Wre;r.moveTo(0,-n),r.lineTo(i,0),r.lineTo(0,n),r.lineTo(-i,0),r.closePath()}},YUe={draw(r,e){const n=fo(e),i=-n/2;r.rect(i,i,n,n)}},XUe=.8908130915292852,Vre=Bx(Fx/10)/Bx(7*Fx/10),JUe=Bx(oC/10)*Vre,ZUe=-Lre(oC/10)*Vre,QUe={draw(r,e){const n=fo(e*XUe),i=JUe*n,a=ZUe*n;r.moveTo(0,-n),r.lineTo(i,a);for(let s=1;s<5;++s){const o=oC*s/5,c=Lre(o),l=Bx(o);r.lineTo(l*n,-c*n),r.lineTo(c*i-l*a,l*i+c*a)}r.closePath()}},RP=fo(3),eBe={draw(r,e){const n=-fo(e/(RP*3));r.moveTo(0,n*2),r.lineTo(-RP*n,-n),r.lineTo(RP*n,-n),r.closePath()}},es=-.5,ts=fo(3)/2,ej=1/fo(12),tBe=(ej/2+1)*3,rBe={draw(r,e){const n=fo(e/tBe),i=n/2,a=n*ej,s=i,o=n*ej+n,c=-s,l=o;r.moveTo(i,a),r.lineTo(s,o),r.lineTo(c,l),r.lineTo(es*i-ts*a,ts*i+es*a),r.lineTo(es*s-ts*o,ts*s+es*o),r.lineTo(es*c-ts*l,ts*c+es*l),r.lineTo(es*i+ts*a,es*a-ts*i),r.lineTo(es*s+ts*o,es*o-ts*s),r.lineTo(es*c+ts*l,es*l-ts*c),r.closePath()}};function nBe(r,e){let n=null,i=v5(a);r=typeof r=="function"?r:Nr(r||w5),e=typeof e=="function"?e:Nr(e===void 0?64:+e);function a(){let s;if(n||(n=s=i()),r.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return a.type=function(s){return arguments.length?(r=typeof s=="function"?s:Nr(s),a):r},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:Nr(+s),a):e},a.context=function(s){return arguments.length?(n=s??null,a):n},a}function qx(){}function zx(r,e,n){r._context.bezierCurveTo((2*r._x0+r._x1)/3,(2*r._y0+r._y1)/3,(r._x0+2*r._x1)/3,(r._y0+2*r._y1)/3,(r._x0+4*r._x1+e)/6,(r._y0+4*r._y1+n)/6)}function Gre(r){this._context=r}Gre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zx(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function iBe(r){return new Gre(r)}function Kre(r){this._context=r}Kre.prototype={areaStart:qx,areaEnd:qx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._x2=r,this._y2=e;break;case 1:this._point=2,this._x3=r,this._y3=e;break;case 2:this._point=3,this._x4=r,this._y4=e,this._context.moveTo((this._x0+4*this._x1+r)/6,(this._y0+4*this._y1+e)/6);break;default:zx(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function aBe(r){return new Kre(r)}function Yre(r){this._context=r}Yre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+r)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:zx(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function sBe(r){return new Yre(r)}function Xre(r){this._context=r}Xre.prototype={areaStart:qx,areaEnd:qx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(r,e){r=+r,e=+e,this._point?this._context.lineTo(r,e):(this._point=1,this._context.moveTo(r,e))}};function oBe(r){return new Xre(r)}function m7(r){return r<0?-1:1}function y7(r,e,n){var i=r._x1-r._x0,a=e-r._x1,s=(r._y1-r._y0)/(i||a<0&&-0),o=(n-r._y1)/(a||i<0&&-0),c=(s*a+o*i)/(i+a);return(m7(s)+m7(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(c))||0}function v7(r,e){var n=r._x1-r._x0;return n?(3*(r._y1-r._y0)/n-e)/2:e}function $P(r,e,n){var i=r._x0,a=r._y0,s=r._x1,o=r._y1,c=(s-i)/3;r._context.bezierCurveTo(i+c,a+c*e,s-c,o-c*n,s,o)}function Hx(r){this._context=r}Hx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$P(this,this._t0,v7(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){var n=NaN;if(r=+r,e=+e,!(r===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;break;case 2:this._point=3,$P(this,v7(this,n=y7(this,r,e)),n);break;default:$P(this,this._t0,n=y7(this,r,e));break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e,this._t0=n}}};function Jre(r){this._context=new Zre(r)}(Jre.prototype=Object.create(Hx.prototype)).point=function(r,e){Hx.prototype.point.call(this,e,r)};function Zre(r){this._context=r}Zre.prototype={moveTo:function(r,e){this._context.moveTo(e,r)},closePath:function(){this._context.closePath()},lineTo:function(r,e){this._context.lineTo(e,r)},bezierCurveTo:function(r,e,n,i,a,s){this._context.bezierCurveTo(e,r,i,n,s,a)}};function cBe(r){return new Hx(r)}function lBe(r){return new Jre(r)}function Qre(r){this._context=r}Qre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var r=this._x,e=this._y,n=r.length;if(n)if(this._line?this._context.lineTo(r[0],e[0]):this._context.moveTo(r[0],e[0]),n===2)this._context.lineTo(r[1],e[1]);else for(var i=b7(r),a=b7(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(i[0][s],a[0][s],i[1][s],a[1][s],r[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(r,e){this._x.push(+r),this._y.push(+e)}};function b7(r){var e,n=r.length-1,i,a=new Array(n),s=new Array(n),o=new Array(n);for(a[0]=0,s[0]=2,o[0]=r[0]+2*r[1],e=1;e<n-1;++e)a[e]=1,s[e]=4,o[e]=4*r[e]+2*r[e+1];for(a[n-1]=2,s[n-1]=7,o[n-1]=8*r[n-1]+r[n],e=1;e<n;++e)i=a[e]/s[e-1],s[e]-=i,o[e]-=i*o[e-1];for(a[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)a[e]=(o[e]-a[e+1])/s[e];for(s[n-1]=(r[n]+a[n-1])/2,e=0;e<n-1;++e)s[e]=2*r[e+1]-a[e+1];return[a,s]}function uBe(r){return new Qre(r)}function lC(r,e){this._context=r,this._t=e}lC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(r,e);else{var n=this._x*(1-this._t)+r*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=r,this._y=e}};function dBe(r){return new lC(r,.5)}function fBe(r){return new lC(r,0)}function hBe(r){return new lC(r,1)}function Jp(r,e){if((o=r.length)>1)for(var n=1,i,a,s=r[e[0]],o,c=s.length;n<o;++n)for(a=s,s=r[e[n]],i=0;i<c;++i)s[i][1]+=s[i][0]=isNaN(a[i][1])?a[i][0]:a[i][1]}function tj(r){for(var e=r.length,n=new Array(e);--e>=0;)n[e]=e;return n}function pBe(r,e){return r[e]}function gBe(r){const e=[];return e.key=r,e}function mBe(){var r=Nr([]),e=tj,n=Jp,i=pBe;function a(s){var o=Array.from(r.apply(this,arguments),gBe),c,l=o.length,u=-1,d;for(const f of s)for(c=0,++u;c<l;++c)(o[c][u]=[0,+i(f,o[c].key,u,s)]).data=f;for(c=0,d=b5(e(o));c<l;++c)o[d[c]].index=c;return n(o,d),o}return a.keys=function(s){return arguments.length?(r=typeof s=="function"?s:Nr(Array.from(s)),a):r},a.value=function(s){return arguments.length?(i=typeof s=="function"?s:Nr(+s),a):i},a.order=function(s){return arguments.length?(e=s==null?tj:typeof s=="function"?s:Nr(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(n=s??Jp,a):n},a}function yBe(r,e){if((i=r.length)>0){for(var n,i,a=0,s=r[0].length,o;a<s;++a){for(o=n=0;n<i;++n)o+=r[n][a][1]||0;if(o)for(n=0;n<i;++n)r[n][a][1]/=o}Jp(r,e)}}function vBe(r,e){if((a=r.length)>0){for(var n=0,i=r[e[0]],a,s=i.length;n<s;++n){for(var o=0,c=0;o<a;++o)c+=r[o][n][1]||0;i[n][1]+=i[n][0]=-c/2}Jp(r,e)}}function bBe(r,e){if(!(!((o=r.length)>0)||!((s=(a=r[e[0]]).length)>0))){for(var n=0,i=1,a,s,o;i<s;++i){for(var c=0,l=0,u=0;c<o;++c){for(var d=r[e[c]],f=d[i][1]||0,p=d[i-1][1]||0,m=(f-p)/2,y=0;y<c;++y){var v=r[e[y]],b=v[i][1]||0,w=v[i-1][1]||0;m+=b-w}l+=f,u+=m*f}a[i-1][1]+=a[i-1][0]=n,l&&(n-=u/l)}a[i-1][1]+=a[i-1][0]=n,Jp(r,e)}}function y0(r){"@babel/helpers - typeof";return y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y0(r)}var wBe=["type","size","sizeType"];function rj(){return rj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},rj.apply(this,arguments)}function w7(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function _7(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w7(Object(n),!0).forEach(function(i){_Be(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):w7(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function _Be(r,e,n){return e=xBe(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function xBe(r){var e=EBe(r,"string");return y0(e)=="symbol"?e:e+""}function EBe(r,e){if(y0(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(y0(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function SBe(r,e){if(r==null)return{};var n=CBe(r,e),i,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(a=0;a<s.length;a++)i=s[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(r,i)&&(n[i]=r[i])}return n}function CBe(r,e){if(r==null)return{};var n={};for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){if(e.indexOf(i)>=0)continue;n[i]=r[i]}return n}var ene={symbolCircle:w5,symbolCross:VUe,symbolDiamond:KUe,symbolSquare:YUe,symbolStar:QUe,symbolTriangle:eBe,symbolWye:rBe},ABe=Math.PI/180,TBe=function(e){var n="symbol".concat(sC(e));return ene[n]||w5},kBe=function(e,n,i){if(n==="area")return e;switch(i){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*ABe;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},PBe=function(e,n){ene["symbol".concat(sC(e))]=n},_5=function(e){var n=e.type,i=n===void 0?"circle":n,a=e.size,s=a===void 0?64:a,o=e.sizeType,c=o===void 0?"area":o,l=SBe(e,wBe),u=_7(_7({},l),{},{type:i,size:s,sizeType:c}),d=function(){var b=TBe(i),w=nBe().type(b).size(kBe(s,c,i));return w()},f=u.className,p=u.cx,m=u.cy,y=Xt(u,!0);return p===+p&&m===+m&&s===+s?ee.createElement("path",rj({},y,{className:ar("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(m,")"),d:d()})):null};_5.registerSymbol=PBe;function Zp(r){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(r)}function nj(){return nj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},nj.apply(this,arguments)}function x7(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function OBe(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x7(Object(n),!0).forEach(function(i){v0(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):x7(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function NBe(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function IBe(r,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,rne(i.key),i)}}function RBe(r,e,n){return e&&IBe(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function $Be(r,e,n){return e=Wx(e),jBe(r,tne()?Reflect.construct(e,n||[],Wx(r).constructor):e.apply(r,n))}function jBe(r,e){if(e&&(Zp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DBe(r)}function DBe(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function tne(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tne=function(){return!!r})()}function Wx(r){return Wx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wx(r)}function MBe(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&ij(r,e)}function ij(r,e){return ij=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,a){return i.__proto__=a,i},ij(r,e)}function v0(r,e,n){return e=rne(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function rne(r){var e=LBe(r,"string");return Zp(e)=="symbol"?e:e+""}function LBe(r,e){if(Zp(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(Zp(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Bs=32,x5=function(r){function e(){return NBe(this,e),$Be(this,e,arguments)}return MBe(e,r),RBe(e,[{key:"renderIcon",value:function(i){var a=this.props.inactiveColor,s=Bs/2,o=Bs/6,c=Bs/3,l=i.inactive?a:i.color;if(i.type==="plainline")return ee.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:i.payload.strokeDasharray,x1:0,y1:s,x2:Bs,y2:s,className:"recharts-legend-icon"});if(i.type==="line")return ee.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(c,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*c,",").concat(s,`
            H`).concat(Bs,"M").concat(2*c,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(c,",").concat(s),className:"recharts-legend-icon"});if(i.type==="rect")return ee.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Bs/8,"h").concat(Bs,"v").concat(Bs*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(ee.isValidElement(i.legendIcon)){var u=OBe({},i);return delete u.legendIcon,ee.cloneElement(i.legendIcon,u)}return ee.createElement(_5,{fill:l,cx:s,cy:s,size:Bs,sizeType:"diameter",type:i.type})}},{key:"renderItems",value:function(){var i=this,a=this.props,s=a.payload,o=a.iconSize,c=a.layout,l=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Bs,height:Bs},f={display:c==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(m,y){var v=m.formatter||l,b=ar(v0(v0({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",m.inactive));if(m.type==="none")return null;var w=jt(m.value)?null:m.value;tl(!jt(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=m.inactive?u:m.color;return ee.createElement("li",nj({className:b,style:f,key:"legend-item-".concat(y)},Ux(i.props,m,y)),ee.createElement(X$,{width:o,height:o,viewBox:d,style:p},i.renderIcon(m)),ee.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},v?v(w,m,y):w))})}},{key:"render",value:function(){var i=this.props,a=i.payload,s=i.layout,o=i.align;if(!a||!a.length)return null;var c={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return ee.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])}(U.PureComponent);v0(x5,"displayName","Legend");v0(x5,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var jP,E7;function UBe(){if(E7)return jP;E7=1;var r=nC();function e(){this.__data__=new r,this.size=0}return jP=e,jP}var DP,S7;function BBe(){if(S7)return DP;S7=1;function r(e){var n=this.__data__,i=n.delete(e);return this.size=n.size,i}return DP=r,DP}var MP,C7;function FBe(){if(C7)return MP;C7=1;function r(e){return this.__data__.get(e)}return MP=r,MP}var LP,A7;function qBe(){if(A7)return LP;A7=1;function r(e){return this.__data__.has(e)}return LP=r,LP}var UP,T7;function zBe(){if(T7)return UP;T7=1;var r=nC(),e=f5(),n=h5(),i=200;function a(s,o){var c=this.__data__;if(c instanceof r){var l=c.__data__;if(!e||l.length<i-1)return l.push([s,o]),this.size=++c.size,this;c=this.__data__=new n(l)}return c.set(s,o),this.size=c.size,this}return UP=a,UP}var BP,k7;function nne(){if(k7)return BP;k7=1;var r=nC(),e=UBe(),n=BBe(),i=FBe(),a=qBe(),s=zBe();function o(c){var l=this.__data__=new r(c);this.size=l.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=i,o.prototype.has=a,o.prototype.set=s,BP=o,BP}var FP,P7;function HBe(){if(P7)return FP;P7=1;var r="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,r),this}return FP=e,FP}var qP,O7;function WBe(){if(O7)return qP;O7=1;function r(e){return this.__data__.has(e)}return qP=r,qP}var zP,N7;function ine(){if(N7)return zP;N7=1;var r=h5(),e=HBe(),n=WBe();function i(a){var s=-1,o=a==null?0:a.length;for(this.__data__=new r;++s<o;)this.add(a[s])}return i.prototype.add=i.prototype.push=e,i.prototype.has=n,zP=i,zP}var HP,I7;function ane(){if(I7)return HP;I7=1;function r(e,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(e[i],i,e))return!0;return!1}return HP=r,HP}var WP,R7;function sne(){if(R7)return WP;R7=1;function r(e,n){return e.has(n)}return WP=r,WP}var VP,$7;function one(){if($7)return VP;$7=1;var r=ine(),e=ane(),n=sne(),i=1,a=2;function s(o,c,l,u,d,f){var p=l&i,m=o.length,y=c.length;if(m!=y&&!(p&&y>m))return!1;var v=f.get(o),b=f.get(c);if(v&&b)return v==c&&b==o;var w=-1,x=!0,E=l&a?new r:void 0;for(f.set(o,c),f.set(c,o);++w<m;){var A=o[w],S=c[w];if(u)var C=p?u(S,A,w,c,o,f):u(A,S,w,o,c,f);if(C!==void 0){if(C)continue;x=!1;break}if(E){if(!e(c,function(P,O){if(!n(E,O)&&(A===P||d(A,P,l,u,f)))return E.push(O)})){x=!1;break}}else if(!(A===S||d(A,S,l,u,f))){x=!1;break}}return f.delete(o),f.delete(c),x}return VP=s,VP}var GP,j7;function VBe(){if(j7)return GP;j7=1;var r=ac(),e=r.Uint8Array;return GP=e,GP}var KP,D7;function GBe(){if(D7)return KP;D7=1;function r(e){var n=-1,i=Array(e.size);return e.forEach(function(a,s){i[++n]=[s,a]}),i}return KP=r,KP}var YP,M7;function E5(){if(M7)return YP;M7=1;function r(e){var n=-1,i=Array(e.size);return e.forEach(function(a){i[++n]=a}),i}return YP=r,YP}var XP,L7;function KBe(){if(L7)return XP;L7=1;var r=Mb(),e=VBe(),n=d5(),i=one(),a=GBe(),s=E5(),o=1,c=2,l="[object Boolean]",u="[object Date]",d="[object Error]",f="[object Map]",p="[object Number]",m="[object RegExp]",y="[object Set]",v="[object String]",b="[object Symbol]",w="[object ArrayBuffer]",x="[object DataView]",E=r?r.prototype:void 0,A=E?E.valueOf:void 0;function S(C,P,O,I,M,D,q){switch(O){case x:if(C.byteLength!=P.byteLength||C.byteOffset!=P.byteOffset)return!1;C=C.buffer,P=P.buffer;case w:return!(C.byteLength!=P.byteLength||!D(new e(C),new e(P)));case l:case u:case p:return n(+C,+P);case d:return C.name==P.name&&C.message==P.message;case m:case v:return C==P+"";case f:var K=a;case y:var L=I&o;if(K||(K=s),C.size!=P.size&&!L)return!1;var R=q.get(C);if(R)return R==P;I|=c,q.set(C,P);var j=i(K(C),K(P),I,M,D,q);return q.delete(C),j;case b:if(A)return A.call(C)==A.call(P)}return!1}return XP=S,XP}var JP,U7;function cne(){if(U7)return JP;U7=1;function r(e,n){for(var i=-1,a=n.length,s=e.length;++i<a;)e[s+i]=n[i];return e}return JP=r,JP}var ZP,B7;function YBe(){if(B7)return ZP;B7=1;var r=cne(),e=va();function n(i,a,s){var o=a(i);return e(i)?o:r(o,s(i))}return ZP=n,ZP}var QP,F7;function XBe(){if(F7)return QP;F7=1;function r(e,n){for(var i=-1,a=e==null?0:e.length,s=0,o=[];++i<a;){var c=e[i];n(c,i,e)&&(o[s++]=c)}return o}return QP=r,QP}var eO,q7;function JBe(){if(q7)return eO;q7=1;function r(){return[]}return eO=r,eO}var tO,z7;function ZBe(){if(z7)return tO;z7=1;var r=XBe(),e=JBe(),n=Object.prototype,i=n.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(o){return o==null?[]:(o=Object(o),r(a(o),function(c){return i.call(o,c)}))}:e;return tO=s,tO}var rO,H7;function QBe(){if(H7)return rO;H7=1;function r(e,n){for(var i=-1,a=Array(e);++i<e;)a[i]=n(i);return a}return rO=r,rO}var nO,W7;function eFe(){if(W7)return nO;W7=1;var r=wl(),e=_l(),n="[object Arguments]";function i(a){return e(a)&&r(a)==n}return nO=i,nO}var iO,V7;function S5(){if(V7)return iO;V7=1;var r=eFe(),e=_l(),n=Object.prototype,i=n.hasOwnProperty,a=n.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(o){return e(o)&&i.call(o,"callee")&&!a.call(o,"callee")};return iO=s,iO}var Ny={exports:{}},aO,G7;function tFe(){if(G7)return aO;G7=1;function r(){return!1}return aO=r,aO}Ny.exports;var K7;function lne(){return K7||(K7=1,function(r,e){var n=ac(),i=tFe(),a=e&&!e.nodeType&&e,s=a&&!0&&r&&!r.nodeType&&r,o=s&&s.exports===a,c=o?n.Buffer:void 0,l=c?c.isBuffer:void 0,u=l||i;r.exports=u}(Ny,Ny.exports)),Ny.exports}var sO,Y7;function C5(){if(Y7)return sO;Y7=1;var r=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(i,a){var s=typeof i;return a=a??r,!!a&&(s=="number"||s!="symbol"&&e.test(i))&&i>-1&&i%1==0&&i<a}return sO=n,sO}var oO,X7;function A5(){if(X7)return oO;X7=1;var r=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=r}return oO=e,oO}var cO,J7;function rFe(){if(J7)return cO;J7=1;var r=wl(),e=A5(),n=_l(),i="[object Arguments]",a="[object Array]",s="[object Boolean]",o="[object Date]",c="[object Error]",l="[object Function]",u="[object Map]",d="[object Number]",f="[object Object]",p="[object RegExp]",m="[object Set]",y="[object String]",v="[object WeakMap]",b="[object ArrayBuffer]",w="[object DataView]",x="[object Float32Array]",E="[object Float64Array]",A="[object Int8Array]",S="[object Int16Array]",C="[object Int32Array]",P="[object Uint8Array]",O="[object Uint8ClampedArray]",I="[object Uint16Array]",M="[object Uint32Array]",D={};D[x]=D[E]=D[A]=D[S]=D[C]=D[P]=D[O]=D[I]=D[M]=!0,D[i]=D[a]=D[b]=D[s]=D[w]=D[o]=D[c]=D[l]=D[u]=D[d]=D[f]=D[p]=D[m]=D[y]=D[v]=!1;function q(K){return n(K)&&e(K.length)&&!!D[r(K)]}return cO=q,cO}var lO,Z7;function une(){if(Z7)return lO;Z7=1;function r(e){return function(n){return e(n)}}return lO=r,lO}var Iy={exports:{}};Iy.exports;var Q7;function nFe(){return Q7||(Q7=1,function(r,e){var n=Ore(),i=e&&!e.nodeType&&e,a=i&&!0&&r&&!r.nodeType&&r,s=a&&a.exports===i,o=s&&n.process,c=function(){try{var l=a&&a.require&&a.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();r.exports=c}(Iy,Iy.exports)),Iy.exports}var uO,e9;function dne(){if(e9)return uO;e9=1;var r=rFe(),e=une(),n=nFe(),i=n&&n.isTypedArray,a=i?e(i):r;return uO=a,uO}var dO,t9;function iFe(){if(t9)return dO;t9=1;var r=QBe(),e=S5(),n=va(),i=lne(),a=C5(),s=dne(),o=Object.prototype,c=o.hasOwnProperty;function l(u,d){var f=n(u),p=!f&&e(u),m=!f&&!p&&i(u),y=!f&&!p&&!m&&s(u),v=f||p||m||y,b=v?r(u.length,String):[],w=b.length;for(var x in u)(d||c.call(u,x))&&!(v&&(x=="length"||m&&(x=="offset"||x=="parent")||y&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||a(x,w)))&&b.push(x);return b}return dO=l,dO}var fO,r9;function aFe(){if(r9)return fO;r9=1;var r=Object.prototype;function e(n){var i=n&&n.constructor,a=typeof i=="function"&&i.prototype||r;return n===a}return fO=e,fO}var hO,n9;function fne(){if(n9)return hO;n9=1;function r(e,n){return function(i){return e(n(i))}}return hO=r,hO}var pO,i9;function sFe(){if(i9)return pO;i9=1;var r=fne(),e=r(Object.keys,Object);return pO=e,pO}var gO,a9;function oFe(){if(a9)return gO;a9=1;var r=aFe(),e=sFe(),n=Object.prototype,i=n.hasOwnProperty;function a(s){if(!r(s))return e(s);var o=[];for(var c in Object(s))i.call(s,c)&&c!="constructor"&&o.push(c);return o}return gO=a,gO}var mO,s9;function Bb(){if(s9)return mO;s9=1;var r=u5(),e=A5();function n(i){return i!=null&&e(i.length)&&!r(i)}return mO=n,mO}var yO,o9;function uC(){if(o9)return yO;o9=1;var r=iFe(),e=oFe(),n=Bb();function i(a){return n(a)?r(a):e(a)}return yO=i,yO}var vO,c9;function cFe(){if(c9)return vO;c9=1;var r=YBe(),e=ZBe(),n=uC();function i(a){return r(a,n,e)}return vO=i,vO}var bO,l9;function lFe(){if(l9)return bO;l9=1;var r=cFe(),e=1,n=Object.prototype,i=n.hasOwnProperty;function a(s,o,c,l,u,d){var f=c&e,p=r(s),m=p.length,y=r(o),v=y.length;if(m!=v&&!f)return!1;for(var b=m;b--;){var w=p[b];if(!(f?w in o:i.call(o,w)))return!1}var x=d.get(s),E=d.get(o);if(x&&E)return x==o&&E==s;var A=!0;d.set(s,o),d.set(o,s);for(var S=f;++b<m;){w=p[b];var C=s[w],P=o[w];if(l)var O=f?l(P,C,w,o,s,d):l(C,P,w,s,o,d);if(!(O===void 0?C===P||u(C,P,c,l,d):O)){A=!1;break}S||(S=w=="constructor")}if(A&&!S){var I=s.constructor,M=o.constructor;I!=M&&"constructor"in s&&"constructor"in o&&!(typeof I=="function"&&I instanceof I&&typeof M=="function"&&M instanceof M)&&(A=!1)}return d.delete(s),d.delete(o),A}return bO=a,bO}var wO,u9;function uFe(){if(u9)return wO;u9=1;var r=qf(),e=ac(),n=r(e,"DataView");return wO=n,wO}var _O,d9;function dFe(){if(d9)return _O;d9=1;var r=qf(),e=ac(),n=r(e,"Promise");return _O=n,_O}var xO,f9;function hne(){if(f9)return xO;f9=1;var r=qf(),e=ac(),n=r(e,"Set");return xO=n,xO}var EO,h9;function fFe(){if(h9)return EO;h9=1;var r=qf(),e=ac(),n=r(e,"WeakMap");return EO=n,EO}var SO,p9;function hFe(){if(p9)return SO;p9=1;var r=uFe(),e=f5(),n=dFe(),i=hne(),a=fFe(),s=wl(),o=Nre(),c="[object Map]",l="[object Object]",u="[object Promise]",d="[object Set]",f="[object WeakMap]",p="[object DataView]",m=o(r),y=o(e),v=o(n),b=o(i),w=o(a),x=s;return(r&&x(new r(new ArrayBuffer(1)))!=p||e&&x(new e)!=c||n&&x(n.resolve())!=u||i&&x(new i)!=d||a&&x(new a)!=f)&&(x=function(E){var A=s(E),S=A==l?E.constructor:void 0,C=S?o(S):"";if(C)switch(C){case m:return p;case y:return c;case v:return u;case b:return d;case w:return f}return A}),SO=x,SO}var CO,g9;function pFe(){if(g9)return CO;g9=1;var r=nne(),e=one(),n=KBe(),i=lFe(),a=hFe(),s=va(),o=lne(),c=dne(),l=1,u="[object Arguments]",d="[object Array]",f="[object Object]",p=Object.prototype,m=p.hasOwnProperty;function y(v,b,w,x,E,A){var S=s(v),C=s(b),P=S?d:a(v),O=C?d:a(b);P=P==u?f:P,O=O==u?f:O;var I=P==f,M=O==f,D=P==O;if(D&&o(v)){if(!o(b))return!1;S=!0,I=!1}if(D&&!I)return A||(A=new r),S||c(v)?e(v,b,w,x,E,A):n(v,b,P,w,x,E,A);if(!(w&l)){var q=I&&m.call(v,"__wrapped__"),K=M&&m.call(b,"__wrapped__");if(q||K){var L=q?v.value():v,R=K?b.value():b;return A||(A=new r),E(L,R,w,x,A)}}return D?(A||(A=new r),i(v,b,w,x,E,A)):!1}return CO=y,CO}var AO,m9;function T5(){if(m9)return AO;m9=1;var r=pFe(),e=_l();function n(i,a,s,o,c){return i===a?!0:i==null||a==null||!e(i)&&!e(a)?i!==i&&a!==a:r(i,a,s,o,n,c)}return AO=n,AO}var TO,y9;function gFe(){if(y9)return TO;y9=1;var r=nne(),e=T5(),n=1,i=2;function a(s,o,c,l){var u=c.length,d=u,f=!l;if(s==null)return!d;for(s=Object(s);u--;){var p=c[u];if(f&&p[2]?p[1]!==s[p[0]]:!(p[0]in s))return!1}for(;++u<d;){p=c[u];var m=p[0],y=s[m],v=p[1];if(f&&p[2]){if(y===void 0&&!(m in s))return!1}else{var b=new r;if(l)var w=l(y,v,m,s,o,b);if(!(w===void 0?e(v,y,n|i,l,b):w))return!1}}return!0}return TO=a,TO}var kO,v9;function pne(){if(v9)return kO;v9=1;var r=Hu();function e(n){return n===n&&!r(n)}return kO=e,kO}var PO,b9;function mFe(){if(b9)return PO;b9=1;var r=pne(),e=uC();function n(i){for(var a=e(i),s=a.length;s--;){var o=a[s],c=i[o];a[s]=[o,c,r(c)]}return a}return PO=n,PO}var OO,w9;function gne(){if(w9)return OO;w9=1;function r(e,n){return function(i){return i==null?!1:i[e]===n&&(n!==void 0||e in Object(i))}}return OO=r,OO}var NO,_9;function yFe(){if(_9)return NO;_9=1;var r=gFe(),e=mFe(),n=gne();function i(a){var s=e(a);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(o){return o===a||r(o,a,s)}}return NO=i,NO}var IO,x9;function vFe(){if(x9)return IO;x9=1;function r(e,n){return e!=null&&n in Object(e)}return IO=r,IO}var RO,E9;function bFe(){if(E9)return RO;E9=1;var r=$re(),e=S5(),n=va(),i=C5(),a=A5(),s=aC();function o(c,l,u){l=r(l,c);for(var d=-1,f=l.length,p=!1;++d<f;){var m=s(l[d]);if(!(p=c!=null&&u(c,m)))break;c=c[m]}return p||++d!=f?p:(f=c==null?0:c.length,!!f&&a(f)&&i(m,f)&&(n(c)||e(c)))}return RO=o,RO}var $O,S9;function wFe(){if(S9)return $O;S9=1;var r=vFe(),e=bFe();function n(i,a){return i!=null&&e(i,a,r)}return $O=n,$O}var jO,C9;function _Fe(){if(C9)return jO;C9=1;var r=T5(),e=jre(),n=wFe(),i=l5(),a=pne(),s=gne(),o=aC(),c=1,l=2;function u(d,f){return i(d)&&a(f)?s(o(d),f):function(p){var m=e(p,d);return m===void 0&&m===f?n(p,d):r(f,m,c|l)}}return jO=u,jO}var DO,A9;function Hg(){if(A9)return DO;A9=1;function r(e){return e}return DO=r,DO}var MO,T9;function xFe(){if(T9)return MO;T9=1;function r(e){return function(n){return n==null?void 0:n[e]}}return MO=r,MO}var LO,k9;function EFe(){if(k9)return LO;k9=1;var r=g5();function e(n){return function(i){return r(i,n)}}return LO=e,LO}var UO,P9;function SFe(){if(P9)return UO;P9=1;var r=xFe(),e=EFe(),n=l5(),i=aC();function a(s){return n(s)?r(i(s)):e(s)}return UO=a,UO}var BO,O9;function Wu(){if(O9)return BO;O9=1;var r=yFe(),e=_Fe(),n=Hg(),i=va(),a=SFe();function s(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?i(o)?e(o[0],o[1]):r(o):a(o)}return BO=s,BO}var FO,N9;function mne(){if(N9)return FO;N9=1;function r(e,n,i,a){for(var s=e.length,o=i+(a?1:-1);a?o--:++o<s;)if(n(e[o],o,e))return o;return-1}return FO=r,FO}var qO,I9;function CFe(){if(I9)return qO;I9=1;function r(e){return e!==e}return qO=r,qO}var zO,R9;function AFe(){if(R9)return zO;R9=1;function r(e,n,i){for(var a=i-1,s=e.length;++a<s;)if(e[a]===n)return a;return-1}return zO=r,zO}var HO,$9;function TFe(){if($9)return HO;$9=1;var r=mne(),e=CFe(),n=AFe();function i(a,s,o){return s===s?n(a,s,o):r(a,e,o)}return HO=i,HO}var WO,j9;function kFe(){if(j9)return WO;j9=1;var r=TFe();function e(n,i){var a=n==null?0:n.length;return!!a&&r(n,i,0)>-1}return WO=e,WO}var VO,D9;function PFe(){if(D9)return VO;D9=1;function r(e,n,i){for(var a=-1,s=e==null?0:e.length;++a<s;)if(i(n,e[a]))return!0;return!1}return VO=r,VO}var GO,M9;function OFe(){if(M9)return GO;M9=1;function r(){}return GO=r,GO}var KO,L9;function NFe(){if(L9)return KO;L9=1;var r=hne(),e=OFe(),n=E5(),i=1/0,a=r&&1/n(new r([,-0]))[1]==i?function(s){return new r(s)}:e;return KO=a,KO}var YO,U9;function IFe(){if(U9)return YO;U9=1;var r=ine(),e=kFe(),n=PFe(),i=sne(),a=NFe(),s=E5(),o=200;function c(l,u,d){var f=-1,p=e,m=l.length,y=!0,v=[],b=v;if(d)y=!1,p=n;else if(m>=o){var w=u?null:a(l);if(w)return s(w);y=!1,p=i,b=new r}else b=u?[]:v;e:for(;++f<m;){var x=l[f],E=u?u(x):x;if(x=d||x!==0?x:0,y&&E===E){for(var A=b.length;A--;)if(b[A]===E)continue e;u&&b.push(E),v.push(x)}else p(b,E,d)||(b!==v&&b.push(E),v.push(x))}return v}return YO=c,YO}var XO,B9;function RFe(){if(B9)return XO;B9=1;var r=Wu(),e=IFe();function n(i,a){return i&&i.length?e(i,r(a,2)):[]}return XO=n,XO}var $Fe=RFe();const F9=Jt($Fe);function yne(r,e,n){return e===!0?F9(r,n):jt(e)?F9(r,e):r}function Qp(r){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(r)}var jFe=["ref"];function q9(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function kc(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q9(Object(n),!0).forEach(function(i){dC(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):q9(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function DFe(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function z9(r,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,bne(i.key),i)}}function MFe(r,e,n){return e&&z9(r.prototype,e),n&&z9(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function LFe(r,e,n){return e=Vx(e),UFe(r,vne()?Reflect.construct(e,n||[],Vx(r).constructor):e.apply(r,n))}function UFe(r,e){if(e&&(Qp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BFe(r)}function BFe(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function vne(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vne=function(){return!!r})()}function Vx(r){return Vx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vx(r)}function FFe(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&aj(r,e)}function aj(r,e){return aj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,a){return i.__proto__=a,i},aj(r,e)}function dC(r,e,n){return e=bne(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function bne(r){var e=qFe(r,"string");return Qp(e)=="symbol"?e:e+""}function qFe(r,e){if(Qp(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(Qp(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function zFe(r,e){if(r==null)return{};var n=HFe(r,e),i,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(a=0;a<s.length;a++)i=s[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(r,i)&&(n[i]=r[i])}return n}function HFe(r,e){if(r==null)return{};var n={};for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){if(e.indexOf(i)>=0)continue;n[i]=r[i]}return n}function WFe(r){return r.value}function VFe(r,e){if(ee.isValidElement(r))return ee.cloneElement(r,e);if(typeof r=="function")return ee.createElement(r,e);e.ref;var n=zFe(e,jFe);return ee.createElement(x5,n)}var H9=1,tf=function(r){function e(){var n;DFe(this,e);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=LFe(this,e,[].concat(a)),dC(n,"lastBoundingBox",{width:-1,height:-1}),n}return FFe(e,r),MFe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var i=this.wrapperNode.getBoundingClientRect();return i.height=this.wrapperNode.offsetHeight,i.width=this.wrapperNode.offsetWidth,i}return null}},{key:"updateBBox",value:function(){var i=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>H9||Math.abs(a.height-this.lastBoundingBox.height)>H9)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,i&&i(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,i&&i(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?kc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(i){var a=this.props,s=a.layout,o=a.align,c=a.verticalAlign,l=a.margin,u=a.chartWidth,d=a.chartHeight,f,p;if(!i||(i.left===void 0||i.left===null)&&(i.right===void 0||i.right===null))if(o==="center"&&s==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!i||(i.top===void 0||i.top===null)&&(i.bottom===void 0||i.bottom===null))if(c==="middle"){var y=this.getBBoxSnapshot();p={top:((d||0)-y.height)/2}}else p=c==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return kc(kc({},f),p)}},{key:"render",value:function(){var i=this,a=this.props,s=a.content,o=a.width,c=a.height,l=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=kc(kc({position:"absolute",width:o||"auto",height:c||"auto"},this.getDefaultPosition(l)),l);return ee.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){i.wrapperNode=m}},VFe(s,kc(kc({},this.props),{},{payload:yne(d,u,WFe)})))}}],[{key:"getWithHeight",value:function(i,a){var s=kc(kc({},this.defaultProps),i.props),o=s.layout;return o==="vertical"&&De(i.props.height)?{height:i.props.height}:o==="horizontal"?{width:i.props.width||a}:null}}])}(U.PureComponent);dC(tf,"displayName","Legend");dC(tf,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var JO,W9;function GFe(){if(W9)return JO;W9=1;var r=Mb(),e=S5(),n=va(),i=r?r.isConcatSpreadable:void 0;function a(s){return n(s)||e(s)||!!(i&&s&&s[i])}return JO=a,JO}var ZO,V9;function wne(){if(V9)return ZO;V9=1;var r=cne(),e=GFe();function n(i,a,s,o,c){var l=-1,u=i.length;for(s||(s=e),c||(c=[]);++l<u;){var d=i[l];a>0&&s(d)?a>1?n(d,a-1,s,o,c):r(c,d):o||(c[c.length]=d)}return c}return ZO=n,ZO}var QO,G9;function KFe(){if(G9)return QO;G9=1;function r(e){return function(n,i,a){for(var s=-1,o=Object(n),c=a(n),l=c.length;l--;){var u=c[e?l:++s];if(i(o[u],u,o)===!1)break}return n}}return QO=r,QO}var eN,K9;function YFe(){if(K9)return eN;K9=1;var r=KFe(),e=r();return eN=e,eN}var tN,Y9;function _ne(){if(Y9)return tN;Y9=1;var r=YFe(),e=uC();function n(i,a){return i&&r(i,a,e)}return tN=n,tN}var rN,X9;function XFe(){if(X9)return rN;X9=1;var r=Bb();function e(n,i){return function(a,s){if(a==null)return a;if(!r(a))return n(a,s);for(var o=a.length,c=i?o:-1,l=Object(a);(i?c--:++c<o)&&s(l[c],c,l)!==!1;);return a}}return rN=e,rN}var nN,J9;function k5(){if(J9)return nN;J9=1;var r=_ne(),e=XFe(),n=e(r);return nN=n,nN}var iN,Z9;function xne(){if(Z9)return iN;Z9=1;var r=k5(),e=Bb();function n(i,a){var s=-1,o=e(i)?Array(i.length):[];return r(i,function(c,l,u){o[++s]=a(c,l,u)}),o}return iN=n,iN}var aN,Q9;function JFe(){if(Q9)return aN;Q9=1;function r(e,n){var i=e.length;for(e.sort(n);i--;)e[i]=e[i].value;return e}return aN=r,aN}var sN,eH;function ZFe(){if(eH)return sN;eH=1;var r=qg();function e(n,i){if(n!==i){var a=n!==void 0,s=n===null,o=n===n,c=r(n),l=i!==void 0,u=i===null,d=i===i,f=r(i);if(!u&&!f&&!c&&n>i||c&&l&&d&&!u&&!f||s&&l&&d||!a&&d||!o)return 1;if(!s&&!c&&!f&&n<i||f&&a&&o&&!s&&!c||u&&a&&o||!l&&o||!d)return-1}return 0}return sN=e,sN}var oN,tH;function QFe(){if(tH)return oN;tH=1;var r=ZFe();function e(n,i,a){for(var s=-1,o=n.criteria,c=i.criteria,l=o.length,u=a.length;++s<l;){var d=r(o[s],c[s]);if(d){if(s>=u)return d;var f=a[s];return d*(f=="desc"?-1:1)}}return n.index-i.index}return oN=e,oN}var cN,rH;function eqe(){if(rH)return cN;rH=1;var r=p5(),e=g5(),n=Wu(),i=xne(),a=JFe(),s=une(),o=QFe(),c=Hg(),l=va();function u(d,f,p){f.length?f=r(f,function(v){return l(v)?function(b){return e(b,v.length===1?v[0]:v)}:v}):f=[c];var m=-1;f=r(f,s(n));var y=i(d,function(v,b,w){var x=r(f,function(E){return E(v)});return{criteria:x,index:++m,value:v}});return a(y,function(v,b){return o(v,b,p)})}return cN=u,cN}var lN,nH;function tqe(){if(nH)return lN;nH=1;function r(e,n,i){switch(i.length){case 0:return e.call(n);case 1:return e.call(n,i[0]);case 2:return e.call(n,i[0],i[1]);case 3:return e.call(n,i[0],i[1],i[2])}return e.apply(n,i)}return lN=r,lN}var uN,iH;function rqe(){if(iH)return uN;iH=1;var r=tqe(),e=Math.max;function n(i,a,s){return a=e(a===void 0?i.length-1:a,0),function(){for(var o=arguments,c=-1,l=e(o.length-a,0),u=Array(l);++c<l;)u[c]=o[a+c];c=-1;for(var d=Array(a+1);++c<a;)d[c]=o[c];return d[a]=s(u),r(i,this,d)}}return uN=n,uN}var dN,aH;function nqe(){if(aH)return dN;aH=1;function r(e){return function(){return e}}return dN=r,dN}var fN,sH;function Ene(){if(sH)return fN;sH=1;var r=qf(),e=function(){try{var n=r(Object,"defineProperty");return n({},"",{}),n}catch{}}();return fN=e,fN}var hN,oH;function iqe(){if(oH)return hN;oH=1;var r=nqe(),e=Ene(),n=Hg(),i=e?function(a,s){return e(a,"toString",{configurable:!0,enumerable:!1,value:r(s),writable:!0})}:n;return hN=i,hN}var pN,cH;function aqe(){if(cH)return pN;cH=1;var r=800,e=16,n=Date.now;function i(a){var s=0,o=0;return function(){var c=n(),l=e-(c-o);if(o=c,l>0){if(++s>=r)return arguments[0]}else s=0;return a.apply(void 0,arguments)}}return pN=i,pN}var gN,lH;function sqe(){if(lH)return gN;lH=1;var r=iqe(),e=aqe(),n=e(r);return gN=n,gN}var mN,uH;function oqe(){if(uH)return mN;uH=1;var r=Hg(),e=rqe(),n=sqe();function i(a,s){return n(e(a,s,r),a+"")}return mN=i,mN}var yN,dH;function fC(){if(dH)return yN;dH=1;var r=d5(),e=Bb(),n=C5(),i=Hu();function a(s,o,c){if(!i(c))return!1;var l=typeof o;return(l=="number"?e(c)&&n(o,c.length):l=="string"&&o in c)?r(c[o],s):!1}return yN=a,yN}var vN,fH;function cqe(){if(fH)return vN;fH=1;var r=wne(),e=eqe(),n=oqe(),i=fC(),a=n(function(s,o){if(s==null)return[];var c=o.length;return c>1&&i(s,o[0],o[1])?o=[]:c>2&&i(o[0],o[1],o[2])&&(o=[o[0]]),e(s,r(o,1),[])});return vN=a,vN}var lqe=cqe();const P5=Jt(lqe);function b0(r){"@babel/helpers - typeof";return b0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b0(r)}function sj(){return sj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},sj.apply(this,arguments)}function uqe(r,e){return pqe(r)||hqe(r,e)||fqe(r,e)||dqe()}function dqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fqe(r,e){if(r){if(typeof r=="string")return hH(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hH(r,e)}}function hH(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=r[n];return i}function hqe(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var i,a,s,o,c=[],l=!0,u=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(l=(i=s.call(n)).done)&&(c.push(i.value),c.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return c}}function pqe(r){if(Array.isArray(r))return r}function pH(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function bN(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pH(Object(n),!0).forEach(function(i){gqe(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):pH(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function gqe(r,e,n){return e=mqe(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function mqe(r){var e=yqe(r,"string");return b0(e)=="symbol"?e:e+""}function yqe(r,e){if(b0(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(b0(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function vqe(r){return Array.isArray(r)&&Rn(r[0])&&Rn(r[1])?r.join(" ~ "):r}var bqe=function(e){var n=e.separator,i=n===void 0?" : ":n,a=e.contentStyle,s=a===void 0?{}:a,o=e.itemStyle,c=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,d=e.payload,f=e.formatter,p=e.itemSorter,m=e.wrapperClassName,y=e.labelClassName,v=e.label,b=e.labelFormatter,w=e.accessibilityLayer,x=w===void 0?!1:w,E=function(){if(d&&d.length){var q={padding:0,margin:0},K=(p?P5(d,p):d).map(function(L,R){if(L.type==="none")return null;var j=bN({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},c),W=L.formatter||f||vqe,H=L.value,z=L.name,B=H,F=z;if(W&&B!=null&&F!=null){var G=W(H,z,L,R,d);if(Array.isArray(G)){var Q=uqe(G,2);B=Q[0],F=Q[1]}else B=G}return ee.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:j},Rn(F)?ee.createElement("span",{className:"recharts-tooltip-item-name"},F):null,Rn(F)?ee.createElement("span",{className:"recharts-tooltip-item-separator"},i):null,ee.createElement("span",{className:"recharts-tooltip-item-value"},B),ee.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return ee.createElement("ul",{className:"recharts-tooltip-item-list",style:q},K)}return null},A=bN({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),S=bN({margin:0},u),C=!Ht(v),P=C?v:"",O=ar("recharts-default-tooltip",m),I=ar("recharts-tooltip-label",y);C&&b&&d!==void 0&&d!==null&&(P=b(v,d));var M=x?{role:"status","aria-live":"assertive"}:{};return ee.createElement("div",sj({className:O,style:A},M),ee.createElement("p",{className:I,style:S},ee.isValidElement(P)?P:"".concat(P)),E())};function w0(r){"@babel/helpers - typeof";return w0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w0(r)}function K1(r,e,n){return e=wqe(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function wqe(r){var e=_qe(r,"string");return w0(e)=="symbol"?e:e+""}function _qe(r,e){if(w0(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(w0(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var ay="recharts-tooltip-wrapper",xqe={visibility:"hidden"};function Eqe(r){var e=r.coordinate,n=r.translateX,i=r.translateY;return ar(ay,K1(K1(K1(K1({},"".concat(ay,"-right"),De(n)&&e&&De(e.x)&&n>=e.x),"".concat(ay,"-left"),De(n)&&e&&De(e.x)&&n<e.x),"".concat(ay,"-bottom"),De(i)&&e&&De(e.y)&&i>=e.y),"".concat(ay,"-top"),De(i)&&e&&De(e.y)&&i<e.y))}function gH(r){var e=r.allowEscapeViewBox,n=r.coordinate,i=r.key,a=r.offsetTopLeft,s=r.position,o=r.reverseDirection,c=r.tooltipDimension,l=r.viewBox,u=r.viewBoxDimension;if(s&&De(s[i]))return s[i];var d=n[i]-c-a,f=n[i]+a;if(e[i])return o[i]?d:f;if(o[i]){var p=d,m=l[i];return p<m?Math.max(f,l[i]):Math.max(d,l[i])}var y=f+c,v=l[i]+u;return y>v?Math.max(d,l[i]):Math.max(f,l[i])}function Sqe(r){var e=r.translateX,n=r.translateY,i=r.useTranslate3d;return{transform:i?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Cqe(r){var e=r.allowEscapeViewBox,n=r.coordinate,i=r.offsetTopLeft,a=r.position,s=r.reverseDirection,o=r.tooltipBox,c=r.useTranslate3d,l=r.viewBox,u,d,f;return o.height>0&&o.width>0&&n?(d=gH({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=gH({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=Sqe({translateX:d,translateY:f,useTranslate3d:c})):u=xqe,{cssProperties:u,cssClasses:Eqe({translateX:d,translateY:f,coordinate:n})}}function eg(r){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eg(r)}function mH(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function yH(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mH(Object(n),!0).forEach(function(i){cj(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):mH(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function Aqe(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Tqe(r,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,Cne(i.key),i)}}function kqe(r,e,n){return e&&Tqe(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function Pqe(r,e,n){return e=Gx(e),Oqe(r,Sne()?Reflect.construct(e,n||[],Gx(r).constructor):e.apply(r,n))}function Oqe(r,e){if(e&&(eg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nqe(r)}function Nqe(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Sne(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sne=function(){return!!r})()}function Gx(r){return Gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gx(r)}function Iqe(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&oj(r,e)}function oj(r,e){return oj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,a){return i.__proto__=a,i},oj(r,e)}function cj(r,e,n){return e=Cne(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Cne(r){var e=Rqe(r,"string");return eg(e)=="symbol"?e:e+""}function Rqe(r,e){if(eg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(eg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var vH=1,$qe=function(r){function e(){var n;Aqe(this,e);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=Pqe(this,e,[].concat(a)),cj(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),cj(n,"handleKeyDown",function(o){if(o.key==="Escape"){var c,l,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&c!==void 0?c:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return Iqe(e,r),kqe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var i=this.wrapperNode.getBoundingClientRect();(Math.abs(i.width-this.state.lastBoundingBox.width)>vH||Math.abs(i.height-this.state.lastBoundingBox.height)>vH)&&this.setState({lastBoundingBox:{width:i.width,height:i.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var i,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var i=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,c=a.animationDuration,l=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,p=a.isAnimationActive,m=a.offset,y=a.position,v=a.reverseDirection,b=a.useTranslate3d,w=a.viewBox,x=a.wrapperStyle,E=Cqe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:y,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:w}),A=E.cssClasses,S=E.cssProperties,C=yH(yH({transition:p&&s?"transform ".concat(c,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return ee.createElement("div",{tabIndex:-1,className:A,style:C,ref:function(O){i.wrapperNode=O}},u)}}])}(U.PureComponent),jqe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Wg={isSsr:jqe()};function tg(r){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tg(r)}function bH(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function wH(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bH(Object(n),!0).forEach(function(i){O5(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):bH(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function Dqe(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Mqe(r,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,Tne(i.key),i)}}function Lqe(r,e,n){return e&&Mqe(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function Uqe(r,e,n){return e=Kx(e),Bqe(r,Ane()?Reflect.construct(e,n||[],Kx(r).constructor):e.apply(r,n))}function Bqe(r,e){if(e&&(tg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fqe(r)}function Fqe(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Ane(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ane=function(){return!!r})()}function Kx(r){return Kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kx(r)}function qqe(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&lj(r,e)}function lj(r,e){return lj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,a){return i.__proto__=a,i},lj(r,e)}function O5(r,e,n){return e=Tne(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Tne(r){var e=zqe(r,"string");return tg(e)=="symbol"?e:e+""}function zqe(r,e){if(tg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(tg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function Hqe(r){return r.dataKey}function Wqe(r,e){return ee.isValidElement(r)?ee.cloneElement(r,e):typeof r=="function"?ee.createElement(r,e):ee.createElement(bqe,e)}var No=function(r){function e(){return Dqe(this,e),Uqe(this,e,arguments)}return qqe(e,r),Lqe(e,[{key:"render",value:function(){var i=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,c=a.animationDuration,l=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,p=a.isAnimationActive,m=a.offset,y=a.payload,v=a.payloadUniqBy,b=a.position,w=a.reverseDirection,x=a.useTranslate3d,E=a.viewBox,A=a.wrapperStyle,S=y??[];f&&S.length&&(S=yne(y.filter(function(P){return P.value!=null&&(P.hide!==!0||i.props.includeHidden)}),v,Hqe));var C=S.length>0;return ee.createElement($qe,{allowEscapeViewBox:o,animationDuration:c,animationEasing:l,isAnimationActive:p,active:s,coordinate:d,hasPayload:C,offset:m,position:b,reverseDirection:w,useTranslate3d:x,viewBox:E,wrapperStyle:A},Wqe(u,wH(wH({},this.props),{},{payload:S})))}}])}(U.PureComponent);O5(No,"displayName","Tooltip");O5(No,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Wg.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var wN,_H;function Vqe(){if(_H)return wN;_H=1;var r=ac(),e=function(){return r.Date.now()};return wN=e,wN}var _N,xH;function Gqe(){if(xH)return _N;xH=1;var r=/\s/;function e(n){for(var i=n.length;i--&&r.test(n.charAt(i)););return i}return _N=e,_N}var xN,EH;function Kqe(){if(EH)return xN;EH=1;var r=Gqe(),e=/^\s+/;function n(i){return i&&i.slice(0,r(i)+1).replace(e,"")}return xN=n,xN}var EN,SH;function kne(){if(SH)return EN;SH=1;var r=Kqe(),e=Hu(),n=qg(),i=NaN,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,c=parseInt;function l(u){if(typeof u=="number")return u;if(n(u))return i;if(e(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=e(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=r(u);var f=s.test(u);return f||o.test(u)?c(u.slice(2),f?2:8):a.test(u)?i:+u}return EN=l,EN}var SN,CH;function Yqe(){if(CH)return SN;CH=1;var r=Hu(),e=Vqe(),n=kne(),i="Expected a function",a=Math.max,s=Math.min;function o(c,l,u){var d,f,p,m,y,v,b=0,w=!1,x=!1,E=!0;if(typeof c!="function")throw new TypeError(i);l=n(l)||0,r(u)&&(w=!!u.leading,x="maxWait"in u,p=x?a(n(u.maxWait)||0,l):p,E="trailing"in u?!!u.trailing:E);function A(K){var L=d,R=f;return d=f=void 0,b=K,m=c.apply(R,L),m}function S(K){return b=K,y=setTimeout(O,l),w?A(K):m}function C(K){var L=K-v,R=K-b,j=l-L;return x?s(j,p-R):j}function P(K){var L=K-v,R=K-b;return v===void 0||L>=l||L<0||x&&R>=p}function O(){var K=e();if(P(K))return I(K);y=setTimeout(O,C(K))}function I(K){return y=void 0,E&&d?A(K):(d=f=void 0,m)}function M(){y!==void 0&&clearTimeout(y),b=0,d=v=f=y=void 0}function D(){return y===void 0?m:I(e())}function q(){var K=e(),L=P(K);if(d=arguments,f=this,v=K,L){if(y===void 0)return S(v);if(x)return clearTimeout(y),y=setTimeout(O,l),A(v)}return y===void 0&&(y=setTimeout(O,l)),m}return q.cancel=M,q.flush=D,q}return SN=o,SN}var CN,AH;function Xqe(){if(AH)return CN;AH=1;var r=Yqe(),e=Hu(),n="Expected a function";function i(a,s,o){var c=!0,l=!0;if(typeof a!="function")throw new TypeError(n);return e(o)&&(c="leading"in o?!!o.leading:c,l="trailing"in o?!!o.trailing:l),r(a,s,{leading:c,maxWait:s,trailing:l})}return CN=i,CN}var Jqe=Xqe();const Pne=Jt(Jqe);function _0(r){"@babel/helpers - typeof";return _0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_0(r)}function TH(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function Y1(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TH(Object(n),!0).forEach(function(i){Zqe(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):TH(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function Zqe(r,e,n){return e=Qqe(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Qqe(r){var e=eze(r,"string");return _0(e)=="symbol"?e:e+""}function eze(r,e){if(_0(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(_0(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function tze(r,e){return aze(r)||ize(r,e)||nze(r,e)||rze()}function rze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nze(r,e){if(r){if(typeof r=="string")return kH(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kH(r,e)}}function kH(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=r[n];return i}function ize(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var i,a,s,o,c=[],l=!0,u=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(l=(i=s.call(n)).done)&&(c.push(i.value),c.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return c}}function aze(r){if(Array.isArray(r))return r}var sze=U.forwardRef(function(r,e){var n=r.aspect,i=r.initialDimension,a=i===void 0?{width:-1,height:-1}:i,s=r.width,o=s===void 0?"100%":s,c=r.height,l=c===void 0?"100%":c,u=r.minWidth,d=u===void 0?0:u,f=r.minHeight,p=r.maxHeight,m=r.children,y=r.debounce,v=y===void 0?0:y,b=r.id,w=r.className,x=r.onResize,E=r.style,A=E===void 0?{}:E,S=U.useRef(null),C=U.useRef();C.current=x,U.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var P=U.useState({containerWidth:a.width,containerHeight:a.height}),O=tze(P,2),I=O[0],M=O[1],D=U.useCallback(function(K,L){M(function(R){var j=Math.round(K),W=Math.round(L);return R.containerWidth===j&&R.containerHeight===W?R:{containerWidth:j,containerHeight:W}})},[]);U.useEffect(function(){var K=function(z){var B,F=z[0].contentRect,G=F.width,Q=F.height;D(G,Q),(B=C.current)===null||B===void 0||B.call(C,G,Q)};v>0&&(K=Pne(K,v,{trailing:!0,leading:!1}));var L=new ResizeObserver(K),R=S.current.getBoundingClientRect(),j=R.width,W=R.height;return D(j,W),L.observe(S.current),function(){L.disconnect()}},[D,v]);var q=U.useMemo(function(){var K=I.containerWidth,L=I.containerHeight;if(K<0||L<0)return null;tl(Bd(o)||Bd(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),tl(!n||n>0,"The aspect(%s) must be greater than zero.",n);var R=Bd(o)?K:o,j=Bd(l)?L:l;n&&n>0&&(R?j=R/n:j&&(R=j*n),p&&j>p&&(j=p)),tl(R>0||j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,j,o,l,d,f,n);var W=!Array.isArray(m)&&el(m.type).endsWith("Chart");return ee.Children.map(m,function(H){return ee.isValidElement(H)?U.cloneElement(H,Y1({width:R,height:j},W?{style:Y1({height:"100%",width:"100%",maxHeight:j,maxWidth:R},H.props.style)}:{})):H})},[n,m,l,p,f,d,I,o]);return ee.createElement("div",{id:b?"".concat(b):void 0,className:ar("recharts-responsive-container",w),style:Y1(Y1({},A),{},{width:o,height:l,minWidth:d,minHeight:f,maxHeight:p}),ref:S},q)}),One=function(e){return null};One.displayName="Cell";function x0(r){"@babel/helpers - typeof";return x0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x0(r)}function PH(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function uj(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PH(Object(n),!0).forEach(function(i){oze(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):PH(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function oze(r,e,n){return e=cze(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function cze(r){var e=lze(r,"string");return x0(e)=="symbol"?e:e+""}function lze(r,e){if(x0(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(x0(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Hh={widthCache:{},cacheCount:0},uze=2e3,dze={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},OH="recharts_measurement_span";function fze(r){var e=uj({},r);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var nv=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Wg.isSsr)return{width:0,height:0};var i=fze(n),a=JSON.stringify({text:e,copyStyle:i});if(Hh.widthCache[a])return Hh.widthCache[a];try{var s=document.getElementById(OH);s||(s=document.createElement("span"),s.setAttribute("id",OH),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=uj(uj({},dze),i);Object.assign(s.style,o),s.textContent="".concat(e);var c=s.getBoundingClientRect(),l={width:c.width,height:c.height};return Hh.widthCache[a]=l,++Hh.cacheCount>uze&&(Hh.cacheCount=0,Hh.widthCache={}),l}catch{return{width:0,height:0}}},hze=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function E0(r){"@babel/helpers - typeof";return E0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E0(r)}function Yx(r,e){return yze(r)||mze(r,e)||gze(r,e)||pze()}function pze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gze(r,e){if(r){if(typeof r=="string")return NH(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NH(r,e)}}function NH(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=r[n];return i}function mze(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var i,a,s,o,c=[],l=!0,u=!1;try{if(s=(n=n.call(r)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=s.call(n)).done)&&(c.push(i.value),c.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return c}}function yze(r){if(Array.isArray(r))return r}function vze(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function IH(r,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,wze(i.key),i)}}function bze(r,e,n){return e&&IH(r.prototype,e),n&&IH(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function wze(r){var e=_ze(r,"string");return E0(e)=="symbol"?e:e+""}function _ze(r,e){if(E0(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(E0(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var RH=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$H=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xze=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Eze=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Nne={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Sze=Object.keys(Nne),ap="NaN";function Cze(r,e){return r*Nne[e]}var X1=function(){function r(e,n){vze(this,r),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!xze.test(n)&&(this.num=NaN,this.unit=""),Sze.includes(n)&&(this.num=Cze(e,n),this.unit="px")}return bze(r,[{key:"add",value:function(n){return this.unit!==n.unit?new r(NaN,""):new r(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new r(NaN,""):new r(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new r(NaN,""):new r(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new r(NaN,""):new r(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var i,a=(i=Eze.exec(n))!==null&&i!==void 0?i:[],s=Yx(a,3),o=s[1],c=s[2];return new r(parseFloat(o),c??"")}}])}();function Ine(r){if(r.includes(ap))return ap;for(var e=r;e.includes("*")||e.includes("/");){var n,i=(n=RH.exec(e))!==null&&n!==void 0?n:[],a=Yx(i,4),s=a[1],o=a[2],c=a[3],l=X1.parse(s??""),u=X1.parse(c??""),d=o==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return ap;e=e.replace(RH,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,p=(f=$H.exec(e))!==null&&f!==void 0?f:[],m=Yx(p,4),y=m[1],v=m[2],b=m[3],w=X1.parse(y??""),x=X1.parse(b??""),E=v==="+"?w.add(x):w.subtract(x);if(E.isNaN())return ap;e=e.replace($H,E.toString())}return e}var jH=/\(([^()]*)\)/;function Aze(r){for(var e=r;e.includes("(");){var n=jH.exec(e),i=Yx(n,2),a=i[1];e=e.replace(jH,Ine(a))}return e}function Tze(r){var e=r.replace(/\s+/g,"");return e=Aze(e),e=Ine(e),e}function kze(r){try{return Tze(r)}catch{return ap}}function AN(r){var e=kze(r.slice(5,-1));return e===ap?"":e}var Pze=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Oze=["dx","dy","angle","className","breakAll"];function dj(){return dj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},dj.apply(this,arguments)}function DH(r,e){if(r==null)return{};var n=Nze(r,e),i,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(a=0;a<s.length;a++)i=s[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(r,i)&&(n[i]=r[i])}return n}function Nze(r,e){if(r==null)return{};var n={};for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){if(e.indexOf(i)>=0)continue;n[i]=r[i]}return n}function MH(r,e){return jze(r)||$ze(r,e)||Rze(r,e)||Ize()}function Ize(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rze(r,e){if(r){if(typeof r=="string")return LH(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LH(r,e)}}function LH(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=r[n];return i}function $ze(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var i,a,s,o,c=[],l=!0,u=!1;try{if(s=(n=n.call(r)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=s.call(n)).done)&&(c.push(i.value),c.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return c}}function jze(r){if(Array.isArray(r))return r}var Rne=/[ \f\n\r\t\v\u2028\u2029]+/,$ne=function(e){var n=e.children,i=e.breakAll,a=e.style;try{var s=[];Ht(n)||(i?s=n.toString().split(""):s=n.toString().split(Rne));var o=s.map(function(l){return{word:l,width:nv(l,a).width}}),c=i?0:nv(" ",a).width;return{wordsWithComputedWidth:o,spaceWidth:c}}catch{return null}},Dze=function(e,n,i,a,s){var o=e.maxLines,c=e.children,l=e.style,u=e.breakAll,d=De(o),f=c,p=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return R.reduce(function(j,W){var H=W.word,z=W.width,B=j[j.length-1];if(B&&(a==null||s||B.width+z+i<Number(a)))B.words.push(H),B.width+=z+i;else{var F={words:[H],width:z};j.push(F)}return j},[])},m=p(n),y=function(R){return R.reduce(function(j,W){return j.width>W.width?j:W})};if(!d)return m;for(var v="…",b=function(R){var j=f.slice(0,R),W=$ne({breakAll:u,style:l,children:j+v}).wordsWithComputedWidth,H=p(W),z=H.length>o||y(H).width>Number(a);return[z,H]},w=0,x=f.length-1,E=0,A;w<=x&&E<=f.length-1;){var S=Math.floor((w+x)/2),C=S-1,P=b(C),O=MH(P,2),I=O[0],M=O[1],D=b(S),q=MH(D,1),K=q[0];if(!I&&!K&&(w=S+1),I&&K&&(x=S-1),!I&&K){A=M;break}E++}return A||m},UH=function(e){var n=Ht(e)?[]:e.toString().split(Rne);return[{words:n}]},Mze=function(e){var n=e.width,i=e.scaleToFit,a=e.children,s=e.style,o=e.breakAll,c=e.maxLines;if((n||i)&&!Wg.isSsr){var l,u,d=$ne({breakAll:o,children:a,style:s});if(d){var f=d.wordsWithComputedWidth,p=d.spaceWidth;l=f,u=p}else return UH(a);return Dze({breakAll:o,children:a,maxLines:c,style:s},l,u,n,i)}return UH(a)},BH="#808080",Xx=function(e){var n=e.x,i=n===void 0?0:n,a=e.y,s=a===void 0?0:a,o=e.lineHeight,c=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,p=e.textAnchor,m=p===void 0?"start":p,y=e.verticalAnchor,v=y===void 0?"end":y,b=e.fill,w=b===void 0?BH:b,x=DH(e,Pze),E=U.useMemo(function(){return Mze({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),A=x.dx,S=x.dy,C=x.angle,P=x.className,O=x.breakAll,I=DH(x,Oze);if(!Rn(i)||!Rn(s))return null;var M=i+(De(A)?A:0),D=s+(De(S)?S:0),q;switch(v){case"start":q=AN("calc(".concat(u,")"));break;case"middle":q=AN("calc(".concat((E.length-1)/2," * -").concat(c," + (").concat(u," / 2))"));break;default:q=AN("calc(".concat(E.length-1," * -").concat(c,")"));break}var K=[];if(f){var L=E[0].width,R=x.width;K.push("scale(".concat((De(R)?R/L:1)/L,")"))}return C&&K.push("rotate(".concat(C,", ").concat(M,", ").concat(D,")")),K.length&&(I.transform=K.join(" ")),ee.createElement("text",dj({},Xt(I,!0),{x:M,y:D,className:ar("recharts-text",P),textAnchor:m,fill:w.includes("url")?BH:w}),E.map(function(j,W){var H=j.words.join(O?"":" ");return ee.createElement("tspan",{x:M,dy:W===0?q:c,key:"".concat(H,"-").concat(W)},H)}))};function Ru(r,e){return r==null||e==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function Lze(r,e){return r==null||e==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function N5(r){let e,n,i;r.length!==2?(e=Ru,n=(c,l)=>Ru(r(c),l),i=(c,l)=>r(c)-l):(e=r===Ru||r===Lze?r:Uze,n=r,i=r);function a(c,l,u=0,d=c.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;n(c[f],l)<0?u=f+1:d=f}while(u<d)}return u}function s(c,l,u=0,d=c.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;n(c[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function o(c,l,u=0,d=c.length){const f=a(c,l,u,d-1);return f>u&&i(c[f-1],l)>-i(c[f],l)?f-1:f}return{left:a,center:o,right:s}}function Uze(){return 0}function jne(r){return r===null?NaN:+r}function*Bze(r,e){for(let n of r)n!=null&&(n=+n)>=n&&(yield n)}const Fze=N5(Ru),Fb=Fze.right;N5(jne).center;class FH extends Map{constructor(e,n=Hze){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[i,a]of e)this.set(i,a)}get(e){return super.get(qH(this,e))}has(e){return super.has(qH(this,e))}set(e,n){return super.set(qze(this,e),n)}delete(e){return super.delete(zze(this,e))}}function qH({_intern:r,_key:e},n){const i=e(n);return r.has(i)?r.get(i):n}function qze({_intern:r,_key:e},n){const i=e(n);return r.has(i)?r.get(i):(r.set(i,n),n)}function zze({_intern:r,_key:e},n){const i=e(n);return r.has(i)&&(n=r.get(i),r.delete(i)),n}function Hze(r){return r!==null&&typeof r=="object"?r.valueOf():r}function Wze(r=Ru){if(r===Ru)return Dne;if(typeof r!="function")throw new TypeError("compare is not a function");return(e,n)=>{const i=r(e,n);return i||i===0?i:(r(n,n)===0)-(r(e,e)===0)}}function Dne(r,e){return(r==null||!(r>=r))-(e==null||!(e>=e))||(r<e?-1:r>e?1:0)}const Vze=Math.sqrt(50),Gze=Math.sqrt(10),Kze=Math.sqrt(2);function Jx(r,e,n){const i=(e-r)/Math.max(0,n),a=Math.floor(Math.log10(i)),s=i/Math.pow(10,a),o=s>=Vze?10:s>=Gze?5:s>=Kze?2:1;let c,l,u;return a<0?(u=Math.pow(10,-a)/o,c=Math.round(r*u),l=Math.round(e*u),c/u<r&&++c,l/u>e&&--l,u=-u):(u=Math.pow(10,a)*o,c=Math.round(r/u),l=Math.round(e/u),c*u<r&&++c,l*u>e&&--l),l<c&&.5<=n&&n<2?Jx(r,e,n*2):[c,l,u]}function fj(r,e,n){if(e=+e,r=+r,n=+n,!(n>0))return[];if(r===e)return[r];const i=e<r,[a,s,o]=i?Jx(e,r,n):Jx(r,e,n);if(!(s>=a))return[];const c=s-a+1,l=new Array(c);if(i)if(o<0)for(let u=0;u<c;++u)l[u]=(s-u)/-o;else for(let u=0;u<c;++u)l[u]=(s-u)*o;else if(o<0)for(let u=0;u<c;++u)l[u]=(a+u)/-o;else for(let u=0;u<c;++u)l[u]=(a+u)*o;return l}function hj(r,e,n){return e=+e,r=+r,n=+n,Jx(r,e,n)[2]}function pj(r,e,n){e=+e,r=+r,n=+n;const i=e<r,a=i?hj(e,r,n):hj(r,e,n);return(i?-1:1)*(a<0?1/-a:a)}function Zx(r,e){let n;if(e===void 0)for(const i of r)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let a of r)(a=e(a,++i,r))!=null&&(n<a||n===void 0&&a>=a)&&(n=a)}return n}function Qx(r,e){let n;if(e===void 0)for(const i of r)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let a of r)(a=e(a,++i,r))!=null&&(n>a||n===void 0&&a>=a)&&(n=a)}return n}function Mne(r,e,n=0,i=1/0,a){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(r.length-1,i)),!(n<=e&&e<=i))return r;for(a=a===void 0?Dne:Wze(a);i>n;){if(i-n>600){const l=i-n+1,u=e-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(e-u*f/l+p)),y=Math.min(i,Math.floor(e+(l-u)*f/l+p));Mne(r,e,m,y,a)}const s=r[e];let o=n,c=i;for(sy(r,n,e),a(r[i],s)>0&&sy(r,n,i);o<c;){for(sy(r,o,c),++o,--c;a(r[o],s)<0;)++o;for(;a(r[c],s)>0;)--c}a(r[n],s)===0?sy(r,n,c):(++c,sy(r,c,i)),c<=e&&(n=c+1),e<=c&&(i=c-1)}return r}function sy(r,e,n){const i=r[e];r[e]=r[n],r[n]=i}function Yze(r,e,n){if(r=Float64Array.from(Bze(r)),!(!(i=r.length)||isNaN(e=+e))){if(e<=0||i<2)return Qx(r);if(e>=1)return Zx(r);var i,a=(i-1)*e,s=Math.floor(a),o=Zx(Mne(r,s).subarray(0,s+1)),c=Qx(r.subarray(s+1));return o+(c-o)*(a-s)}}function Xze(r,e,n=jne){if(!(!(i=r.length)||isNaN(e=+e))){if(e<=0||i<2)return+n(r[0],0,r);if(e>=1)return+n(r[i-1],i-1,r);var i,a=(i-1)*e,s=Math.floor(a),o=+n(r[s],s,r),c=+n(r[s+1],s+1,r);return o+(c-o)*(a-s)}}function Jze(r,e,n){r=+r,e=+e,n=(a=arguments.length)<2?(e=r,r=0,1):a<3?1:+n;for(var i=-1,a=Math.max(0,Math.ceil((e-r)/n))|0,s=new Array(a);++i<a;)s[i]=r+i*n;return s}function Zze(r,e){let n=0;for(let i of r)(i=+i)&&(n+=i);return n}function Ts(r,e){switch(arguments.length){case 0:break;case 1:this.range(r);break;default:this.range(e).domain(r);break}return this}function xl(r,e){switch(arguments.length){case 0:break;case 1:{typeof r=="function"?this.interpolator(r):this.range(r);break}default:{this.domain(r),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const gj=Symbol("implicit");function hC(){var r=new FH,e=[],n=[],i=gj;function a(s){let o=r.get(s);if(o===void 0){if(i!==gj)return i;r.set(s,o=e.push(s)-1)}return n[o%n.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],r=new FH;for(const o of s)r.has(o)||r.set(o,e.push(o)-1);return a},a.range=function(s){return arguments.length?(n=Array.from(s),a):n.slice()},a.unknown=function(s){return arguments.length?(i=s,a):i},a.copy=function(){return hC(e,n).unknown(i)},Ts.apply(a,arguments),a}function S0(){var r=hC().unknown(void 0),e=r.domain,n=r.range,i=0,a=1,s,o,c=!1,l=0,u=0,d=.5;delete r.unknown;function f(){var p=e().length,m=a<i,y=m?a:i,v=m?i:a;s=(v-y)/Math.max(1,p-l+u*2),c&&(s=Math.floor(s)),y+=(v-y-s*(p-l))*d,o=s*(1-l),c&&(y=Math.round(y),o=Math.round(o));var b=Jze(p).map(function(w){return y+s*w});return n(m?b.reverse():b)}return r.domain=function(p){return arguments.length?(e(p),f()):e()},r.range=function(p){return arguments.length?([i,a]=p,i=+i,a=+a,f()):[i,a]},r.rangeRound=function(p){return[i,a]=p,i=+i,a=+a,c=!0,f()},r.bandwidth=function(){return o},r.step=function(){return s},r.round=function(p){return arguments.length?(c=!!p,f()):c},r.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),f()):l},r.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},r.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},r.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},r.copy=function(){return S0(e(),[i,a]).round(c).paddingInner(l).paddingOuter(u).align(d)},Ts.apply(f(),arguments)}function Lne(r){var e=r.copy;return r.padding=r.paddingOuter,delete r.paddingInner,delete r.paddingOuter,r.copy=function(){return Lne(e())},r}function iv(){return Lne(S0.apply(null,arguments).paddingInner(1))}function I5(r,e,n){r.prototype=e.prototype=n,n.constructor=r}function Une(r,e){var n=Object.create(r.prototype);for(var i in e)n[i]=e[i];return n}function qb(){}var C0=.7,eE=1/C0,yp="\\s*([+-]?\\d+)\\s*",A0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Qze=/^#([0-9a-f]{3,8})$/,e7e=new RegExp(`^rgb\\(${yp},${yp},${yp}\\)$`),t7e=new RegExp(`^rgb\\(${Wo},${Wo},${Wo}\\)$`),r7e=new RegExp(`^rgba\\(${yp},${yp},${yp},${A0}\\)$`),n7e=new RegExp(`^rgba\\(${Wo},${Wo},${Wo},${A0}\\)$`),i7e=new RegExp(`^hsl\\(${A0},${Wo},${Wo}\\)$`),a7e=new RegExp(`^hsla\\(${A0},${Wo},${Wo},${A0}\\)$`),zH={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};I5(qb,Tf,{copy(r){return Object.assign(new this.constructor,this,r)},displayable(){return this.rgb().displayable()},hex:HH,formatHex:HH,formatHex8:s7e,formatHsl:o7e,formatRgb:WH,toString:WH});function HH(){return this.rgb().formatHex()}function s7e(){return this.rgb().formatHex8()}function o7e(){return Bne(this).formatHsl()}function WH(){return this.rgb().formatRgb()}function Tf(r){var e,n;return r=(r+"").trim().toLowerCase(),(e=Qze.exec(r))?(n=e[1].length,e=parseInt(e[1],16),n===6?VH(e):n===3?new la(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?J1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?J1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=e7e.exec(r))?new la(e[1],e[2],e[3],1):(e=t7e.exec(r))?new la(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=r7e.exec(r))?J1(e[1],e[2],e[3],e[4]):(e=n7e.exec(r))?J1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=i7e.exec(r))?YH(e[1],e[2]/100,e[3]/100,1):(e=a7e.exec(r))?YH(e[1],e[2]/100,e[3]/100,e[4]):zH.hasOwnProperty(r)?VH(zH[r]):r==="transparent"?new la(NaN,NaN,NaN,0):null}function VH(r){return new la(r>>16&255,r>>8&255,r&255,1)}function J1(r,e,n,i){return i<=0&&(r=e=n=NaN),new la(r,e,n,i)}function c7e(r){return r instanceof qb||(r=Tf(r)),r?(r=r.rgb(),new la(r.r,r.g,r.b,r.opacity)):new la}function mj(r,e,n,i){return arguments.length===1?c7e(r):new la(r,e,n,i??1)}function la(r,e,n,i){this.r=+r,this.g=+e,this.b=+n,this.opacity=+i}I5(la,mj,Une(qb,{brighter(r){return r=r==null?eE:Math.pow(eE,r),new la(this.r*r,this.g*r,this.b*r,this.opacity)},darker(r){return r=r==null?C0:Math.pow(C0,r),new la(this.r*r,this.g*r,this.b*r,this.opacity)},rgb(){return this},clamp(){return new la(rf(this.r),rf(this.g),rf(this.b),tE(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:GH,formatHex:GH,formatHex8:l7e,formatRgb:KH,toString:KH}));function GH(){return`#${Fd(this.r)}${Fd(this.g)}${Fd(this.b)}`}function l7e(){return`#${Fd(this.r)}${Fd(this.g)}${Fd(this.b)}${Fd((isNaN(this.opacity)?1:this.opacity)*255)}`}function KH(){const r=tE(this.opacity);return`${r===1?"rgb(":"rgba("}${rf(this.r)}, ${rf(this.g)}, ${rf(this.b)}${r===1?")":`, ${r})`}`}function tE(r){return isNaN(r)?1:Math.max(0,Math.min(1,r))}function rf(r){return Math.max(0,Math.min(255,Math.round(r)||0))}function Fd(r){return r=rf(r),(r<16?"0":"")+r.toString(16)}function YH(r,e,n,i){return i<=0?r=e=n=NaN:n<=0||n>=1?r=e=NaN:e<=0&&(r=NaN),new eo(r,e,n,i)}function Bne(r){if(r instanceof eo)return new eo(r.h,r.s,r.l,r.opacity);if(r instanceof qb||(r=Tf(r)),!r)return new eo;if(r instanceof eo)return r;r=r.rgb();var e=r.r/255,n=r.g/255,i=r.b/255,a=Math.min(e,n,i),s=Math.max(e,n,i),o=NaN,c=s-a,l=(s+a)/2;return c?(e===s?o=(n-i)/c+(n<i)*6:n===s?o=(i-e)/c+2:o=(e-n)/c+4,c/=l<.5?s+a:2-s-a,o*=60):c=l>0&&l<1?0:o,new eo(o,c,l,r.opacity)}function u7e(r,e,n,i){return arguments.length===1?Bne(r):new eo(r,e,n,i??1)}function eo(r,e,n,i){this.h=+r,this.s=+e,this.l=+n,this.opacity=+i}I5(eo,u7e,Une(qb,{brighter(r){return r=r==null?eE:Math.pow(eE,r),new eo(this.h,this.s,this.l*r,this.opacity)},darker(r){return r=r==null?C0:Math.pow(C0,r),new eo(this.h,this.s,this.l*r,this.opacity)},rgb(){var r=this.h%360+(this.h<0)*360,e=isNaN(r)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,a=2*n-i;return new la(TN(r>=240?r-240:r+120,a,i),TN(r,a,i),TN(r<120?r+240:r-120,a,i),this.opacity)},clamp(){return new eo(XH(this.h),Z1(this.s),Z1(this.l),tE(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const r=tE(this.opacity);return`${r===1?"hsl(":"hsla("}${XH(this.h)}, ${Z1(this.s)*100}%, ${Z1(this.l)*100}%${r===1?")":`, ${r})`}`}}));function XH(r){return r=(r||0)%360,r<0?r+360:r}function Z1(r){return Math.max(0,Math.min(1,r||0))}function TN(r,e,n){return(r<60?e+(n-e)*r/60:r<180?n:r<240?e+(n-e)*(240-r)/60:e)*255}const R5=r=>()=>r;function d7e(r,e){return function(n){return r+n*e}}function f7e(r,e,n){return r=Math.pow(r,n),e=Math.pow(e,n)-r,n=1/n,function(i){return Math.pow(r+i*e,n)}}function h7e(r){return(r=+r)==1?Fne:function(e,n){return n-e?f7e(e,n,r):R5(isNaN(e)?n:e)}}function Fne(r,e){var n=e-r;return n?d7e(r,n):R5(isNaN(r)?e:r)}const rE=function r(e){var n=h7e(e);function i(a,s){var o=n((a=mj(a)).r,(s=mj(s)).r),c=n(a.g,s.g),l=n(a.b,s.b),u=Fne(a.opacity,s.opacity);return function(d){return a.r=o(d),a.g=c(d),a.b=l(d),a.opacity=u(d),a+""}}return i.gamma=r,i}(1);function p7e(r,e){e||(e=[]);var n=r?Math.min(e.length,r.length):0,i=e.slice(),a;return function(s){for(a=0;a<n;++a)i[a]=r[a]*(1-s)+e[a]*s;return i}}function g7e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function m7e(r,e){var n=e?e.length:0,i=r?Math.min(n,r.length):0,a=new Array(i),s=new Array(n),o;for(o=0;o<i;++o)a[o]=Vg(r[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(c){for(o=0;o<i;++o)s[o]=a[o](c);return s}}function y7e(r,e){var n=new Date;return r=+r,e=+e,function(i){return n.setTime(r*(1-i)+e*i),n}}function Js(r,e){return r=+r,e=+e,function(n){return r*(1-n)+e*n}}function v7e(r,e){var n={},i={},a;(r===null||typeof r!="object")&&(r={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in r?n[a]=Vg(r[a],e[a]):i[a]=e[a];return function(s){for(a in n)i[a]=n[a](s);return i}}var yj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,kN=new RegExp(yj.source,"g");function b7e(r){return function(){return r}}function w7e(r){return function(e){return r(e)+""}}function qne(r,e){var n=yj.lastIndex=kN.lastIndex=0,i,a,s,o=-1,c=[],l=[];for(r=r+"",e=e+"";(i=yj.exec(r))&&(a=kN.exec(e));)(s=a.index)>n&&(s=e.slice(n,s),c[o]?c[o]+=s:c[++o]=s),(i=i[0])===(a=a[0])?c[o]?c[o]+=a:c[++o]=a:(c[++o]=null,l.push({i:o,x:Js(i,a)})),n=kN.lastIndex;return n<e.length&&(s=e.slice(n),c[o]?c[o]+=s:c[++o]=s),c.length<2?l[0]?w7e(l[0].x):b7e(e):(e=l.length,function(u){for(var d=0,f;d<e;++d)c[(f=l[d]).i]=f.x(u);return c.join("")})}function Vg(r,e){var n=typeof e,i;return e==null||n==="boolean"?R5(e):(n==="number"?Js:n==="string"?(i=Tf(e))?(e=i,rE):qne:e instanceof Tf?rE:e instanceof Date?y7e:g7e(e)?p7e:Array.isArray(e)?m7e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?v7e:Js)(r,e)}function $5(r,e){return r=+r,e=+e,function(n){return Math.round(r*(1-n)+e*n)}}var JH=180/Math.PI,vj={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function zne(r,e,n,i,a,s){var o,c,l;return(o=Math.sqrt(r*r+e*e))&&(r/=o,e/=o),(l=r*n+e*i)&&(n-=r*l,i-=e*l),(c=Math.sqrt(n*n+i*i))&&(n/=c,i/=c,l/=c),r*i<e*n&&(r=-r,e=-e,l=-l,o=-o),{translateX:a,translateY:s,rotate:Math.atan2(e,r)*JH,skewX:Math.atan(l)*JH,scaleX:o,scaleY:c}}var Q1;function _7e(r){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(r+"");return e.isIdentity?vj:zne(e.a,e.b,e.c,e.d,e.e,e.f)}function x7e(r){return r==null||(Q1||(Q1=document.createElementNS("http://www.w3.org/2000/svg","g")),Q1.setAttribute("transform",r),!(r=Q1.transform.baseVal.consolidate()))?vj:(r=r.matrix,zne(r.a,r.b,r.c,r.d,r.e,r.f))}function Hne(r,e,n,i){function a(u){return u.length?u.pop()+" ":""}function s(u,d,f,p,m,y){if(u!==f||d!==p){var v=m.push("translate(",null,e,null,n);y.push({i:v-4,x:Js(u,f)},{i:v-2,x:Js(d,p)})}else(f||p)&&m.push("translate("+f+e+p+n)}function o(u,d,f,p){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),p.push({i:f.push(a(f)+"rotate(",null,i)-2,x:Js(u,d)})):d&&f.push(a(f)+"rotate("+d+i)}function c(u,d,f,p){u!==d?p.push({i:f.push(a(f)+"skewX(",null,i)-2,x:Js(u,d)}):d&&f.push(a(f)+"skewX("+d+i)}function l(u,d,f,p,m,y){if(u!==f||d!==p){var v=m.push(a(m)+"scale(",null,",",null,")");y.push({i:v-4,x:Js(u,f)},{i:v-2,x:Js(d,p)})}else(f!==1||p!==1)&&m.push(a(m)+"scale("+f+","+p+")")}return function(u,d){var f=[],p=[];return u=r(u),d=r(d),s(u.translateX,u.translateY,d.translateX,d.translateY,f,p),o(u.rotate,d.rotate,f,p),c(u.skewX,d.skewX,f,p),l(u.scaleX,u.scaleY,d.scaleX,d.scaleY,f,p),u=d=null,function(m){for(var y=-1,v=p.length,b;++y<v;)f[(b=p[y]).i]=b.x(m);return f.join("")}}}var E7e=Hne(_7e,"px, ","px)","deg)"),S7e=Hne(x7e,", ",")",")"),C7e=1e-12;function ZH(r){return((r=Math.exp(r))+1/r)/2}function A7e(r){return((r=Math.exp(r))-1/r)/2}function T7e(r){return((r=Math.exp(2*r))-1)/(r+1)}const k7e=function r(e,n,i){function a(s,o){var c=s[0],l=s[1],u=s[2],d=o[0],f=o[1],p=o[2],m=d-c,y=f-l,v=m*m+y*y,b,w;if(v<C7e)w=Math.log(p/u)/e,b=function(P){return[c+P*m,l+P*y,u*Math.exp(e*P*w)]};else{var x=Math.sqrt(v),E=(p*p-u*u+i*v)/(2*u*n*x),A=(p*p-u*u-i*v)/(2*p*n*x),S=Math.log(Math.sqrt(E*E+1)-E),C=Math.log(Math.sqrt(A*A+1)-A);w=(C-S)/e,b=function(P){var O=P*w,I=ZH(S),M=u/(n*x)*(I*T7e(e*O+S)-A7e(S));return[c+M*m,l+M*y,u*I/ZH(e*O+S)]}}return b.duration=w*1e3*e/Math.SQRT2,b}return a.rho=function(s){var o=Math.max(.001,+s),c=o*o,l=c*c;return r(o,c,l)},a}(Math.SQRT2,2,4);function P7e(r,e){e===void 0&&(e=r,r=Vg);for(var n=0,i=e.length-1,a=e[0],s=new Array(i<0?0:i);n<i;)s[n]=r(a,a=e[++n]);return function(o){var c=Math.max(0,Math.min(i-1,Math.floor(o*=i)));return s[c](o-c)}}function O7e(r){return function(){return r}}function nE(r){return+r}var QH=[0,1];function Ui(r){return r}function bj(r,e){return(e-=r=+r)?function(n){return(n-r)/e}:O7e(isNaN(e)?NaN:.5)}function N7e(r,e){var n;return r>e&&(n=r,r=e,e=n),function(i){return Math.max(r,Math.min(e,i))}}function I7e(r,e,n){var i=r[0],a=r[1],s=e[0],o=e[1];return a<i?(i=bj(a,i),s=n(o,s)):(i=bj(i,a),s=n(s,o)),function(c){return s(i(c))}}function R7e(r,e,n){var i=Math.min(r.length,e.length)-1,a=new Array(i),s=new Array(i),o=-1;for(r[i]<r[0]&&(r=r.slice().reverse(),e=e.slice().reverse());++o<i;)a[o]=bj(r[o],r[o+1]),s[o]=n(e[o],e[o+1]);return function(c){var l=Fb(r,c,1,i)-1;return s[l](a[l](c))}}function zb(r,e){return e.domain(r.domain()).range(r.range()).interpolate(r.interpolate()).clamp(r.clamp()).unknown(r.unknown())}function pC(){var r=QH,e=QH,n=Vg,i,a,s,o=Ui,c,l,u;function d(){var p=Math.min(r.length,e.length);return o!==Ui&&(o=N7e(r[0],r[p-1])),c=p>2?R7e:I7e,l=u=null,f}function f(p){return p==null||isNaN(p=+p)?s:(l||(l=c(r.map(i),e,n)))(i(o(p)))}return f.invert=function(p){return o(a((u||(u=c(e,r.map(i),Js)))(p)))},f.domain=function(p){return arguments.length?(r=Array.from(p,nE),d()):r.slice()},f.range=function(p){return arguments.length?(e=Array.from(p),d()):e.slice()},f.rangeRound=function(p){return e=Array.from(p),n=$5,d()},f.clamp=function(p){return arguments.length?(o=p?!0:Ui,d()):o!==Ui},f.interpolate=function(p){return arguments.length?(n=p,d()):n},f.unknown=function(p){return arguments.length?(s=p,f):s},function(p,m){return i=p,a=m,d()}}function j5(){return pC()(Ui,Ui)}function $7e(r){return Math.abs(r=Math.round(r))>=1e21?r.toLocaleString("en").replace(/,/g,""):r.toString(10)}function iE(r,e){if((n=(r=e?r.toExponential(e-1):r.toExponential()).indexOf("e"))<0)return null;var n,i=r.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+r.slice(n+1)]}function rg(r){return r=iE(Math.abs(r)),r?r[1]:NaN}function j7e(r,e){return function(n,i){for(var a=n.length,s=[],o=0,c=r[0],l=0;a>0&&c>0&&(l+c+1>i&&(c=Math.max(1,i-l)),s.push(n.substring(a-=c,a+c)),!((l+=c+1)>i));)c=r[o=(o+1)%r.length];return s.reverse().join(e)}}function D7e(r){return function(e){return e.replace(/[0-9]/g,function(n){return r[+n]})}}var M7e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function T0(r){if(!(e=M7e.exec(r)))throw new Error("invalid format: "+r);var e;return new D5({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}T0.prototype=D5.prototype;function D5(r){this.fill=r.fill===void 0?" ":r.fill+"",this.align=r.align===void 0?">":r.align+"",this.sign=r.sign===void 0?"-":r.sign+"",this.symbol=r.symbol===void 0?"":r.symbol+"",this.zero=!!r.zero,this.width=r.width===void 0?void 0:+r.width,this.comma=!!r.comma,this.precision=r.precision===void 0?void 0:+r.precision,this.trim=!!r.trim,this.type=r.type===void 0?"":r.type+""}D5.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function L7e(r){e:for(var e=r.length,n=1,i=-1,a;n<e;++n)switch(r[n]){case".":i=a=n;break;case"0":i===0&&(i=n),a=n;break;default:if(!+r[n])break e;i>0&&(i=0);break}return i>0?r.slice(0,i)+r.slice(a+1):r}var Wne;function U7e(r,e){var n=iE(r,e);if(!n)return r+"";var i=n[0],a=n[1],s=a-(Wne=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=i.length;return s===o?i:s>o?i+new Array(s-o+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+iE(r,Math.max(0,e+s-1))[0]}function eW(r,e){var n=iE(r,e);if(!n)return r+"";var i=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+i:i.length>a+1?i.slice(0,a+1)+"."+i.slice(a+1):i+new Array(a-i.length+2).join("0")}const tW={"%":(r,e)=>(r*100).toFixed(e),b:r=>Math.round(r).toString(2),c:r=>r+"",d:$7e,e:(r,e)=>r.toExponential(e),f:(r,e)=>r.toFixed(e),g:(r,e)=>r.toPrecision(e),o:r=>Math.round(r).toString(8),p:(r,e)=>eW(r*100,e),r:eW,s:U7e,X:r=>Math.round(r).toString(16).toUpperCase(),x:r=>Math.round(r).toString(16)};function rW(r){return r}var nW=Array.prototype.map,iW=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function B7e(r){var e=r.grouping===void 0||r.thousands===void 0?rW:j7e(nW.call(r.grouping,Number),r.thousands+""),n=r.currency===void 0?"":r.currency[0]+"",i=r.currency===void 0?"":r.currency[1]+"",a=r.decimal===void 0?".":r.decimal+"",s=r.numerals===void 0?rW:D7e(nW.call(r.numerals,String)),o=r.percent===void 0?"%":r.percent+"",c=r.minus===void 0?"−":r.minus+"",l=r.nan===void 0?"NaN":r.nan+"";function u(f){f=T0(f);var p=f.fill,m=f.align,y=f.sign,v=f.symbol,b=f.zero,w=f.width,x=f.comma,E=f.precision,A=f.trim,S=f.type;S==="n"?(x=!0,S="g"):tW[S]||(E===void 0&&(E=12),A=!0,S="g"),(b||p==="0"&&m==="=")&&(b=!0,p="0",m="=");var C=v==="$"?n:v==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",P=v==="$"?i:/[%p]/.test(S)?o:"",O=tW[S],I=/[defgprs%]/.test(S);E=E===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function M(D){var q=C,K=P,L,R,j;if(S==="c")K=O(D)+K,D="";else{D=+D;var W=D<0||1/D<0;if(D=isNaN(D)?l:O(Math.abs(D),E),A&&(D=L7e(D)),W&&+D==0&&y!=="+"&&(W=!1),q=(W?y==="("?y:c:y==="-"||y==="("?"":y)+q,K=(S==="s"?iW[8+Wne/3]:"")+K+(W&&y==="("?")":""),I){for(L=-1,R=D.length;++L<R;)if(j=D.charCodeAt(L),48>j||j>57){K=(j===46?a+D.slice(L+1):D.slice(L))+K,D=D.slice(0,L);break}}}x&&!b&&(D=e(D,1/0));var H=q.length+D.length+K.length,z=H<w?new Array(w-H+1).join(p):"";switch(x&&b&&(D=e(z+D,z.length?w-K.length:1/0),z=""),m){case"<":D=q+D+K+z;break;case"=":D=q+z+D+K;break;case"^":D=z.slice(0,H=z.length>>1)+q+D+K+z.slice(H);break;default:D=z+q+D+K;break}return s(D)}return M.toString=function(){return f+""},M}function d(f,p){var m=u((f=T0(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(rg(p)/3)))*3,v=Math.pow(10,-y),b=iW[8+y/3];return function(w){return m(v*w)+b}}return{format:u,formatPrefix:d}}var e_,M5,Vne;F7e({thousands:",",grouping:[3],currency:["$",""]});function F7e(r){return e_=B7e(r),M5=e_.format,Vne=e_.formatPrefix,e_}function q7e(r){return Math.max(0,-rg(Math.abs(r)))}function z7e(r,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(rg(e)/3)))*3-rg(Math.abs(r)))}function H7e(r,e){return r=Math.abs(r),e=Math.abs(e)-r,Math.max(0,rg(e)-rg(r))+1}function Gne(r,e,n,i){var a=pj(r,e,n),s;switch(i=T0(i??",f"),i.type){case"s":{var o=Math.max(Math.abs(r),Math.abs(e));return i.precision==null&&!isNaN(s=z7e(a,o))&&(i.precision=s),Vne(i,o)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=H7e(a,Math.max(Math.abs(r),Math.abs(e))))&&(i.precision=s-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(s=q7e(a))&&(i.precision=s-(i.type==="%")*2);break}}return M5(i)}function Vu(r){var e=r.domain;return r.ticks=function(n){var i=e();return fj(i[0],i[i.length-1],n??10)},r.tickFormat=function(n,i){var a=e();return Gne(a[0],a[a.length-1],n??10,i)},r.nice=function(n){n==null&&(n=10);var i=e(),a=0,s=i.length-1,o=i[a],c=i[s],l,u,d=10;for(c<o&&(u=o,o=c,c=u,u=a,a=s,s=u);d-- >0;){if(u=hj(o,c,n),u===l)return i[a]=o,i[s]=c,e(i);if(u>0)o=Math.floor(o/u)*u,c=Math.ceil(c/u)*u;else if(u<0)o=Math.ceil(o*u)/u,c=Math.floor(c*u)/u;else break;l=u}return r},r}function aE(){var r=j5();return r.copy=function(){return zb(r,aE())},Ts.apply(r,arguments),Vu(r)}function Kne(r){var e;function n(i){return i==null||isNaN(i=+i)?e:i}return n.invert=n,n.domain=n.range=function(i){return arguments.length?(r=Array.from(i,nE),n):r.slice()},n.unknown=function(i){return arguments.length?(e=i,n):e},n.copy=function(){return Kne(r).unknown(e)},r=arguments.length?Array.from(r,nE):[0,1],Vu(n)}function Yne(r,e){r=r.slice();var n=0,i=r.length-1,a=r[n],s=r[i],o;return s<a&&(o=n,n=i,i=o,o=a,a=s,s=o),r[n]=e.floor(a),r[i]=e.ceil(s),r}function aW(r){return Math.log(r)}function sW(r){return Math.exp(r)}function W7e(r){return-Math.log(-r)}function V7e(r){return-Math.exp(-r)}function G7e(r){return isFinite(r)?+("1e"+r):r<0?0:r}function K7e(r){return r===10?G7e:r===Math.E?Math.exp:e=>Math.pow(r,e)}function Y7e(r){return r===Math.E?Math.log:r===10&&Math.log10||r===2&&Math.log2||(r=Math.log(r),e=>Math.log(e)/r)}function oW(r){return(e,n)=>-r(-e,n)}function L5(r){const e=r(aW,sW),n=e.domain;let i=10,a,s;function o(){return a=Y7e(i),s=K7e(i),n()[0]<0?(a=oW(a),s=oW(s),r(W7e,V7e)):r(aW,sW),e}return e.base=function(c){return arguments.length?(i=+c,o()):i},e.domain=function(c){return arguments.length?(n(c),o()):n()},e.ticks=c=>{const l=n();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let p=a(u),m=a(d),y,v;const b=c==null?10:+c;let w=[];if(!(i%1)&&m-p<b){if(p=Math.floor(p),m=Math.ceil(m),u>0){for(;p<=m;++p)for(y=1;y<i;++y)if(v=p<0?y/s(-p):y*s(p),!(v<u)){if(v>d)break;w.push(v)}}else for(;p<=m;++p)for(y=i-1;y>=1;--y)if(v=p>0?y/s(-p):y*s(p),!(v<u)){if(v>d)break;w.push(v)}w.length*2<b&&(w=fj(u,d,b))}else w=fj(p,m,Math.min(m-p,b)).map(s);return f?w.reverse():w},e.tickFormat=(c,l)=>{if(c==null&&(c=10),l==null&&(l=i===10?"s":","),typeof l!="function"&&(!(i%1)&&(l=T0(l)).precision==null&&(l.trim=!0),l=M5(l)),c===1/0)return l;const u=Math.max(1,i*c/e.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*i<i-.5&&(f*=i),f<=u?l(d):""}},e.nice=()=>n(Yne(n(),{floor:c=>s(Math.floor(a(c))),ceil:c=>s(Math.ceil(a(c)))})),e}function Xne(){const r=L5(pC()).domain([1,10]);return r.copy=()=>zb(r,Xne()).base(r.base()),Ts.apply(r,arguments),r}function cW(r){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/r))}}function lW(r){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*r}}function U5(r){var e=1,n=r(cW(e),lW(e));return n.constant=function(i){return arguments.length?r(cW(e=+i),lW(e)):e},Vu(n)}function Jne(){var r=U5(pC());return r.copy=function(){return zb(r,Jne()).constant(r.constant())},Ts.apply(r,arguments)}function uW(r){return function(e){return e<0?-Math.pow(-e,r):Math.pow(e,r)}}function X7e(r){return r<0?-Math.sqrt(-r):Math.sqrt(r)}function J7e(r){return r<0?-r*r:r*r}function B5(r){var e=r(Ui,Ui),n=1;function i(){return n===1?r(Ui,Ui):n===.5?r(X7e,J7e):r(uW(n),uW(1/n))}return e.exponent=function(a){return arguments.length?(n=+a,i()):n},Vu(e)}function F5(){var r=B5(pC());return r.copy=function(){return zb(r,F5()).exponent(r.exponent())},Ts.apply(r,arguments),r}function Z7e(){return F5.apply(null,arguments).exponent(.5)}function dW(r){return Math.sign(r)*r*r}function Q7e(r){return Math.sign(r)*Math.sqrt(Math.abs(r))}function Zne(){var r=j5(),e=[0,1],n=!1,i;function a(s){var o=Q7e(r(s));return isNaN(o)?i:n?Math.round(o):o}return a.invert=function(s){return r.invert(dW(s))},a.domain=function(s){return arguments.length?(r.domain(s),a):r.domain()},a.range=function(s){return arguments.length?(r.range((e=Array.from(s,nE)).map(dW)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(n=!!s,a):n},a.clamp=function(s){return arguments.length?(r.clamp(s),a):r.clamp()},a.unknown=function(s){return arguments.length?(i=s,a):i},a.copy=function(){return Zne(r.domain(),e).round(n).clamp(r.clamp()).unknown(i)},Ts.apply(a,arguments),Vu(a)}function Qne(){var r=[],e=[],n=[],i;function a(){var o=0,c=Math.max(1,e.length);for(n=new Array(c-1);++o<c;)n[o-1]=Xze(r,o/c);return s}function s(o){return o==null||isNaN(o=+o)?i:e[Fb(n,o)]}return s.invertExtent=function(o){var c=e.indexOf(o);return c<0?[NaN,NaN]:[c>0?n[c-1]:r[0],c<n.length?n[c]:r[r.length-1]]},s.domain=function(o){if(!arguments.length)return r.slice();r=[];for(let c of o)c!=null&&!isNaN(c=+c)&&r.push(c);return r.sort(Ru),a()},s.range=function(o){return arguments.length?(e=Array.from(o),a()):e.slice()},s.unknown=function(o){return arguments.length?(i=o,s):i},s.quantiles=function(){return n.slice()},s.copy=function(){return Qne().domain(r).range(e).unknown(i)},Ts.apply(s,arguments)}function eie(){var r=0,e=1,n=1,i=[.5],a=[0,1],s;function o(l){return l!=null&&l<=l?a[Fb(i,l,0,n)]:s}function c(){var l=-1;for(i=new Array(n);++l<n;)i[l]=((l+1)*e-(l-n)*r)/(n+1);return o}return o.domain=function(l){return arguments.length?([r,e]=l,r=+r,e=+e,c()):[r,e]},o.range=function(l){return arguments.length?(n=(a=Array.from(l)).length-1,c()):a.slice()},o.invertExtent=function(l){var u=a.indexOf(l);return u<0?[NaN,NaN]:u<1?[r,i[0]]:u>=n?[i[n-1],e]:[i[u-1],i[u]]},o.unknown=function(l){return arguments.length&&(s=l),o},o.thresholds=function(){return i.slice()},o.copy=function(){return eie().domain([r,e]).range(a).unknown(s)},Ts.apply(Vu(o),arguments)}function tie(){var r=[.5],e=[0,1],n,i=1;function a(s){return s!=null&&s<=s?e[Fb(r,s,0,i)]:n}return a.domain=function(s){return arguments.length?(r=Array.from(s),i=Math.min(r.length,e.length-1),a):r.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),i=Math.min(r.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var o=e.indexOf(s);return[r[o-1],r[o]]},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return tie().domain(r).range(e).unknown(n)},Ts.apply(a,arguments)}const PN=new Date,ON=new Date;function $n(r,e,n,i){function a(s){return r(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(r(s=new Date(+s)),s),a.ceil=s=>(r(s=new Date(s-1)),e(s,1),r(s),s),a.round=s=>{const o=a(s),c=a.ceil(s);return s-o<c-s?o:c},a.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),a.range=(s,o,c)=>{const l=[];if(s=a.ceil(s),c=c==null?1:Math.floor(c),!(s<o)||!(c>0))return l;let u;do l.push(u=new Date(+s)),e(s,c),r(s);while(u<s&&s<o);return l},a.filter=s=>$n(o=>{if(o>=o)for(;r(o),!s(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;e(o,-1),!s(o););else for(;--c>=0;)for(;e(o,1),!s(o););}),n&&(a.count=(s,o)=>(PN.setTime(+s),ON.setTime(+o),r(PN),r(ON),Math.floor(n(PN,ON))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(i?o=>i(o)%s===0:o=>a.count(0,o)%s===0):a)),a}const sE=$n(()=>{},(r,e)=>{r.setTime(+r+e)},(r,e)=>e-r);sE.every=r=>(r=Math.floor(r),!isFinite(r)||!(r>0)?null:r>1?$n(e=>{e.setTime(Math.floor(e/r)*r)},(e,n)=>{e.setTime(+e+n*r)},(e,n)=>(n-e)/r):sE);sE.range;const Hc=1e3,hs=Hc*60,Wc=hs*60,ul=Wc*24,q5=ul*7,fW=ul*30,NN=ul*365,qd=$n(r=>{r.setTime(r-r.getMilliseconds())},(r,e)=>{r.setTime(+r+e*Hc)},(r,e)=>(e-r)/Hc,r=>r.getUTCSeconds());qd.range;const z5=$n(r=>{r.setTime(r-r.getMilliseconds()-r.getSeconds()*Hc)},(r,e)=>{r.setTime(+r+e*hs)},(r,e)=>(e-r)/hs,r=>r.getMinutes());z5.range;const H5=$n(r=>{r.setUTCSeconds(0,0)},(r,e)=>{r.setTime(+r+e*hs)},(r,e)=>(e-r)/hs,r=>r.getUTCMinutes());H5.range;const W5=$n(r=>{r.setTime(r-r.getMilliseconds()-r.getSeconds()*Hc-r.getMinutes()*hs)},(r,e)=>{r.setTime(+r+e*Wc)},(r,e)=>(e-r)/Wc,r=>r.getHours());W5.range;const V5=$n(r=>{r.setUTCMinutes(0,0,0)},(r,e)=>{r.setTime(+r+e*Wc)},(r,e)=>(e-r)/Wc,r=>r.getUTCHours());V5.range;const Hb=$n(r=>r.setHours(0,0,0,0),(r,e)=>r.setDate(r.getDate()+e),(r,e)=>(e-r-(e.getTimezoneOffset()-r.getTimezoneOffset())*hs)/ul,r=>r.getDate()-1);Hb.range;const gC=$n(r=>{r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCDate(r.getUTCDate()+e)},(r,e)=>(e-r)/ul,r=>r.getUTCDate()-1);gC.range;const rie=$n(r=>{r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCDate(r.getUTCDate()+e)},(r,e)=>(e-r)/ul,r=>Math.floor(r/ul));rie.range;function zf(r){return $n(e=>{e.setDate(e.getDate()-(e.getDay()+7-r)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*hs)/q5)}const mC=zf(0),oE=zf(1),e9e=zf(2),t9e=zf(3),ng=zf(4),r9e=zf(5),n9e=zf(6);mC.range;oE.range;e9e.range;t9e.range;ng.range;r9e.range;n9e.range;function Hf(r){return $n(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-r)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/q5)}const yC=Hf(0),cE=Hf(1),i9e=Hf(2),a9e=Hf(3),ig=Hf(4),s9e=Hf(5),o9e=Hf(6);yC.range;cE.range;i9e.range;a9e.range;ig.range;s9e.range;o9e.range;const G5=$n(r=>{r.setDate(1),r.setHours(0,0,0,0)},(r,e)=>{r.setMonth(r.getMonth()+e)},(r,e)=>e.getMonth()-r.getMonth()+(e.getFullYear()-r.getFullYear())*12,r=>r.getMonth());G5.range;const K5=$n(r=>{r.setUTCDate(1),r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCMonth(r.getUTCMonth()+e)},(r,e)=>e.getUTCMonth()-r.getUTCMonth()+(e.getUTCFullYear()-r.getUTCFullYear())*12,r=>r.getUTCMonth());K5.range;const dl=$n(r=>{r.setMonth(0,1),r.setHours(0,0,0,0)},(r,e)=>{r.setFullYear(r.getFullYear()+e)},(r,e)=>e.getFullYear()-r.getFullYear(),r=>r.getFullYear());dl.every=r=>!isFinite(r=Math.floor(r))||!(r>0)?null:$n(e=>{e.setFullYear(Math.floor(e.getFullYear()/r)*r),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*r)});dl.range;const fl=$n(r=>{r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCFullYear(r.getUTCFullYear()+e)},(r,e)=>e.getUTCFullYear()-r.getUTCFullYear(),r=>r.getUTCFullYear());fl.every=r=>!isFinite(r=Math.floor(r))||!(r>0)?null:$n(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/r)*r),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*r)});fl.range;function nie(r,e,n,i,a,s){const o=[[qd,1,Hc],[qd,5,5*Hc],[qd,15,15*Hc],[qd,30,30*Hc],[s,1,hs],[s,5,5*hs],[s,15,15*hs],[s,30,30*hs],[a,1,Wc],[a,3,3*Wc],[a,6,6*Wc],[a,12,12*Wc],[i,1,ul],[i,2,2*ul],[n,1,q5],[e,1,fW],[e,3,3*fW],[r,1,NN]];function c(u,d,f){const p=d<u;p&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:l(u,d,f),y=m?m.range(u,+d+1):[];return p?y.reverse():y}function l(u,d,f){const p=Math.abs(d-u)/f,m=N5(([,,b])=>b).right(o,p);if(m===o.length)return r.every(pj(u/NN,d/NN,f));if(m===0)return sE.every(Math.max(pj(u,d,f),1));const[y,v]=o[p/o[m-1][2]<o[m][2]/p?m-1:m];return y.every(v)}return[c,l]}const[c9e,l9e]=nie(fl,K5,yC,rie,V5,H5),[u9e,d9e]=nie(dl,G5,mC,Hb,W5,z5);function IN(r){if(0<=r.y&&r.y<100){var e=new Date(-1,r.m,r.d,r.H,r.M,r.S,r.L);return e.setFullYear(r.y),e}return new Date(r.y,r.m,r.d,r.H,r.M,r.S,r.L)}function RN(r){if(0<=r.y&&r.y<100){var e=new Date(Date.UTC(-1,r.m,r.d,r.H,r.M,r.S,r.L));return e.setUTCFullYear(r.y),e}return new Date(Date.UTC(r.y,r.m,r.d,r.H,r.M,r.S,r.L))}function oy(r,e,n){return{y:r,m:e,d:n,H:0,M:0,S:0,L:0}}function f9e(r){var e=r.dateTime,n=r.date,i=r.time,a=r.periods,s=r.days,o=r.shortDays,c=r.months,l=r.shortMonths,u=cy(a),d=ly(a),f=cy(s),p=ly(s),m=cy(o),y=ly(o),v=cy(c),b=ly(c),w=cy(l),x=ly(l),E={a:W,A:H,b:z,B,c:null,d:vW,e:vW,f:j9e,g:W9e,G:G9e,H:I9e,I:R9e,j:$9e,L:iie,m:D9e,M:M9e,p:F,q:G,Q:_W,s:xW,S:L9e,u:U9e,U:B9e,V:F9e,w:q9e,W:z9e,x:null,X:null,y:H9e,Y:V9e,Z:K9e,"%":wW},A={a:Q,A:te,b:ae,B:fe,c:null,d:bW,e:bW,f:Z9e,g:cHe,G:uHe,H:Y9e,I:X9e,j:J9e,L:sie,m:Q9e,M:eHe,p:xe,q:Ee,Q:_W,s:xW,S:tHe,u:rHe,U:nHe,V:iHe,w:aHe,W:sHe,x:null,X:null,y:oHe,Y:lHe,Z:dHe,"%":wW},S={a:M,A:D,b:q,B:K,c:L,d:mW,e:mW,f:k9e,g:gW,G:pW,H:yW,I:yW,j:S9e,L:T9e,m:E9e,M:C9e,p:I,q:x9e,Q:O9e,s:N9e,S:A9e,u:y9e,U:v9e,V:b9e,w:m9e,W:w9e,x:R,X:j,y:gW,Y:pW,Z:_9e,"%":P9e};E.x=C(n,E),E.X=C(i,E),E.c=C(e,E),A.x=C(n,A),A.X=C(i,A),A.c=C(e,A);function C(le,Ce){return function(Me){var he=[],me=-1,Ae=0,tt=le.length,Nt,ct,Wt;for(Me instanceof Date||(Me=new Date(+Me));++me<tt;)le.charCodeAt(me)===37&&(he.push(le.slice(Ae,me)),(ct=hW[Nt=le.charAt(++me)])!=null?Nt=le.charAt(++me):ct=Nt==="e"?" ":"0",(Wt=Ce[Nt])&&(Nt=Wt(Me,ct)),he.push(Nt),Ae=me+1);return he.push(le.slice(Ae,me)),he.join("")}}function P(le,Ce){return function(Me){var he=oy(1900,void 0,1),me=O(he,le,Me+="",0),Ae,tt;if(me!=Me.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(Ce&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(Ae=RN(oy(he.y,0,1)),tt=Ae.getUTCDay(),Ae=tt>4||tt===0?cE.ceil(Ae):cE(Ae),Ae=gC.offset(Ae,(he.V-1)*7),he.y=Ae.getUTCFullYear(),he.m=Ae.getUTCMonth(),he.d=Ae.getUTCDate()+(he.w+6)%7):(Ae=IN(oy(he.y,0,1)),tt=Ae.getDay(),Ae=tt>4||tt===0?oE.ceil(Ae):oE(Ae),Ae=Hb.offset(Ae,(he.V-1)*7),he.y=Ae.getFullYear(),he.m=Ae.getMonth(),he.d=Ae.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),tt="Z"in he?RN(oy(he.y,0,1)).getUTCDay():IN(oy(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(tt+5)%7:he.w+he.U*7-(tt+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,RN(he)):IN(he)}}function O(le,Ce,Me,he){for(var me=0,Ae=Ce.length,tt=Me.length,Nt,ct;me<Ae;){if(he>=tt)return-1;if(Nt=Ce.charCodeAt(me++),Nt===37){if(Nt=Ce.charAt(me++),ct=S[Nt in hW?Ce.charAt(me++):Nt],!ct||(he=ct(le,Me,he))<0)return-1}else if(Nt!=Me.charCodeAt(he++))return-1}return he}function I(le,Ce,Me){var he=u.exec(Ce.slice(Me));return he?(le.p=d.get(he[0].toLowerCase()),Me+he[0].length):-1}function M(le,Ce,Me){var he=m.exec(Ce.slice(Me));return he?(le.w=y.get(he[0].toLowerCase()),Me+he[0].length):-1}function D(le,Ce,Me){var he=f.exec(Ce.slice(Me));return he?(le.w=p.get(he[0].toLowerCase()),Me+he[0].length):-1}function q(le,Ce,Me){var he=w.exec(Ce.slice(Me));return he?(le.m=x.get(he[0].toLowerCase()),Me+he[0].length):-1}function K(le,Ce,Me){var he=v.exec(Ce.slice(Me));return he?(le.m=b.get(he[0].toLowerCase()),Me+he[0].length):-1}function L(le,Ce,Me){return O(le,e,Ce,Me)}function R(le,Ce,Me){return O(le,n,Ce,Me)}function j(le,Ce,Me){return O(le,i,Ce,Me)}function W(le){return o[le.getDay()]}function H(le){return s[le.getDay()]}function z(le){return l[le.getMonth()]}function B(le){return c[le.getMonth()]}function F(le){return a[+(le.getHours()>=12)]}function G(le){return 1+~~(le.getMonth()/3)}function Q(le){return o[le.getUTCDay()]}function te(le){return s[le.getUTCDay()]}function ae(le){return l[le.getUTCMonth()]}function fe(le){return c[le.getUTCMonth()]}function xe(le){return a[+(le.getUTCHours()>=12)]}function Ee(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var Ce=C(le+="",E);return Ce.toString=function(){return le},Ce},parse:function(le){var Ce=P(le+="",!1);return Ce.toString=function(){return le},Ce},utcFormat:function(le){var Ce=C(le+="",A);return Ce.toString=function(){return le},Ce},utcParse:function(le){var Ce=P(le+="",!0);return Ce.toString=function(){return le},Ce}}}var hW={"-":"",_:" ",0:"0"},Xn=/^\s*\d+/,h9e=/^%/,p9e=/[\\^$*+?|[\]().{}]/g;function sr(r,e,n){var i=r<0?"-":"",a=(i?-r:r)+"",s=a.length;return i+(s<n?new Array(n-s+1).join(e)+a:a)}function g9e(r){return r.replace(p9e,"\\$&")}function cy(r){return new RegExp("^(?:"+r.map(g9e).join("|")+")","i")}function ly(r){return new Map(r.map((e,n)=>[e.toLowerCase(),n]))}function m9e(r,e,n){var i=Xn.exec(e.slice(n,n+1));return i?(r.w=+i[0],n+i[0].length):-1}function y9e(r,e,n){var i=Xn.exec(e.slice(n,n+1));return i?(r.u=+i[0],n+i[0].length):-1}function v9e(r,e,n){var i=Xn.exec(e.slice(n,n+2));return i?(r.U=+i[0],n+i[0].length):-1}function b9e(r,e,n){var i=Xn.exec(e.slice(n,n+2));return i?(r.V=+i[0],n+i[0].length):-1}function w9e(r,e,n){var i=Xn.exec(e.slice(n,n+2));return i?(r.W=+i[0],n+i[0].length):-1}function pW(r,e,n){var i=Xn.exec(e.slice(n,n+4));return i?(r.y=+i[0],n+i[0].length):-1}function gW(r,e,n){var i=Xn.exec(e.slice(n,n+2));return i?(r.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function _9e(r,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(r.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function x9e(r,e,n){var i=Xn.exec(e.slice(n,n+1));return i?(r.q=i[0]*3-3,n+i[0].length):-1}function E9e(r,e,n){var i=Xn.exec(e.slice(n,n+2));return i?(r.m=i[0]-1,n+i[0].length):-1}function mW(r,e,n){var i=Xn.exec(e.slice(n,n+2));return i?(r.d=+i[0],n+i[0].length):-1}function S9e(r,e,n){var i=Xn.exec(e.slice(n,n+3));return i?(r.m=0,r.d=+i[0],n+i[0].length):-1}function yW(r,e,n){var i=Xn.exec(e.slice(n,n+2));return i?(r.H=+i[0],n+i[0].length):-1}function C9e(r,e,n){var i=Xn.exec(e.slice(n,n+2));return i?(r.M=+i[0],n+i[0].length):-1}function A9e(r,e,n){var i=Xn.exec(e.slice(n,n+2));return i?(r.S=+i[0],n+i[0].length):-1}function T9e(r,e,n){var i=Xn.exec(e.slice(n,n+3));return i?(r.L=+i[0],n+i[0].length):-1}function k9e(r,e,n){var i=Xn.exec(e.slice(n,n+6));return i?(r.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function P9e(r,e,n){var i=h9e.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function O9e(r,e,n){var i=Xn.exec(e.slice(n));return i?(r.Q=+i[0],n+i[0].length):-1}function N9e(r,e,n){var i=Xn.exec(e.slice(n));return i?(r.s=+i[0],n+i[0].length):-1}function vW(r,e){return sr(r.getDate(),e,2)}function I9e(r,e){return sr(r.getHours(),e,2)}function R9e(r,e){return sr(r.getHours()%12||12,e,2)}function $9e(r,e){return sr(1+Hb.count(dl(r),r),e,3)}function iie(r,e){return sr(r.getMilliseconds(),e,3)}function j9e(r,e){return iie(r,e)+"000"}function D9e(r,e){return sr(r.getMonth()+1,e,2)}function M9e(r,e){return sr(r.getMinutes(),e,2)}function L9e(r,e){return sr(r.getSeconds(),e,2)}function U9e(r){var e=r.getDay();return e===0?7:e}function B9e(r,e){return sr(mC.count(dl(r)-1,r),e,2)}function aie(r){var e=r.getDay();return e>=4||e===0?ng(r):ng.ceil(r)}function F9e(r,e){return r=aie(r),sr(ng.count(dl(r),r)+(dl(r).getDay()===4),e,2)}function q9e(r){return r.getDay()}function z9e(r,e){return sr(oE.count(dl(r)-1,r),e,2)}function H9e(r,e){return sr(r.getFullYear()%100,e,2)}function W9e(r,e){return r=aie(r),sr(r.getFullYear()%100,e,2)}function V9e(r,e){return sr(r.getFullYear()%1e4,e,4)}function G9e(r,e){var n=r.getDay();return r=n>=4||n===0?ng(r):ng.ceil(r),sr(r.getFullYear()%1e4,e,4)}function K9e(r){var e=r.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+sr(e/60|0,"0",2)+sr(e%60,"0",2)}function bW(r,e){return sr(r.getUTCDate(),e,2)}function Y9e(r,e){return sr(r.getUTCHours(),e,2)}function X9e(r,e){return sr(r.getUTCHours()%12||12,e,2)}function J9e(r,e){return sr(1+gC.count(fl(r),r),e,3)}function sie(r,e){return sr(r.getUTCMilliseconds(),e,3)}function Z9e(r,e){return sie(r,e)+"000"}function Q9e(r,e){return sr(r.getUTCMonth()+1,e,2)}function eHe(r,e){return sr(r.getUTCMinutes(),e,2)}function tHe(r,e){return sr(r.getUTCSeconds(),e,2)}function rHe(r){var e=r.getUTCDay();return e===0?7:e}function nHe(r,e){return sr(yC.count(fl(r)-1,r),e,2)}function oie(r){var e=r.getUTCDay();return e>=4||e===0?ig(r):ig.ceil(r)}function iHe(r,e){return r=oie(r),sr(ig.count(fl(r),r)+(fl(r).getUTCDay()===4),e,2)}function aHe(r){return r.getUTCDay()}function sHe(r,e){return sr(cE.count(fl(r)-1,r),e,2)}function oHe(r,e){return sr(r.getUTCFullYear()%100,e,2)}function cHe(r,e){return r=oie(r),sr(r.getUTCFullYear()%100,e,2)}function lHe(r,e){return sr(r.getUTCFullYear()%1e4,e,4)}function uHe(r,e){var n=r.getUTCDay();return r=n>=4||n===0?ig(r):ig.ceil(r),sr(r.getUTCFullYear()%1e4,e,4)}function dHe(){return"+0000"}function wW(){return"%"}function _W(r){return+r}function xW(r){return Math.floor(+r/1e3)}var Wh,cie,lie;fHe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function fHe(r){return Wh=f9e(r),cie=Wh.format,Wh.parse,lie=Wh.utcFormat,Wh.utcParse,Wh}function hHe(r){return new Date(r)}function pHe(r){return r instanceof Date?+r:+new Date(+r)}function Y5(r,e,n,i,a,s,o,c,l,u){var d=j5(),f=d.invert,p=d.domain,m=u(".%L"),y=u(":%S"),v=u("%I:%M"),b=u("%I %p"),w=u("%a %d"),x=u("%b %d"),E=u("%B"),A=u("%Y");function S(C){return(l(C)<C?m:c(C)<C?y:o(C)<C?v:s(C)<C?b:i(C)<C?a(C)<C?w:x:n(C)<C?E:A)(C)}return d.invert=function(C){return new Date(f(C))},d.domain=function(C){return arguments.length?p(Array.from(C,pHe)):p().map(hHe)},d.ticks=function(C){var P=p();return r(P[0],P[P.length-1],C??10)},d.tickFormat=function(C,P){return P==null?S:u(P)},d.nice=function(C){var P=p();return(!C||typeof C.range!="function")&&(C=e(P[0],P[P.length-1],C??10)),C?p(Yne(P,C)):d},d.copy=function(){return zb(d,Y5(r,e,n,i,a,s,o,c,l,u))},d}function gHe(){return Ts.apply(Y5(u9e,d9e,dl,G5,mC,Hb,W5,z5,qd,cie).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function mHe(){return Ts.apply(Y5(c9e,l9e,fl,K5,yC,gC,V5,H5,qd,lie).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function vC(){var r=0,e=1,n,i,a,s,o=Ui,c=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(a===0?.5:(f=(s(f)-n)*a,c?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([r,e]=f,n=s(r=+r),i=s(e=+e),a=n===i?0:1/(i-n),u):[r,e]},u.clamp=function(f){return arguments.length?(c=!!f,u):c},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(p){var m,y;return arguments.length?([m,y]=p,o=f(m,y),u):[o(0),o(1)]}}return u.range=d(Vg),u.rangeRound=d($5),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return s=f,n=f(r),i=f(e),a=n===i?0:1/(i-n),u}}function Gu(r,e){return e.domain(r.domain()).interpolator(r.interpolator()).clamp(r.clamp()).unknown(r.unknown())}function uie(){var r=Vu(vC()(Ui));return r.copy=function(){return Gu(r,uie())},xl.apply(r,arguments)}function die(){var r=L5(vC()).domain([1,10]);return r.copy=function(){return Gu(r,die()).base(r.base())},xl.apply(r,arguments)}function fie(){var r=U5(vC());return r.copy=function(){return Gu(r,fie()).constant(r.constant())},xl.apply(r,arguments)}function X5(){var r=B5(vC());return r.copy=function(){return Gu(r,X5()).exponent(r.exponent())},xl.apply(r,arguments)}function yHe(){return X5.apply(null,arguments).exponent(.5)}function hie(){var r=[],e=Ui;function n(i){if(i!=null&&!isNaN(i=+i))return e((Fb(r,i,1)-1)/(r.length-1))}return n.domain=function(i){if(!arguments.length)return r.slice();r=[];for(let a of i)a!=null&&!isNaN(a=+a)&&r.push(a);return r.sort(Ru),n},n.interpolator=function(i){return arguments.length?(e=i,n):e},n.range=function(){return r.map((i,a)=>e(a/(r.length-1)))},n.quantiles=function(i){return Array.from({length:i+1},(a,s)=>Yze(r,s/i))},n.copy=function(){return hie(e).domain(r)},xl.apply(n,arguments)}function bC(){var r=0,e=.5,n=1,i=1,a,s,o,c,l,u=Ui,d,f=!1,p;function m(v){return isNaN(v=+v)?p:(v=.5+((v=+d(v))-s)*(i*v<i*s?c:l),u(f?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([r,e,n]=v,a=d(r=+r),s=d(e=+e),o=d(n=+n),c=a===s?0:.5/(s-a),l=s===o?0:.5/(o-s),i=s<a?-1:1,m):[r,e,n]},m.clamp=function(v){return arguments.length?(f=!!v,m):f},m.interpolator=function(v){return arguments.length?(u=v,m):u};function y(v){return function(b){var w,x,E;return arguments.length?([w,x,E]=b,u=P7e(v,[w,x,E]),m):[u(0),u(.5),u(1)]}}return m.range=y(Vg),m.rangeRound=y($5),m.unknown=function(v){return arguments.length?(p=v,m):p},function(v){return d=v,a=v(r),s=v(e),o=v(n),c=a===s?0:.5/(s-a),l=s===o?0:.5/(o-s),i=s<a?-1:1,m}}function pie(){var r=Vu(bC()(Ui));return r.copy=function(){return Gu(r,pie())},xl.apply(r,arguments)}function gie(){var r=L5(bC()).domain([.1,1,10]);return r.copy=function(){return Gu(r,gie()).base(r.base())},xl.apply(r,arguments)}function mie(){var r=U5(bC());return r.copy=function(){return Gu(r,mie()).constant(r.constant())},xl.apply(r,arguments)}function J5(){var r=B5(bC());return r.copy=function(){return Gu(r,J5()).exponent(r.exponent())},xl.apply(r,arguments)}function vHe(){return J5.apply(null,arguments).exponent(.5)}const EW=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:S0,scaleDiverging:pie,scaleDivergingLog:gie,scaleDivergingPow:J5,scaleDivergingSqrt:vHe,scaleDivergingSymlog:mie,scaleIdentity:Kne,scaleImplicit:gj,scaleLinear:aE,scaleLog:Xne,scaleOrdinal:hC,scalePoint:iv,scalePow:F5,scaleQuantile:Qne,scaleQuantize:eie,scaleRadial:Zne,scaleSequential:uie,scaleSequentialLog:die,scaleSequentialPow:X5,scaleSequentialQuantile:hie,scaleSequentialSqrt:yHe,scaleSequentialSymlog:fie,scaleSqrt:Z7e,scaleSymlog:Jne,scaleThreshold:tie,scaleTime:gHe,scaleUtc:mHe,tickFormat:Gne},Symbol.toStringTag,{value:"Module"}));var $N,SW;function yie(){if(SW)return $N;SW=1;var r=qg();function e(n,i,a){for(var s=-1,o=n.length;++s<o;){var c=n[s],l=i(c);if(l!=null&&(u===void 0?l===l&&!r(l):a(l,u)))var u=l,d=c}return d}return $N=e,$N}var jN,CW;function bHe(){if(CW)return jN;CW=1;function r(e,n){return e>n}return jN=r,jN}var DN,AW;function wHe(){if(AW)return DN;AW=1;var r=yie(),e=bHe(),n=Hg();function i(a){return a&&a.length?r(a,n,e):void 0}return DN=i,DN}var _He=wHe();const wC=Jt(_He);var MN,TW;function xHe(){if(TW)return MN;TW=1;function r(e,n){return e<n}return MN=r,MN}var LN,kW;function EHe(){if(kW)return LN;kW=1;var r=yie(),e=xHe(),n=Hg();function i(a){return a&&a.length?r(a,n,e):void 0}return LN=i,LN}var SHe=EHe();const _C=Jt(SHe);var UN,PW;function CHe(){if(PW)return UN;PW=1;var r=p5(),e=Wu(),n=xne(),i=va();function a(s,o){var c=i(s)?r:n;return c(s,e(o,3))}return UN=a,UN}var BN,OW;function AHe(){if(OW)return BN;OW=1;var r=wne(),e=CHe();function n(i,a){return r(e(i,a),1)}return BN=n,BN}var THe=AHe();const kHe=Jt(THe);var FN,NW;function PHe(){if(NW)return FN;NW=1;var r=T5();function e(n,i){return r(n,i)}return FN=e,FN}var OHe=PHe();const xC=Jt(OHe);var Gg=1e9,NHe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Q5,Vr=!0,ws="[DecimalError] ",nf=ws+"Invalid argument: ",Z5=ws+"Exponent out of range: ",Kg=Math.floor,Sd=Math.pow,IHe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ma,Hn=1e7,Mr=7,vie=9007199254740991,lE=Kg(vie/Mr),Xe={};Xe.absoluteValue=Xe.abs=function(){var r=new this.constructor(this);return r.s&&(r.s=1),r};Xe.comparedTo=Xe.cmp=function(r){var e,n,i,a,s=this;if(r=new s.constructor(r),s.s!==r.s)return s.s||-r.s;if(s.e!==r.e)return s.e>r.e^s.s<0?1:-1;for(i=s.d.length,a=r.d.length,e=0,n=i<a?i:a;e<n;++e)if(s.d[e]!==r.d[e])return s.d[e]>r.d[e]^s.s<0?1:-1;return i===a?0:i>a^s.s<0?1:-1};Xe.decimalPlaces=Xe.dp=function(){var r=this,e=r.d.length-1,n=(e-r.e)*Mr;if(e=r.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Xe.dividedBy=Xe.div=function(r){return rl(this,new this.constructor(r))};Xe.dividedToIntegerBy=Xe.idiv=function(r){var e=this,n=e.constructor;return Ar(rl(e,new n(r),0,1),n.precision)};Xe.equals=Xe.eq=function(r){return!this.cmp(r)};Xe.exponent=function(){return xn(this)};Xe.greaterThan=Xe.gt=function(r){return this.cmp(r)>0};Xe.greaterThanOrEqualTo=Xe.gte=function(r){return this.cmp(r)>=0};Xe.isInteger=Xe.isint=function(){return this.e>this.d.length-2};Xe.isNegative=Xe.isneg=function(){return this.s<0};Xe.isPositive=Xe.ispos=function(){return this.s>0};Xe.isZero=function(){return this.s===0};Xe.lessThan=Xe.lt=function(r){return this.cmp(r)<0};Xe.lessThanOrEqualTo=Xe.lte=function(r){return this.cmp(r)<1};Xe.logarithm=Xe.log=function(r){var e,n=this,i=n.constructor,a=i.precision,s=a+5;if(r===void 0)r=new i(10);else if(r=new i(r),r.s<1||r.eq(Ma))throw Error(ws+"NaN");if(n.s<1)throw Error(ws+(n.s?"NaN":"-Infinity"));return n.eq(Ma)?new i(0):(Vr=!1,e=rl(k0(n,s),k0(r,s),s),Vr=!0,Ar(e,a))};Xe.minus=Xe.sub=function(r){var e=this;return r=new e.constructor(r),e.s==r.s?_ie(e,r):bie(e,(r.s=-r.s,r))};Xe.modulo=Xe.mod=function(r){var e,n=this,i=n.constructor,a=i.precision;if(r=new i(r),!r.s)throw Error(ws+"NaN");return n.s?(Vr=!1,e=rl(n,r,0,1).times(r),Vr=!0,n.minus(e)):Ar(new i(n),a)};Xe.naturalExponential=Xe.exp=function(){return wie(this)};Xe.naturalLogarithm=Xe.ln=function(){return k0(this)};Xe.negated=Xe.neg=function(){var r=new this.constructor(this);return r.s=-r.s||0,r};Xe.plus=Xe.add=function(r){var e=this;return r=new e.constructor(r),e.s==r.s?bie(e,r):_ie(e,(r.s=-r.s,r))};Xe.precision=Xe.sd=function(r){var e,n,i,a=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(nf+r);if(e=xn(a)+1,i=a.d.length-1,n=i*Mr+1,i=a.d[i],i){for(;i%10==0;i/=10)n--;for(i=a.d[0];i>=10;i/=10)n++}return r&&e>n?e:n};Xe.squareRoot=Xe.sqrt=function(){var r,e,n,i,a,s,o,c=this,l=c.constructor;if(c.s<1){if(!c.s)return new l(0);throw Error(ws+"NaN")}for(r=xn(c),Vr=!1,a=Math.sqrt(+c),a==0||a==1/0?(e=Fo(c.d),(e.length+r)%2==0&&(e+="0"),a=Math.sqrt(e),r=Kg((r+1)/2)-(r<0||r%2),a==1/0?e="5e"+r:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+r),i=new l(e)):i=new l(a.toString()),n=l.precision,a=o=n+3;;)if(s=i,i=s.plus(rl(c,s,o+2)).times(.5),Fo(s.d).slice(0,o)===(e=Fo(i.d)).slice(0,o)){if(e=e.slice(o-3,o+1),a==o&&e=="4999"){if(Ar(s,n+1,0),s.times(s).eq(c)){i=s;break}}else if(e!="9999")break;o+=4}return Vr=!0,Ar(i,n)};Xe.times=Xe.mul=function(r){var e,n,i,a,s,o,c,l,u,d=this,f=d.constructor,p=d.d,m=(r=new f(r)).d;if(!d.s||!r.s)return new f(0);for(r.s*=d.s,n=d.e+r.e,l=p.length,u=m.length,l<u&&(s=p,p=m,m=s,o=l,l=u,u=o),s=[],o=l+u,i=o;i--;)s.push(0);for(i=u;--i>=0;){for(e=0,a=l+i;a>i;)c=s[a]+m[i]*p[a-i-1]+e,s[a--]=c%Hn|0,e=c/Hn|0;s[a]=(s[a]+e)%Hn|0}for(;!s[--o];)s.pop();return e?++n:s.shift(),r.d=s,r.e=n,Vr?Ar(r,f.precision):r};Xe.toDecimalPlaces=Xe.todp=function(r,e){var n=this,i=n.constructor;return n=new i(n),r===void 0?n:(ec(r,0,Gg),e===void 0?e=i.rounding:ec(e,0,8),Ar(n,r+xn(n)+1,e))};Xe.toExponential=function(r,e){var n,i=this,a=i.constructor;return r===void 0?n=kf(i,!0):(ec(r,0,Gg),e===void 0?e=a.rounding:ec(e,0,8),i=Ar(new a(i),r+1,e),n=kf(i,!0,r+1)),n};Xe.toFixed=function(r,e){var n,i,a=this,s=a.constructor;return r===void 0?kf(a):(ec(r,0,Gg),e===void 0?e=s.rounding:ec(e,0,8),i=Ar(new s(a),r+xn(a)+1,e),n=kf(i.abs(),!1,r+xn(i)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Xe.toInteger=Xe.toint=function(){var r=this,e=r.constructor;return Ar(new e(r),xn(r)+1,e.rounding)};Xe.toNumber=function(){return+this};Xe.toPower=Xe.pow=function(r){var e,n,i,a,s,o,c=this,l=c.constructor,u=12,d=+(r=new l(r));if(!r.s)return new l(Ma);if(c=new l(c),!c.s){if(r.s<1)throw Error(ws+"Infinity");return c}if(c.eq(Ma))return c;if(i=l.precision,r.eq(Ma))return Ar(c,i);if(e=r.e,n=r.d.length-1,o=e>=n,s=c.s,o){if((n=d<0?-d:d)<=vie){for(a=new l(Ma),e=Math.ceil(i/Mr+4),Vr=!1;n%2&&(a=a.times(c),RW(a.d,e)),n=Kg(n/2),n!==0;)c=c.times(c),RW(c.d,e);return Vr=!0,r.s<0?new l(Ma).div(a):Ar(a,i)}}else if(s<0)throw Error(ws+"NaN");return s=s<0&&r.d[Math.max(e,n)]&1?-1:1,c.s=1,Vr=!1,a=r.times(k0(c,i+u)),Vr=!0,a=wie(a),a.s=s,a};Xe.toPrecision=function(r,e){var n,i,a=this,s=a.constructor;return r===void 0?(n=xn(a),i=kf(a,n<=s.toExpNeg||n>=s.toExpPos)):(ec(r,1,Gg),e===void 0?e=s.rounding:ec(e,0,8),a=Ar(new s(a),r,e),n=xn(a),i=kf(a,r<=n||n<=s.toExpNeg,r)),i};Xe.toSignificantDigits=Xe.tosd=function(r,e){var n=this,i=n.constructor;return r===void 0?(r=i.precision,e=i.rounding):(ec(r,1,Gg),e===void 0?e=i.rounding:ec(e,0,8)),Ar(new i(n),r,e)};Xe.toString=Xe.valueOf=Xe.val=Xe.toJSON=Xe[Symbol.for("nodejs.util.inspect.custom")]=function(){var r=this,e=xn(r),n=r.constructor;return kf(r,e<=n.toExpNeg||e>=n.toExpPos)};function bie(r,e){var n,i,a,s,o,c,l,u,d=r.constructor,f=d.precision;if(!r.s||!e.s)return e.s||(e=new d(r)),Vr?Ar(e,f):e;if(l=r.d,u=e.d,o=r.e,a=e.e,l=l.slice(),s=o-a,s){for(s<0?(i=l,s=-s,c=u.length):(i=u,a=o,c=l.length),o=Math.ceil(f/Mr),c=o>c?o+1:c+1,s>c&&(s=c,i.length=1),i.reverse();s--;)i.push(0);i.reverse()}for(c=l.length,s=u.length,c-s<0&&(s=c,i=u,u=l,l=i),n=0;s;)n=(l[--s]=l[s]+u[s]+n)/Hn|0,l[s]%=Hn;for(n&&(l.unshift(n),++a),c=l.length;l[--c]==0;)l.pop();return e.d=l,e.e=a,Vr?Ar(e,f):e}function ec(r,e,n){if(r!==~~r||r<e||r>n)throw Error(nf+r)}function Fo(r){var e,n,i,a=r.length-1,s="",o=r[0];if(a>0){for(s+=o,e=1;e<a;e++)i=r[e]+"",n=Mr-i.length,n&&(s+=cu(n)),s+=i;o=r[e],i=o+"",n=Mr-i.length,n&&(s+=cu(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var rl=function(){function r(i,a){var s,o=0,c=i.length;for(i=i.slice();c--;)s=i[c]*a+o,i[c]=s%Hn|0,o=s/Hn|0;return o&&i.unshift(o),i}function e(i,a,s,o){var c,l;if(s!=o)l=s>o?1:-1;else for(c=l=0;c<s;c++)if(i[c]!=a[c]){l=i[c]>a[c]?1:-1;break}return l}function n(i,a,s){for(var o=0;s--;)i[s]-=o,o=i[s]<a[s]?1:0,i[s]=o*Hn+i[s]-a[s];for(;!i[0]&&i.length>1;)i.shift()}return function(i,a,s,o){var c,l,u,d,f,p,m,y,v,b,w,x,E,A,S,C,P,O,I=i.constructor,M=i.s==a.s?1:-1,D=i.d,q=a.d;if(!i.s)return new I(i);if(!a.s)throw Error(ws+"Division by zero");for(l=i.e-a.e,P=q.length,S=D.length,m=new I(M),y=m.d=[],u=0;q[u]==(D[u]||0);)++u;if(q[u]>(D[u]||0)&&--l,s==null?x=s=I.precision:o?x=s+(xn(i)-xn(a))+1:x=s,x<0)return new I(0);if(x=x/Mr+2|0,u=0,P==1)for(d=0,q=q[0],x++;(u<S||d)&&x--;u++)E=d*Hn+(D[u]||0),y[u]=E/q|0,d=E%q|0;else{for(d=Hn/(q[0]+1)|0,d>1&&(q=r(q,d),D=r(D,d),P=q.length,S=D.length),A=P,v=D.slice(0,P),b=v.length;b<P;)v[b++]=0;O=q.slice(),O.unshift(0),C=q[0],q[1]>=Hn/2&&++C;do d=0,c=e(q,v,P,b),c<0?(w=v[0],P!=b&&(w=w*Hn+(v[1]||0)),d=w/C|0,d>1?(d>=Hn&&(d=Hn-1),f=r(q,d),p=f.length,b=v.length,c=e(f,v,p,b),c==1&&(d--,n(f,P<p?O:q,p))):(d==0&&(c=d=1),f=q.slice()),p=f.length,p<b&&f.unshift(0),n(v,f,b),c==-1&&(b=v.length,c=e(q,v,P,b),c<1&&(d++,n(v,P<b?O:q,b))),b=v.length):c===0&&(d++,v=[0]),y[u++]=d,c&&v[0]?v[b++]=D[A]||0:(v=[D[A]],b=1);while((A++<S||v[0]!==void 0)&&x--)}return y[0]||y.shift(),m.e=l,Ar(m,o?s+xn(m)+1:s)}}();function wie(r,e){var n,i,a,s,o,c,l=0,u=0,d=r.constructor,f=d.precision;if(xn(r)>16)throw Error(Z5+xn(r));if(!r.s)return new d(Ma);for(Vr=!1,c=f,o=new d(.03125);r.abs().gte(.1);)r=r.times(o),u+=5;for(i=Math.log(Sd(2,u))/Math.LN10*2+5|0,c+=i,n=a=s=new d(Ma),d.precision=c;;){if(a=Ar(a.times(r),c),n=n.times(++l),o=s.plus(rl(a,n,c)),Fo(o.d).slice(0,c)===Fo(s.d).slice(0,c)){for(;u--;)s=Ar(s.times(s),c);return d.precision=f,e==null?(Vr=!0,Ar(s,f)):s}s=o}}function xn(r){for(var e=r.e*Mr,n=r.d[0];n>=10;n/=10)e++;return e}function qN(r,e,n){if(e>r.LN10.sd())throw Vr=!0,n&&(r.precision=n),Error(ws+"LN10 precision limit exceeded");return Ar(new r(r.LN10),e)}function cu(r){for(var e="";r--;)e+="0";return e}function k0(r,e){var n,i,a,s,o,c,l,u,d,f=1,p=10,m=r,y=m.d,v=m.constructor,b=v.precision;if(m.s<1)throw Error(ws+(m.s?"NaN":"-Infinity"));if(m.eq(Ma))return new v(0);if(e==null?(Vr=!1,u=b):u=e,m.eq(10))return e==null&&(Vr=!0),qN(v,u);if(u+=p,v.precision=u,n=Fo(y),i=n.charAt(0),s=xn(m),Math.abs(s)<15e14){for(;i<7&&i!=1||i==1&&n.charAt(1)>3;)m=m.times(r),n=Fo(m.d),i=n.charAt(0),f++;s=xn(m),i>1?(m=new v("0."+n),s++):m=new v(i+"."+n.slice(1))}else return l=qN(v,u+2,b).times(s+""),m=k0(new v(i+"."+n.slice(1)),u-p).plus(l),v.precision=b,e==null?(Vr=!0,Ar(m,b)):m;for(c=o=m=rl(m.minus(Ma),m.plus(Ma),u),d=Ar(m.times(m),u),a=3;;){if(o=Ar(o.times(d),u),l=c.plus(rl(o,new v(a),u)),Fo(l.d).slice(0,u)===Fo(c.d).slice(0,u))return c=c.times(2),s!==0&&(c=c.plus(qN(v,u+2,b).times(s+""))),c=rl(c,new v(f),u),v.precision=b,e==null?(Vr=!0,Ar(c,b)):c;c=l,a+=2}}function IW(r,e){var n,i,a;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(n<0&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):n<0&&(n=e.length),i=0;e.charCodeAt(i)===48;)++i;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(i,a),e){if(a-=i,n=n-i-1,r.e=Kg(n/Mr),r.d=[],i=(n+1)%Mr,n<0&&(i+=Mr),i<a){for(i&&r.d.push(+e.slice(0,i)),a-=Mr;i<a;)r.d.push(+e.slice(i,i+=Mr));e=e.slice(i),i=Mr-e.length}else i-=a;for(;i--;)e+="0";if(r.d.push(+e),Vr&&(r.e>lE||r.e<-lE))throw Error(Z5+n)}else r.s=0,r.e=0,r.d=[0];return r}function Ar(r,e,n){var i,a,s,o,c,l,u,d,f=r.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(i=e-o,i<0)i+=Mr,a=e,u=f[d=0];else{if(d=Math.ceil((i+1)/Mr),s=f.length,d>=s)return r;for(u=s=f[d],o=1;s>=10;s/=10)o++;i%=Mr,a=i-Mr+o}if(n!==void 0&&(s=Sd(10,o-a-1),c=u/s%10|0,l=e<0||f[d+1]!==void 0||u%s,l=n<4?(c||l)&&(n==0||n==(r.s<0?3:2)):c>5||c==5&&(n==4||l||n==6&&(i>0?a>0?u/Sd(10,o-a):0:f[d-1])%10&1||n==(r.s<0?8:7))),e<1||!f[0])return l?(s=xn(r),f.length=1,e=e-s-1,f[0]=Sd(10,(Mr-e%Mr)%Mr),r.e=Kg(-e/Mr)||0):(f.length=1,f[0]=r.e=r.s=0),r;if(i==0?(f.length=d,s=1,d--):(f.length=d+1,s=Sd(10,Mr-i),f[d]=a>0?(u/Sd(10,o-a)%Sd(10,a)|0)*s:0),l)for(;;)if(d==0){(f[0]+=s)==Hn&&(f[0]=1,++r.e);break}else{if(f[d]+=s,f[d]!=Hn)break;f[d--]=0,s=1}for(i=f.length;f[--i]===0;)f.pop();if(Vr&&(r.e>lE||r.e<-lE))throw Error(Z5+xn(r));return r}function _ie(r,e){var n,i,a,s,o,c,l,u,d,f,p=r.constructor,m=p.precision;if(!r.s||!e.s)return e.s?e.s=-e.s:e=new p(r),Vr?Ar(e,m):e;if(l=r.d,f=e.d,i=e.e,u=r.e,l=l.slice(),o=u-i,o){for(d=o<0,d?(n=l,o=-o,c=f.length):(n=f,i=u,c=l.length),a=Math.max(Math.ceil(m/Mr),c)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=l.length,c=f.length,d=a<c,d&&(c=a),a=0;a<c;a++)if(l[a]!=f[a]){d=l[a]<f[a];break}o=0}for(d&&(n=l,l=f,f=n,e.s=-e.s),c=l.length,a=f.length-c;a>0;--a)l[c++]=0;for(a=f.length;a>o;){if(l[--a]<f[a]){for(s=a;s&&l[--s]===0;)l[s]=Hn-1;--l[s],l[a]+=Hn}l[a]-=f[a]}for(;l[--c]===0;)l.pop();for(;l[0]===0;l.shift())--i;return l[0]?(e.d=l,e.e=i,Vr?Ar(e,m):e):new p(0)}function kf(r,e,n){var i,a=xn(r),s=Fo(r.d),o=s.length;return e?(n&&(i=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+cu(i):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+cu(-a-1)+s,n&&(i=n-o)>0&&(s+=cu(i))):a>=o?(s+=cu(a+1-o),n&&(i=n-a-1)>0&&(s=s+"."+cu(i))):((i=a+1)<o&&(s=s.slice(0,i)+"."+s.slice(i)),n&&(i=n-o)>0&&(a+1===o&&(s+="."),s+=cu(i))),r.s<0?"-"+s:s}function RW(r,e){if(r.length>e)return r.length=e,!0}function xie(r){var e,n,i;function a(s){var o=this;if(!(o instanceof a))return new a(s);if(o.constructor=a,s instanceof a){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(nf+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return IW(o,s.toString())}else if(typeof s!="string")throw Error(nf+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,IHe.test(s))IW(o,s);else throw Error(nf+s)}if(a.prototype=Xe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=xie,a.config=a.set=RHe,r===void 0&&(r={}),r)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<i.length;)r.hasOwnProperty(n=i[e++])||(r[n]=this[n]);return a.config(r),a}function RHe(r){if(!r||typeof r!="object")throw Error(ws+"Object expected");var e,n,i,a=["precision",1,Gg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((i=r[n=a[e]])!==void 0)if(Kg(i)===i&&i>=a[e+1]&&i<=a[e+2])this[n]=i;else throw Error(nf+n+": "+i);if((i=r[n="LN10"])!==void 0)if(i==Math.LN10)this[n]=new this(i);else throw Error(nf+n+": "+i);return this}var Q5=xie(NHe);Ma=new Q5(1);const br=Q5;function $He(r){return LHe(r)||MHe(r)||DHe(r)||jHe()}function jHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DHe(r,e){if(r){if(typeof r=="string")return wj(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wj(r,e)}}function MHe(r){if(typeof Symbol<"u"&&Symbol.iterator in Object(r))return Array.from(r)}function LHe(r){if(Array.isArray(r))return wj(r)}function wj(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=r[n];return i}var UHe=function(e){return e},Eie={},Sie=function(e){return e===Eie},$W=function(e){return function n(){return arguments.length===0||arguments.length===1&&Sie(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},BHe=function r(e,n){return e===1?n:$W(function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];var o=a.filter(function(c){return c!==Eie}).length;return o>=e?n.apply(void 0,a):r(e-o,$W(function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];var d=a.map(function(f){return Sie(f)?l.shift():f});return n.apply(void 0,$He(d).concat(l))}))})},EC=function(e){return BHe(e.length,e)},_j=function(e,n){for(var i=[],a=e;a<n;++a)i[a-e]=a;return i},FHe=EC(function(r,e){return Array.isArray(e)?e.map(r):Object.keys(e).map(function(n){return e[n]}).map(r)}),qHe=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(!n.length)return UHe;var a=n.reverse(),s=a[0],o=a.slice(1);return function(){return o.reduce(function(c,l){return l(c)},s.apply(void 0,arguments))}},xj=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Cie=function(e){var n=null,i=null;return function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return n&&s.every(function(c,l){return c===n[l]})||(n=s,i=e.apply(void 0,s)),i}};function zHe(r){var e;return r===0?e=1:e=Math.floor(new br(r).abs().log(10).toNumber())+1,e}function HHe(r,e,n){for(var i=new br(r),a=0,s=[];i.lt(e)&&a<1e5;)s.push(i.toNumber()),i=i.add(n),a++;return s}var WHe=EC(function(r,e,n){var i=+r,a=+e;return i+n*(a-i)}),VHe=EC(function(r,e,n){var i=e-+r;return i=i||1/0,(n-r)/i}),GHe=EC(function(r,e,n){var i=e-+r;return i=i||1/0,Math.max(0,Math.min(1,(n-r)/i))});const SC={rangeStep:HHe,getDigitCount:zHe,interpolateNumber:WHe,uninterpolateNumber:VHe,uninterpolateTruncation:GHe};function Ej(r){return XHe(r)||YHe(r)||Aie(r)||KHe()}function KHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YHe(r){if(typeof Symbol<"u"&&Symbol.iterator in Object(r))return Array.from(r)}function XHe(r){if(Array.isArray(r))return Sj(r)}function P0(r,e){return QHe(r)||ZHe(r,e)||Aie(r,e)||JHe()}function JHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aie(r,e){if(r){if(typeof r=="string")return Sj(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sj(r,e)}}function Sj(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=r[n];return i}function ZHe(r,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(r)))){var n=[],i=!0,a=!1,s=void 0;try{for(var o=r[Symbol.iterator](),c;!(i=(c=o.next()).done)&&(n.push(c.value),!(e&&n.length===e));i=!0);}catch(l){a=!0,s=l}finally{try{!i&&o.return!=null&&o.return()}finally{if(a)throw s}}return n}}function QHe(r){if(Array.isArray(r))return r}function Tie(r){var e=P0(r,2),n=e[0],i=e[1],a=n,s=i;return n>i&&(a=i,s=n),[a,s]}function kie(r,e,n){if(r.lte(0))return new br(0);var i=SC.getDigitCount(r.toNumber()),a=new br(10).pow(i),s=r.div(a),o=i!==1?.05:.1,c=new br(Math.ceil(s.div(o).toNumber())).add(n).mul(o),l=c.mul(a);return e?l:new br(Math.ceil(l))}function eWe(r,e,n){var i=1,a=new br(r);if(!a.isint()&&n){var s=Math.abs(r);s<1?(i=new br(10).pow(SC.getDigitCount(r)-1),a=new br(Math.floor(a.div(i).toNumber())).mul(i)):s>1&&(a=new br(Math.floor(r)))}else r===0?a=new br(Math.floor((e-1)/2)):n||(a=new br(Math.floor(r)));var o=Math.floor((e-1)/2),c=qHe(FHe(function(l){return a.add(new br(l-o).mul(i)).toNumber()}),_j);return c(0,e)}function Pie(r,e,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-r)/(n-1)))return{step:new br(0),tickMin:new br(0),tickMax:new br(0)};var s=kie(new br(e).sub(r).div(n-1),i,a),o;r<=0&&e>=0?o=new br(0):(o=new br(r).add(e).div(2),o=o.sub(new br(o).mod(s)));var c=Math.ceil(o.sub(r).div(s).toNumber()),l=Math.ceil(new br(e).sub(o).div(s).toNumber()),u=c+l+1;return u>n?Pie(r,e,n,i,a+1):(u<n&&(l=e>0?l+(n-u):l,c=e>0?c:c+(n-u)),{step:s,tickMin:o.sub(new br(c).mul(s)),tickMax:o.add(new br(l).mul(s))})}function tWe(r){var e=P0(r,2),n=e[0],i=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),c=Tie([n,i]),l=P0(c,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(Ej(_j(0,a-1).map(function(){return 1/0}))):[].concat(Ej(_j(0,a-1).map(function(){return-1/0})),[d]);return n>i?xj(f):f}if(u===d)return eWe(u,a,s);var p=Pie(u,d,o,s),m=p.step,y=p.tickMin,v=p.tickMax,b=SC.rangeStep(y,v.add(new br(.1).mul(m)),m);return n>i?xj(b):b}function rWe(r,e){var n=P0(r,2),i=n[0],a=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Tie([i,a]),c=P0(o,2),l=c[0],u=c[1];if(l===-1/0||u===1/0)return[i,a];if(l===u)return[l];var d=Math.max(e,2),f=kie(new br(u).sub(l).div(d-1),s,0),p=[].concat(Ej(SC.rangeStep(new br(l),new br(u).sub(new br(.99).mul(f)),f)),[u]);return i>a?xj(p):p}var nWe=Cie(tWe),iWe=Cie(rWe),aWe="Invariant failed";function Pf(r,e){throw new Error(aWe)}var sWe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ag(r){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ag(r)}function uE(){return uE=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},uE.apply(this,arguments)}function oWe(r,e){return dWe(r)||uWe(r,e)||lWe(r,e)||cWe()}function cWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lWe(r,e){if(r){if(typeof r=="string")return jW(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jW(r,e)}}function jW(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=r[n];return i}function uWe(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var i,a,s,o,c=[],l=!0,u=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(l=(i=s.call(n)).done)&&(c.push(i.value),c.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return c}}function dWe(r){if(Array.isArray(r))return r}function fWe(r,e){if(r==null)return{};var n=hWe(r,e),i,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(a=0;a<s.length;a++)i=s[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(r,i)&&(n[i]=r[i])}return n}function hWe(r,e){if(r==null)return{};var n={};for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){if(e.indexOf(i)>=0)continue;n[i]=r[i]}return n}function pWe(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function gWe(r,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,Iie(i.key),i)}}function mWe(r,e,n){return e&&gWe(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function yWe(r,e,n){return e=dE(e),vWe(r,Oie()?Reflect.construct(e,n||[],dE(r).constructor):e.apply(r,n))}function vWe(r,e){if(e&&(ag(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bWe(r)}function bWe(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Oie(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oie=function(){return!!r})()}function dE(r){return dE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dE(r)}function wWe(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&Cj(r,e)}function Cj(r,e){return Cj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,a){return i.__proto__=a,i},Cj(r,e)}function Nie(r,e,n){return e=Iie(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Iie(r){var e=_We(r,"string");return ag(e)=="symbol"?e:e+""}function _We(r,e){if(ag(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(ag(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Wb=function(r){function e(){return pWe(this,e),yWe(this,e,arguments)}return wWe(e,r),mWe(e,[{key:"render",value:function(){var i=this.props,a=i.offset,s=i.layout,o=i.width,c=i.dataKey,l=i.data,u=i.dataPointFormatter,d=i.xAxis,f=i.yAxis,p=fWe(i,sWe),m=Xt(p,!1);this.props.direction==="x"&&d.type!=="number"&&Pf();var y=l.map(function(v){var b=u(v,c),w=b.x,x=b.y,E=b.value,A=b.errorVal;if(!A)return null;var S=[],C,P;if(Array.isArray(A)){var O=oWe(A,2);C=O[0],P=O[1]}else C=P=A;if(s==="vertical"){var I=d.scale,M=x+a,D=M+o,q=M-o,K=I(E-C),L=I(E+P);S.push({x1:L,y1:D,x2:L,y2:q}),S.push({x1:K,y1:M,x2:L,y2:M}),S.push({x1:K,y1:D,x2:K,y2:q})}else if(s==="horizontal"){var R=f.scale,j=w+a,W=j-o,H=j+o,z=R(E-C),B=R(E+P);S.push({x1:W,y1:B,x2:H,y2:B}),S.push({x1:j,y1:z,x2:j,y2:B}),S.push({x1:W,y1:z,x2:H,y2:z})}return ee.createElement(gn,uE({className:"recharts-errorBar",key:"bar-".concat(S.map(function(F){return"".concat(F.x1,"-").concat(F.x2,"-").concat(F.y1,"-").concat(F.y2)}))},m),S.map(function(F){return ee.createElement("line",uE({},F,{key:"line-".concat(F.x1,"-").concat(F.x2,"-").concat(F.y1,"-").concat(F.y2)}))}))});return ee.createElement(gn,{className:"recharts-errorBars"},y)}}])}(ee.Component);Nie(Wb,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Nie(Wb,"displayName","ErrorBar");function O0(r){"@babel/helpers - typeof";return O0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O0(r)}function DW(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function vd(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DW(Object(n),!0).forEach(function(i){xWe(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):DW(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function xWe(r,e,n){return e=EWe(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function EWe(r){var e=SWe(r,"string");return O0(e)=="symbol"?e:e+""}function SWe(r,e){if(O0(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(O0(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Rie=function(e){var n=e.children,i=e.formattedGraphicalItems,a=e.legendWidth,s=e.legendContent,o=$a(n,tf);if(!o)return null;var c=tf.defaultProps,l=c!==void 0?vd(vd({},c),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(i||[]).reduce(function(d,f){var p=f.item,m=f.props,y=m.sectors||m.data||[];return d.concat(y.map(function(v){return{type:o.props.iconType||p.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(i||[]).map(function(d){var f=d.item,p=f.type.defaultProps,m=p!==void 0?vd(vd({},p),f.props):{},y=m.dataKey,v=m.name,b=m.legendType,w=m.hide;return{inactive:w,dataKey:y,type:l.iconType||b||"square",color:eM(f),value:v||y,payload:m}}),vd(vd(vd({},l),tf.getWithHeight(o,a)),{},{payload:u,item:o})};function N0(r){"@babel/helpers - typeof";return N0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N0(r)}function MW(r){return kWe(r)||TWe(r)||AWe(r)||CWe()}function CWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AWe(r,e){if(r){if(typeof r=="string")return Aj(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Aj(r,e)}}function TWe(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function kWe(r){if(Array.isArray(r))return Aj(r)}function Aj(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=r[n];return i}function LW(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function an(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LW(Object(n),!0).forEach(function(i){vp(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):LW(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function vp(r,e,n){return e=PWe(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function PWe(r){var e=OWe(r,"string");return N0(e)=="symbol"?e:e+""}function OWe(r,e){if(N0(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(N0(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Ba(r,e,n){return Ht(r)||Ht(e)?n:Rn(e)?vs(r,e,n):jt(e)?e(r):n}function av(r,e,n,i){var a=kHe(r,function(c){return Ba(c,e)});if(n==="number"){var s=a.filter(function(c){return De(c)||parseFloat(c)});return s.length?[_C(s),wC(s)]:[1/0,-1/0]}var o=i?a.filter(function(c){return!Ht(c)}):a;return o.map(function(c){return Rn(c)||c instanceof Date?c:""})}var NWe=function(e){var n,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,c=(n=i==null?void 0:i.length)!==null&&n!==void 0?n:0;if(c<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,u=0;u<c;u++){var d=u>0?a[u-1].coordinate:a[c-1].coordinate,f=a[u].coordinate,p=u>=c-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(no(f-d)!==no(p-f)){var y=[];if(no(p-f)===no(l[1]-l[0])){m=p;var v=f+l[1]-l[0];y[0]=Math.min(v,(v+d)/2),y[1]=Math.max(v,(v+d)/2)}else{m=d;var b=p+l[1]-l[0];y[0]=Math.min(f,(b+f)/2),y[1]=Math.max(f,(b+f)/2)}var w=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(e>w[0]&&e<=w[1]||e>=y[0]&&e<=y[1]){o=a[u].index;break}}else{var x=Math.min(d,p),E=Math.max(d,p);if(e>(x+f)/2&&e<=(E+f)/2){o=a[u].index;break}}}else for(var A=0;A<c;A++)if(A===0&&e<=(i[A].coordinate+i[A+1].coordinate)/2||A>0&&A<c-1&&e>(i[A].coordinate+i[A-1].coordinate)/2&&e<=(i[A].coordinate+i[A+1].coordinate)/2||A===c-1&&e>(i[A].coordinate+i[A-1].coordinate)/2){o=i[A].index;break}return o},eM=function(e){var n,i=e,a=i.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?an(an({},e.type.defaultProps),e.props):e.props,o=s.stroke,c=s.fill,l;switch(a){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:c;break;default:l=c;break}return l},IWe=function(e){var n=e.barSize,i=e.totalSize,a=e.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var o={},c=Object.keys(s),l=0,u=c.length;l<u;l++)for(var d=s[c[l]].stackGroups,f=Object.keys(d),p=0,m=f.length;p<m;p++){var y=d[f[p]],v=y.items,b=y.cateAxisId,w=v.filter(function(P){return el(P.type).indexOf("Bar")>=0});if(w&&w.length){var x=w[0].type.defaultProps,E=x!==void 0?an(an({},x),w[0].props):w[0].props,A=E.barSize,S=E[b];o[S]||(o[S]=[]);var C=Ht(A)?n:A;o[S].push({item:w[0],stackList:w.slice(1),barSize:Ht(C)?void 0:Af(C,i,0)})}}return o},RWe=function(e){var n=e.barGap,i=e.barCategoryGap,a=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,c=e.maxBarSize,l=o.length;if(l<1)return null;var u=Af(n,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var p=!1,m=a/l,y=o.reduce(function(A,S){return A+S.barSize||0},0);y+=(l-1)*u,y>=a&&(y-=(l-1)*u,u=0),y>=a&&m>0&&(p=!0,m*=.9,y=l*m);var v=(a-y)/2>>0,b={offset:v-u,size:0};d=o.reduce(function(A,S){var C={item:S.item,position:{offset:b.offset+b.size+u,size:p?m:S.barSize}},P=[].concat(MW(A),[C]);return b=P[P.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(O){P.push({item:O,position:b})}),P},f)}else{var w=Af(i,a,0,!0);a-2*w-(l-1)*u<=0&&(u=0);var x=(a-2*w-(l-1)*u)/l;x>1&&(x>>=0);var E=c===+c?Math.min(x,c):x;d=o.reduce(function(A,S,C){var P=[].concat(MW(A),[{item:S.item,position:{offset:w+(x+u)*C+(x-E)/2,size:E}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(O){P.push({item:O,position:P[P.length-1].position})}),P},f)}return d},$We=function(e,n,i,a){var s=i.children,o=i.width,c=i.margin,l=o-(c.left||0)-(c.right||0),u=Rie({children:s,legendWidth:l});if(u){var d=a||{},f=d.width,p=d.height,m=u.align,y=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&y==="middle")&&m!=="center"&&De(e[m]))return an(an({},e),{},vp({},m,e[m]+(f||0)));if((v==="horizontal"||v==="vertical"&&m==="center")&&y!=="middle"&&De(e[y]))return an(an({},e),{},vp({},y,e[y]+(p||0)))}return e},jWe=function(e,n,i){return Ht(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||i==="x"?n==="xAxis":i==="y"?n==="yAxis":!0},$ie=function(e,n,i,a,s){var o=n.props.children,c=bs(o,Wb).filter(function(u){return jWe(a,s,u.props.direction)});if(c&&c.length){var l=c.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=Ba(d,i);if(Ht(f))return u;var p=Array.isArray(f)?[_C(f),wC(f)]:[f,f],m=l.reduce(function(y,v){var b=Ba(d,v,0),w=p[0]-Math.abs(Array.isArray(b)?b[0]:b),x=p[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(w,y[0]),Math.max(x,y[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},DWe=function(e,n,i,a,s){var o=n.map(function(c){return $ie(e,c,i,s,a)}).filter(function(c){return!Ht(c)});return o&&o.length?o.reduce(function(c,l){return[Math.min(c[0],l[0]),Math.max(c[1],l[1])]},[1/0,-1/0]):null},jie=function(e,n,i,a,s){var o=n.map(function(l){var u=l.props.dataKey;return i==="number"&&u&&$ie(e,l,u,a)||av(e,u,i,s)});if(i==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var c={};return o.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)c[u[d]]||(c[u[d]]=!0,l.push(u[d]));return l},[])},Die=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Mie=function(e,n,i,a){if(a)return e.map(function(l){return l.coordinate});var s,o,c=e.map(function(l){return l.coordinate===n&&(s=!0),l.coordinate===i&&(o=!0),l.coordinate});return s||c.push(n),o||c.push(i),c},Vc=function(e,n,i){if(!e)return null;var a=e.scale,s=e.duplicateDomain,o=e.type,c=e.range,l=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(n||i)&&o==="category"&&a.bandwidth?a.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(c==null?void 0:c.length)>=2?no(c[0]-c[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var p=s?s.indexOf(f):f;return{coordinate:a(p)+u,value:f,offset:u}});return d.filter(function(f){return!Lb(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,p){return{coordinate:a(f)+u,value:f,index:p,offset:u}}):a.ticks&&!i?a.ticks(e.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,p){return{coordinate:a(f)+u,value:s?s[f]:f,index:p,offset:u}})},zN=new WeakMap,t_=function(e,n){if(typeof n!="function")return e;zN.has(e)||zN.set(e,new WeakMap);var i=zN.get(e);if(i.has(n))return i.get(n);var a=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return i.set(n,a),a},MWe=function(e,n,i){var a=e.scale,s=e.type,o=e.layout,c=e.axisType;if(a==="auto")return o==="radial"&&c==="radiusAxis"?{scale:S0(),realScaleType:"band"}:o==="radial"&&c==="angleAxis"?{scale:aE(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!i)?{scale:iv(),realScaleType:"point"}:s==="category"?{scale:S0(),realScaleType:"band"}:{scale:aE(),realScaleType:"linear"};if(Cf(a)){var l="scale".concat(sC(a));return{scale:(EW[l]||iv)(),realScaleType:EW[l]?l:"point"}}return jt(a)?{scale:a}:{scale:iv(),realScaleType:"point"}},UW=1e-4,LWe=function(e){var n=e.domain();if(!(!n||n.length<=2)){var i=n.length,a=e.range(),s=Math.min(a[0],a[1])-UW,o=Math.max(a[0],a[1])+UW,c=e(n[0]),l=e(n[i-1]);(c<s||c>o||l<s||l>o)&&e.domain([n[0],n[i-1]])}},UWe=function(e,n){if(!e)return null;for(var i=0,a=e.length;i<a;i++)if(e[i].item===n)return e[i].position;return null},BWe=function(e,n){if(!n||n.length!==2||!De(n[0])||!De(n[1]))return e;var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!De(e[0])||e[0]<i)&&(s[0]=i),(!De(e[1])||e[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<i&&(s[1]=i),s},FWe=function(e){var n=e.length;if(!(n<=0))for(var i=0,a=e[0].length;i<a;++i)for(var s=0,o=0,c=0;c<n;++c){var l=Lb(e[c][i][1])?e[c][i][0]:e[c][i][1];l>=0?(e[c][i][0]=s,e[c][i][1]=s+l,s=e[c][i][1]):(e[c][i][0]=o,e[c][i][1]=o+l,o=e[c][i][1])}},qWe=function(e){var n=e.length;if(!(n<=0))for(var i=0,a=e[0].length;i<a;++i)for(var s=0,o=0;o<n;++o){var c=Lb(e[o][i][1])?e[o][i][0]:e[o][i][1];c>=0?(e[o][i][0]=s,e[o][i][1]=s+c,s=e[o][i][1]):(e[o][i][0]=0,e[o][i][1]=0)}},zWe={sign:FWe,expand:yBe,none:Jp,silhouette:vBe,wiggle:bBe,positive:qWe},HWe=function(e,n,i){var a=n.map(function(c){return c.props.dataKey}),s=zWe[i],o=mBe().keys(a).value(function(c,l){return+Ba(c,l,0)}).order(tj).offset(s);return o(e)},WWe=function(e,n,i,a,s,o){if(!e)return null;var c=o?n.reverse():n,l={},u=c.reduce(function(f,p){var m,y=(m=p.type)!==null&&m!==void 0&&m.defaultProps?an(an({},p.type.defaultProps),p.props):p.props,v=y.stackId,b=y.hide;if(b)return f;var w=y[i],x=f[w]||{hasStack:!1,stackGroups:{}};if(Rn(v)){var E=x.stackGroups[v]||{numericAxisId:i,cateAxisId:a,items:[]};E.items.push(p),x.hasStack=!0,x.stackGroups[v]=E}else x.stackGroups[Ub("_stackId_")]={numericAxisId:i,cateAxisId:a,items:[p]};return an(an({},f),{},vp({},w,x))},l),d={};return Object.keys(u).reduce(function(f,p){var m=u[p];if(m.hasStack){var y={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(v,b){var w=m.stackGroups[b];return an(an({},v),{},vp({},b,{numericAxisId:i,cateAxisId:a,items:w.items,stackedData:HWe(e,w.items,s)}))},y)}return an(an({},f),{},vp({},p,m))},d)},VWe=function(e,n){var i=n.realScaleType,a=n.type,s=n.tickCount,o=n.originalDomain,c=n.allowDecimals,l=i||n.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=nWe(u,s,c);return e.domain([_C(d),wC(d)]),{niceTicks:d}}if(s&&a==="number"){var f=e.domain(),p=iWe(f,s,c);return{niceTicks:p}}return null};function BW(r){var e=r.axis,n=r.ticks,i=r.bandSize,a=r.entry,s=r.index,o=r.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ht(a[e.dataKey])){var c=Mx(n,"value",a[e.dataKey]);if(c)return c.coordinate+i/2}return n[s]?n[s].coordinate+i/2:null}var l=Ba(a,Ht(o)?e.dataKey:o);return Ht(l)?null:e.scale(l)}var FW=function(e){var n=e.axis,i=e.ticks,a=e.offset,s=e.bandSize,o=e.entry,c=e.index;if(n.type==="category")return i[c]?i[c].coordinate+a:null;var l=Ba(o,n.dataKey,n.domain[c]);return Ht(l)?null:n.scale(l)-s/2+a},GWe=function(e){var n=e.numericAxis,i=n.scale.domain();if(n.type==="number"){var a=Math.min(i[0],i[1]),s=Math.max(i[0],i[1]);return a<=0&&s>=0?0:s<0?s:a}return i[0]},KWe=function(e,n){var i,a=(i=e.type)!==null&&i!==void 0&&i.defaultProps?an(an({},e.type.defaultProps),e.props):e.props,s=a.stackId;if(Rn(s)){var o=n[s];if(o){var c=o.items.indexOf(e);return c>=0?o.stackedData[c]:null}}return null},YWe=function(e){return e.reduce(function(n,i){return[_C(i.concat([n[0]]).filter(De)),wC(i.concat([n[1]]).filter(De))]},[1/0,-1/0])},Lie=function(e,n,i){return Object.keys(e).reduce(function(a,s){var o=e[s],c=o.stackedData,l=c.reduce(function(u,d){var f=YWe(d.slice(n,i+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},qW=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zW=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Tj=function(e,n,i){if(jt(e))return e(n,i);if(!Array.isArray(e))return n;var a=[];if(De(e[0]))a[0]=i?e[0]:Math.min(e[0],n[0]);else if(qW.test(e[0])){var s=+qW.exec(e[0])[1];a[0]=n[0]-s}else jt(e[0])?a[0]=e[0](n[0]):a[0]=n[0];if(De(e[1]))a[1]=i?e[1]:Math.max(e[1],n[1]);else if(zW.test(e[1])){var o=+zW.exec(e[1])[1];a[1]=n[1]+o}else jt(e[1])?a[1]=e[1](n[1]):a[1]=n[1];return a},fE=function(e,n,i){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!i||a>0)return a}if(e&&n&&n.length>=2){for(var s=P5(n,function(f){return f.coordinate}),o=1/0,c=1,l=s.length;c<l;c++){var u=s[c],d=s[c-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return i?void 0:0},HW=function(e,n,i){return!e||!e.length||xC(e,vs(i,"type.defaultProps.domain"))?n:e},Uie=function(e,n){var i=e.type.defaultProps?an(an({},e.type.defaultProps),e.props):e.props,a=i.dataKey,s=i.name,o=i.unit,c=i.formatter,l=i.tooltipType,u=i.chartType,d=i.hide;return an(an({},Xt(e,!1)),{},{dataKey:a,unit:o,formatter:c,name:s||a,color:eM(e),value:Ba(n,a),type:l,payload:n,chartType:u,hide:d})};function I0(r){"@babel/helpers - typeof";return I0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I0(r)}function WW(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function VW(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WW(Object(n),!0).forEach(function(i){XWe(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):WW(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function XWe(r,e,n){return e=JWe(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function JWe(r){var e=ZWe(r,"string");return I0(e)=="symbol"?e:e+""}function ZWe(r,e){if(I0(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(I0(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var hE=Math.PI/180,QWe=function(e){return e*180/Math.PI},ci=function(e,n,i,a){return{x:e+Math.cos(-hE*a)*i,y:n+Math.sin(-hE*a)*i}},eVe=function(e,n){var i=e.x,a=e.y,s=n.x,o=n.y;return Math.sqrt(Math.pow(i-s,2)+Math.pow(a-o,2))},tVe=function(e,n){var i=e.x,a=e.y,s=n.cx,o=n.cy,c=eVe({x:i,y:a},{x:s,y:o});if(c<=0)return{radius:c};var l=(i-s)/c,u=Math.acos(l);return a>o&&(u=2*Math.PI-u),{radius:c,angle:QWe(u),angleInRadian:u}},rVe=function(e){var n=e.startAngle,i=e.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),o=Math.min(a,s);return{startAngle:n-o*360,endAngle:i-o*360}},nVe=function(e,n){var i=n.startAngle,a=n.endAngle,s=Math.floor(i/360),o=Math.floor(a/360),c=Math.min(s,o);return e+c*360},GW=function(e,n){var i=e.x,a=e.y,s=tVe({x:i,y:a},n),o=s.radius,c=s.angle,l=n.innerRadius,u=n.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var d=rVe(n),f=d.startAngle,p=d.endAngle,m=c,y;if(f<=p){for(;m>p;)m-=360;for(;m<f;)m+=360;y=m>=f&&m<=p}else{for(;m>f;)m-=360;for(;m<p;)m+=360;y=m>=p&&m<=f}return y?VW(VW({},n),{},{radius:o,angle:nVe(m,n)}):null};function R0(r){"@babel/helpers - typeof";return R0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R0(r)}var iVe=["offset"];function aVe(r){return lVe(r)||cVe(r)||oVe(r)||sVe()}function sVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oVe(r,e){if(r){if(typeof r=="string")return kj(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kj(r,e)}}function cVe(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function lVe(r){if(Array.isArray(r))return kj(r)}function kj(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=r[n];return i}function uVe(r,e){if(r==null)return{};var n=dVe(r,e),i,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(a=0;a<s.length;a++)i=s[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(r,i)&&(n[i]=r[i])}return n}function dVe(r,e){if(r==null)return{};var n={};for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){if(e.indexOf(i)>=0)continue;n[i]=r[i]}return n}function KW(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function kn(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KW(Object(n),!0).forEach(function(i){fVe(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):KW(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function fVe(r,e,n){return e=hVe(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function hVe(r){var e=pVe(r,"string");return R0(e)=="symbol"?e:e+""}function pVe(r,e){if(R0(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(R0(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function $0(){return $0=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},$0.apply(this,arguments)}var gVe=function(e){var n=e.value,i=e.formatter,a=Ht(e.children)?n:e.children;return jt(i)?i(a):a},mVe=function(e,n){var i=no(n-e),a=Math.min(Math.abs(n-e),360);return i*a},yVe=function(e,n,i){var a=e.position,s=e.viewBox,o=e.offset,c=e.className,l=s,u=l.cx,d=l.cy,f=l.innerRadius,p=l.outerRadius,m=l.startAngle,y=l.endAngle,v=l.clockWise,b=(f+p)/2,w=mVe(m,y),x=w>=0?1:-1,E,A;a==="insideStart"?(E=m+x*o,A=v):a==="insideEnd"?(E=y-x*o,A=!v):a==="end"&&(E=y+x*o,A=v),A=w<=0?A:!A;var S=ci(u,d,b,E),C=ci(u,d,b,E+(A?1:-1)*359),P="M".concat(S.x,",").concat(S.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(A?0:1,`,
    `).concat(C.x,",").concat(C.y),O=Ht(e.id)?Ub("recharts-radial-line-"):e.id;return ee.createElement("text",$0({},i,{dominantBaseline:"central",className:ar("recharts-radial-bar-label",c)}),ee.createElement("defs",null,ee.createElement("path",{id:O,d:P})),ee.createElement("textPath",{xlinkHref:"#".concat(O)},n))},vVe=function(e){var n=e.viewBox,i=e.offset,a=e.position,s=n,o=s.cx,c=s.cy,l=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,p=(d+f)/2;if(a==="outside"){var m=ci(o,c,u+i,p),y=m.x,v=m.y;return{x:y,y:v,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"end"};var b=(l+u)/2,w=ci(o,c,b,p),x=w.x,E=w.y;return{x,y:E,textAnchor:"middle",verticalAnchor:"middle"}},bVe=function(e){var n=e.viewBox,i=e.parentViewBox,a=e.offset,s=e.position,o=n,c=o.x,l=o.y,u=o.width,d=o.height,f=d>=0?1:-1,p=f*a,m=f>0?"end":"start",y=f>0?"start":"end",v=u>=0?1:-1,b=v*a,w=v>0?"end":"start",x=v>0?"start":"end";if(s==="top"){var E={x:c+u/2,y:l-f*a,textAnchor:"middle",verticalAnchor:m};return kn(kn({},E),i?{height:Math.max(l-i.y,0),width:u}:{})}if(s==="bottom"){var A={x:c+u/2,y:l+d+p,textAnchor:"middle",verticalAnchor:y};return kn(kn({},A),i?{height:Math.max(i.y+i.height-(l+d),0),width:u}:{})}if(s==="left"){var S={x:c-b,y:l+d/2,textAnchor:w,verticalAnchor:"middle"};return kn(kn({},S),i?{width:Math.max(S.x-i.x,0),height:d}:{})}if(s==="right"){var C={x:c+u+b,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return kn(kn({},C),i?{width:Math.max(i.x+i.width-C.x,0),height:d}:{})}var P=i?{width:u,height:d}:{};return s==="insideLeft"?kn({x:c+b,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},P):s==="insideRight"?kn({x:c+u-b,y:l+d/2,textAnchor:w,verticalAnchor:"middle"},P):s==="insideTop"?kn({x:c+u/2,y:l+p,textAnchor:"middle",verticalAnchor:y},P):s==="insideBottom"?kn({x:c+u/2,y:l+d-p,textAnchor:"middle",verticalAnchor:m},P):s==="insideTopLeft"?kn({x:c+b,y:l+p,textAnchor:x,verticalAnchor:y},P):s==="insideTopRight"?kn({x:c+u-b,y:l+p,textAnchor:w,verticalAnchor:y},P):s==="insideBottomLeft"?kn({x:c+b,y:l+d-p,textAnchor:x,verticalAnchor:m},P):s==="insideBottomRight"?kn({x:c+u-b,y:l+d-p,textAnchor:w,verticalAnchor:m},P):zg(s)&&(De(s.x)||Bd(s.x))&&(De(s.y)||Bd(s.y))?kn({x:c+Af(s.x,u),y:l+Af(s.y,d),textAnchor:"end",verticalAnchor:"end"},P):kn({x:c+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},P)},wVe=function(e){return"cx"in e&&De(e.cx)};function Ei(r){var e=r.offset,n=e===void 0?5:e,i=uVe(r,iVe),a=kn({offset:n},i),s=a.viewBox,o=a.position,c=a.value,l=a.children,u=a.content,d=a.className,f=d===void 0?"":d,p=a.textBreakAll;if(!s||Ht(c)&&Ht(l)&&!U.isValidElement(u)&&!jt(u))return null;if(U.isValidElement(u))return U.cloneElement(u,a);var m;if(jt(u)){if(m=U.createElement(u,a),U.isValidElement(m))return m}else m=gVe(a);var y=wVe(s),v=Xt(a,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return yVe(a,m,v);var b=y?vVe(a):bVe(a);return ee.createElement(Xx,$0({className:ar("recharts-label",f)},v,b,{breakAll:p}),m)}Ei.displayName="Label";var Bie=function(e){var n=e.cx,i=e.cy,a=e.angle,s=e.startAngle,o=e.endAngle,c=e.r,l=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,p=e.y,m=e.top,y=e.left,v=e.width,b=e.height,w=e.clockWise,x=e.labelViewBox;if(x)return x;if(De(v)&&De(b)){if(De(f)&&De(p))return{x:f,y:p,width:v,height:b};if(De(m)&&De(y))return{x:m,y,width:v,height:b}}return De(f)&&De(p)?{x:f,y:p,width:0,height:0}:De(n)&&De(i)?{cx:n,cy:i,startAngle:s||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||l||c||0,clockWise:w}:e.viewBox?e.viewBox:{}},_Ve=function(e,n){return e?e===!0?ee.createElement(Ei,{key:"label-implicit",viewBox:n}):Rn(e)?ee.createElement(Ei,{key:"label-implicit",viewBox:n,value:e}):U.isValidElement(e)?e.type===Ei?U.cloneElement(e,{key:"label-implicit",viewBox:n}):ee.createElement(Ei,{key:"label-implicit",content:e,viewBox:n}):jt(e)?ee.createElement(Ei,{key:"label-implicit",content:e,viewBox:n}):zg(e)?ee.createElement(Ei,$0({viewBox:n},e,{key:"label-implicit"})):null:null},xVe=function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&i&&!e.label)return null;var a=e.children,s=Bie(e),o=bs(a,Ei).map(function(l,u){return U.cloneElement(l,{viewBox:n||s,key:"label-".concat(u)})});if(!i)return o;var c=_Ve(e.label,n||s);return[c].concat(aVe(o))};Ei.parseViewBox=Bie;Ei.renderCallByParent=xVe;var HN,YW;function EVe(){if(YW)return HN;YW=1;function r(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return HN=r,HN}var SVe=EVe();const CVe=Jt(SVe);function j0(r){"@babel/helpers - typeof";return j0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j0(r)}var AVe=["valueAccessor"],TVe=["data","dataKey","clockWise","id","textBreakAll"];function kVe(r){return IVe(r)||NVe(r)||OVe(r)||PVe()}function PVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OVe(r,e){if(r){if(typeof r=="string")return Pj(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pj(r,e)}}function NVe(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function IVe(r){if(Array.isArray(r))return Pj(r)}function Pj(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=r[n];return i}function pE(){return pE=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},pE.apply(this,arguments)}function XW(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function JW(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XW(Object(n),!0).forEach(function(i){RVe(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):XW(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function RVe(r,e,n){return e=$Ve(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function $Ve(r){var e=jVe(r,"string");return j0(e)=="symbol"?e:e+""}function jVe(r,e){if(j0(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(j0(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function ZW(r,e){if(r==null)return{};var n=DVe(r,e),i,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(a=0;a<s.length;a++)i=s[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(r,i)&&(n[i]=r[i])}return n}function DVe(r,e){if(r==null)return{};var n={};for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){if(e.indexOf(i)>=0)continue;n[i]=r[i]}return n}var MVe=function(e){return Array.isArray(e.value)?CVe(e.value):e.value};function $u(r){var e=r.valueAccessor,n=e===void 0?MVe:e,i=ZW(r,AVe),a=i.data,s=i.dataKey,o=i.clockWise,c=i.id,l=i.textBreakAll,u=ZW(i,TVe);return!a||!a.length?null:ee.createElement(gn,{className:"recharts-label-list"},a.map(function(d,f){var p=Ht(s)?n(d,f):Ba(d&&d.payload,s),m=Ht(c)?{}:{id:"".concat(c,"-").concat(f)};return ee.createElement(Ei,pE({},Xt(d,!0),u,m,{parentViewBox:d.parentViewBox,value:p,textBreakAll:l,viewBox:Ei.parseViewBox(Ht(o)?d:JW(JW({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}$u.displayName="LabelList";function LVe(r,e){return r?r===!0?ee.createElement($u,{key:"labelList-implicit",data:e}):ee.isValidElement(r)||jt(r)?ee.createElement($u,{key:"labelList-implicit",data:e,content:r}):zg(r)?ee.createElement($u,pE({data:e},r,{key:"labelList-implicit"})):null:null}function UVe(r,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!r||!r.children&&n&&!r.label)return null;var i=r.children,a=bs(i,$u).map(function(o,c){return U.cloneElement(o,{data:e,key:"labelList-".concat(c)})});if(!n)return a;var s=LVe(r.label,e);return[s].concat(kVe(a))}$u.renderCallByParent=UVe;function D0(r){"@babel/helpers - typeof";return D0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D0(r)}function Oj(){return Oj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},Oj.apply(this,arguments)}function QW(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function eV(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QW(Object(n),!0).forEach(function(i){BVe(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):QW(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function BVe(r,e,n){return e=FVe(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function FVe(r){var e=qVe(r,"string");return D0(e)=="symbol"?e:e+""}function qVe(r,e){if(D0(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(D0(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var zVe=function(e,n){var i=no(n-e),a=Math.min(Math.abs(n-e),359.999);return i*a},r_=function(e){var n=e.cx,i=e.cy,a=e.radius,s=e.angle,o=e.sign,c=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,d=l*(c?1:-1)+a,f=Math.asin(l/d)/hE,p=u?s:s+o*f,m=ci(n,i,d,p),y=ci(n,i,a,p),v=u?s-o*f:s,b=ci(n,i,d*Math.cos(f*hE),v);return{center:m,circleTangency:y,lineTangency:b,theta:f}},Fie=function(e){var n=e.cx,i=e.cy,a=e.innerRadius,s=e.outerRadius,o=e.startAngle,c=e.endAngle,l=zVe(o,c),u=o+l,d=ci(n,i,s,o),f=ci(n,i,s,u),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=ci(n,i,a,o),y=ci(n,i,a,u);p+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else p+="L ".concat(n,",").concat(i," Z");return p},HVe=function(e){var n=e.cx,i=e.cy,a=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,c=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=no(d-u),p=r_({cx:n,cy:i,radius:s,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),m=p.circleTangency,y=p.lineTangency,v=p.theta,b=r_({cx:n,cy:i,radius:s,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:l}),w=b.circleTangency,x=b.lineTangency,E=b.theta,A=l?Math.abs(u-d):Math.abs(u-d)-v-E;if(A<0)return c?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Fie({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d});var S="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(A>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(a>0){var C=r_({cx:n,cy:i,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),P=C.circleTangency,O=C.lineTangency,I=C.theta,M=r_({cx:n,cy:i,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),D=M.circleTangency,q=M.lineTangency,K=M.theta,L=l?Math.abs(u-d):Math.abs(u-d)-I-K;if(L<0&&o===0)return"".concat(S,"L").concat(n,",").concat(i,"Z");S+="L".concat(q.x,",").concat(q.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(L>180),",").concat(+(f>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,"Z")}else S+="L".concat(n,",").concat(i,"Z");return S},WVe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},qie=function(e){var n=eV(eV({},WVe),e),i=n.cx,a=n.cy,s=n.innerRadius,o=n.outerRadius,c=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,p=n.className;if(o<s||d===f)return null;var m=ar("recharts-sector",p),y=o-s,v=Af(c,y,0,!0),b;return v>0&&Math.abs(d-f)<360?b=HVe({cx:i,cy:a,innerRadius:s,outerRadius:o,cornerRadius:Math.min(v,y/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):b=Fie({cx:i,cy:a,innerRadius:s,outerRadius:o,startAngle:d,endAngle:f}),ee.createElement("path",Oj({},Xt(n,!0),{className:m,d:b,role:"img"}))};function M0(r){"@babel/helpers - typeof";return M0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M0(r)}function Nj(){return Nj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},Nj.apply(this,arguments)}function tV(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function rV(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tV(Object(n),!0).forEach(function(i){VVe(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):tV(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function VVe(r,e,n){return e=GVe(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function GVe(r){var e=KVe(r,"string");return M0(e)=="symbol"?e:e+""}function KVe(r,e){if(M0(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(M0(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var nV={curveBasisClosed:aBe,curveBasisOpen:sBe,curveBasis:iBe,curveBumpX:HUe,curveBumpY:WUe,curveLinearClosed:oBe,curveLinear:cC,curveMonotoneX:cBe,curveMonotoneY:lBe,curveNatural:uBe,curveStep:dBe,curveStepAfter:hBe,curveStepBefore:fBe},n_=function(e){return e.x===+e.x&&e.y===+e.y},uy=function(e){return e.x},dy=function(e){return e.y},YVe=function(e,n){if(jt(e))return e;var i="curve".concat(sC(e));return(i==="curveMonotone"||i==="curveBump")&&n?nV["".concat(i).concat(n==="vertical"?"Y":"X")]:nV[i]||cC},XVe=function(e){var n=e.type,i=n===void 0?"linear":n,a=e.points,s=a===void 0?[]:a,o=e.baseLine,c=e.layout,l=e.connectNulls,u=l===void 0?!1:l,d=YVe(i,c),f=u?s.filter(function(v){return n_(v)}):s,p;if(Array.isArray(o)){var m=u?o.filter(function(v){return n_(v)}):o,y=f.map(function(v,b){return rV(rV({},v),{},{base:m[b]})});return c==="vertical"?p=G1().y(dy).x1(uy).x0(function(v){return v.base.x}):p=G1().x(uy).y1(dy).y0(function(v){return v.base.y}),p.defined(n_).curve(d),p(y)}return c==="vertical"&&De(o)?p=G1().y(dy).x1(uy).x0(o):De(o)?p=G1().x(uy).y1(dy).y0(o):p=zre().x(uy).y(dy),p.defined(n_).curve(d),p(f)},Ij=function(e){var n=e.className,i=e.points,a=e.path,s=e.pathRef;if((!i||!i.length)&&!a)return null;var o=i&&i.length?XVe(e):a;return ee.createElement("path",Nj({},Xt(e,!1),Lx(e),{className:ar("recharts-curve",n),d:o,ref:s}))},WN={exports:{}},VN,iV;function JVe(){if(iV)return VN;iV=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return VN=r,VN}var GN,aV;function ZVe(){if(aV)return GN;aV=1;var r=JVe();function e(){}function n(){}return n.resetWarningCache=e,GN=function(){function i(o,c,l,u,d,f){if(f!==r){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}i.isRequired=i;function a(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},GN}var sV;function tM(){return sV||(sV=1,WN.exports=ZVe()()),WN.exports}var QVe=tM();const X=Jt(QVe);var eGe=Object.getOwnPropertyNames,tGe=Object.getOwnPropertySymbols,rGe=Object.prototype.hasOwnProperty;function oV(r,e){return function(i,a,s){return r(i,a,s)&&e(i,a,s)}}function i_(r){return function(n,i,a){if(!n||!i||typeof n!="object"||typeof i!="object")return r(n,i,a);var s=a.cache,o=s.get(n),c=s.get(i);if(o&&c)return o===i&&c===n;s.set(n,i),s.set(i,n);var l=r(n,i,a);return s.delete(n),s.delete(i),l}}function cV(r){return eGe(r).concat(tGe(r))}var nGe=Object.hasOwn||function(r,e){return rGe.call(r,e)};function Wf(r,e){return r===e||!r&&!e&&r!==r&&e!==e}var iGe="__v",aGe="__o",sGe="_owner",lV=Object.getOwnPropertyDescriptor,uV=Object.keys;function oGe(r,e,n){var i=r.length;if(e.length!==i)return!1;for(;i-- >0;)if(!n.equals(r[i],e[i],i,i,r,e,n))return!1;return!0}function cGe(r,e){return Wf(r.getTime(),e.getTime())}function lGe(r,e){return r.name===e.name&&r.message===e.message&&r.cause===e.cause&&r.stack===e.stack}function uGe(r,e){return r===e}function dV(r,e,n){var i=r.size;if(i!==e.size)return!1;if(!i)return!0;for(var a=new Array(i),s=r.entries(),o,c,l=0;(o=s.next())&&!o.done;){for(var u=e.entries(),d=!1,f=0;(c=u.next())&&!c.done;){if(a[f]){f++;continue}var p=o.value,m=c.value;if(n.equals(p[0],m[0],l,f,r,e,n)&&n.equals(p[1],m[1],p[0],m[0],r,e,n)){d=a[f]=!0;break}f++}if(!d)return!1;l++}return!0}var dGe=Wf;function fGe(r,e,n){var i=uV(r),a=i.length;if(uV(e).length!==a)return!1;for(;a-- >0;)if(!zie(r,e,n,i[a]))return!1;return!0}function fy(r,e,n){var i=cV(r),a=i.length;if(cV(e).length!==a)return!1;for(var s,o,c;a-- >0;)if(s=i[a],!zie(r,e,n,s)||(o=lV(r,s),c=lV(e,s),(o||c)&&(!o||!c||o.configurable!==c.configurable||o.enumerable!==c.enumerable||o.writable!==c.writable)))return!1;return!0}function hGe(r,e){return Wf(r.valueOf(),e.valueOf())}function pGe(r,e){return r.source===e.source&&r.flags===e.flags}function fV(r,e,n){var i=r.size;if(i!==e.size)return!1;if(!i)return!0;for(var a=new Array(i),s=r.values(),o,c;(o=s.next())&&!o.done;){for(var l=e.values(),u=!1,d=0;(c=l.next())&&!c.done;){if(!a[d]&&n.equals(o.value,c.value,o.value,c.value,r,e,n)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function gGe(r,e){var n=r.length;if(e.length!==n)return!1;for(;n-- >0;)if(r[n]!==e[n])return!1;return!0}function mGe(r,e){return r.hostname===e.hostname&&r.pathname===e.pathname&&r.protocol===e.protocol&&r.port===e.port&&r.hash===e.hash&&r.username===e.username&&r.password===e.password}function zie(r,e,n,i){return(i===sGe||i===aGe||i===iGe)&&(r.$$typeof||e.$$typeof)?!0:nGe(e,i)&&n.equals(r[i],e[i],i,i,r,e,n)}var yGe="[object Arguments]",vGe="[object Boolean]",bGe="[object Date]",wGe="[object Error]",_Ge="[object Map]",xGe="[object Number]",EGe="[object Object]",SGe="[object RegExp]",CGe="[object Set]",AGe="[object String]",TGe="[object URL]",kGe=Array.isArray,hV=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,pV=Object.assign,PGe=Object.prototype.toString.call.bind(Object.prototype.toString);function OGe(r){var e=r.areArraysEqual,n=r.areDatesEqual,i=r.areErrorsEqual,a=r.areFunctionsEqual,s=r.areMapsEqual,o=r.areNumbersEqual,c=r.areObjectsEqual,l=r.arePrimitiveWrappersEqual,u=r.areRegExpsEqual,d=r.areSetsEqual,f=r.areTypedArraysEqual,p=r.areUrlsEqual;return function(y,v,b){if(y===v)return!0;if(y==null||v==null)return!1;var w=typeof y;if(w!==typeof v)return!1;if(w!=="object")return w==="number"?o(y,v,b):w==="function"?a(y,v,b):!1;var x=y.constructor;if(x!==v.constructor)return!1;if(x===Object)return c(y,v,b);if(kGe(y))return e(y,v,b);if(hV!=null&&hV(y))return f(y,v,b);if(x===Date)return n(y,v,b);if(x===RegExp)return u(y,v,b);if(x===Map)return s(y,v,b);if(x===Set)return d(y,v,b);var E=PGe(y);return E===bGe?n(y,v,b):E===SGe?u(y,v,b):E===_Ge?s(y,v,b):E===CGe?d(y,v,b):E===EGe?typeof y.then!="function"&&typeof v.then!="function"&&c(y,v,b):E===TGe?p(y,v,b):E===wGe?i(y,v,b):E===yGe?c(y,v,b):E===vGe||E===xGe||E===AGe?l(y,v,b):!1}}function NGe(r){var e=r.circular,n=r.createCustomConfig,i=r.strict,a={areArraysEqual:i?fy:oGe,areDatesEqual:cGe,areErrorsEqual:lGe,areFunctionsEqual:uGe,areMapsEqual:i?oV(dV,fy):dV,areNumbersEqual:dGe,areObjectsEqual:i?fy:fGe,arePrimitiveWrappersEqual:hGe,areRegExpsEqual:pGe,areSetsEqual:i?oV(fV,fy):fV,areTypedArraysEqual:i?fy:gGe,areUrlsEqual:mGe};if(n&&(a=pV({},a,n(a))),e){var s=i_(a.areArraysEqual),o=i_(a.areMapsEqual),c=i_(a.areObjectsEqual),l=i_(a.areSetsEqual);a=pV({},a,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:c,areSetsEqual:l})}return a}function IGe(r){return function(e,n,i,a,s,o,c){return r(e,n,c)}}function RGe(r){var e=r.circular,n=r.comparator,i=r.createState,a=r.equals,s=r.strict;if(i)return function(l,u){var d=i(),f=d.cache,p=f===void 0?e?new WeakMap:void 0:f,m=d.meta;return n(l,u,{cache:p,equals:a,meta:m,strict:s})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var o={cache:void 0,equals:a,meta:void 0,strict:s};return function(l,u){return n(l,u,o)}}var $Ge=Ku();Ku({strict:!0});Ku({circular:!0});Ku({circular:!0,strict:!0});Ku({createInternalComparator:function(){return Wf}});Ku({strict:!0,createInternalComparator:function(){return Wf}});Ku({circular:!0,createInternalComparator:function(){return Wf}});Ku({circular:!0,createInternalComparator:function(){return Wf},strict:!0});function Ku(r){r===void 0&&(r={});var e=r.circular,n=e===void 0?!1:e,i=r.createInternalComparator,a=r.createState,s=r.strict,o=s===void 0?!1:s,c=NGe(r),l=OGe(c),u=i?i(l):IGe(l);return RGe({circular:n,comparator:l,createState:a,equals:u,strict:o})}function jGe(r){typeof requestAnimationFrame<"u"&&requestAnimationFrame(r)}function gV(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,i=function a(s){n<0&&(n=s),s-n>e?(r(s),n=-1):jGe(a)};requestAnimationFrame(i)}function Rj(r){"@babel/helpers - typeof";return Rj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rj(r)}function DGe(r){return BGe(r)||UGe(r)||LGe(r)||MGe()}function MGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LGe(r,e){if(r){if(typeof r=="string")return mV(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mV(r,e)}}function mV(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=r[n];return i}function UGe(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function BGe(r){if(Array.isArray(r))return r}function FGe(){var r={},e=function(){return null},n=!1,i=function a(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,c=DGe(o),l=c[0],u=c.slice(1);if(typeof l=="number"){gV(a.bind(null,u),l);return}a(l),gV(a.bind(null,u));return}Rj(s)==="object"&&(r=s,e(r)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,i(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function L0(r){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L0(r)}function yV(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function vV(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yV(Object(n),!0).forEach(function(i){Hie(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):yV(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function Hie(r,e,n){return e=qGe(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function qGe(r){var e=zGe(r,"string");return L0(e)==="symbol"?e:String(e)}function zGe(r,e){if(L0(r)!=="object"||r===null)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(L0(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var HGe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(i,a){return i.filter(function(s){return a.includes(s)})})},WGe=function(e){return e},VGe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},sv=function(e,n){return Object.keys(n).reduce(function(i,a){return vV(vV({},i),{},Hie({},a,e(a,n[a])))},{})},bV=function(e,n,i){return e.map(function(a){return"".concat(VGe(a)," ").concat(n,"ms ").concat(i)}).join(",")};function GGe(r,e){return XGe(r)||YGe(r,e)||Wie(r,e)||KGe()}function KGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YGe(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var i,a,s,o,c=[],l=!0,u=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(l=(i=s.call(n)).done)&&(c.push(i.value),c.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return c}}function XGe(r){if(Array.isArray(r))return r}function JGe(r){return eKe(r)||QGe(r)||Wie(r)||ZGe()}function ZGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wie(r,e){if(r){if(typeof r=="string")return $j(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $j(r,e)}}function QGe(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function eKe(r){if(Array.isArray(r))return $j(r)}function $j(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=r[n];return i}var gE=1e-4,Vie=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},Gie=function(e,n){return e.map(function(i,a){return i*Math.pow(n,a)}).reduce(function(i,a){return i+a})},wV=function(e,n){return function(i){var a=Vie(e,n);return Gie(a,i)}},tKe=function(e,n){return function(i){var a=Vie(e,n),s=[].concat(JGe(a.map(function(o,c){return o*c}).slice(1)),[0]);return Gie(s,i)}},_V=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var a=n[0],s=n[1],o=n[2],c=n[3];if(n.length===1)switch(n[0]){case"linear":a=0,s=0,o=1,c=1;break;case"ease":a=.25,s=.1,o=.25,c=1;break;case"ease-in":a=.42,s=0,o=1,c=1;break;case"ease-out":a=.42,s=0,o=.58,c=1;break;case"ease-in-out":a=0,s=0,o=.58,c=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),d=GGe(u,4);a=d[0],s=d[1],o=d[2],c=d[3]}}}var f=wV(a,o),p=wV(s,c),m=tKe(a,o),y=function(w){return w>1?1:w<0?0:w},v=function(w){for(var x=w>1?1:w,E=x,A=0;A<8;++A){var S=f(E)-x,C=m(E);if(Math.abs(S-x)<gE||C<gE)return p(E);E=y(E-S/C)}return p(E)};return v.isStepper=!1,v},rKe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,i=n===void 0?100:n,a=e.damping,s=a===void 0?8:a,o=e.dt,c=o===void 0?17:o,l=function(d,f,p){var m=-(d-f)*i,y=p*s,v=p+(m-y)*c/1e3,b=p*c/1e3+d;return Math.abs(b-f)<gE&&Math.abs(v)<gE?[f,0]:[b,v]};return l.isStepper=!0,l.dt=c,l},nKe=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var a=n[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _V(a);case"spring":return rKe();default:if(a.split("(")[0]==="cubic-bezier")return _V(a)}return typeof a=="function"?a:null};function U0(r){"@babel/helpers - typeof";return U0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U0(r)}function xV(r){return sKe(r)||aKe(r)||Kie(r)||iKe()}function iKe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aKe(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function sKe(r){if(Array.isArray(r))return Dj(r)}function EV(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function ii(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EV(Object(n),!0).forEach(function(i){jj(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):EV(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function jj(r,e,n){return e=oKe(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function oKe(r){var e=cKe(r,"string");return U0(e)==="symbol"?e:String(e)}function cKe(r,e){if(U0(r)!=="object"||r===null)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(U0(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function lKe(r,e){return fKe(r)||dKe(r,e)||Kie(r,e)||uKe()}function uKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kie(r,e){if(r){if(typeof r=="string")return Dj(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dj(r,e)}}function Dj(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=r[n];return i}function dKe(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var i,a,s,o,c=[],l=!0,u=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(l=(i=s.call(n)).done)&&(c.push(i.value),c.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return c}}function fKe(r){if(Array.isArray(r))return r}var mE=function(e,n,i){return e+(n-e)*i},Mj=function(e){var n=e.from,i=e.to;return n!==i},hKe=function r(e,n,i){var a=sv(function(s,o){if(Mj(o)){var c=e(o.from,o.to,o.velocity),l=lKe(c,2),u=l[0],d=l[1];return ii(ii({},o),{},{from:u,velocity:d})}return o},n);return i<1?sv(function(s,o){return Mj(o)?ii(ii({},o),{},{velocity:mE(o.velocity,a[s].velocity,i),from:mE(o.from,a[s].from,i)}):o},n):r(e,a,i-1)};const pKe=function(r,e,n,i,a){var s=HGe(r,e),o=s.reduce(function(b,w){return ii(ii({},b),{},jj({},w,[r[w],e[w]]))},{}),c=s.reduce(function(b,w){return ii(ii({},b),{},jj({},w,{from:r[w],velocity:0,to:e[w]}))},{}),l=-1,u,d,f=function(){return null},p=function(){return sv(function(w,x){return x.from},c)},m=function(){return!Object.values(c).filter(Mj).length},y=function(w){u||(u=w);var x=w-u,E=x/n.dt;c=hKe(n,c,E),a(ii(ii(ii({},r),e),p())),u=w,m()||(l=requestAnimationFrame(f))},v=function(w){d||(d=w);var x=(w-d)/i,E=sv(function(S,C){return mE.apply(void 0,xV(C).concat([n(x)]))},o);if(a(ii(ii(ii({},r),e),E)),x<1)l=requestAnimationFrame(f);else{var A=sv(function(S,C){return mE.apply(void 0,xV(C).concat([n(1)]))},o);a(ii(ii(ii({},r),e),A))}};return f=n.isStepper?y:v,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function sg(r){"@babel/helpers - typeof";return sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sg(r)}var gKe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function mKe(r,e){if(r==null)return{};var n=yKe(r,e),i,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(a=0;a<s.length;a++)i=s[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(r,i)&&(n[i]=r[i])}return n}function yKe(r,e){if(r==null)return{};var n={},i=Object.keys(r),a,s;for(s=0;s<i.length;s++)a=i[s],!(e.indexOf(a)>=0)&&(n[a]=r[a]);return n}function KN(r){return _Ke(r)||wKe(r)||bKe(r)||vKe()}function vKe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bKe(r,e){if(r){if(typeof r=="string")return Lj(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lj(r,e)}}function wKe(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function _Ke(r){if(Array.isArray(r))return Lj(r)}function Lj(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=r[n];return i}function SV(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function Fs(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SV(Object(n),!0).forEach(function(i){Ry(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):SV(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function Ry(r,e,n){return e=Yie(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function xKe(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function EKe(r,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,Yie(i.key),i)}}function SKe(r,e,n){return e&&EKe(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function Yie(r){var e=CKe(r,"string");return sg(e)==="symbol"?e:String(e)}function CKe(r,e){if(sg(r)!=="object"||r===null)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(sg(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function AKe(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&Uj(r,e)}function Uj(r,e){return Uj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,a){return i.__proto__=a,i},Uj(r,e)}function TKe(r){var e=kKe();return function(){var i=yE(r),a;if(e){var s=yE(this).constructor;a=Reflect.construct(i,arguments,s)}else a=i.apply(this,arguments);return Bj(this,a)}}function Bj(r,e){if(e&&(sg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fj(r)}function Fj(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function kKe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yE(r){return yE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yE(r)}var hl=function(r){AKe(n,r);var e=TKe(n);function n(i,a){var s;xKe(this,n),s=e.call(this,i,a);var o=s.props,c=o.isActive,l=o.attributeName,u=o.from,d=o.to,f=o.steps,p=o.children,m=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(Fj(s)),s.changeStyle=s.changeStyle.bind(Fj(s)),!c||m<=0)return s.state={style:{}},typeof p=="function"&&(s.state={style:d}),Bj(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof p=="function")return s.state={style:u},Bj(s);s.state={style:l?Ry({},l,u):u}}else s.state={style:{}};return s}return SKe(n,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,o=a.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,o=s.isActive,c=s.canBegin,l=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,p=this.state.style;if(c){if(!o){var m={style:l?Ry({},l,d):d};this.state&&p&&(l&&p[l]!==d||!l&&p!==d)&&this.setState(m);return}if(!($Ge(a.to,d)&&a.canBegin&&a.isActive)){var y=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=y||u?f:a.to;if(this.state&&p){var b={style:l?Ry({},l,v):v};(l&&p[l]!==v||!l&&p!==v)&&this.setState(b)}this.runAnimation(Fs(Fs({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,o=a.from,c=a.to,l=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,p=a.onAnimationStart,m=pKe(o,c,nKe(u),l,this.changeStyle),y=function(){s.stopJSAnimation=m()};this.manager.start([p,d,y,l,f])}},{key:"runStepAnimation",value:function(a){var s=this,o=a.steps,c=a.begin,l=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,p=f===void 0?0:f,m=function(v,b,w){if(w===0)return v;var x=b.duration,E=b.easing,A=E===void 0?"ease":E,S=b.style,C=b.properties,P=b.onAnimationEnd,O=w>0?o[w-1]:b,I=C||Object.keys(S);if(typeof A=="function"||A==="spring")return[].concat(KN(v),[s.runJSAnimation.bind(s,{from:O.style,to:S,duration:x,easing:A}),x]);var M=bV(I,x,A),D=Fs(Fs(Fs({},O.style),S),{},{transition:M});return[].concat(KN(v),[D,x,P]).filter(WGe)};return this.manager.start([l].concat(KN(o.reduce(m,[d,Math.max(p,c)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=FGe());var s=a.begin,o=a.duration,c=a.attributeName,l=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,p=a.steps,m=a.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(p.length>1){this.runStepAnimation(a);return}var v=c?Ry({},c,l):l,b=bV(Object.keys(v),o,u);y.start([d,s,Fs(Fs({},v),{},{transition:b}),o,f])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var c=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=mKe(a,gKe),u=U.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!c||u===0||o<=0)return s;var f=function(m){var y=m.props,v=y.style,b=v===void 0?{}:v,w=y.className,x=U.cloneElement(m,Fs(Fs({},l),{},{style:Fs(Fs({},b),d),className:w}));return x};return u===1?f(U.Children.only(s)):ee.createElement("div",null,U.Children.map(s,function(p){return f(p)}))}}]),n}(U.PureComponent);hl.displayName="Animate";hl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};hl.propTypes={from:X.oneOfType([X.object,X.string]),to:X.oneOfType([X.object,X.string]),attributeName:X.string,duration:X.number,begin:X.number,easing:X.oneOfType([X.string,X.func]),steps:X.arrayOf(X.shape({duration:X.number.isRequired,style:X.object.isRequired,easing:X.oneOfType([X.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),X.func]),properties:X.arrayOf("string"),onAnimationEnd:X.func})),children:X.oneOfType([X.node,X.func]),isActive:X.bool,canBegin:X.bool,onAnimationEnd:X.func,shouldReAnimate:X.bool,onAnimationStart:X.func,onAnimationReStart:X.func};function B0(r){"@babel/helpers - typeof";return B0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B0(r)}function vE(){return vE=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},vE.apply(this,arguments)}function PKe(r,e){return RKe(r)||IKe(r,e)||NKe(r,e)||OKe()}function OKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NKe(r,e){if(r){if(typeof r=="string")return CV(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CV(r,e)}}function CV(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=r[n];return i}function IKe(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var i,a,s,o,c=[],l=!0,u=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(l=(i=s.call(n)).done)&&(c.push(i.value),c.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return c}}function RKe(r){if(Array.isArray(r))return r}function AV(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function TV(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AV(Object(n),!0).forEach(function(i){$Ke(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):AV(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function $Ke(r,e,n){return e=jKe(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function jKe(r){var e=DKe(r,"string");return B0(e)=="symbol"?e:e+""}function DKe(r,e){if(B0(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(B0(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var kV=function(e,n,i,a,s){var o=Math.min(Math.abs(i)/2,Math.abs(a)/2),c=a>=0?1:-1,l=i>=0?1:-1,u=a>=0&&i>=0||a<0&&i<0?1:0,d;if(o>0&&s instanceof Array){for(var f=[0,0,0,0],p=0,m=4;p<m;p++)f[p]=s[p]>o?o:s[p];d="M".concat(e,",").concat(n+c*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),d+="L ".concat(e+i-l*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+i,",").concat(n+c*f[1])),d+="L ".concat(e+i,",").concat(n+a-c*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+i-l*f[2],",").concat(n+a)),d+="L ".concat(e+l*f[3],",").concat(n+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+a-c*f[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var y=Math.min(o,s);d="M ".concat(e,",").concat(n+c*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+l*y,",").concat(n,`
            L `).concat(e+i-l*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+i,",").concat(n+c*y,`
            L `).concat(e+i,",").concat(n+a-c*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+i-l*y,",").concat(n+a,`
            L `).concat(e+l*y,",").concat(n+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(n+a-c*y," Z")}else d="M ".concat(e,",").concat(n," h ").concat(i," v ").concat(a," h ").concat(-i," Z");return d},MKe=function(e,n){if(!e||!n)return!1;var i=e.x,a=e.y,s=n.x,o=n.y,c=n.width,l=n.height;if(Math.abs(c)>0&&Math.abs(l)>0){var u=Math.min(s,s+c),d=Math.max(s,s+c),f=Math.min(o,o+l),p=Math.max(o,o+l);return i>=u&&i<=d&&a>=f&&a<=p}return!1},LKe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rM=function(e){var n=TV(TV({},LKe),e),i=U.useRef(),a=U.useState(-1),s=PKe(a,2),o=s[0],c=s[1];U.useEffect(function(){if(i.current&&i.current.getTotalLength)try{var A=i.current.getTotalLength();A&&c(A)}catch{}},[]);var l=n.x,u=n.y,d=n.width,f=n.height,p=n.radius,m=n.className,y=n.animationEasing,v=n.animationDuration,b=n.animationBegin,w=n.isAnimationActive,x=n.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var E=ar("recharts-rectangle",m);return x?ee.createElement(hl,{canBegin:o>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:v,animationEasing:y,isActive:x},function(A){var S=A.width,C=A.height,P=A.x,O=A.y;return ee.createElement(hl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:v,isActive:w,easing:y},ee.createElement("path",vE({},Xt(n,!0),{className:E,d:kV(P,O,S,C,p),ref:i})))}):ee.createElement("path",vE({},Xt(n,!0),{className:E,d:kV(l,u,d,f,p)}))};function qj(){return qj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},qj.apply(this,arguments)}var nM=function(e){var n=e.cx,i=e.cy,a=e.r,s=e.className,o=ar("recharts-dot",s);return n===+n&&i===+i&&a===+a?ee.createElement("circle",qj({},Xt(e,!1),Lx(e),{className:o,cx:n,cy:i,r:a})):null};function F0(r){"@babel/helpers - typeof";return F0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F0(r)}var UKe=["x","y","top","left","width","height","className"];function zj(){return zj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},zj.apply(this,arguments)}function PV(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function BKe(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PV(Object(n),!0).forEach(function(i){FKe(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):PV(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function FKe(r,e,n){return e=qKe(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function qKe(r){var e=zKe(r,"string");return F0(e)=="symbol"?e:e+""}function zKe(r,e){if(F0(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(F0(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function HKe(r,e){if(r==null)return{};var n=WKe(r,e),i,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(a=0;a<s.length;a++)i=s[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(r,i)&&(n[i]=r[i])}return n}function WKe(r,e){if(r==null)return{};var n={};for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){if(e.indexOf(i)>=0)continue;n[i]=r[i]}return n}var VKe=function(e,n,i,a,s,o){return"M".concat(e,",").concat(s,"v").concat(a,"M").concat(o,",").concat(n,"h").concat(i)},GKe=function(e){var n=e.x,i=n===void 0?0:n,a=e.y,s=a===void 0?0:a,o=e.top,c=o===void 0?0:o,l=e.left,u=l===void 0?0:l,d=e.width,f=d===void 0?0:d,p=e.height,m=p===void 0?0:p,y=e.className,v=HKe(e,UKe),b=BKe({x:i,y:s,top:c,left:u,width:f,height:m},v);return!De(i)||!De(s)||!De(f)||!De(m)||!De(c)||!De(u)?null:ee.createElement("path",zj({},Xt(b,!0),{className:ar("recharts-cross",y),d:VKe(i,s,f,m,c,u)}))},YN,OV;function KKe(){if(OV)return YN;OV=1;var r=fne(),e=r(Object.getPrototypeOf,Object);return YN=e,YN}var XN,NV;function YKe(){if(NV)return XN;NV=1;var r=wl(),e=KKe(),n=_l(),i="[object Object]",a=Function.prototype,s=Object.prototype,o=a.toString,c=s.hasOwnProperty,l=o.call(Object);function u(d){if(!n(d)||r(d)!=i)return!1;var f=e(d);if(f===null)return!0;var p=c.call(f,"constructor")&&f.constructor;return typeof p=="function"&&p instanceof p&&o.call(p)==l}return XN=u,XN}var XKe=YKe();const JKe=Jt(XKe);var JN,IV;function ZKe(){if(IV)return JN;IV=1;var r=wl(),e=_l(),n="[object Boolean]";function i(a){return a===!0||a===!1||e(a)&&r(a)==n}return JN=i,JN}var QKe=ZKe();const eYe=Jt(QKe);function q0(r){"@babel/helpers - typeof";return q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q0(r)}function bE(){return bE=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},bE.apply(this,arguments)}function tYe(r,e){return aYe(r)||iYe(r,e)||nYe(r,e)||rYe()}function rYe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nYe(r,e){if(r){if(typeof r=="string")return RV(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RV(r,e)}}function RV(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=r[n];return i}function iYe(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var i,a,s,o,c=[],l=!0,u=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(l=(i=s.call(n)).done)&&(c.push(i.value),c.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return c}}function aYe(r){if(Array.isArray(r))return r}function $V(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function jV(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$V(Object(n),!0).forEach(function(i){sYe(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):$V(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function sYe(r,e,n){return e=oYe(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function oYe(r){var e=cYe(r,"string");return q0(e)=="symbol"?e:e+""}function cYe(r,e){if(q0(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(q0(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var DV=function(e,n,i,a,s){var o=i-a,c;return c="M ".concat(e,",").concat(n),c+="L ".concat(e+i,",").concat(n),c+="L ".concat(e+i-o/2,",").concat(n+s),c+="L ".concat(e+i-o/2-a,",").concat(n+s),c+="L ".concat(e,",").concat(n," Z"),c},lYe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uYe=function(e){var n=jV(jV({},lYe),e),i=U.useRef(),a=U.useState(-1),s=tYe(a,2),o=s[0],c=s[1];U.useEffect(function(){if(i.current&&i.current.getTotalLength)try{var E=i.current.getTotalLength();E&&c(E)}catch{}},[]);var l=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,p=n.height,m=n.className,y=n.animationEasing,v=n.animationDuration,b=n.animationBegin,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||p!==+p||d===0&&f===0||p===0)return null;var x=ar("recharts-trapezoid",m);return w?ee.createElement(hl,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:p,x:l,y:u},duration:v,animationEasing:y,isActive:w},function(E){var A=E.upperWidth,S=E.lowerWidth,C=E.height,P=E.x,O=E.y;return ee.createElement(hl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:v,easing:y},ee.createElement("path",bE({},Xt(n,!0),{className:x,d:DV(P,O,A,S,C),ref:i})))}):ee.createElement("g",null,ee.createElement("path",bE({},Xt(n,!0),{className:x,d:DV(l,u,d,f,p)})))},dYe=["option","shapeType","propTransformer","activeClassName","isActive"];function z0(r){"@babel/helpers - typeof";return z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z0(r)}function fYe(r,e){if(r==null)return{};var n=hYe(r,e),i,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(a=0;a<s.length;a++)i=s[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(r,i)&&(n[i]=r[i])}return n}function hYe(r,e){if(r==null)return{};var n={};for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){if(e.indexOf(i)>=0)continue;n[i]=r[i]}return n}function MV(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function wE(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MV(Object(n),!0).forEach(function(i){pYe(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):MV(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function pYe(r,e,n){return e=gYe(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function gYe(r){var e=mYe(r,"string");return z0(e)=="symbol"?e:e+""}function mYe(r,e){if(z0(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(z0(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function yYe(r,e){return wE(wE({},e),r)}function vYe(r,e){return r==="symbols"}function LV(r){var e=r.shapeType,n=r.elementProps;switch(e){case"rectangle":return ee.createElement(rM,n);case"trapezoid":return ee.createElement(uYe,n);case"sector":return ee.createElement(qie,n);case"symbols":if(vYe(e))return ee.createElement(_5,n);break;default:return null}}function bYe(r){return U.isValidElement(r)?r.props:r}function wYe(r){var e=r.option,n=r.shapeType,i=r.propTransformer,a=i===void 0?yYe:i,s=r.activeClassName,o=s===void 0?"recharts-active-shape":s,c=r.isActive,l=fYe(r,dYe),u;if(U.isValidElement(e))u=U.cloneElement(e,wE(wE({},l),bYe(e)));else if(jt(e))u=e(l);else if(JKe(e)&&!eYe(e)){var d=a(e,l);u=ee.createElement(LV,{shapeType:n,elementProps:d})}else{var f=l;u=ee.createElement(LV,{shapeType:n,elementProps:f})}return c?ee.createElement(gn,{className:o},u):u}function CC(r,e){return e!=null&&"trapezoids"in r.props}function AC(r,e){return e!=null&&"sectors"in r.props}function H0(r,e){return e!=null&&"points"in r.props}function _Ye(r,e){var n,i,a=r.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||r.x===e.x,s=r.y===(e==null||(i=e.labelViewBox)===null||i===void 0?void 0:i.y)||r.y===e.y;return a&&s}function xYe(r,e){var n=r.endAngle===e.endAngle,i=r.startAngle===e.startAngle;return n&&i}function EYe(r,e){var n=r.x===e.x,i=r.y===e.y,a=r.z===e.z;return n&&i&&a}function SYe(r,e){var n;return CC(r,e)?n=_Ye:AC(r,e)?n=xYe:H0(r,e)&&(n=EYe),n}function CYe(r,e){var n;return CC(r,e)?n="trapezoids":AC(r,e)?n="sectors":H0(r,e)&&(n="points"),n}function AYe(r,e){if(CC(r,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(AC(r,e)){var i;return(i=e.tooltipPayload)===null||i===void 0||(i=i[0])===null||i===void 0||(i=i.payload)===null||i===void 0?void 0:i.payload}return H0(r,e)?e.payload:{}}function TYe(r){var e=r.activeTooltipItem,n=r.graphicalItem,i=r.itemData,a=CYe(n,e),s=AYe(n,e),o=i.filter(function(l,u){var d=xC(s,l),f=n.props[a].filter(function(y){var v=SYe(n,e);return v(y,e)}),p=n.props[a].indexOf(f[f.length-1]),m=u===p;return d&&m}),c=i.indexOf(o[o.length-1]);return c}var ZN,UV;function kYe(){if(UV)return ZN;UV=1;var r=Math.ceil,e=Math.max;function n(i,a,s,o){for(var c=-1,l=e(r((a-i)/(s||1)),0),u=Array(l);l--;)u[o?l:++c]=i,i+=s;return u}return ZN=n,ZN}var QN,BV;function Xie(){if(BV)return QN;BV=1;var r=kne(),e=1/0,n=17976931348623157e292;function i(a){if(!a)return a===0?a:0;if(a=r(a),a===e||a===-1/0){var s=a<0?-1:1;return s*n}return a===a?a:0}return QN=i,QN}var eI,FV;function PYe(){if(FV)return eI;FV=1;var r=kYe(),e=fC(),n=Xie();function i(a){return function(s,o,c){return c&&typeof c!="number"&&e(s,o,c)&&(o=c=void 0),s=n(s),o===void 0?(o=s,s=0):o=n(o),c=c===void 0?s<o?1:-1:n(c),r(s,o,c,a)}}return eI=i,eI}var tI,qV;function OYe(){if(qV)return tI;qV=1;var r=PYe(),e=r();return tI=e,tI}var NYe=OYe();const _E=Jt(NYe);function W0(r){"@babel/helpers - typeof";return W0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W0(r)}function zV(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function HV(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zV(Object(n),!0).forEach(function(i){Jie(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):zV(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function Jie(r,e,n){return e=IYe(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function IYe(r){var e=RYe(r,"string");return W0(e)=="symbol"?e:e+""}function RYe(r,e){if(W0(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(W0(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var $Ye=["Webkit","Moz","O","ms"],jYe=function(e,n){var i=e.replace(/(\w)/,function(s){return s.toUpperCase()}),a=$Ye.reduce(function(s,o){return HV(HV({},s),{},Jie({},o+i,n))},{});return a[e]=n,a};function og(r){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},og(r)}function xE(){return xE=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},xE.apply(this,arguments)}function WV(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function rI(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WV(Object(n),!0).forEach(function(i){Ia(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):WV(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function DYe(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function VV(r,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,Qie(i.key),i)}}function MYe(r,e,n){return e&&VV(r.prototype,e),n&&VV(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function LYe(r,e,n){return e=EE(e),UYe(r,Zie()?Reflect.construct(e,n||[],EE(r).constructor):e.apply(r,n))}function UYe(r,e){if(e&&(og(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BYe(r)}function BYe(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Zie(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zie=function(){return!!r})()}function EE(r){return EE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},EE(r)}function FYe(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&Hj(r,e)}function Hj(r,e){return Hj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,a){return i.__proto__=a,i},Hj(r,e)}function Ia(r,e,n){return e=Qie(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Qie(r){var e=qYe(r,"string");return og(e)=="symbol"?e:e+""}function qYe(r,e){if(og(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(og(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var zYe=function(e){var n=e.data,i=e.startIndex,a=e.endIndex,s=e.x,o=e.width,c=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=iv().domain(_E(0,l)).range([s,s+o-c]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(i),endX:u(a),scale:u,scaleValues:d}},GV=function(e){return e.changedTouches&&!!e.changedTouches.length},cg=function(r){function e(n){var i;return DYe(this,e),i=LYe(this,e,[n]),Ia(i,"handleDrag",function(a){i.leaveTimer&&(clearTimeout(i.leaveTimer),i.leaveTimer=null),i.state.isTravellerMoving?i.handleTravellerMove(a):i.state.isSlideMoving&&i.handleSlideDrag(a)}),Ia(i,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&i.handleDrag(a.changedTouches[0])}),Ia(i,"handleDragEnd",function(){i.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=i.props,s=a.endIndex,o=a.onDragEnd,c=a.startIndex;o==null||o({endIndex:s,startIndex:c})}),i.detachDragEndListener()}),Ia(i,"handleLeaveWrapper",function(){(i.state.isTravellerMoving||i.state.isSlideMoving)&&(i.leaveTimer=window.setTimeout(i.handleDragEnd,i.props.leaveTimeOut))}),Ia(i,"handleEnterSlideOrTraveller",function(){i.setState({isTextActive:!0})}),Ia(i,"handleLeaveSlideOrTraveller",function(){i.setState({isTextActive:!1})}),Ia(i,"handleSlideDragStart",function(a){var s=GV(a)?a.changedTouches[0]:a;i.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),i.attachDragEndListener()}),i.travellerDragStartHandlers={startX:i.handleTravellerDragStart.bind(i,"startX"),endX:i.handleTravellerDragStart.bind(i,"endX")},i.state={},i}return FYe(e,r),MYe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(i){var a=i.startX,s=i.endX,o=this.state.scaleValues,c=this.props,l=c.gap,u=c.data,d=u.length-1,f=Math.min(a,s),p=Math.max(a,s),m=e.getIndexInRange(o,f),y=e.getIndexInRange(o,p);return{startIndex:m-m%l,endIndex:y===d?d:y-y%l}}},{key:"getTextOfTick",value:function(i){var a=this.props,s=a.data,o=a.tickFormatter,c=a.dataKey,l=Ba(s[i],c,i);return jt(o)?o(l,i):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(i){var a=this.state,s=a.slideMoveStartX,o=a.startX,c=a.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,p=l.startIndex,m=l.endIndex,y=l.onChange,v=i.pageX-s;v>0?v=Math.min(v,u+d-f-c,u+d-f-o):v<0&&(v=Math.max(v,u-o,u-c));var b=this.getIndex({startX:o+v,endX:c+v});(b.startIndex!==p||b.endIndex!==m)&&y&&y(b),this.setState({startX:o+v,endX:c+v,slideMoveStartX:i.pageX})}},{key:"handleTravellerDragStart",value:function(i,a){var s=GV(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:i,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(i){var a=this.state,s=a.brushMoveStartX,o=a.movingTravellerId,c=a.endX,l=a.startX,u=this.state[o],d=this.props,f=d.x,p=d.width,m=d.travellerWidth,y=d.onChange,v=d.gap,b=d.data,w={startX:this.state.startX,endX:this.state.endX},x=i.pageX-s;x>0?x=Math.min(x,f+p-m-u):x<0&&(x=Math.max(x,f-u)),w[o]=u+x;var E=this.getIndex(w),A=E.startIndex,S=E.endIndex,C=function(){var O=b.length-1;return o==="startX"&&(c>l?A%v===0:S%v===0)||c<l&&S===O||o==="endX"&&(c>l?S%v===0:A%v===0)||c>l&&S===O};this.setState(Ia(Ia({},o,u+x),"brushMoveStartX",i.pageX),function(){y&&C()&&y(E)})}},{key:"handleTravellerMoveKeyboard",value:function(i,a){var s=this,o=this.state,c=o.scaleValues,l=o.startX,u=o.endX,d=this.state[a],f=c.indexOf(d);if(f!==-1){var p=f+i;if(!(p===-1||p>=c.length)){var m=c[p];a==="startX"&&m>=u||a==="endX"&&m<=l||this.setState(Ia({},a,m),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var i=this.props,a=i.x,s=i.y,o=i.width,c=i.height,l=i.fill,u=i.stroke;return ee.createElement("rect",{stroke:u,fill:l,x:a,y:s,width:o,height:c})}},{key:"renderPanorama",value:function(){var i=this.props,a=i.x,s=i.y,o=i.width,c=i.height,l=i.data,u=i.children,d=i.padding,f=U.Children.only(u);return f?ee.cloneElement(f,{x:a,y:s,width:o,height:c,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(i,a){var s,o,c=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,p=l.traveller,m=l.ariaLabel,y=l.data,v=l.startIndex,b=l.endIndex,w=Math.max(i,this.props.x),x=rI(rI({},Xt(this.props,!1)),{},{x:w,y:u,width:d,height:f}),E=m||"Min value: ".concat((s=y[v])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=y[b])===null||o===void 0?void 0:o.name);return ee.createElement(gn,{tabIndex:0,role:"slider","aria-label":E,"aria-valuenow":i,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),c.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,a))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,x))}},{key:"renderSlide",value:function(i,a){var s=this.props,o=s.y,c=s.height,l=s.stroke,u=s.travellerWidth,d=Math.min(i,a)+u,f=Math.max(Math.abs(a-i)-u,0);return ee.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:o,width:f,height:c})}},{key:"renderText",value:function(){var i=this.props,a=i.startIndex,s=i.endIndex,o=i.y,c=i.height,l=i.travellerWidth,u=i.stroke,d=this.state,f=d.startX,p=d.endX,m=5,y={pointerEvents:"none",fill:u};return ee.createElement(gn,{className:"recharts-brush-texts"},ee.createElement(Xx,xE({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-m,y:o+c/2},y),this.getTextOfTick(a)),ee.createElement(Xx,xE({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+l+m,y:o+c/2},y),this.getTextOfTick(s)))}},{key:"render",value:function(){var i=this.props,a=i.data,s=i.className,o=i.children,c=i.x,l=i.y,u=i.width,d=i.height,f=i.alwaysShowText,p=this.state,m=p.startX,y=p.endX,v=p.isTextActive,b=p.isSlideMoving,w=p.isTravellerMoving,x=p.isTravellerFocused;if(!a||!a.length||!De(c)||!De(l)||!De(u)||!De(d)||u<=0||d<=0)return null;var E=ar("recharts-brush",s),A=ee.Children.count(o)===1,S=jYe("userSelect","none");return ee.createElement(gn,{className:E,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(m,y),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(y,"endX"),(v||b||w||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(i){var a=i.x,s=i.y,o=i.width,c=i.height,l=i.stroke,u=Math.floor(s+c/2)-1;return ee.createElement(ee.Fragment,null,ee.createElement("rect",{x:a,y:s,width:o,height:c,fill:l,stroke:"none"}),ee.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),ee.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(i,a){var s;return ee.isValidElement(i)?s=ee.cloneElement(i,a):jt(i)?s=i(a):s=e.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(i,a){var s=i.data,o=i.width,c=i.x,l=i.travellerWidth,u=i.updateId,d=i.startIndex,f=i.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return rI({prevData:s,prevTravellerWidth:l,prevUpdateId:u,prevX:c,prevWidth:o},s&&s.length?zYe({data:s,width:o,x:c,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||c!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([c,c+o-l]);var p=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:u,prevX:c,prevWidth:o,startX:a.scale(i.startIndex),endX:a.scale(i.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(i,a){for(var s=i.length,o=0,c=s-1;c-o>1;){var l=Math.floor((o+c)/2);i[l]>a?c=l:o=l}return a>=i[c]?c:o}}])}(U.PureComponent);Ia(cg,"displayName","Brush");Ia(cg,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var nI,KV;function HYe(){if(KV)return nI;KV=1;var r=k5();function e(n,i){var a;return r(n,function(s,o,c){return a=i(s,o,c),!a}),!!a}return nI=e,nI}var iI,YV;function WYe(){if(YV)return iI;YV=1;var r=ane(),e=Wu(),n=HYe(),i=va(),a=fC();function s(o,c,l){var u=i(o)?r:n;return l&&a(o,c,l)&&(c=void 0),u(o,e(c,3))}return iI=s,iI}var VYe=WYe();const GYe=Jt(VYe);var Vo=function(e,n){var i=e.alwaysShow,a=e.ifOverflow;return i&&(a="extendDomain"),a===n},aI,XV;function KYe(){if(XV)return aI;XV=1;var r=Ene();function e(n,i,a){i=="__proto__"&&r?r(n,i,{configurable:!0,enumerable:!0,value:a,writable:!0}):n[i]=a}return aI=e,aI}var sI,JV;function YYe(){if(JV)return sI;JV=1;var r=KYe(),e=_ne(),n=Wu();function i(a,s){var o={};return s=n(s,3),e(a,function(c,l,u){r(o,l,s(c,l,u))}),o}return sI=i,sI}var XYe=YYe();const JYe=Jt(XYe);var oI,ZV;function ZYe(){if(ZV)return oI;ZV=1;function r(e,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(!n(e[i],i,e))return!1;return!0}return oI=r,oI}var cI,QV;function QYe(){if(QV)return cI;QV=1;var r=k5();function e(n,i){var a=!0;return r(n,function(s,o,c){return a=!!i(s,o,c),a}),a}return cI=e,cI}var lI,eG;function eXe(){if(eG)return lI;eG=1;var r=ZYe(),e=QYe(),n=Wu(),i=va(),a=fC();function s(o,c,l){var u=i(o)?r:e;return l&&a(o,c,l)&&(c=void 0),u(o,n(c,3))}return lI=s,lI}var tXe=eXe();const eae=Jt(tXe);var rXe=["x","y"];function V0(r){"@babel/helpers - typeof";return V0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V0(r)}function Wj(){return Wj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},Wj.apply(this,arguments)}function tG(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function hy(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tG(Object(n),!0).forEach(function(i){nXe(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):tG(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function nXe(r,e,n){return e=iXe(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function iXe(r){var e=aXe(r,"string");return V0(e)=="symbol"?e:e+""}function aXe(r,e){if(V0(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(V0(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function sXe(r,e){if(r==null)return{};var n=oXe(r,e),i,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(a=0;a<s.length;a++)i=s[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(r,i)&&(n[i]=r[i])}return n}function oXe(r,e){if(r==null)return{};var n={};for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){if(e.indexOf(i)>=0)continue;n[i]=r[i]}return n}function cXe(r,e){var n=r.x,i=r.y,a=sXe(r,rXe),s="".concat(n),o=parseInt(s,10),c="".concat(i),l=parseInt(c,10),u="".concat(e.height||a.height),d=parseInt(u,10),f="".concat(e.width||a.width),p=parseInt(f,10);return hy(hy(hy(hy(hy({},e),a),o?{x:o}:{}),l?{y:l}:{}),{},{height:d,width:p,name:e.name,radius:e.radius})}function rG(r){return ee.createElement(wYe,Wj({shapeType:"rectangle",propTransformer:cXe,activeClassName:"recharts-active-bar"},r))}var lXe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(i,a){if(typeof e=="number")return e;var s=typeof i=="number";return s?e(i,a):(s||Pf(),n)}},uXe=["value","background"],tae;function lg(r){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lg(r)}function dXe(r,e){if(r==null)return{};var n=fXe(r,e),i,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(a=0;a<s.length;a++)i=s[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(r,i)&&(n[i]=r[i])}return n}function fXe(r,e){if(r==null)return{};var n={};for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){if(e.indexOf(i)>=0)continue;n[i]=r[i]}return n}function SE(){return SE=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},SE.apply(this,arguments)}function nG(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function bn(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nG(Object(n),!0).forEach(function(i){Cu(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):nG(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function hXe(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function iG(r,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,nae(i.key),i)}}function pXe(r,e,n){return e&&iG(r.prototype,e),n&&iG(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function gXe(r,e,n){return e=CE(e),mXe(r,rae()?Reflect.construct(e,n||[],CE(r).constructor):e.apply(r,n))}function mXe(r,e){if(e&&(lg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yXe(r)}function yXe(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function rae(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rae=function(){return!!r})()}function CE(r){return CE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},CE(r)}function vXe(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&Vj(r,e)}function Vj(r,e){return Vj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,a){return i.__proto__=a,i},Vj(r,e)}function Cu(r,e,n){return e=nae(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function nae(r){var e=bXe(r,"string");return lg(e)=="symbol"?e:e+""}function bXe(r,e){if(lg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(lg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Vb=function(r){function e(){var n;hXe(this,e);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=gXe(this,e,[].concat(a)),Cu(n,"state",{isAnimationFinished:!1}),Cu(n,"id",Ub("recharts-bar-")),Cu(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Cu(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return vXe(e,r),pXe(e,[{key:"renderRectanglesStatically",value:function(i){var a=this,s=this.props,o=s.shape,c=s.dataKey,l=s.activeIndex,u=s.activeBar,d=Xt(this.props,!1);return i&&i.map(function(f,p){var m=p===l,y=m?u:o,v=bn(bn(bn({},d),f),{},{isActive:m,option:y,index:p,dataKey:c,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return ee.createElement(gn,SE({className:"recharts-bar-rectangle"},Ux(a.props,f,p),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(p)}),ee.createElement(rG,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var i=this,a=this.props,s=a.data,o=a.layout,c=a.isAnimationActive,l=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,p=this.state.prevData;return ee.createElement(hl,{begin:l,duration:u,isActive:c,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var y=m.t,v=s.map(function(b,w){var x=p&&p[w];if(x){var E=Xs(x.x,b.x),A=Xs(x.y,b.y),S=Xs(x.width,b.width),C=Xs(x.height,b.height);return bn(bn({},b),{},{x:E(y),y:A(y),width:S(y),height:C(y)})}if(o==="horizontal"){var P=Xs(0,b.height),O=P(y);return bn(bn({},b),{},{y:b.y+b.height-O,height:O})}var I=Xs(0,b.width),M=I(y);return bn(bn({},b),{},{width:M})});return ee.createElement(gn,null,i.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var i=this.props,a=i.data,s=i.isAnimationActive,o=this.state.prevData;return s&&a&&a.length&&(!o||!xC(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var i=this,a=this.props,s=a.data,o=a.dataKey,c=a.activeIndex,l=Xt(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,p=dXe(u,uXe);if(!f)return null;var m=bn(bn(bn(bn(bn({},p),{},{fill:"#eee"},f),l),Ux(i.props,u,d)),{},{onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return ee.createElement(rG,SE({key:"background-bar-".concat(d),option:i.props.background,isActive:d===c},m))})}},{key:"renderErrorBar",value:function(i,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,c=s.xAxis,l=s.yAxis,u=s.layout,d=s.children,f=bs(d,Wb);if(!f)return null;var p=u==="vertical"?o[0].height/2:o[0].width/2,m=function(b,w){var x=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:x,errorVal:Ba(b,w)}},y={clipPath:i?"url(#clipPath-".concat(a,")"):null};return ee.createElement(gn,y,f.map(function(v){return ee.cloneElement(v,{key:"error-bar-".concat(a,"-").concat(v.props.dataKey),data:o,xAxis:c,yAxis:l,layout:u,offset:p,dataPointFormatter:m})}))}},{key:"render",value:function(){var i=this.props,a=i.hide,s=i.data,o=i.className,c=i.xAxis,l=i.yAxis,u=i.left,d=i.top,f=i.width,p=i.height,m=i.isAnimationActive,y=i.background,v=i.id;if(a||!s||!s.length)return null;var b=this.state.isAnimationFinished,w=ar("recharts-bar",o),x=c&&c.allowDataOverflow,E=l&&l.allowDataOverflow,A=x||E,S=Ht(v)?this.id:v;return ee.createElement(gn,{className:w},x||E?ee.createElement("defs",null,ee.createElement("clipPath",{id:"clipPath-".concat(S)},ee.createElement("rect",{x:x?u:u-f/2,y:E?d:d-p/2,width:x?f:f*2,height:E?p:p*2}))):null,ee.createElement(gn,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(S,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,S),(!m||b)&&$u.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(i,a){return i.animationId!==a.prevAnimationId?{prevAnimationId:i.animationId,curData:i.data,prevData:a.curData}:i.data!==a.curData?{curData:i.data}:null}}])}(U.PureComponent);tae=Vb;Cu(Vb,"displayName","Bar");Cu(Vb,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Wg.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Cu(Vb,"getComposedData",function(r){var e=r.props,n=r.item,i=r.barPosition,a=r.bandSize,s=r.xAxis,o=r.yAxis,c=r.xAxisTicks,l=r.yAxisTicks,u=r.stackedData,d=r.dataStartIndex,f=r.displayedData,p=r.offset,m=UWe(i,n);if(!m)return null;var y=e.layout,v=n.type.defaultProps,b=v!==void 0?bn(bn({},v),n.props):n.props,w=b.dataKey,x=b.children,E=b.minPointSize,A=y==="horizontal"?o:s,S=u?A.scale.domain():null,C=GWe({numericAxis:A}),P=bs(x,One),O=f.map(function(I,M){var D,q,K,L,R,j;u?D=BWe(u[d+M],S):(D=Ba(I,w),Array.isArray(D)||(D=[C,D]));var W=lXe(E,tae.defaultProps.minPointSize)(D[1],M);if(y==="horizontal"){var H,z=[o.scale(D[0]),o.scale(D[1])],B=z[0],F=z[1];q=FW({axis:s,ticks:c,bandSize:a,offset:m.offset,entry:I,index:M}),K=(H=F??B)!==null&&H!==void 0?H:void 0,L=m.size;var G=B-F;if(R=Number.isNaN(G)?0:G,j={x:q,y:o.y,width:L,height:o.height},Math.abs(W)>0&&Math.abs(R)<Math.abs(W)){var Q=no(R||W)*(Math.abs(W)-Math.abs(R));K-=Q,R+=Q}}else{var te=[s.scale(D[0]),s.scale(D[1])],ae=te[0],fe=te[1];if(q=ae,K=FW({axis:o,ticks:l,bandSize:a,offset:m.offset,entry:I,index:M}),L=fe-ae,R=m.size,j={x:s.x,y:K,width:s.width,height:R},Math.abs(W)>0&&Math.abs(L)<Math.abs(W)){var xe=no(L||W)*(Math.abs(W)-Math.abs(L));L+=xe}}return bn(bn(bn({},I),{},{x:q,y:K,width:L,height:R,value:u?D:D[1],payload:I,background:j},P&&P[M]&&P[M].props),{},{tooltipPayload:[Uie(n,I)],tooltipPosition:{x:q+L/2,y:K+R/2}})});return bn({data:O,layout:y},p)});function G0(r){"@babel/helpers - typeof";return G0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G0(r)}function wXe(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function aG(r,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,iae(i.key),i)}}function _Xe(r,e,n){return e&&aG(r.prototype,e),n&&aG(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function sG(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function Gs(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sG(Object(n),!0).forEach(function(i){TC(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):sG(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function TC(r,e,n){return e=iae(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function iae(r){var e=xXe(r,"string");return G0(e)=="symbol"?e:e+""}function xXe(r,e){if(G0(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(G0(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var EXe=function(e,n,i,a,s){var o=e.width,c=e.height,l=e.layout,u=e.children,d=Object.keys(n),f={left:i.left,leftMirror:i.left,right:o-i.right,rightMirror:o-i.right,top:i.top,topMirror:i.top,bottom:c-i.bottom,bottomMirror:c-i.bottom},p=!!$a(u,Vb);return d.reduce(function(m,y){var v=n[y],b=v.orientation,w=v.domain,x=v.padding,E=x===void 0?{}:x,A=v.mirror,S=v.reversed,C="".concat(b).concat(A?"Mirror":""),P,O,I,M,D;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var q=w[1]-w[0],K=1/0,L=v.categoricalDomain.sort(pUe);if(L.forEach(function(te,ae){ae>0&&(K=Math.min((te||0)-(L[ae-1]||0),K))}),Number.isFinite(K)){var R=K/q,j=v.layout==="vertical"?i.height:i.width;if(v.padding==="gap"&&(P=R*j/2),v.padding==="no-gap"){var W=Af(e.barCategoryGap,R*j),H=R*j/2;P=H-W-(H-W)/j*W}}}a==="xAxis"?O=[i.left+(E.left||0)+(P||0),i.left+i.width-(E.right||0)-(P||0)]:a==="yAxis"?O=l==="horizontal"?[i.top+i.height-(E.bottom||0),i.top+(E.top||0)]:[i.top+(E.top||0)+(P||0),i.top+i.height-(E.bottom||0)-(P||0)]:O=v.range,S&&(O=[O[1],O[0]]);var z=MWe(v,s,p),B=z.scale,F=z.realScaleType;B.domain(w).range(O),LWe(B);var G=VWe(B,Gs(Gs({},v),{},{realScaleType:F}));a==="xAxis"?(D=b==="top"&&!A||b==="bottom"&&A,I=i.left,M=f[C]-D*v.height):a==="yAxis"&&(D=b==="left"&&!A||b==="right"&&A,I=f[C]-D*v.width,M=i.top);var Q=Gs(Gs(Gs({},v),G),{},{realScaleType:F,x:I,y:M,scale:B,width:a==="xAxis"?i.width:v.width,height:a==="yAxis"?i.height:v.height});return Q.bandSize=fE(Q,G),!v.hide&&a==="xAxis"?f[C]+=(D?-1:1)*Q.height:v.hide||(f[C]+=(D?-1:1)*Q.width),Gs(Gs({},m),{},TC({},y,Q))},{})},aae=function(e,n){var i=e.x,a=e.y,s=n.x,o=n.y;return{x:Math.min(i,s),y:Math.min(a,o),width:Math.abs(s-i),height:Math.abs(o-a)}},SXe=function(e){var n=e.x1,i=e.y1,a=e.x2,s=e.y2;return aae({x:n,y:i},{x:a,y:s})},sae=function(){function r(e){wXe(this,r),this.scale=e}return _Xe(r,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=i.bandAware,s=i.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(n)+c}default:return this.scale(n)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var i=this.range(),a=i[0],s=i[i.length-1];return a<=s?n>=a&&n<=s:n>=s&&n<=a}}],[{key:"create",value:function(n){return new r(n)}}])}();TC(sae,"EPS",1e-4);var iM=function(e){var n=Object.keys(e).reduce(function(i,a){return Gs(Gs({},i),{},TC({},a,sae.create(e[a])))},{});return Gs(Gs({},n),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,c=s.position;return JYe(a,function(l,u){return n[u].apply(l,{bandAware:o,position:c})})},isInRange:function(a){return eae(a,function(s,o){return n[o].isInRange(s)})}})};function CXe(r){return(r%180+180)%180}var AXe=function(e){var n=e.width,i=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=CXe(a),o=s*Math.PI/180,c=Math.atan(i/n),l=o>c&&o<Math.PI-c?i/Math.sin(o):n/Math.cos(o);return Math.abs(l)},uI,oG;function TXe(){if(oG)return uI;oG=1;var r=Wu(),e=Bb(),n=uC();function i(a){return function(s,o,c){var l=Object(s);if(!e(s)){var u=r(o,3);s=n(s),o=function(f){return u(l[f],f,l)}}var d=a(s,o,c);return d>-1?l[u?s[d]:d]:void 0}}return uI=i,uI}var dI,cG;function kXe(){if(cG)return dI;cG=1;var r=Xie();function e(n){var i=r(n),a=i%1;return i===i?a?i-a:i:0}return dI=e,dI}var fI,lG;function PXe(){if(lG)return fI;lG=1;var r=mne(),e=Wu(),n=kXe(),i=Math.max;function a(s,o,c){var l=s==null?0:s.length;if(!l)return-1;var u=c==null?0:n(c);return u<0&&(u=i(l+u,0)),r(s,e(o,3),u)}return fI=a,fI}var hI,uG;function OXe(){if(uG)return hI;uG=1;var r=TXe(),e=PXe(),n=r(e);return hI=n,hI}var NXe=OXe();const IXe=Jt(NXe);var RXe=Ire();const $Xe=Jt(RXe);var jXe=$Xe(function(r){return{x:r.left,y:r.top,width:r.width,height:r.height}},function(r){return["l",r.left,"t",r.top,"w",r.width,"h",r.height].join("")}),aM=U.createContext(void 0),sM=U.createContext(void 0),oae=U.createContext(void 0),cae=U.createContext({}),lae=U.createContext(void 0),uae=U.createContext(0),dae=U.createContext(0),dG=function(e){var n=e.state,i=n.xAxisMap,a=n.yAxisMap,s=n.offset,o=e.clipPathId,c=e.children,l=e.width,u=e.height,d=jXe(s);return ee.createElement(aM.Provider,{value:i},ee.createElement(sM.Provider,{value:a},ee.createElement(cae.Provider,{value:s},ee.createElement(oae.Provider,{value:d},ee.createElement(lae.Provider,{value:o},ee.createElement(uae.Provider,{value:u},ee.createElement(dae.Provider,{value:l},c)))))))},DXe=function(){return U.useContext(lae)},fae=function(e){var n=U.useContext(aM);n==null&&Pf();var i=n[e];return i==null&&Pf(),i},MXe=function(){var e=U.useContext(aM);return pu(e)},LXe=function(){var e=U.useContext(sM),n=IXe(e,function(i){return eae(i.domain,Number.isFinite)});return n||pu(e)},hae=function(e){var n=U.useContext(sM);n==null&&Pf();var i=n[e];return i==null&&Pf(),i},UXe=function(){var e=U.useContext(oae);return e},BXe=function(){return U.useContext(cae)},oM=function(){return U.useContext(dae)},cM=function(){return U.useContext(uae)};function ug(r){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ug(r)}function FXe(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function qXe(r,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,gae(i.key),i)}}function zXe(r,e,n){return e&&qXe(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function HXe(r,e,n){return e=AE(e),WXe(r,pae()?Reflect.construct(e,n||[],AE(r).constructor):e.apply(r,n))}function WXe(r,e){if(e&&(ug(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VXe(r)}function VXe(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function pae(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pae=function(){return!!r})()}function AE(r){return AE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},AE(r)}function GXe(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&Gj(r,e)}function Gj(r,e){return Gj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,a){return i.__proto__=a,i},Gj(r,e)}function fG(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function hG(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fG(Object(n),!0).forEach(function(i){lM(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):fG(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function lM(r,e,n){return e=gae(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function gae(r){var e=KXe(r,"string");return ug(e)=="symbol"?e:e+""}function KXe(r,e){if(ug(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(ug(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function YXe(r,e){return QXe(r)||ZXe(r,e)||JXe(r,e)||XXe()}function XXe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JXe(r,e){if(r){if(typeof r=="string")return pG(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pG(r,e)}}function pG(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=r[n];return i}function ZXe(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var i,a,s,o,c=[],l=!0,u=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(l=(i=s.call(n)).done)&&(c.push(i.value),c.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return c}}function QXe(r){if(Array.isArray(r))return r}function Kj(){return Kj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},Kj.apply(this,arguments)}var eJe=function(e,n){var i;return ee.isValidElement(e)?i=ee.cloneElement(e,n):jt(e)?i=e(n):i=ee.createElement("line",Kj({},n,{className:"recharts-reference-line-line"})),i},tJe=function(e,n,i,a,s,o,c,l,u){var d=s.x,f=s.y,p=s.width,m=s.height;if(i){var y=u.y,v=e.y.apply(y,{position:o});if(Vo(u,"discard")&&!e.y.isInRange(v))return null;var b=[{x:d+p,y:v},{x:d,y:v}];return l==="left"?b.reverse():b}if(n){var w=u.x,x=e.x.apply(w,{position:o});if(Vo(u,"discard")&&!e.x.isInRange(x))return null;var E=[{x,y:f+m},{x,y:f}];return c==="top"?E.reverse():E}if(a){var A=u.segment,S=A.map(function(C){return e.apply(C,{position:o})});return Vo(u,"discard")&&GYe(S,function(C){return!e.isInRange(C)})?null:S}return null};function rJe(r){var e=r.x,n=r.y,i=r.segment,a=r.xAxisId,s=r.yAxisId,o=r.shape,c=r.className,l=r.alwaysShow,u=DXe(),d=fae(a),f=hae(s),p=UXe();if(!u||!p)return null;tl(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=iM({x:d.scale,y:f.scale}),y=Rn(e),v=Rn(n),b=i&&i.length===2,w=tJe(m,y,v,b,p,r.position,d.orientation,f.orientation,r);if(!w)return null;var x=YXe(w,2),E=x[0],A=E.x,S=E.y,C=x[1],P=C.x,O=C.y,I=Vo(r,"hidden")?"url(#".concat(u,")"):void 0,M=hG(hG({clipPath:I},Xt(r,!0)),{},{x1:A,y1:S,x2:P,y2:O});return ee.createElement(gn,{className:ar("recharts-reference-line",c)},eJe(o,M),Ei.renderCallByParent(r,SXe({x1:A,y1:S,x2:P,y2:O})))}var uM=function(r){function e(){return FXe(this,e),HXe(this,e,arguments)}return GXe(e,r),zXe(e,[{key:"render",value:function(){return ee.createElement(rJe,this.props)}}])}(ee.Component);lM(uM,"displayName","ReferenceLine");lM(uM,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Yj(){return Yj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},Yj.apply(this,arguments)}function dg(r){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dg(r)}function gG(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function mG(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gG(Object(n),!0).forEach(function(i){kC(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):gG(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function nJe(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function iJe(r,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,yae(i.key),i)}}function aJe(r,e,n){return e&&iJe(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function sJe(r,e,n){return e=TE(e),oJe(r,mae()?Reflect.construct(e,n||[],TE(r).constructor):e.apply(r,n))}function oJe(r,e){if(e&&(dg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cJe(r)}function cJe(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function mae(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mae=function(){return!!r})()}function TE(r){return TE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},TE(r)}function lJe(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&Xj(r,e)}function Xj(r,e){return Xj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,a){return i.__proto__=a,i},Xj(r,e)}function kC(r,e,n){return e=yae(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function yae(r){var e=uJe(r,"string");return dg(e)=="symbol"?e:e+""}function uJe(r,e){if(dg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(dg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var dJe=function(e){var n=e.x,i=e.y,a=e.xAxis,s=e.yAxis,o=iM({x:a.scale,y:s.scale}),c=o.apply({x:n,y:i},{bandAware:!0});return Vo(e,"discard")&&!o.isInRange(c)?null:c},PC=function(r){function e(){return nJe(this,e),sJe(this,e,arguments)}return lJe(e,r),aJe(e,[{key:"render",value:function(){var i=this.props,a=i.x,s=i.y,o=i.r,c=i.alwaysShow,l=i.clipPathId,u=Rn(a),d=Rn(s);if(tl(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=dJe(this.props);if(!f)return null;var p=f.x,m=f.y,y=this.props,v=y.shape,b=y.className,w=Vo(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=mG(mG({clipPath:w},Xt(this.props,!0)),{},{cx:p,cy:m});return ee.createElement(gn,{className:ar("recharts-reference-dot",b)},e.renderDot(v,x),Ei.renderCallByParent(this.props,{x:p-o,y:m-o,width:2*o,height:2*o}))}}])}(ee.Component);kC(PC,"displayName","ReferenceDot");kC(PC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});kC(PC,"renderDot",function(r,e){var n;return ee.isValidElement(r)?n=ee.cloneElement(r,e):jt(r)?n=r(e):n=ee.createElement(nM,Yj({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Jj(){return Jj=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},Jj.apply(this,arguments)}function fg(r){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fg(r)}function yG(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function vG(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yG(Object(n),!0).forEach(function(i){OC(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):yG(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function fJe(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function hJe(r,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,bae(i.key),i)}}function pJe(r,e,n){return e&&hJe(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function gJe(r,e,n){return e=kE(e),mJe(r,vae()?Reflect.construct(e,n||[],kE(r).constructor):e.apply(r,n))}function mJe(r,e){if(e&&(fg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yJe(r)}function yJe(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function vae(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vae=function(){return!!r})()}function kE(r){return kE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kE(r)}function vJe(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&Zj(r,e)}function Zj(r,e){return Zj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,a){return i.__proto__=a,i},Zj(r,e)}function OC(r,e,n){return e=bae(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function bae(r){var e=bJe(r,"string");return fg(e)=="symbol"?e:e+""}function bJe(r,e){if(fg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(fg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var wJe=function(e,n,i,a,s){var o=s.x1,c=s.x2,l=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var p=iM({x:d.scale,y:f.scale}),m={x:e?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:i?p.y.apply(l,{position:"start"}):p.y.rangeMin},y={x:n?p.x.apply(c,{position:"end"}):p.x.rangeMax,y:a?p.y.apply(u,{position:"end"}):p.y.rangeMax};return Vo(s,"discard")&&(!p.isInRange(m)||!p.isInRange(y))?null:aae(m,y)},NC=function(r){function e(){return fJe(this,e),gJe(this,e,arguments)}return vJe(e,r),pJe(e,[{key:"render",value:function(){var i=this.props,a=i.x1,s=i.x2,o=i.y1,c=i.y2,l=i.className,u=i.alwaysShow,d=i.clipPathId;tl(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Rn(a),p=Rn(s),m=Rn(o),y=Rn(c),v=this.props.shape;if(!f&&!p&&!m&&!y&&!v)return null;var b=wJe(f,p,m,y,this.props);if(!b&&!v)return null;var w=Vo(this.props,"hidden")?"url(#".concat(d,")"):void 0;return ee.createElement(gn,{className:ar("recharts-reference-area",l)},e.renderRect(v,vG(vG({clipPath:w},Xt(this.props,!0)),b)),Ei.renderCallByParent(this.props,b))}}])}(ee.Component);OC(NC,"displayName","ReferenceArea");OC(NC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});OC(NC,"renderRect",function(r,e){var n;return ee.isValidElement(r)?n=ee.cloneElement(r,e):jt(r)?n=r(e):n=ee.createElement(rM,Jj({},e,{className:"recharts-reference-area-rect"})),n});function wae(r,e,n){if(e<1)return[];if(e===1&&n===void 0)return r;for(var i=[],a=0;a<r.length;a+=e)i.push(r[a]);return i}function _Je(r,e,n){var i={width:r.width+e.width,height:r.height+e.height};return AXe(i,n)}function xJe(r,e,n){var i=n==="width",a=r.x,s=r.y,o=r.width,c=r.height;return e===1?{start:i?a:s,end:i?a+o:s+c}:{start:i?a+o:s+c,end:i?a:s}}function PE(r,e,n,i,a){if(r*e<r*i||r*e>r*a)return!1;var s=n();return r*(e-r*s/2-i)>=0&&r*(e+r*s/2-a)<=0}function EJe(r,e){return wae(r,e+1)}function SJe(r,e,n,i,a){for(var s=(i||[]).slice(),o=e.start,c=e.end,l=0,u=1,d=o,f=function(){var y=i==null?void 0:i[l];if(y===void 0)return{v:wae(i,u)};var v=l,b,w=function(){return b===void 0&&(b=n(y,v)),b},x=y.coordinate,E=l===0||PE(r,x,w,d,c);E||(l=0,d=o,u+=1),E&&(d=x+r*(w()/2+a),l+=u)},p;u<=s.length;)if(p=f(),p)return p.v;return[]}function K0(r){"@babel/helpers - typeof";return K0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K0(r)}function bG(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function xi(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bG(Object(n),!0).forEach(function(i){CJe(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):bG(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function CJe(r,e,n){return e=AJe(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function AJe(r){var e=TJe(r,"string");return K0(e)=="symbol"?e:e+""}function TJe(r,e){if(K0(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(K0(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function kJe(r,e,n,i,a){for(var s=(i||[]).slice(),o=s.length,c=e.start,l=e.end,u=function(p){var m=s[p],y,v=function(){return y===void 0&&(y=n(m,p)),y};if(p===o-1){var b=r*(m.coordinate+r*v()/2-l);s[p]=m=xi(xi({},m),{},{tickCoord:b>0?m.coordinate-b*r:m.coordinate})}else s[p]=m=xi(xi({},m),{},{tickCoord:m.coordinate});var w=PE(r,m.tickCoord,v,c,l);w&&(l=m.tickCoord-r*(v()/2+a),s[p]=xi(xi({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function PJe(r,e,n,i,a,s){var o=(i||[]).slice(),c=o.length,l=e.start,u=e.end;if(s){var d=i[c-1],f=n(d,c-1),p=r*(d.coordinate+r*f/2-u);o[c-1]=d=xi(xi({},d),{},{tickCoord:p>0?d.coordinate-p*r:d.coordinate});var m=PE(r,d.tickCoord,function(){return f},l,u);m&&(u=d.tickCoord-r*(f/2+a),o[c-1]=xi(xi({},d),{},{isShow:!0}))}for(var y=s?c-1:c,v=function(x){var E=o[x],A,S=function(){return A===void 0&&(A=n(E,x)),A};if(x===0){var C=r*(E.coordinate-r*S()/2-l);o[x]=E=xi(xi({},E),{},{tickCoord:C<0?E.coordinate-C*r:E.coordinate})}else o[x]=E=xi(xi({},E),{},{tickCoord:E.coordinate});var P=PE(r,E.tickCoord,S,l,u);P&&(l=E.tickCoord+r*(S()/2+a),o[x]=xi(xi({},E),{},{isShow:!0}))},b=0;b<y;b++)v(b);return o}function dM(r,e,n){var i=r.tick,a=r.ticks,s=r.viewBox,o=r.minTickGap,c=r.orientation,l=r.interval,u=r.tickFormatter,d=r.unit,f=r.angle;if(!a||!a.length||!i)return[];if(De(l)||Wg.isSsr)return EJe(a,typeof l=="number"&&De(l)?l:0);var p=[],m=c==="top"||c==="bottom"?"width":"height",y=d&&m==="width"?nv(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},v=function(E,A){var S=jt(u)?u(E.value,A):E.value;return m==="width"?_Je(nv(S,{fontSize:e,letterSpacing:n}),y,f):nv(S,{fontSize:e,letterSpacing:n})[m]},b=a.length>=2?no(a[1].coordinate-a[0].coordinate):1,w=xJe(s,b,m);return l==="equidistantPreserveStart"?SJe(b,w,v,a,o):(l==="preserveStart"||l==="preserveStartEnd"?p=PJe(b,w,v,a,o,l==="preserveStartEnd"):p=kJe(b,w,v,a,o),p.filter(function(x){return x.isShow}))}var OJe=["viewBox"],NJe=["viewBox"],IJe=["ticks"];function hg(r){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hg(r)}function sp(){return sp=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},sp.apply(this,arguments)}function wG(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function Ri(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wG(Object(n),!0).forEach(function(i){fM(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):wG(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function pI(r,e){if(r==null)return{};var n=RJe(r,e),i,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(a=0;a<s.length;a++)i=s[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(r,i)&&(n[i]=r[i])}return n}function RJe(r,e){if(r==null)return{};var n={};for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){if(e.indexOf(i)>=0)continue;n[i]=r[i]}return n}function $Je(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function _G(r,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,xae(i.key),i)}}function jJe(r,e,n){return e&&_G(r.prototype,e),n&&_G(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function DJe(r,e,n){return e=OE(e),MJe(r,_ae()?Reflect.construct(e,n||[],OE(r).constructor):e.apply(r,n))}function MJe(r,e){if(e&&(hg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LJe(r)}function LJe(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function _ae(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_ae=function(){return!!r})()}function OE(r){return OE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},OE(r)}function UJe(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&Qj(r,e)}function Qj(r,e){return Qj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,a){return i.__proto__=a,i},Qj(r,e)}function fM(r,e,n){return e=xae(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function xae(r){var e=BJe(r,"string");return hg(e)=="symbol"?e:e+""}function BJe(r,e){if(hg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(hg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Yg=function(r){function e(n){var i;return $Je(this,e),i=DJe(this,e,[n]),i.state={fontSize:"",letterSpacing:""},i}return UJe(e,r),jJe(e,[{key:"shouldComponentUpdate",value:function(i,a){var s=i.viewBox,o=pI(i,OJe),c=this.props,l=c.viewBox,u=pI(c,NJe);return!mp(s,l)||!mp(o,u)||!mp(a,this.state)}},{key:"componentDidMount",value:function(){var i=this.layerReference;if(i){var a=i.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(i){var a=this.props,s=a.x,o=a.y,c=a.width,l=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,p=a.tickMargin,m,y,v,b,w,x,E=f?-1:1,A=i.tickSize||d,S=De(i.tickCoord)?i.tickCoord:i.coordinate;switch(u){case"top":m=y=i.coordinate,b=o+ +!f*l,v=b-E*A,x=v-E*p,w=S;break;case"left":v=b=i.coordinate,y=s+ +!f*c,m=y-E*A,w=m-E*p,x=S;break;case"right":v=b=i.coordinate,y=s+ +f*c,m=y+E*A,w=m+E*p,x=S;break;default:m=y=i.coordinate,b=o+ +f*l,v=b+E*A,x=v+E*p,w=S;break}return{line:{x1:m,y1:v,x2:y,y2:b},tick:{x:w,y:x}}}},{key:"getTickTextAnchor",value:function(){var i=this.props,a=i.orientation,s=i.mirror,o;switch(a){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var i=this.props,a=i.orientation,s=i.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var i=this.props,a=i.x,s=i.y,o=i.width,c=i.height,l=i.orientation,u=i.mirror,d=i.axisLine,f=Ri(Ri(Ri({},Xt(this.props,!1)),Xt(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!u||l==="bottom"&&u);f=Ri(Ri({},f),{},{x1:a,y1:s+p*c,x2:a+o,y2:s+p*c})}else{var m=+(l==="left"&&!u||l==="right"&&u);f=Ri(Ri({},f),{},{x1:a+m*o,y1:s,x2:a+m*o,y2:s+c})}return ee.createElement("line",sp({},f,{className:ar("recharts-cartesian-axis-line",vs(d,"className"))}))}},{key:"renderTicks",value:function(i,a,s){var o=this,c=this.props,l=c.tickLine,u=c.stroke,d=c.tick,f=c.tickFormatter,p=c.unit,m=dM(Ri(Ri({},this.props),{},{ticks:i}),a,s),y=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),b=Xt(this.props,!1),w=Xt(d,!1),x=Ri(Ri({},b),{},{fill:"none"},Xt(l,!1)),E=m.map(function(A,S){var C=o.getTickLineCoord(A),P=C.line,O=C.tick,I=Ri(Ri(Ri(Ri({textAnchor:y,verticalAnchor:v},b),{},{stroke:"none",fill:u},w),O),{},{index:S,payload:A,visibleTicksCount:m.length,tickFormatter:f});return ee.createElement(gn,sp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},Ux(o.props,A,S)),l&&ee.createElement("line",sp({},x,P,{className:ar("recharts-cartesian-axis-tick-line",vs(l,"className"))})),d&&e.renderTickItem(d,I,"".concat(jt(f)?f(A.value,S):A.value).concat(p||"")))});return ee.createElement("g",{className:"recharts-cartesian-axis-ticks"},E)}},{key:"render",value:function(){var i=this,a=this.props,s=a.axisLine,o=a.width,c=a.height,l=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,p=f.ticks,m=pI(f,IJe),y=p;return jt(l)&&(y=p&&p.length>0?l(this.props):l(m)),o<=0||c<=0||!y||!y.length?null:ee.createElement(gn,{className:ar("recharts-cartesian-axis",u),ref:function(b){i.layerReference=b}},s&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Ei.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(i,a,s){var o;return ee.isValidElement(i)?o=ee.cloneElement(i,a):jt(i)?o=i(a):o=ee.createElement(Xx,sp({},a,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(U.Component);fM(Yg,"displayName","CartesianAxis");fM(Yg,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var FJe=["x1","y1","x2","y2","key"],qJe=["offset"];function Of(r){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(r)}function xG(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function Si(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xG(Object(n),!0).forEach(function(i){zJe(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):xG(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function zJe(r,e,n){return e=HJe(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function HJe(r){var e=WJe(r,"string");return Of(e)=="symbol"?e:e+""}function WJe(r,e){if(Of(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(Of(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function zd(){return zd=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},zd.apply(this,arguments)}function EG(r,e){if(r==null)return{};var n=VJe(r,e),i,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(a=0;a<s.length;a++)i=s[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(r,i)&&(n[i]=r[i])}return n}function VJe(r,e){if(r==null)return{};var n={};for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){if(e.indexOf(i)>=0)continue;n[i]=r[i]}return n}var GJe=function(e){var n=e.fill;if(!n||n==="none")return null;var i=e.fillOpacity,a=e.x,s=e.y,o=e.width,c=e.height,l=e.ry;return ee.createElement("rect",{x:a,y:s,ry:l,width:o,height:c,stroke:"none",fill:n,fillOpacity:i,className:"recharts-cartesian-grid-bg"})};function Eae(r,e){var n;if(ee.isValidElement(r))n=ee.cloneElement(r,e);else if(jt(r))n=r(e);else{var i=e.x1,a=e.y1,s=e.x2,o=e.y2,c=e.key,l=EG(e,FJe),u=Xt(l,!1);u.offset;var d=EG(u,qJe);n=ee.createElement("line",zd({},d,{x1:i,y1:a,x2:s,y2:o,fill:"none",key:c}))}return n}function KJe(r){var e=r.x,n=r.width,i=r.horizontal,a=i===void 0?!0:i,s=r.horizontalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(c,l){var u=Si(Si({},r),{},{x1:e,y1:c,x2:e+n,y2:c,key:"line-".concat(l),index:l});return Eae(a,u)});return ee.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function YJe(r){var e=r.y,n=r.height,i=r.vertical,a=i===void 0?!0:i,s=r.verticalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(c,l){var u=Si(Si({},r),{},{x1:c,y1:e,x2:c,y2:e+n,key:"line-".concat(l),index:l});return Eae(a,u)});return ee.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function XJe(r){var e=r.horizontalFill,n=r.fillOpacity,i=r.x,a=r.y,s=r.width,o=r.height,c=r.horizontalPoints,l=r.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var d=c.map(function(p){return Math.round(p+a-a)}).sort(function(p,m){return p-m});a!==d[0]&&d.unshift(0);var f=d.map(function(p,m){var y=!d[m+1],v=y?a+o-p:d[m+1]-p;if(v<=0)return null;var b=m%e.length;return ee.createElement("rect",{key:"react-".concat(m),y:p,x:i,height:v,width:s,stroke:"none",fill:e[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return ee.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function JJe(r){var e=r.vertical,n=e===void 0?!0:e,i=r.verticalFill,a=r.fillOpacity,s=r.x,o=r.y,c=r.width,l=r.height,u=r.verticalPoints;if(!n||!i||!i.length)return null;var d=u.map(function(p){return Math.round(p+s-s)}).sort(function(p,m){return p-m});s!==d[0]&&d.unshift(0);var f=d.map(function(p,m){var y=!d[m+1],v=y?s+c-p:d[m+1]-p;if(v<=0)return null;var b=m%i.length;return ee.createElement("rect",{key:"react-".concat(m),x:p,y:o,width:v,height:l,stroke:"none",fill:i[b],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return ee.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var ZJe=function(e,n){var i=e.xAxis,a=e.width,s=e.height,o=e.offset;return Mie(dM(Si(Si(Si({},Yg.defaultProps),i),{},{ticks:Vc(i,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.left,o.left+o.width,n)},QJe=function(e,n){var i=e.yAxis,a=e.width,s=e.height,o=e.offset;return Mie(dM(Si(Si(Si({},Yg.defaultProps),i),{},{ticks:Vc(i,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.top,o.top+o.height,n)},Vh={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Sae(r){var e,n,i,a,s,o,c=oM(),l=cM(),u=BXe(),d=Si(Si({},r),{},{stroke:(e=r.stroke)!==null&&e!==void 0?e:Vh.stroke,fill:(n=r.fill)!==null&&n!==void 0?n:Vh.fill,horizontal:(i=r.horizontal)!==null&&i!==void 0?i:Vh.horizontal,horizontalFill:(a=r.horizontalFill)!==null&&a!==void 0?a:Vh.horizontalFill,vertical:(s=r.vertical)!==null&&s!==void 0?s:Vh.vertical,verticalFill:(o=r.verticalFill)!==null&&o!==void 0?o:Vh.verticalFill,x:De(r.x)?r.x:u.left,y:De(r.y)?r.y:u.top,width:De(r.width)?r.width:u.width,height:De(r.height)?r.height:u.height}),f=d.x,p=d.y,m=d.width,y=d.height,v=d.syncWithTicks,b=d.horizontalValues,w=d.verticalValues,x=MXe(),E=LXe();if(!De(m)||m<=0||!De(y)||y<=0||!De(f)||f!==+f||!De(p)||p!==+p)return null;var A=d.verticalCoordinatesGenerator||ZJe,S=d.horizontalCoordinatesGenerator||QJe,C=d.horizontalPoints,P=d.verticalPoints;if((!C||!C.length)&&jt(S)){var O=b&&b.length,I=S({yAxis:E?Si(Si({},E),{},{ticks:O?b:E.ticks}):void 0,width:c,height:l,offset:u},O?!0:v);tl(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Of(I),"]")),Array.isArray(I)&&(C=I)}if((!P||!P.length)&&jt(A)){var M=w&&w.length,D=A({xAxis:x?Si(Si({},x),{},{ticks:M?w:x.ticks}):void 0,width:c,height:l,offset:u},M?!0:v);tl(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Of(D),"]")),Array.isArray(D)&&(P=D)}return ee.createElement("g",{className:"recharts-cartesian-grid"},ee.createElement(GJe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),ee.createElement(KJe,zd({},d,{offset:u,horizontalPoints:C,xAxis:x,yAxis:E})),ee.createElement(YJe,zd({},d,{offset:u,verticalPoints:P,xAxis:x,yAxis:E})),ee.createElement(XJe,zd({},d,{horizontalPoints:C})),ee.createElement(JJe,zd({},d,{verticalPoints:P})))}Sae.displayName="CartesianGrid";var eZe=["type","layout","connectNulls","ref"],tZe=["key"];function pg(r){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pg(r)}function SG(r,e){if(r==null)return{};var n=rZe(r,e),i,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(a=0;a<s.length;a++)i=s[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(r,i)&&(n[i]=r[i])}return n}function rZe(r,e){if(r==null)return{};var n={};for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){if(e.indexOf(i)>=0)continue;n[i]=r[i]}return n}function ov(){return ov=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},ov.apply(this,arguments)}function CG(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function ka(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CG(Object(n),!0).forEach(function(i){Ks(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):CG(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function Gh(r){return sZe(r)||aZe(r)||iZe(r)||nZe()}function nZe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iZe(r,e){if(r){if(typeof r=="string")return e3(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e3(r,e)}}function aZe(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function sZe(r){if(Array.isArray(r))return e3(r)}function e3(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=r[n];return i}function oZe(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function AG(r,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,Aae(i.key),i)}}function cZe(r,e,n){return e&&AG(r.prototype,e),n&&AG(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function lZe(r,e,n){return e=NE(e),uZe(r,Cae()?Reflect.construct(e,n||[],NE(r).constructor):e.apply(r,n))}function uZe(r,e){if(e&&(pg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dZe(r)}function dZe(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Cae(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cae=function(){return!!r})()}function NE(r){return NE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},NE(r)}function fZe(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&t3(r,e)}function t3(r,e){return t3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,a){return i.__proto__=a,i},t3(r,e)}function Ks(r,e,n){return e=Aae(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Aae(r){var e=hZe(r,"string");return pg(e)=="symbol"?e:e+""}function hZe(r,e){if(pg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(pg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var gg=function(r){function e(){var n;oZe(this,e);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=lZe(this,e,[].concat(a)),Ks(n,"state",{isAnimationFinished:!0,totalLength:0}),Ks(n,"generateSimpleStrokeDasharray",function(o,c){return"".concat(c,"px ").concat(o-c,"px")}),Ks(n,"getStrokeDasharray",function(o,c,l){var u=l.reduce(function(w,x){return w+x});if(!u)return n.generateSimpleStrokeDasharray(c,o);for(var d=Math.floor(o/u),f=o%u,p=c-o,m=[],y=0,v=0;y<l.length;v+=l[y],++y)if(v+l[y]>f){m=[].concat(Gh(l.slice(0,y)),[f-v]);break}var b=m.length%2===0?[0,p]:[p];return[].concat(Gh(e.repeat(l,d)),Gh(m),b).map(function(w){return"".concat(w,"px")}).join(", ")}),Ks(n,"id",Ub("recharts-line-")),Ks(n,"pathRef",function(o){n.mainCurve=o}),Ks(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Ks(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return fZe(e,r),cZe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var i=this.getTotalLength();this.setState({totalLength:i})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var i=this.getTotalLength();i!==this.state.totalLength&&this.setState({totalLength:i})}}},{key:"getTotalLength",value:function(){var i=this.mainCurve;try{return i&&i.getTotalLength&&i.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(i,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,c=s.xAxis,l=s.yAxis,u=s.layout,d=s.children,f=bs(d,Wb);if(!f)return null;var p=function(v,b){return{x:v.x,y:v.y,value:v.value,errorVal:Ba(v.payload,b)}},m={clipPath:i?"url(#clipPath-".concat(a,")"):null};return ee.createElement(gn,m,f.map(function(y){return ee.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:c,yAxis:l,layout:u,dataPointFormatter:p})}))}},{key:"renderDots",value:function(i,a,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var c=this.props,l=c.dot,u=c.points,d=c.dataKey,f=Xt(this.props,!1),p=Xt(l,!0),m=u.map(function(v,b){var w=ka(ka(ka({key:"dot-".concat(b),r:3},f),p),{},{index:b,cx:v.x,cy:v.y,value:v.value,dataKey:d,payload:v.payload,points:u});return e.renderDotItem(l,w)}),y={clipPath:i?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return ee.createElement(gn,ov({className:"recharts-line-dots",key:"dots"},y),m)}},{key:"renderCurveStatically",value:function(i,a,s,o){var c=this.props,l=c.type,u=c.layout,d=c.connectNulls;c.ref;var f=SG(c,eZe),p=ka(ka(ka({},Xt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(s,")"):null,points:i},o),{},{type:l,layout:u,connectNulls:d});return ee.createElement(Ij,ov({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(i,a){var s=this,o=this.props,c=o.points,l=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,p=o.animationEasing,m=o.animationId,y=o.animateNewValues,v=o.width,b=o.height,w=this.state,x=w.prevPoints,E=w.totalLength;return ee.createElement(hl,{begin:d,duration:f,isActive:u,easing:p,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var S=A.t;if(x){var C=x.length/c.length,P=c.map(function(q,K){var L=Math.floor(K*C);if(x[L]){var R=x[L],j=Xs(R.x,q.x),W=Xs(R.y,q.y);return ka(ka({},q),{},{x:j(S),y:W(S)})}if(y){var H=Xs(v*2,q.x),z=Xs(b/2,q.y);return ka(ka({},q),{},{x:H(S),y:z(S)})}return ka(ka({},q),{},{x:q.x,y:q.y})});return s.renderCurveStatically(P,i,a)}var O=Xs(0,E),I=O(S),M;if(l){var D="".concat(l).split(/[,\s]+/gim).map(function(q){return parseFloat(q)});M=s.getStrokeDasharray(I,E,D)}else M=s.generateSimpleStrokeDasharray(E,I);return s.renderCurveStatically(c,i,a,{strokeDasharray:M})})}},{key:"renderCurve",value:function(i,a){var s=this.props,o=s.points,c=s.isAnimationActive,l=this.state,u=l.prevPoints,d=l.totalLength;return c&&o&&o.length&&(!u&&d>0||!xC(u,o))?this.renderCurveWithAnimation(i,a):this.renderCurveStatically(o,i,a)}},{key:"render",value:function(){var i,a=this.props,s=a.hide,o=a.dot,c=a.points,l=a.className,u=a.xAxis,d=a.yAxis,f=a.top,p=a.left,m=a.width,y=a.height,v=a.isAnimationActive,b=a.id;if(s||!c||!c.length)return null;var w=this.state.isAnimationFinished,x=c.length===1,E=ar("recharts-line",l),A=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,C=A||S,P=Ht(b)?this.id:b,O=(i=Xt(o,!1))!==null&&i!==void 0?i:{r:3,strokeWidth:2},I=O.r,M=I===void 0?3:I,D=O.strokeWidth,q=D===void 0?2:D,K=EUe(o)?o:{},L=K.clipDot,R=L===void 0?!0:L,j=M*2+q;return ee.createElement(gn,{className:E},A||S?ee.createElement("defs",null,ee.createElement("clipPath",{id:"clipPath-".concat(P)},ee.createElement("rect",{x:A?p:p-m/2,y:S?f:f-y/2,width:A?m:m*2,height:S?y:y*2})),!R&&ee.createElement("clipPath",{id:"clipPath-dots-".concat(P)},ee.createElement("rect",{x:p-j/2,y:f-j/2,width:m+j,height:y+j}))):null,!x&&this.renderCurve(C,P),this.renderErrorBar(C,P),(x||o)&&this.renderDots(C,R,P),(!v||w)&&$u.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(i,a){return i.animationId!==a.prevAnimationId?{prevAnimationId:i.animationId,curPoints:i.points,prevPoints:a.curPoints}:i.points!==a.curPoints?{curPoints:i.points}:null}},{key:"repeat",value:function(i,a){for(var s=i.length%2!==0?[].concat(Gh(i),[0]):i,o=[],c=0;c<a;++c)o=[].concat(Gh(o),Gh(s));return o}},{key:"renderDotItem",value:function(i,a){var s;if(ee.isValidElement(i))s=ee.cloneElement(i,a);else if(jt(i))s=i(a);else{var o=a.key,c=SG(a,tZe),l=ar("recharts-line-dot",typeof i!="boolean"?i.className:"");s=ee.createElement(nM,ov({key:o},c,{className:l}))}return s}}])}(U.PureComponent);Ks(gg,"displayName","Line");Ks(gg,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Wg.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ks(gg,"getComposedData",function(r){var e=r.props,n=r.xAxis,i=r.yAxis,a=r.xAxisTicks,s=r.yAxisTicks,o=r.dataKey,c=r.bandSize,l=r.displayedData,u=r.offset,d=e.layout,f=l.map(function(p,m){var y=Ba(p,o);return d==="horizontal"?{x:BW({axis:n,ticks:a,bandSize:c,entry:p,index:m}),y:Ht(y)?null:i.scale(y),value:y,payload:p}:{x:Ht(y)?null:n.scale(y),y:BW({axis:i,ticks:s,bandSize:c,entry:p,index:m}),value:y,payload:p}});return ka({points:f,layout:d},u)});function mg(r){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mg(r)}function pZe(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function gZe(r,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,Pae(i.key),i)}}function mZe(r,e,n){return e&&gZe(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function yZe(r,e,n){return e=IE(e),vZe(r,Tae()?Reflect.construct(e,n||[],IE(r).constructor):e.apply(r,n))}function vZe(r,e){if(e&&(mg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bZe(r)}function bZe(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Tae(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tae=function(){return!!r})()}function IE(r){return IE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},IE(r)}function wZe(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&r3(r,e)}function r3(r,e){return r3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,a){return i.__proto__=a,i},r3(r,e)}function kae(r,e,n){return e=Pae(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Pae(r){var e=_Ze(r,"string");return mg(e)=="symbol"?e:e+""}function _Ze(r,e){if(mg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(mg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function n3(){return n3=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},n3.apply(this,arguments)}function xZe(r){var e=r.xAxisId,n=oM(),i=cM(),a=fae(e);return a==null?null:ee.createElement(Yg,n3({},a,{className:ar("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(o){return Vc(o,!0)}}))}var IC=function(r){function e(){return pZe(this,e),yZe(this,e,arguments)}return wZe(e,r),mZe(e,[{key:"render",value:function(){return ee.createElement(xZe,this.props)}}])}(ee.Component);kae(IC,"displayName","XAxis");kae(IC,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function yg(r){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yg(r)}function EZe(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function SZe(r,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,Iae(i.key),i)}}function CZe(r,e,n){return e&&SZe(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function AZe(r,e,n){return e=RE(e),TZe(r,Oae()?Reflect.construct(e,n||[],RE(r).constructor):e.apply(r,n))}function TZe(r,e){if(e&&(yg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kZe(r)}function kZe(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Oae(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oae=function(){return!!r})()}function RE(r){return RE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},RE(r)}function PZe(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&i3(r,e)}function i3(r,e){return i3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,a){return i.__proto__=a,i},i3(r,e)}function Nae(r,e,n){return e=Iae(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Iae(r){var e=OZe(r,"string");return yg(e)=="symbol"?e:e+""}function OZe(r,e){if(yg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(yg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function a3(){return a3=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},a3.apply(this,arguments)}var NZe=function(e){var n=e.yAxisId,i=oM(),a=cM(),s=hae(n);return s==null?null:ee.createElement(Yg,a3({},s,{className:ar("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:i,height:a},ticksGenerator:function(c){return Vc(c,!0)}}))},RC=function(r){function e(){return EZe(this,e),AZe(this,e,arguments)}return PZe(e,r),CZe(e,[{key:"render",value:function(){return ee.createElement(NZe,this.props)}}])}(ee.Component);Nae(RC,"displayName","YAxis");Nae(RC,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function TG(r){return jZe(r)||$Ze(r)||RZe(r)||IZe()}function IZe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RZe(r,e){if(r){if(typeof r=="string")return s3(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s3(r,e)}}function $Ze(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function jZe(r){if(Array.isArray(r))return s3(r)}function s3(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=r[n];return i}var o3=function(e,n,i,a,s){var o=bs(e,uM),c=bs(e,PC),l=[].concat(TG(o),TG(c)),u=bs(e,NC),d="".concat(a,"Id"),f=a[0],p=n;if(l.length&&(p=l.reduce(function(v,b){if(b.props[d]===i&&Vo(b.props,"extendDomain")&&De(b.props[f])){var w=b.props[f];return[Math.min(v[0],w),Math.max(v[1],w)]}return v},p)),u.length){var m="".concat(f,"1"),y="".concat(f,"2");p=u.reduce(function(v,b){if(b.props[d]===i&&Vo(b.props,"extendDomain")&&De(b.props[m])&&De(b.props[y])){var w=b.props[m],x=b.props[y];return[Math.min(v[0],w,x),Math.max(v[1],w,x)]}return v},p)}return s&&s.length&&(p=s.reduce(function(v,b){return De(b)?[Math.min(v[0],b),Math.max(v[1],b)]:v},p)),p},gI={exports:{}},kG;function DZe(){return kG||(kG=1,function(r){var e=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function a(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function s(l,u,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||l,p),y=n?n+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],m]:l._events[y].push(m):(l._events[y]=m,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new i:delete l._events[u]}function c(){this._events=new i,this._eventsCount=0}c.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},c.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,y=new Array(m);p<m;p++)y[p]=f[p].fn;return y},c.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},c.prototype.emit=function(u,d,f,p,m,y){var v=n?n+u:u;if(!this._events[v])return!1;var b=this._events[v],w=arguments.length,x,E;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),w){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,p),!0;case 5:return b.fn.call(b.context,d,f,p,m),!0;case 6:return b.fn.call(b.context,d,f,p,m,y),!0}for(E=1,x=new Array(w-1);E<w;E++)x[E-1]=arguments[E];b.fn.apply(b.context,x)}else{var A=b.length,S;for(E=0;E<A;E++)switch(b[E].once&&this.removeListener(u,b[E].fn,void 0,!0),w){case 1:b[E].fn.call(b[E].context);break;case 2:b[E].fn.call(b[E].context,d);break;case 3:b[E].fn.call(b[E].context,d,f);break;case 4:b[E].fn.call(b[E].context,d,f,p);break;default:if(!x)for(S=1,x=new Array(w-1);S<w;S++)x[S-1]=arguments[S];b[E].fn.apply(b[E].context,x)}}return!0},c.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},c.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},c.prototype.removeListener=function(u,d,f,p){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var y=this._events[m];if(y.fn)y.fn===d&&(!p||y.once)&&(!f||y.context===f)&&o(this,m);else{for(var v=0,b=[],w=y.length;v<w;v++)(y[v].fn!==d||p&&!y[v].once||f&&y[v].context!==f)&&b.push(y[v]);b.length?this._events[m]=b.length===1?b[0]:b:o(this,m)}return this},c.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new i,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,r.exports=c}(gI)),gI.exports}var MZe=DZe();const LZe=Jt(MZe);var mI=new LZe,yI="recharts.syncMouseEvents";function Y0(r){"@babel/helpers - typeof";return Y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y0(r)}function UZe(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function BZe(r,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,Rae(i.key),i)}}function FZe(r,e,n){return e&&BZe(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function vI(r,e,n){return e=Rae(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Rae(r){var e=qZe(r,"string");return Y0(e)=="symbol"?e:e+""}function qZe(r,e){if(Y0(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(Y0(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var zZe=function(){function r(){UZe(this,r),vI(this,"activeIndex",0),vI(this,"coordinateList",[]),vI(this,"layout","horizontal")}return FZe(r,[{key:"setDetails",value:function(n){var i,a=n.coordinateList,s=a===void 0?null:a,o=n.container,c=o===void 0?null:o,l=n.layout,u=l===void 0?null:l,d=n.offset,f=d===void 0?null:d,p=n.mouseHandlerCallback,m=p===void 0?null:p;this.coordinateList=(i=s??this.coordinateList)!==null&&i!==void 0?i:[],this.container=c??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,i;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,o=a.y,c=a.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((i=window)===null||i===void 0?void 0:i.scrollY)||0,f=s+l+u,p=o+this.offset.top+c/2+d;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])}();function HZe(r,e,n){if(n==="number"&&e===!0&&Array.isArray(r)){var i=r==null?void 0:r[0],a=r==null?void 0:r[1];if(i&&a&&De(i)&&De(a))return!0}return!1}function WZe(r,e,n,i){var a=i/2;return{stroke:"none",fill:"#ccc",x:r==="horizontal"?e.x-a:n.left+.5,y:r==="horizontal"?n.top+.5:e.y-a,width:r==="horizontal"?i:n.width-1,height:r==="horizontal"?n.height-1:i}}function $ae(r){var e=r.cx,n=r.cy,i=r.radius,a=r.startAngle,s=r.endAngle,o=ci(e,n,i,a),c=ci(e,n,i,s);return{points:[o,c],cx:e,cy:n,radius:i,startAngle:a,endAngle:s}}function VZe(r,e,n){var i,a,s,o;if(r==="horizontal")i=e.x,s=i,a=n.top,o=n.top+n.height;else if(r==="vertical")a=e.y,o=a,i=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(r==="centric"){var c=e.cx,l=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,p=ci(c,l,u,f),m=ci(c,l,d,f);i=p.x,a=p.y,s=m.x,o=m.y}else return $ae(e);return[{x:i,y:a},{x:s,y:o}]}function X0(r){"@babel/helpers - typeof";return X0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X0(r)}function PG(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function a_(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PG(Object(n),!0).forEach(function(i){GZe(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):PG(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function GZe(r,e,n){return e=KZe(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function KZe(r){var e=YZe(r,"string");return X0(e)=="symbol"?e:e+""}function YZe(r,e){if(X0(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(X0(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function XZe(r){var e,n,i=r.element,a=r.tooltipEventType,s=r.isActive,o=r.activeCoordinate,c=r.activePayload,l=r.offset,u=r.activeTooltipIndex,d=r.tooltipAxisBandSize,f=r.layout,p=r.chartName,m=(e=i.props.cursor)!==null&&e!==void 0?e:(n=i.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!i||!m||!s||!o||p!=="ScatterChart"&&a!=="axis")return null;var y,v=Ij;if(p==="ScatterChart")y=o,v=GKe;else if(p==="BarChart")y=WZe(f,o,l,d),v=rM;else if(f==="radial"){var b=$ae(o),w=b.cx,x=b.cy,E=b.radius,A=b.startAngle,S=b.endAngle;y={cx:w,cy:x,startAngle:A,endAngle:S,innerRadius:E,outerRadius:E},v=qie}else y={points:VZe(f,o,l)},v=Ij;var C=a_(a_(a_(a_({stroke:"#ccc",pointerEvents:"none"},l),y),Xt(m,!1)),{},{payload:c,payloadIndex:u,className:ar("recharts-tooltip-cursor",m.className)});return U.isValidElement(m)?U.cloneElement(m,C):U.createElement(v,C)}var JZe=["item"],ZZe=["children","className","width","height","style","compact","title","desc"];function vg(r){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vg(r)}function op(){return op=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},op.apply(this,arguments)}function OG(r,e){return tQe(r)||eQe(r,e)||Dae(r,e)||QZe()}function QZe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eQe(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var i,a,s,o,c=[],l=!0,u=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(l=(i=s.call(n)).done)&&(c.push(i.value),c.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return c}}function tQe(r){if(Array.isArray(r))return r}function NG(r,e){if(r==null)return{};var n=rQe(r,e),i,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(a=0;a<s.length;a++)i=s[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(r,i)&&(n[i]=r[i])}return n}function rQe(r,e){if(r==null)return{};var n={};for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){if(e.indexOf(i)>=0)continue;n[i]=r[i]}return n}function nQe(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function iQe(r,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,Mae(i.key),i)}}function aQe(r,e,n){return e&&iQe(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function sQe(r,e,n){return e=$E(e),oQe(r,jae()?Reflect.construct(e,n||[],$E(r).constructor):e.apply(r,n))}function oQe(r,e){if(e&&(vg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cQe(r)}function cQe(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function jae(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jae=function(){return!!r})()}function $E(r){return $E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$E(r)}function lQe(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&c3(r,e)}function c3(r,e){return c3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,a){return i.__proto__=a,i},c3(r,e)}function bg(r){return fQe(r)||dQe(r)||Dae(r)||uQe()}function uQe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dae(r,e){if(r){if(typeof r=="string")return l3(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l3(r,e)}}function dQe(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function fQe(r){if(Array.isArray(r))return l3(r)}function l3(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=r[n];return i}function IG(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function pe(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IG(Object(n),!0).forEach(function(i){gt(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):IG(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function gt(r,e,n){return e=Mae(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Mae(r){var e=hQe(r,"string");return vg(e)=="symbol"?e:e+""}function hQe(r,e){if(vg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(vg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var pQe={xAxis:["bottom","top"],yAxis:["left","right"]},gQe={width:"100%",height:"100%"},Lae={x:0,y:0};function s_(r){return r}var mQe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},yQe=function(e,n,i,a){var s=n.find(function(d){return d&&d.index===i});if(s){if(e==="horizontal")return{x:s.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,c=a.radius;return pe(pe(pe({},a),ci(a.cx,a.cy,c,o)),{},{angle:o,radius:c})}var l=s.coordinate,u=a.angle;return pe(pe(pe({},a),ci(a.cx,a.cy,l,u)),{},{angle:u,radius:l})}return Lae},$C=function(e,n){var i=n.graphicalItems,a=n.dataStartIndex,s=n.dataEndIndex,o=(i??[]).reduce(function(c,l){var u=l.props.data;return u&&u.length?[].concat(bg(c),bg(u)):c},[]);return o.length>0?o:e&&e.length&&De(a)&&De(s)?e.slice(a,s+1):[]};function Uae(r){return r==="number"?[0,"auto"]:void 0}var u3=function(e,n,i,a){var s=e.graphicalItems,o=e.tooltipAxis,c=$C(n,e);return i<0||!s||!s.length||i>=c.length?null:s.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=i&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?c:f;p=Mx(m,o.dataKey,a)}else p=f&&f[i]||c[i];return p?[].concat(bg(l),[Uie(u,p)]):l},[])},RG=function(e,n,i,a){var s=a||{x:e.chartX,y:e.chartY},o=mQe(s,i),c=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,d=NWe(o,c,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,p=u3(e,n,d,f),m=yQe(i,c,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:p,activeCoordinate:m}}return null},vQe=function(e,n){var i=n.axes,a=n.graphicalItems,s=n.axisType,o=n.axisIdKey,c=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,p=e.stackOffset,m=Die(d,s);return i.reduce(function(y,v){var b,w=v.type.defaultProps!==void 0?pe(pe({},v.type.defaultProps),v.props):v.props,x=w.type,E=w.dataKey,A=w.allowDataOverflow,S=w.allowDuplicatedCategory,C=w.scale,P=w.ticks,O=w.includeHidden,I=w[o];if(y[I])return y;var M=$C(e.data,{graphicalItems:a.filter(function(G){var Q,te=o in G.props?G.props[o]:(Q=G.type.defaultProps)===null||Q===void 0?void 0:Q[o];return te===I}),dataStartIndex:l,dataEndIndex:u}),D=M.length,q,K,L;HZe(w.domain,A,x)&&(q=Tj(w.domain,null,A),m&&(x==="number"||C!=="auto")&&(L=av(M,E,"category")));var R=Uae(x);if(!q||q.length===0){var j,W=(j=w.domain)!==null&&j!==void 0?j:R;if(E){if(q=av(M,E,x),x==="category"&&m){var H=hUe(q);S&&H?(K=q,q=_E(0,D)):S||(q=HW(W,q,v).reduce(function(G,Q){return G.indexOf(Q)>=0?G:[].concat(bg(G),[Q])},[]))}else if(x==="category")S?q=q.filter(function(G){return G!==""&&!Ht(G)}):q=HW(W,q,v).reduce(function(G,Q){return G.indexOf(Q)>=0||Q===""||Ht(Q)?G:[].concat(bg(G),[Q])},[]);else if(x==="number"){var z=DWe(M,a.filter(function(G){var Q,te,ae=o in G.props?G.props[o]:(Q=G.type.defaultProps)===null||Q===void 0?void 0:Q[o],fe="hide"in G.props?G.props.hide:(te=G.type.defaultProps)===null||te===void 0?void 0:te.hide;return ae===I&&(O||!fe)}),E,s,d);z&&(q=z)}m&&(x==="number"||C!=="auto")&&(L=av(M,E,"category"))}else m?q=_E(0,D):c&&c[I]&&c[I].hasStack&&x==="number"?q=p==="expand"?[0,1]:Lie(c[I].stackGroups,l,u):q=jie(M,a.filter(function(G){var Q=o in G.props?G.props[o]:G.type.defaultProps[o],te="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return Q===I&&(O||!te)}),x,d,!0);if(x==="number")q=o3(f,q,I,s,P),W&&(q=Tj(W,q,A));else if(x==="category"&&W){var B=W,F=q.every(function(G){return B.indexOf(G)>=0});F&&(q=B)}}return pe(pe({},y),{},gt({},I,pe(pe({},w),{},{axisType:s,domain:q,categoricalDomain:L,duplicateDomain:K,originalDomain:(b=w.domain)!==null&&b!==void 0?b:R,isCategorical:m,layout:d})))},{})},bQe=function(e,n){var i=n.graphicalItems,a=n.Axis,s=n.axisType,o=n.axisIdKey,c=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,p=$C(e.data,{graphicalItems:i,dataStartIndex:l,dataEndIndex:u}),m=p.length,y=Die(d,s),v=-1;return i.reduce(function(b,w){var x=w.type.defaultProps!==void 0?pe(pe({},w.type.defaultProps),w.props):w.props,E=x[o],A=Uae("number");if(!b[E]){v++;var S;return y?S=_E(0,m):c&&c[E]&&c[E].hasStack?(S=Lie(c[E].stackGroups,l,u),S=o3(f,S,E,s)):(S=Tj(A,jie(p,i.filter(function(C){var P,O,I=o in C.props?C.props[o]:(P=C.type.defaultProps)===null||P===void 0?void 0:P[o],M="hide"in C.props?C.props.hide:(O=C.type.defaultProps)===null||O===void 0?void 0:O.hide;return I===E&&!M}),"number",d),a.defaultProps.allowDataOverflow),S=o3(f,S,E,s)),pe(pe({},b),{},gt({},E,pe(pe({axisType:s},a.defaultProps),{},{hide:!0,orientation:vs(pQe,"".concat(s,".").concat(v%2),null),domain:S,originalDomain:A,isCategorical:y,layout:d})))}return b},{})},wQe=function(e,n){var i=n.axisType,a=i===void 0?"xAxis":i,s=n.AxisComp,o=n.graphicalItems,c=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.children,f="".concat(a,"Id"),p=bs(d,s),m={};return p&&p.length?m=vQe(e,{axes:p,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:c,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(m=bQe(e,{Axis:s,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:c,dataStartIndex:l,dataEndIndex:u})),m},_Qe=function(e){var n=pu(e),i=Vc(n,!1,!0);return{tooltipTicks:i,orderedTooltipTicks:P5(i,function(a){return a.coordinate}),tooltipAxis:n,tooltipAxisBandSize:fE(n,i)}},$G=function(e){var n=e.children,i=e.defaultShowTooltip,a=$a(n,cg),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!i}},xQe=function(e){return!e||!e.length?!1:e.some(function(n){var i=el(n&&n.type);return i&&i.indexOf("Bar")>=0})},jG=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},EQe=function(e,n){var i=e.props,a=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,c=e.yAxisMap,l=c===void 0?{}:c,u=i.width,d=i.height,f=i.children,p=i.margin||{},m=$a(f,cg),y=$a(f,tf),v=Object.keys(l).reduce(function(S,C){var P=l[C],O=P.orientation;return!P.mirror&&!P.hide?pe(pe({},S),{},gt({},O,S[O]+P.width)):S},{left:p.left||0,right:p.right||0}),b=Object.keys(o).reduce(function(S,C){var P=o[C],O=P.orientation;return!P.mirror&&!P.hide?pe(pe({},S),{},gt({},O,vs(S,"".concat(O))+P.height)):S},{top:p.top||0,bottom:p.bottom||0}),w=pe(pe({},b),v),x=w.bottom;m&&(w.bottom+=m.props.height||cg.defaultProps.height),y&&n&&(w=$We(w,a,i,n));var E=u-w.left-w.right,A=d-w.top-w.bottom;return pe(pe({brushBottom:x},w),{},{width:Math.max(E,0),height:Math.max(A,0)})},SQe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},CQe=function(e){var n=e.chartName,i=e.GraphicalChild,a=e.defaultTooltipEventType,s=a===void 0?"axis":a,o=e.validateTooltipEventTypes,c=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,p=function(w,x){var E=x.graphicalItems,A=x.stackGroups,S=x.offset,C=x.updateId,P=x.dataStartIndex,O=x.dataEndIndex,I=w.barSize,M=w.layout,D=w.barGap,q=w.barCategoryGap,K=w.maxBarSize,L=jG(M),R=L.numericAxisName,j=L.cateAxisName,W=xQe(E),H=[];return E.forEach(function(z,B){var F=$C(w.data,{graphicalItems:[z],dataStartIndex:P,dataEndIndex:O}),G=z.type.defaultProps!==void 0?pe(pe({},z.type.defaultProps),z.props):z.props,Q=G.dataKey,te=G.maxBarSize,ae=G["".concat(R,"Id")],fe=G["".concat(j,"Id")],xe={},Ee=l.reduce(function(Kr,mn){var Jn=x["".concat(mn.axisType,"Map")],Re=G["".concat(mn.axisType,"Id")];Jn&&Jn[Re]||mn.axisType==="zAxis"||Pf();var rt=Jn[Re];return pe(pe({},Kr),{},gt(gt({},mn.axisType,rt),"".concat(mn.axisType,"Ticks"),Vc(rt)))},xe),le=Ee[j],Ce=Ee["".concat(j,"Ticks")],Me=A&&A[ae]&&A[ae].hasStack&&KWe(z,A[ae].stackGroups),he=el(z.type).indexOf("Bar")>=0,me=fE(le,Ce),Ae=[],tt=W&&IWe({barSize:I,stackGroups:A,totalSize:SQe(Ee,j)});if(he){var Nt,ct,Wt=Ht(te)?K:te,Br=(Nt=(ct=fE(le,Ce,!0))!==null&&ct!==void 0?ct:Wt)!==null&&Nt!==void 0?Nt:0;Ae=RWe({barGap:D,barCategoryGap:q,bandSize:Br!==me?Br:me,sizeList:tt[fe],maxBarSize:Wt}),Br!==me&&(Ae=Ae.map(function(Kr){return pe(pe({},Kr),{},{position:pe(pe({},Kr.position),{},{offset:Kr.position.offset-Br/2})})}))}var on=z&&z.type&&z.type.getComposedData;on&&H.push({props:pe(pe({},on(pe(pe({},Ee),{},{displayedData:F,props:w,dataKey:Q,item:z,bandSize:me,barPosition:Ae,offset:S,stackedData:Me,layout:M,dataStartIndex:P,dataEndIndex:O}))),{},gt(gt(gt({key:z.key||"item-".concat(B)},R,Ee[R]),j,Ee[j]),"animationId",C)),childIndex:AUe(z,w.children),item:z})}),H},m=function(w,x){var E=w.props,A=w.dataStartIndex,S=w.dataEndIndex,C=w.updateId;if(!a7({props:E}))return null;var P=E.children,O=E.layout,I=E.stackOffset,M=E.data,D=E.reverseStackOrder,q=jG(O),K=q.numericAxisName,L=q.cateAxisName,R=bs(P,i),j=WWe(M,R,"".concat(K,"Id"),"".concat(L,"Id"),I,D),W=l.reduce(function(G,Q){var te="".concat(Q.axisType,"Map");return pe(pe({},G),{},gt({},te,wQe(E,pe(pe({},Q),{},{graphicalItems:R,stackGroups:Q.axisType===K&&j,dataStartIndex:A,dataEndIndex:S}))))},{}),H=EQe(pe(pe({},W),{},{props:E,graphicalItems:R}),x==null?void 0:x.legendBBox);Object.keys(W).forEach(function(G){W[G]=d(E,W[G],H,G.replace("Map",""),n)});var z=W["".concat(L,"Map")],B=_Qe(z),F=p(E,pe(pe({},W),{},{dataStartIndex:A,dataEndIndex:S,updateId:C,graphicalItems:R,stackGroups:j,offset:H}));return pe(pe({formattedGraphicalItems:F,graphicalItems:R,offset:H,stackGroups:j},B),W)},y=function(b){function w(x){var E,A,S;return nQe(this,w),S=sQe(this,w,[x]),gt(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),gt(S,"accessibilityManager",new zZe),gt(S,"handleLegendBBoxUpdate",function(C){if(C){var P=S.state,O=P.dataStartIndex,I=P.dataEndIndex,M=P.updateId;S.setState(pe({legendBBox:C},m({props:S.props,dataStartIndex:O,dataEndIndex:I,updateId:M},pe(pe({},S.state),{},{legendBBox:C}))))}}),gt(S,"handleReceiveSyncEvent",function(C,P,O){if(S.props.syncId===C){if(O===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(P)}}),gt(S,"handleBrushChange",function(C){var P=C.startIndex,O=C.endIndex;if(P!==S.state.dataStartIndex||O!==S.state.dataEndIndex){var I=S.state.updateId;S.setState(function(){return pe({dataStartIndex:P,dataEndIndex:O},m({props:S.props,dataStartIndex:P,dataEndIndex:O,updateId:I},S.state))}),S.triggerSyncEvent({dataStartIndex:P,dataEndIndex:O})}}),gt(S,"handleMouseEnter",function(C){var P=S.getMouseInfo(C);if(P){var O=pe(pe({},P),{},{isTooltipActive:!0});S.setState(O),S.triggerSyncEvent(O);var I=S.props.onMouseEnter;jt(I)&&I(O,C)}}),gt(S,"triggeredAfterMouseMove",function(C){var P=S.getMouseInfo(C),O=P?pe(pe({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(O),S.triggerSyncEvent(O);var I=S.props.onMouseMove;jt(I)&&I(O,C)}),gt(S,"handleItemMouseEnter",function(C){S.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),gt(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),gt(S,"handleMouseMove",function(C){C.persist(),S.throttleTriggeredAfterMouseMove(C)}),gt(S,"handleMouseLeave",function(C){S.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};S.setState(P),S.triggerSyncEvent(P);var O=S.props.onMouseLeave;jt(O)&&O(P,C)}),gt(S,"handleOuterEvent",function(C){var P=CUe(C),O=vs(S.props,"".concat(P));if(P&&jt(O)){var I,M;/.*touch.*/i.test(P)?M=S.getMouseInfo(C.changedTouches[0]):M=S.getMouseInfo(C),O((I=M)!==null&&I!==void 0?I:{},C)}}),gt(S,"handleClick",function(C){var P=S.getMouseInfo(C);if(P){var O=pe(pe({},P),{},{isTooltipActive:!0});S.setState(O),S.triggerSyncEvent(O);var I=S.props.onClick;jt(I)&&I(O,C)}}),gt(S,"handleMouseDown",function(C){var P=S.props.onMouseDown;if(jt(P)){var O=S.getMouseInfo(C);P(O,C)}}),gt(S,"handleMouseUp",function(C){var P=S.props.onMouseUp;if(jt(P)){var O=S.getMouseInfo(C);P(O,C)}}),gt(S,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),gt(S,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.handleMouseDown(C.changedTouches[0])}),gt(S,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.handleMouseUp(C.changedTouches[0])}),gt(S,"handleDoubleClick",function(C){var P=S.props.onDoubleClick;if(jt(P)){var O=S.getMouseInfo(C);P(O,C)}}),gt(S,"handleContextMenu",function(C){var P=S.props.onContextMenu;if(jt(P)){var O=S.getMouseInfo(C);P(O,C)}}),gt(S,"triggerSyncEvent",function(C){S.props.syncId!==void 0&&mI.emit(yI,S.props.syncId,C,S.eventEmitterSymbol)}),gt(S,"applySyncEvent",function(C){var P=S.props,O=P.layout,I=P.syncMethod,M=S.state.updateId,D=C.dataStartIndex,q=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)S.setState(pe({dataStartIndex:D,dataEndIndex:q},m({props:S.props,dataStartIndex:D,dataEndIndex:q,updateId:M},S.state)));else if(C.activeTooltipIndex!==void 0){var K=C.chartX,L=C.chartY,R=C.activeTooltipIndex,j=S.state,W=j.offset,H=j.tooltipTicks;if(!W)return;if(typeof I=="function")R=I(H,C);else if(I==="value"){R=-1;for(var z=0;z<H.length;z++)if(H[z].value===C.activeLabel){R=z;break}}var B=pe(pe({},W),{},{x:W.left,y:W.top}),F=Math.min(K,B.x+B.width),G=Math.min(L,B.y+B.height),Q=H[R]&&H[R].value,te=u3(S.state,S.props.data,R),ae=H[R]?{x:O==="horizontal"?H[R].coordinate:F,y:O==="horizontal"?G:H[R].coordinate}:Lae;S.setState(pe(pe({},C),{},{activeLabel:Q,activeCoordinate:ae,activePayload:te,activeTooltipIndex:R}))}else S.setState(C)}),gt(S,"renderCursor",function(C){var P,O=S.state,I=O.isTooltipActive,M=O.activeCoordinate,D=O.activePayload,q=O.offset,K=O.activeTooltipIndex,L=O.tooltipAxisBandSize,R=S.getTooltipEventType(),j=(P=C.props.active)!==null&&P!==void 0?P:I,W=S.props.layout,H=C.key||"_recharts-cursor";return ee.createElement(XZe,{key:H,activeCoordinate:M,activePayload:D,activeTooltipIndex:K,chartName:n,element:C,isActive:j,layout:W,offset:q,tooltipAxisBandSize:L,tooltipEventType:R})}),gt(S,"renderPolarAxis",function(C,P,O){var I=vs(C,"type.axisType"),M=vs(S.state,"".concat(I,"Map")),D=C.type.defaultProps,q=D!==void 0?pe(pe({},D),C.props):C.props,K=M&&M[q["".concat(I,"Id")]];return U.cloneElement(C,pe(pe({},K),{},{className:ar(I,K.className),key:C.key||"".concat(P,"-").concat(O),ticks:Vc(K,!0)}))}),gt(S,"renderPolarGrid",function(C){var P=C.props,O=P.radialLines,I=P.polarAngles,M=P.polarRadius,D=S.state,q=D.radiusAxisMap,K=D.angleAxisMap,L=pu(q),R=pu(K),j=R.cx,W=R.cy,H=R.innerRadius,z=R.outerRadius;return U.cloneElement(C,{polarAngles:Array.isArray(I)?I:Vc(R,!0).map(function(B){return B.coordinate}),polarRadius:Array.isArray(M)?M:Vc(L,!0).map(function(B){return B.coordinate}),cx:j,cy:W,innerRadius:H,outerRadius:z,key:C.key||"polar-grid",radialLines:O})}),gt(S,"renderLegend",function(){var C=S.state.formattedGraphicalItems,P=S.props,O=P.children,I=P.width,M=P.height,D=S.props.margin||{},q=I-(D.left||0)-(D.right||0),K=Rie({children:O,formattedGraphicalItems:C,legendWidth:q,legendContent:u});if(!K)return null;var L=K.item,R=NG(K,JZe);return U.cloneElement(L,pe(pe({},R),{},{chartWidth:I,chartHeight:M,margin:D,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),gt(S,"renderTooltip",function(){var C,P=S.props,O=P.children,I=P.accessibilityLayer,M=$a(O,No);if(!M)return null;var D=S.state,q=D.isTooltipActive,K=D.activeCoordinate,L=D.activePayload,R=D.activeLabel,j=D.offset,W=(C=M.props.active)!==null&&C!==void 0?C:q;return U.cloneElement(M,{viewBox:pe(pe({},j),{},{x:j.left,y:j.top}),active:W,label:R,payload:W?L:[],coordinate:K,accessibilityLayer:I})}),gt(S,"renderBrush",function(C){var P=S.props,O=P.margin,I=P.data,M=S.state,D=M.offset,q=M.dataStartIndex,K=M.dataEndIndex,L=M.updateId;return U.cloneElement(C,{key:C.key||"_recharts-brush",onChange:t_(S.handleBrushChange,C.props.onChange),data:I,x:De(C.props.x)?C.props.x:D.left,y:De(C.props.y)?C.props.y:D.top+D.height+D.brushBottom-(O.bottom||0),width:De(C.props.width)?C.props.width:D.width,startIndex:q,endIndex:K,updateId:"brush-".concat(L)})}),gt(S,"renderReferenceElement",function(C,P,O){if(!C)return null;var I=S,M=I.clipPathId,D=S.state,q=D.xAxisMap,K=D.yAxisMap,L=D.offset,R=C.type.defaultProps||{},j=C.props,W=j.xAxisId,H=W===void 0?R.xAxisId:W,z=j.yAxisId,B=z===void 0?R.yAxisId:z;return U.cloneElement(C,{key:C.key||"".concat(P,"-").concat(O),xAxis:q[H],yAxis:K[B],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:M})}),gt(S,"renderActivePoints",function(C){var P=C.item,O=C.activePoint,I=C.basePoint,M=C.childIndex,D=C.isRange,q=[],K=P.props.key,L=P.item.type.defaultProps!==void 0?pe(pe({},P.item.type.defaultProps),P.item.props):P.item.props,R=L.activeDot,j=L.dataKey,W=pe(pe({index:M,dataKey:j,cx:O.x,cy:O.y,r:4,fill:eM(P.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},Xt(R,!1)),Lx(R));return q.push(w.renderActiveDot(R,W,"".concat(K,"-activePoint-").concat(M))),I?q.push(w.renderActiveDot(R,pe(pe({},W),{},{cx:I.x,cy:I.y}),"".concat(K,"-basePoint-").concat(M))):D&&q.push(null),q}),gt(S,"renderGraphicChild",function(C,P,O){var I=S.filterFormatItem(C,P,O);if(!I)return null;var M=S.getTooltipEventType(),D=S.state,q=D.isTooltipActive,K=D.tooltipAxis,L=D.activeTooltipIndex,R=D.activeLabel,j=S.props.children,W=$a(j,No),H=I.props,z=H.points,B=H.isRange,F=H.baseLine,G=I.item.type.defaultProps!==void 0?pe(pe({},I.item.type.defaultProps),I.item.props):I.item.props,Q=G.activeDot,te=G.hide,ae=G.activeBar,fe=G.activeShape,xe=!!(!te&&q&&W&&(Q||ae||fe)),Ee={};M!=="axis"&&W&&W.props.trigger==="click"?Ee={onClick:t_(S.handleItemMouseEnter,C.props.onClick)}:M!=="axis"&&(Ee={onMouseLeave:t_(S.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:t_(S.handleItemMouseEnter,C.props.onMouseEnter)});var le=U.cloneElement(C,pe(pe({},I.props),Ee));function Ce(mn){return typeof K.dataKey=="function"?K.dataKey(mn.payload):null}if(xe)if(L>=0){var Me,he;if(K.dataKey&&!K.allowDuplicatedCategory){var me=typeof K.dataKey=="function"?Ce:"payload.".concat(K.dataKey.toString());Me=Mx(z,me,R),he=B&&F&&Mx(F,me,R)}else Me=z==null?void 0:z[L],he=B&&F&&F[L];if(fe||ae){var Ae=C.props.activeIndex!==void 0?C.props.activeIndex:L;return[U.cloneElement(C,pe(pe(pe({},I.props),Ee),{},{activeIndex:Ae})),null,null]}if(!Ht(Me))return[le].concat(bg(S.renderActivePoints({item:I,activePoint:Me,basePoint:he,childIndex:L,isRange:B})))}else{var tt,Nt=(tt=S.getItemByXY(S.state.activeCoordinate))!==null&&tt!==void 0?tt:{graphicalItem:le},ct=Nt.graphicalItem,Wt=ct.item,Br=Wt===void 0?C:Wt,on=ct.childIndex,Kr=pe(pe(pe({},I.props),Ee),{},{activeIndex:on});return[U.cloneElement(Br,Kr),null,null]}return B?[le,null,null]:[le,null]}),gt(S,"renderCustomized",function(C,P,O){return U.cloneElement(C,pe(pe({key:"recharts-customized-".concat(O)},S.props),S.state))}),gt(S,"renderMap",{CartesianGrid:{handler:s_,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:s_},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:s_},YAxis:{handler:s_},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((E=x.id)!==null&&E!==void 0?E:Ub("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=Pne(S.triggeredAfterMouseMove,(A=x.throttleDelay)!==null&&A!==void 0?A:1e3/60),S.state={},S}return lQe(w,b),aQe(w,[{key:"componentDidMount",value:function(){var E,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var E=this.props,A=E.children,S=E.data,C=E.height,P=E.layout,O=$a(A,No);if(O){var I=O.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,D=u3(this.state,S,I,M),q=this.state.tooltipTicks[I].coordinate,K=(this.state.offset.top+C)/2,L=P==="horizontal",R=L?{x:q,y:K}:{y:q,x:K},j=this.state.formattedGraphicalItems.find(function(H){var z=H.item;return z.type.name==="Scatter"});j&&(R=pe(pe({},R),j.props.points[I].tooltipPosition),D=j.props.points[I].tooltipPayload);var W={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:M,activePayload:D,activeCoordinate:R};this.setState(W),this.renderCursor(O),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(E,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var S,C;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(E){K$([$a(E.children,No)],[$a(this.props.children,No)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=$a(this.props.children,No);if(E&&typeof E.props.shared=="boolean"){var A=E.props.shared?"axis":"item";return c.indexOf(A)>=0?A:s}return s}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var A=this.container,S=A.getBoundingClientRect(),C=hze(S),P={chartX:Math.round(E.pageX-C.left),chartY:Math.round(E.pageY-C.top)},O=S.width/A.offsetWidth||1,I=this.inRange(P.chartX,P.chartY,O);if(!I)return null;var M=this.state,D=M.xAxisMap,q=M.yAxisMap,K=this.getTooltipEventType(),L=RG(this.state,this.props.data,this.props.layout,I);if(K!=="axis"&&D&&q){var R=pu(D).scale,j=pu(q).scale,W=R&&R.invert?R.invert(P.chartX):null,H=j&&j.invert?j.invert(P.chartY):null;return pe(pe({},P),{},{xValue:W,yValue:H},L)}return L?pe(pe({},P),L):null}},{key:"inRange",value:function(E,A){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,P=E/S,O=A/S;if(C==="horizontal"||C==="vertical"){var I=this.state.offset,M=P>=I.left&&P<=I.left+I.width&&O>=I.top&&O<=I.top+I.height;return M?{x:P,y:O}:null}var D=this.state,q=D.angleAxisMap,K=D.radiusAxisMap;if(q&&K){var L=pu(q);return GW({x:P,y:O},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,A=this.getTooltipEventType(),S=$a(E,No),C={};S&&A==="axis"&&(S.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=Lx(this.props,this.handleOuterEvent);return pe(pe({},P),C)}},{key:"addListener",value:function(){mI.on(yI,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){mI.removeListener(yI,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(E,A,S){for(var C=this.state.formattedGraphicalItems,P=0,O=C.length;P<O;P++){var I=C[P];if(I.item===E||I.props.key===E.key||A===el(I.item.type)&&S===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var E=this.clipPathId,A=this.state.offset,S=A.left,C=A.top,P=A.height,O=A.width;return ee.createElement("defs",null,ee.createElement("clipPath",{id:E},ee.createElement("rect",{x:S,y:C,height:P,width:O})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(A,S){var C=OG(S,2),P=C[0],O=C[1];return pe(pe({},A),{},gt({},P,O.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(A,S){var C=OG(S,2),P=C[0],O=C[1];return pe(pe({},A),{},gt({},P,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[E])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(E){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[E])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(E){var A=this.state,S=A.formattedGraphicalItems,C=A.activeItem;if(S&&S.length)for(var P=0,O=S.length;P<O;P++){var I=S[P],M=I.props,D=I.item,q=D.type.defaultProps!==void 0?pe(pe({},D.type.defaultProps),D.props):D.props,K=el(D.type);if(K==="Bar"){var L=(M.data||[]).find(function(H){return MKe(E,H)});if(L)return{graphicalItem:I,payload:L}}else if(K==="RadialBar"){var R=(M.data||[]).find(function(H){return GW(E,H)});if(R)return{graphicalItem:I,payload:R}}else if(CC(I,C)||AC(I,C)||H0(I,C)){var j=TYe({graphicalItem:I,activeTooltipItem:C,itemData:q.data}),W=q.activeIndex===void 0?j:q.activeIndex;return{graphicalItem:pe(pe({},I),{},{childIndex:W}),payload:H0(I,C)?q.data[j]:I.props.data[j]}}}return null}},{key:"render",value:function(){var E=this;if(!a7(this))return null;var A=this.props,S=A.children,C=A.className,P=A.width,O=A.height,I=A.style,M=A.compact,D=A.title,q=A.desc,K=NG(A,ZZe),L=Xt(K,!1);if(M)return ee.createElement(dG,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ee.createElement(X$,op({},L,{width:P,height:O,title:D,desc:q}),this.renderClipPath(),o7(S,this.renderMap)));if(this.props.accessibilityLayer){var R,j;L.tabIndex=(R=this.props.tabIndex)!==null&&R!==void 0?R:0,L.role=(j=this.props.role)!==null&&j!==void 0?j:"application",L.onKeyDown=function(H){E.accessibilityManager.keyboardEvent(H)},L.onFocus=function(){E.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return ee.createElement(dG,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ee.createElement("div",op({className:ar("recharts-wrapper",C),style:pe({position:"relative",cursor:"default",width:P,height:O},I)},W,{ref:function(z){E.container=z}}),ee.createElement(X$,op({},L,{width:P,height:O,title:D,desc:q,style:gQe}),this.renderClipPath(),o7(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(U.Component);gt(y,"displayName",n),gt(y,"defaultProps",pe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),gt(y,"getDerivedStateFromProps",function(b,w){var x=b.dataKey,E=b.data,A=b.children,S=b.width,C=b.height,P=b.layout,O=b.stackOffset,I=b.margin,M=w.dataStartIndex,D=w.dataEndIndex;if(w.updateId===void 0){var q=$G(b);return pe(pe(pe({},q),{},{updateId:0},m(pe(pe({props:b},q),{},{updateId:0}),w)),{},{prevDataKey:x,prevData:E,prevWidth:S,prevHeight:C,prevLayout:P,prevStackOffset:O,prevMargin:I,prevChildren:A})}if(x!==w.prevDataKey||E!==w.prevData||S!==w.prevWidth||C!==w.prevHeight||P!==w.prevLayout||O!==w.prevStackOffset||!mp(I,w.prevMargin)){var K=$G(b),L={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},R=pe(pe({},RG(w,E,P)),{},{updateId:w.updateId+1}),j=pe(pe(pe({},K),L),R);return pe(pe(pe({},j),m(pe({props:b},j),w)),{},{prevDataKey:x,prevData:E,prevWidth:S,prevHeight:C,prevLayout:P,prevStackOffset:O,prevMargin:I,prevChildren:A})}if(!K$(A,w.prevChildren)){var W,H,z,B,F=$a(A,cg),G=F&&(W=(H=F.props)===null||H===void 0?void 0:H.startIndex)!==null&&W!==void 0?W:M,Q=F&&(z=(B=F.props)===null||B===void 0?void 0:B.endIndex)!==null&&z!==void 0?z:D,te=G!==M||Q!==D,ae=!Ht(E),fe=ae&&!te?w.updateId:w.updateId+1;return pe(pe({updateId:fe},m(pe(pe({props:b},w),{},{updateId:fe,dataStartIndex:G,dataEndIndex:Q}),w)),{},{prevChildren:A,dataStartIndex:G,dataEndIndex:Q})}return null}),gt(y,"renderActiveDot",function(b,w,x){var E;return U.isValidElement(b)?E=U.cloneElement(b,w):jt(b)?E=b(w):E=ee.createElement(nM,w),ee.createElement(gn,{className:"recharts-active-dot",key:x},E)});var v=U.forwardRef(function(w,x){return ee.createElement(y,op({},w,{ref:x}))});return v.displayName=y.displayName,v},AQe=CQe({chartName:"LineChart",GraphicalChild:gg,axisComponents:[{axisType:"xAxis",AxisComp:IC},{axisType:"yAxis",AxisComp:RC}],formatAxisMap:EXe});const TQe=({events:r})=>{const e=r.filter(n=>["sale","order"].includes(n.type)&&n.payment).map(n=>({timestamp:new Date(n.timestamp*1e3).toLocaleString(),type:n.type,price:parseFloat(n.payment)}));return T.jsxs("div",{className:"p-4 rounded shadow bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",children:[T.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Marketplace History"}),T.jsx(sze,{width:"100%",height:300,children:T.jsxs(AQe,{data:e,children:[T.jsx(Sae,{strokeDasharray:"3 3"}),T.jsx(IC,{dataKey:"timestamp",tick:{fontSize:10}}),T.jsx(RC,{unit:" ETH"}),T.jsx(No,{}),T.jsx(tf,{}),T.jsx(gg,{type:"monotone",dataKey:"price",data:e.filter(n=>n.type==="order"),name:"Offers",stroke:"#dc00ff",dot:{r:4}}),T.jsx(gg,{type:"monotone",dataKey:"price",data:e.filter(n=>n.type==="sale"),name:"Sales",stroke:"#33f000",dot:{r:4}})]})})]})};function jC(){return new jE}function jE(){this.reset()}jE.prototype={constructor:jE,reset:function(){this.s=this.t=0},add:function(r){DG(o_,r,this.t),DG(this,o_.s,this.s),this.s?this.t+=o_.t:this.s=o_.t},valueOf:function(){return this.s}};var o_=new jE;function DG(r,e,n){var i=r.s=e+n,a=i-e,s=i-a;r.t=e-s+(n-a)}var wt=1e-6,kQe=1e-12,Dt=Math.PI,sn=Dt/2,MG=Dt/4,Fa=Dt*2,ji=180/Dt,nn=Dt/180,dr=Math.abs,DC=Math.atan,pl=Math.atan2,Yt=Math.cos,c_=Math.ceil,Bae=Math.exp,DE=Math.log,bI=Math.pow,Bt=Math.sin,ps=Math.sign||function(r){return r>0?1:r<0?-1:0},ga=Math.sqrt,hM=Math.tan;function Fae(r){return r>1?0:r<-1?Dt:Math.acos(r)}function _s(r){return r>1?sn:r<-1?-sn:Math.asin(r)}function gs(){}function ME(r,e){r&&UG.hasOwnProperty(r.type)&&UG[r.type](r,e)}var LG={Feature:function(r,e){ME(r.geometry,e)},FeatureCollection:function(r,e){for(var n=r.features,i=-1,a=n.length;++i<a;)ME(n[i].geometry,e)}},UG={Sphere:function(r,e){e.sphere()},Point:function(r,e){r=r.coordinates,e.point(r[0],r[1],r[2])},MultiPoint:function(r,e){for(var n=r.coordinates,i=-1,a=n.length;++i<a;)r=n[i],e.point(r[0],r[1],r[2])},LineString:function(r,e){d3(r.coordinates,e,0)},MultiLineString:function(r,e){for(var n=r.coordinates,i=-1,a=n.length;++i<a;)d3(n[i],e,0)},Polygon:function(r,e){BG(r.coordinates,e)},MultiPolygon:function(r,e){for(var n=r.coordinates,i=-1,a=n.length;++i<a;)BG(n[i],e)},GeometryCollection:function(r,e){for(var n=r.geometries,i=-1,a=n.length;++i<a;)ME(n[i],e)}};function d3(r,e,n){var i=-1,a=r.length-n,s;for(e.lineStart();++i<a;)s=r[i],e.point(s[0],s[1],s[2]);e.lineEnd()}function BG(r,e){var n=-1,i=r.length;for(e.polygonStart();++n<i;)d3(r[n],e,1);e.polygonEnd()}function rp(r,e){r&&LG.hasOwnProperty(r.type)?LG[r.type](r,e):ME(r,e)}function f3(r){return[pl(r[1],r[0]),_s(r[2])]}function wg(r){var e=r[0],n=r[1],i=Yt(n);return[i*Yt(e),i*Bt(e),Bt(n)]}function l_(r,e){return r[0]*e[0]+r[1]*e[1]+r[2]*e[2]}function LE(r,e){return[r[1]*e[2]-r[2]*e[1],r[2]*e[0]-r[0]*e[2],r[0]*e[1]-r[1]*e[0]]}function wI(r,e){r[0]+=e[0],r[1]+=e[1],r[2]+=e[2]}function u_(r,e){return[r[0]*e,r[1]*e,r[2]*e]}function h3(r){var e=ga(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);r[0]/=e,r[1]/=e,r[2]/=e}function p3(r,e){function n(i,a){return i=r(i,a),e(i[0],i[1])}return r.invert&&e.invert&&(n.invert=function(i,a){return i=e.invert(i,a),i&&r.invert(i[0],i[1])}),n}function g3(r,e){return[dr(r)>Dt?r+Math.round(-r/Fa)*Fa:r,e]}g3.invert=g3;function qae(r,e,n){return(r%=Fa)?e||n?p3(qG(r),zG(e,n)):qG(r):e||n?zG(e,n):g3}function FG(r){return function(e,n){return e+=r,[e>Dt?e-Fa:e<-Dt?e+Fa:e,n]}}function qG(r){var e=FG(r);return e.invert=FG(-r),e}function zG(r,e){var n=Yt(r),i=Bt(r),a=Yt(e),s=Bt(e);function o(c,l){var u=Yt(l),d=Yt(c)*u,f=Bt(c)*u,p=Bt(l),m=p*n+d*i;return[pl(f*a-m*s,d*n-p*i),_s(m*a+f*s)]}return o.invert=function(c,l){var u=Yt(l),d=Yt(c)*u,f=Bt(c)*u,p=Bt(l),m=p*a-f*s;return[pl(f*a+p*s,d*n+m*i),_s(m*n-d*i)]},o}function PQe(r){r=qae(r[0]*nn,r[1]*nn,r.length>2?r[2]*nn:0);function e(n){return n=r(n[0]*nn,n[1]*nn),n[0]*=ji,n[1]*=ji,n}return e.invert=function(n){return n=r.invert(n[0]*nn,n[1]*nn),n[0]*=ji,n[1]*=ji,n},e}function OQe(r,e,n,i,a,s){if(n){var o=Yt(e),c=Bt(e),l=i*n;a==null?(a=e+i*Fa,s=e-l/2):(a=HG(o,a),s=HG(o,s),(i>0?a<s:a>s)&&(a+=i*Fa));for(var u,d=a;i>0?d>s:d<s;d-=l)u=f3([o,-c*Yt(d),-c*Bt(d)]),r.point(u[0],u[1])}}function HG(r,e){e=wg(e),e[0]-=r,h3(e);var n=Fae(-e[1]);return((-e[2]<0?-n:n)+Fa-wt)%Fa}function zae(){var r=[],e;return{point:function(n,i,a){e.push([n,i,a])},lineStart:function(){r.push(e=[])},lineEnd:gs,rejoin:function(){r.length>1&&r.push(r.pop().concat(r.shift()))},result:function(){var n=r;return r=[],e=null,n}}}function B_(r,e){return dr(r[0]-e[0])<wt&&dr(r[1]-e[1])<wt}function d_(r,e,n,i){this.x=r,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Hae(r,e,n,i,a){var s=[],o=[],c,l;if(r.forEach(function(y){if(!((v=y.length-1)<=0)){var v,b=y[0],w=y[v],x;if(B_(b,w)){if(!b[2]&&!w[2]){for(a.lineStart(),c=0;c<v;++c)a.point((b=y[c])[0],b[1]);a.lineEnd();return}w[0]+=2*wt}s.push(x=new d_(b,y,null,!0)),o.push(x.o=new d_(b,null,x,!1)),s.push(x=new d_(w,y,null,!1)),o.push(x.o=new d_(w,null,x,!0))}}),!!s.length){for(o.sort(e),WG(s),WG(o),c=0,l=o.length;c<l;++c)o[c].e=n=!n;for(var u=s[0],d,f;;){for(var p=u,m=!0;p.v;)if((p=p.n)===u)return;d=p.z,a.lineStart();do{if(p.v=p.o.v=!0,p.e){if(m)for(c=0,l=d.length;c<l;++c)a.point((f=d[c])[0],f[1]);else i(p.x,p.n.x,1,a);p=p.n}else{if(m)for(d=p.p.z,c=d.length-1;c>=0;--c)a.point((f=d[c])[0],f[1]);else i(p.x,p.p.x,-1,a);p=p.p}p=p.o,d=p.z,m=!m}while(!p.v);a.lineEnd()}}}function WG(r){if(e=r.length){for(var e,n=0,i=r[0],a;++n<e;)i.n=a=r[n],a.p=i,i=a;i.n=a=r[0],a.p=i}}var _I=jC();function xI(r){return dr(r[0])<=Dt?r[0]:ps(r[0])*((dr(r[0])+Dt)%Fa-Dt)}function NQe(r,e){var n=xI(e),i=e[1],a=Bt(i),s=[Bt(n),-Yt(n),0],o=0,c=0;_I.reset(),a===1?i=sn+wt:a===-1&&(i=-sn-wt);for(var l=0,u=r.length;l<u;++l)if(f=(d=r[l]).length)for(var d,f,p=d[f-1],m=xI(p),y=p[1]/2+MG,v=Bt(y),b=Yt(y),w=0;w<f;++w,m=E,v=S,b=C,p=x){var x=d[w],E=xI(x),A=x[1]/2+MG,S=Bt(A),C=Yt(A),P=E-m,O=P>=0?1:-1,I=O*P,M=I>Dt,D=v*S;if(_I.add(pl(D*O*Bt(I),b*C+D*Yt(I))),o+=M?P+O*Fa:P,M^m>=n^E>=n){var q=LE(wg(p),wg(x));h3(q);var K=LE(s,q);h3(K);var L=(M^P>=0?-1:1)*_s(K[2]);(i>L||i===L&&(q[0]||q[1]))&&(c+=M^P>=0?1:-1)}}return(o<-1e-6||o<wt&&_I<-1e-6)^c&1}function Wae(r,e){return r<e?-1:r>e?1:r>=e?0:NaN}function IQe(r){return r.length===1&&(r=RQe(r)),{left:function(e,n,i,a){for(i==null&&(i=0),a==null&&(a=e.length);i<a;){var s=i+a>>>1;r(e[s],n)<0?i=s+1:a=s}return i},right:function(e,n,i,a){for(i==null&&(i=0),a==null&&(a=e.length);i<a;){var s=i+a>>>1;r(e[s],n)>0?a=s:i=s+1}return i}}}function RQe(r){return function(e,n){return Wae(r(e),n)}}IQe(Wae);function cp(r,e,n){r=+r,e=+e,n=(a=arguments.length)<2?(e=r,r=0,1):a<3?1:+n;for(var i=-1,a=Math.max(0,Math.ceil((e-r)/n))|0,s=new Array(a);++i<a;)s[i]=r+i*n;return s}function Vae(r){for(var e=r.length,n,i=-1,a=0,s,o;++i<e;)a+=r[i].length;for(s=new Array(a);--e>=0;)for(o=r[e],n=o.length;--n>=0;)s[--a]=o[n];return s}function Gae(r,e,n,i){return function(a){var s=e(a),o=zae(),c=e(o),l=!1,u,d,f,p={point:m,lineStart:v,lineEnd:b,polygonStart:function(){p.point=w,p.lineStart=x,p.lineEnd=E,d=[],u=[]},polygonEnd:function(){p.point=m,p.lineStart=v,p.lineEnd=b,d=Vae(d);var A=NQe(u,i);d.length?(l||(a.polygonStart(),l=!0),Hae(d,jQe,A,n,a)):A&&(l||(a.polygonStart(),l=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),l&&(a.polygonEnd(),l=!1),d=u=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function m(A,S){r(A,S)&&a.point(A,S)}function y(A,S){s.point(A,S)}function v(){p.point=y,s.lineStart()}function b(){p.point=m,s.lineEnd()}function w(A,S){f.push([A,S]),c.point(A,S)}function x(){c.lineStart(),f=[]}function E(){w(f[0][0],f[0][1]),c.lineEnd();var A=c.clean(),S=o.result(),C,P=S.length,O,I,M;if(f.pop(),u.push(f),f=null,!!P){if(A&1){if(I=S[0],(O=I.length-1)>0){for(l||(a.polygonStart(),l=!0),a.lineStart(),C=0;C<O;++C)a.point((M=I[C])[0],M[1]);a.lineEnd()}return}P>1&&A&2&&S.push(S.pop().concat(S.shift())),d.push(S.filter($Qe))}}return p}}function $Qe(r){return r.length>1}function jQe(r,e){return((r=r.x)[0]<0?r[1]-sn-wt:sn-r[1])-((e=e.x)[0]<0?e[1]-sn-wt:sn-e[1])}const VG=Gae(function(){return!0},DQe,LQe,[-Dt,-sn]);function DQe(r){var e=NaN,n=NaN,i=NaN,a;return{lineStart:function(){r.lineStart(),a=1},point:function(s,o){var c=s>0?Dt:-Dt,l=dr(s-e);dr(l-Dt)<wt?(r.point(e,n=(n+o)/2>0?sn:-sn),r.point(i,n),r.lineEnd(),r.lineStart(),r.point(c,n),r.point(s,n),a=0):i!==c&&l>=Dt&&(dr(e-i)<wt&&(e-=i*wt),dr(s-c)<wt&&(s-=c*wt),n=MQe(e,n,s,o),r.point(i,n),r.lineEnd(),r.lineStart(),r.point(c,n),a=0),r.point(e=s,n=o),i=c},lineEnd:function(){r.lineEnd(),e=n=NaN},clean:function(){return 2-a}}}function MQe(r,e,n,i){var a,s,o=Bt(r-n);return dr(o)>wt?DC((Bt(e)*(s=Yt(i))*Bt(n)-Bt(i)*(a=Yt(e))*Bt(r))/(a*s*o)):(e+i)/2}function LQe(r,e,n,i){var a;if(r==null)a=n*sn,i.point(-Dt,a),i.point(0,a),i.point(Dt,a),i.point(Dt,0),i.point(Dt,-a),i.point(0,-a),i.point(-Dt,-a),i.point(-Dt,0),i.point(-Dt,a);else if(dr(r[0]-e[0])>wt){var s=r[0]<e[0]?Dt:-Dt;a=n*s/2,i.point(-s,a),i.point(0,a),i.point(s,a)}else i.point(e[0],e[1])}function UQe(r){var e=Yt(r),n=6*nn,i=e>0,a=dr(e)>wt;function s(d,f,p,m){OQe(m,r,n,p,d,f)}function o(d,f){return Yt(d)*Yt(f)>e}function c(d){var f,p,m,y,v;return{lineStart:function(){y=m=!1,v=1},point:function(b,w){var x=[b,w],E,A=o(b,w),S=i?A?0:u(b,w):A?u(b+(b<0?Dt:-Dt),w):0;if(!f&&(y=m=A)&&d.lineStart(),A!==m&&(E=l(f,x),(!E||B_(f,E)||B_(x,E))&&(x[2]=1)),A!==m)v=0,A?(d.lineStart(),E=l(x,f),d.point(E[0],E[1])):(E=l(f,x),d.point(E[0],E[1],2),d.lineEnd()),f=E;else if(a&&f&&i^A){var C;!(S&p)&&(C=l(x,f,!0))&&(v=0,i?(d.lineStart(),d.point(C[0][0],C[0][1]),d.point(C[1][0],C[1][1]),d.lineEnd()):(d.point(C[1][0],C[1][1]),d.lineEnd(),d.lineStart(),d.point(C[0][0],C[0][1],3)))}A&&(!f||!B_(f,x))&&d.point(x[0],x[1]),f=x,m=A,p=S},lineEnd:function(){m&&d.lineEnd(),f=null},clean:function(){return v|(y&&m)<<1}}}function l(d,f,p){var m=wg(d),y=wg(f),v=[1,0,0],b=LE(m,y),w=l_(b,b),x=b[0],E=w-x*x;if(!E)return!p&&d;var A=e*w/E,S=-e*x/E,C=LE(v,b),P=u_(v,A),O=u_(b,S);wI(P,O);var I=C,M=l_(P,I),D=l_(I,I),q=M*M-D*(l_(P,P)-1);if(!(q<0)){var K=ga(q),L=u_(I,(-M-K)/D);if(wI(L,P),L=f3(L),!p)return L;var R=d[0],j=f[0],W=d[1],H=f[1],z;j<R&&(z=R,R=j,j=z);var B=j-R,F=dr(B-Dt)<wt,G=F||B<wt;if(!F&&H<W&&(z=W,W=H,H=z),G?F?W+H>0^L[1]<(dr(L[0]-R)<wt?W:H):W<=L[1]&&L[1]<=H:B>Dt^(R<=L[0]&&L[0]<=j)){var Q=u_(I,(-M+K)/D);return wI(Q,P),[L,f3(Q)]}}}function u(d,f){var p=i?r:Dt-r,m=0;return d<-p?m|=1:d>p&&(m|=2),f<-p?m|=4:f>p&&(m|=8),m}return Gae(o,c,s,i?[0,-r]:[-Dt,r-Dt])}function BQe(r,e,n,i,a,s){var o=r[0],c=r[1],l=e[0],u=e[1],d=0,f=1,p=l-o,m=u-c,y;if(y=n-o,!(!p&&y>0)){if(y/=p,p<0){if(y<d)return;y<f&&(f=y)}else if(p>0){if(y>f)return;y>d&&(d=y)}if(y=a-o,!(!p&&y<0)){if(y/=p,p<0){if(y>f)return;y>d&&(d=y)}else if(p>0){if(y<d)return;y<f&&(f=y)}if(y=i-c,!(!m&&y>0)){if(y/=m,m<0){if(y<d)return;y<f&&(f=y)}else if(m>0){if(y>f)return;y>d&&(d=y)}if(y=s-c,!(!m&&y<0)){if(y/=m,m<0){if(y>f)return;y>d&&(d=y)}else if(m>0){if(y<d)return;y<f&&(f=y)}return d>0&&(r[0]=o+d*p,r[1]=c+d*m),f<1&&(e[0]=o+f*p,e[1]=c+f*m),!0}}}}}var f_=1e9,h_=-1e9;function FQe(r,e,n,i){function a(u,d){return r<=u&&u<=n&&e<=d&&d<=i}function s(u,d,f,p){var m=0,y=0;if(u==null||(m=o(u,f))!==(y=o(d,f))||l(u,d)<0^f>0)do p.point(m===0||m===3?r:n,m>1?i:e);while((m=(m+f+4)%4)!==y);else p.point(d[0],d[1])}function o(u,d){return dr(u[0]-r)<wt?d>0?0:3:dr(u[0]-n)<wt?d>0?2:1:dr(u[1]-e)<wt?d>0?1:0:d>0?3:2}function c(u,d){return l(u.x,d.x)}function l(u,d){var f=o(u,1),p=o(d,1);return f!==p?f-p:f===0?d[1]-u[1]:f===1?u[0]-d[0]:f===2?u[1]-d[1]:d[0]-u[0]}return function(u){var d=u,f=zae(),p,m,y,v,b,w,x,E,A,S,C,P={point:O,lineStart:q,lineEnd:K,polygonStart:M,polygonEnd:D};function O(R,j){a(R,j)&&d.point(R,j)}function I(){for(var R=0,j=0,W=m.length;j<W;++j)for(var H=m[j],z=1,B=H.length,F=H[0],G,Q,te=F[0],ae=F[1];z<B;++z)G=te,Q=ae,F=H[z],te=F[0],ae=F[1],Q<=i?ae>i&&(te-G)*(i-Q)>(ae-Q)*(r-G)&&++R:ae<=i&&(te-G)*(i-Q)<(ae-Q)*(r-G)&&--R;return R}function M(){d=f,p=[],m=[],C=!0}function D(){var R=I(),j=C&&R,W=(p=Vae(p)).length;(j||W)&&(u.polygonStart(),j&&(u.lineStart(),s(null,null,1,u),u.lineEnd()),W&&Hae(p,c,R,s,u),u.polygonEnd()),d=u,p=m=y=null}function q(){P.point=L,m&&m.push(y=[]),S=!0,A=!1,x=E=NaN}function K(){p&&(L(v,b),w&&A&&f.rejoin(),p.push(f.result())),P.point=O,A&&d.lineEnd()}function L(R,j){var W=a(R,j);if(m&&y.push([R,j]),S)v=R,b=j,w=W,S=!1,W&&(d.lineStart(),d.point(R,j));else if(W&&A)d.point(R,j);else{var H=[x=Math.max(h_,Math.min(f_,x)),E=Math.max(h_,Math.min(f_,E))],z=[R=Math.max(h_,Math.min(f_,R)),j=Math.max(h_,Math.min(f_,j))];BQe(H,z,r,e,n,i)?(A||(d.lineStart(),d.point(H[0],H[1])),d.point(z[0],z[1]),W||d.lineEnd(),C=!1):W&&(d.lineStart(),d.point(R,j),C=!1)}x=R,E=j,A=W}return P}}function GG(r,e,n){var i=cp(r,e-wt,n).concat(e);return function(a){return i.map(function(s){return[a,s]})}}function KG(r,e,n){var i=cp(r,e-wt,n).concat(e);return function(a){return i.map(function(s){return[s,a]})}}function qQe(){var r,e,n,i,a,s,o,c,l=10,u=l,d=90,f=360,p,m,y,v,b=2.5;function w(){return{type:"MultiLineString",coordinates:x()}}function x(){return cp(c_(i/d)*d,n,d).map(y).concat(cp(c_(c/f)*f,o,f).map(v)).concat(cp(c_(e/l)*l,r,l).filter(function(E){return dr(E%d)>wt}).map(p)).concat(cp(c_(s/u)*u,a,u).filter(function(E){return dr(E%f)>wt}).map(m))}return w.lines=function(){return x().map(function(E){return{type:"LineString",coordinates:E}})},w.outline=function(){return{type:"Polygon",coordinates:[y(i).concat(v(o).slice(1),y(n).reverse().slice(1),v(c).reverse().slice(1))]}},w.extent=function(E){return arguments.length?w.extentMajor(E).extentMinor(E):w.extentMinor()},w.extentMajor=function(E){return arguments.length?(i=+E[0][0],n=+E[1][0],c=+E[0][1],o=+E[1][1],i>n&&(E=i,i=n,n=E),c>o&&(E=c,c=o,o=E),w.precision(b)):[[i,c],[n,o]]},w.extentMinor=function(E){return arguments.length?(e=+E[0][0],r=+E[1][0],s=+E[0][1],a=+E[1][1],e>r&&(E=e,e=r,r=E),s>a&&(E=s,s=a,a=E),w.precision(b)):[[e,s],[r,a]]},w.step=function(E){return arguments.length?w.stepMajor(E).stepMinor(E):w.stepMinor()},w.stepMajor=function(E){return arguments.length?(d=+E[0],f=+E[1],w):[d,f]},w.stepMinor=function(E){return arguments.length?(l=+E[0],u=+E[1],w):[l,u]},w.precision=function(E){return arguments.length?(b=+E,p=GG(s,a,90),m=KG(e,r,b),y=GG(c,o,90),v=KG(i,n,b),w):b},w.extentMajor([[-180,-90+wt],[180,90-wt]]).extentMinor([[-180,-80-wt],[180,80+wt]])}function m3(r){return r}var EI=jC(),y3=jC(),Kae,Yae,v3,b3,qc={point:gs,lineStart:gs,lineEnd:gs,polygonStart:function(){qc.lineStart=zQe,qc.lineEnd=WQe},polygonEnd:function(){qc.lineStart=qc.lineEnd=qc.point=gs,EI.add(dr(y3)),y3.reset()},result:function(){var r=EI/2;return EI.reset(),r}};function zQe(){qc.point=HQe}function HQe(r,e){qc.point=Xae,Kae=v3=r,Yae=b3=e}function Xae(r,e){y3.add(b3*r-v3*e),v3=r,b3=e}function WQe(){Xae(Kae,Yae)}var _g=1/0,UE=_g,J0=-_g,BE=J0,FE={point:VQe,lineStart:gs,lineEnd:gs,polygonStart:gs,polygonEnd:gs,result:function(){var r=[[_g,UE],[J0,BE]];return J0=BE=-(UE=_g=1/0),r}};function VQe(r,e){r<_g&&(_g=r),r>J0&&(J0=r),e<UE&&(UE=e),e>BE&&(BE=e)}var w3=0,_3=0,$y=0,qE=0,zE=0,lp=0,x3=0,E3=0,jy=0,Jae,Zae,Uo,Bo,ls={point:Nf,lineStart:YG,lineEnd:XG,polygonStart:function(){ls.lineStart=YQe,ls.lineEnd=XQe},polygonEnd:function(){ls.point=Nf,ls.lineStart=YG,ls.lineEnd=XG},result:function(){var r=jy?[x3/jy,E3/jy]:lp?[qE/lp,zE/lp]:$y?[w3/$y,_3/$y]:[NaN,NaN];return w3=_3=$y=qE=zE=lp=x3=E3=jy=0,r}};function Nf(r,e){w3+=r,_3+=e,++$y}function YG(){ls.point=GQe}function GQe(r,e){ls.point=KQe,Nf(Uo=r,Bo=e)}function KQe(r,e){var n=r-Uo,i=e-Bo,a=ga(n*n+i*i);qE+=a*(Uo+r)/2,zE+=a*(Bo+e)/2,lp+=a,Nf(Uo=r,Bo=e)}function XG(){ls.point=Nf}function YQe(){ls.point=JQe}function XQe(){Qae(Jae,Zae)}function JQe(r,e){ls.point=Qae,Nf(Jae=Uo=r,Zae=Bo=e)}function Qae(r,e){var n=r-Uo,i=e-Bo,a=ga(n*n+i*i);qE+=a*(Uo+r)/2,zE+=a*(Bo+e)/2,lp+=a,a=Bo*r-Uo*e,x3+=a*(Uo+r),E3+=a*(Bo+e),jy+=a*3,Nf(Uo=r,Bo=e)}function ese(r){this._context=r}ese.prototype={_radius:4.5,pointRadius:function(r){return this._radius=r,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(r,e){switch(this._point){case 0:{this._context.moveTo(r,e),this._point=1;break}case 1:{this._context.lineTo(r,e);break}default:{this._context.moveTo(r+this._radius,e),this._context.arc(r,e,this._radius,0,Fa);break}}},result:gs};var S3=jC(),SI,tse,rse,Dy,My,Z0={point:gs,lineStart:function(){Z0.point=ZQe},lineEnd:function(){SI&&nse(tse,rse),Z0.point=gs},polygonStart:function(){SI=!0},polygonEnd:function(){SI=null},result:function(){var r=+S3;return S3.reset(),r}};function ZQe(r,e){Z0.point=nse,tse=Dy=r,rse=My=e}function nse(r,e){Dy-=r,My-=e,S3.add(ga(Dy*Dy+My*My)),Dy=r,My=e}function ise(){this._string=[]}ise.prototype={_radius:4.5,_circle:JG(4.5),pointRadius:function(r){return(r=+r)!==this._radius&&(this._radius=r,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(r,e){switch(this._point){case 0:{this._string.push("M",r,",",e),this._point=1;break}case 1:{this._string.push("L",r,",",e);break}default:{this._circle==null&&(this._circle=JG(this._radius)),this._string.push("M",r,",",e,this._circle);break}}},result:function(){if(this._string.length){var r=this._string.join("");return this._string=[],r}else return null}};function JG(r){return"m0,"+r+"a"+r+","+r+" 0 1,1 0,"+-2*r+"a"+r+","+r+" 0 1,1 0,"+2*r+"z"}function QQe(r,e){var n=4.5,i,a;function s(o){return o&&(typeof n=="function"&&a.pointRadius(+n.apply(this,arguments)),rp(o,i(a))),a.result()}return s.area=function(o){return rp(o,i(qc)),qc.result()},s.measure=function(o){return rp(o,i(Z0)),Z0.result()},s.bounds=function(o){return rp(o,i(FE)),FE.result()},s.centroid=function(o){return rp(o,i(ls)),ls.result()},s.projection=function(o){return arguments.length?(i=o==null?(r=null,m3):(r=o).stream,s):r},s.context=function(o){return arguments.length?(a=o==null?(e=null,new ise):new ese(e=o),typeof n!="function"&&a.pointRadius(n),s):e},s.pointRadius=function(o){return arguments.length?(n=typeof o=="function"?o:(a.pointRadius(+o),+o),s):n},s.projection(r).context(e)}function pM(r){return function(e){var n=new C3;for(var i in r)n[i]=r[i];return n.stream=e,n}}function C3(){}C3.prototype={constructor:C3,point:function(r,e){this.stream.point(r,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function gM(r,e,n){var i=r.clipExtent&&r.clipExtent();return r.scale(150).translate([0,0]),i!=null&&r.clipExtent(null),rp(n,r.stream(FE)),e(FE.result()),i!=null&&r.clipExtent(i),r}function mM(r,e,n){return gM(r,function(i){var a=e[1][0]-e[0][0],s=e[1][1]-e[0][1],o=Math.min(a/(i[1][0]-i[0][0]),s/(i[1][1]-i[0][1])),c=+e[0][0]+(a-o*(i[1][0]+i[0][0]))/2,l=+e[0][1]+(s-o*(i[1][1]+i[0][1]))/2;r.scale(150*o).translate([c,l])},n)}function ase(r,e,n){return mM(r,[[0,0],e],n)}function sse(r,e,n){return gM(r,function(i){var a=+e,s=a/(i[1][0]-i[0][0]),o=(a-s*(i[1][0]+i[0][0]))/2,c=-s*i[0][1];r.scale(150*s).translate([o,c])},n)}function ose(r,e,n){return gM(r,function(i){var a=+e,s=a/(i[1][1]-i[0][1]),o=-s*i[0][0],c=(a-s*(i[1][1]+i[0][1]))/2;r.scale(150*s).translate([o,c])},n)}var ZG=16,eet=Yt(30*nn);function QG(r,e){return+e?ret(r,e):tet(r)}function tet(r){return pM({point:function(e,n){e=r(e,n),this.stream.point(e[0],e[1])}})}function ret(r,e){function n(i,a,s,o,c,l,u,d,f,p,m,y,v,b){var w=u-i,x=d-a,E=w*w+x*x;if(E>4*e&&v--){var A=o+p,S=c+m,C=l+y,P=ga(A*A+S*S+C*C),O=_s(C/=P),I=dr(dr(C)-1)<wt||dr(s-f)<wt?(s+f)/2:pl(S,A),M=r(I,O),D=M[0],q=M[1],K=D-i,L=q-a,R=x*K-w*L;(R*R/E>e||dr((w*K+x*L)/E-.5)>.3||o*p+c*m+l*y<eet)&&(n(i,a,s,o,c,l,D,q,I,A/=P,S/=P,C,v,b),b.point(D,q),n(D,q,I,A,S,C,u,d,f,p,m,y,v,b))}}return function(i){var a,s,o,c,l,u,d,f,p,m,y,v,b={point:w,lineStart:x,lineEnd:A,polygonStart:function(){i.polygonStart(),b.lineStart=S},polygonEnd:function(){i.polygonEnd(),b.lineStart=x}};function w(O,I){O=r(O,I),i.point(O[0],O[1])}function x(){f=NaN,b.point=E,i.lineStart()}function E(O,I){var M=wg([O,I]),D=r(O,I);n(f,p,d,m,y,v,f=D[0],p=D[1],d=O,m=M[0],y=M[1],v=M[2],ZG,i),i.point(f,p)}function A(){b.point=w,i.lineEnd()}function S(){x(),b.point=C,b.lineEnd=P}function C(O,I){E(a=O,I),s=f,o=p,c=m,l=y,u=v,b.point=E}function P(){n(f,p,d,m,y,v,s,o,a,c,l,u,ZG,i),b.lineEnd=A,A()}return b}}var net=pM({point:function(r,e){this.stream.point(r*nn,e*nn)}});function iet(r){return pM({point:function(e,n){var i=r(e,n);return this.stream.point(i[0],i[1])}})}function aet(r,e,n,i,a){function s(o,c){return o*=i,c*=a,[e+r*o,n-r*c]}return s.invert=function(o,c){return[(o-e)/r*i,(n-c)/r*a]},s}function eK(r,e,n,i,a,s){var o=Yt(s),c=Bt(s),l=o*r,u=c*r,d=o/r,f=c/r,p=(c*n-o*e)/r,m=(c*e+o*n)/r;function y(v,b){return v*=i,b*=a,[l*v-u*b+e,n-u*v-l*b]}return y.invert=function(v,b){return[i*(d*v-f*b+p),a*(m-f*v-d*b)]},y}function Gb(r){return cse(function(){return r})()}function cse(r){var e,n=150,i=480,a=250,s=0,o=0,c=0,l=0,u=0,d,f=0,p=1,m=1,y=null,v=VG,b=null,w,x,E,A=m3,S=.5,C,P,O,I,M;function D(R){return O(R[0]*nn,R[1]*nn)}function q(R){return R=O.invert(R[0],R[1]),R&&[R[0]*ji,R[1]*ji]}D.stream=function(R){return I&&M===R?I:I=net(iet(d)(v(C(A(M=R)))))},D.preclip=function(R){return arguments.length?(v=R,y=void 0,L()):v},D.postclip=function(R){return arguments.length?(A=R,b=w=x=E=null,L()):A},D.clipAngle=function(R){return arguments.length?(v=+R?UQe(y=R*nn):(y=null,VG),L()):y*ji},D.clipExtent=function(R){return arguments.length?(A=R==null?(b=w=x=E=null,m3):FQe(b=+R[0][0],w=+R[0][1],x=+R[1][0],E=+R[1][1]),L()):b==null?null:[[b,w],[x,E]]},D.scale=function(R){return arguments.length?(n=+R,K()):n},D.translate=function(R){return arguments.length?(i=+R[0],a=+R[1],K()):[i,a]},D.center=function(R){return arguments.length?(s=R[0]%360*nn,o=R[1]%360*nn,K()):[s*ji,o*ji]},D.rotate=function(R){return arguments.length?(c=R[0]%360*nn,l=R[1]%360*nn,u=R.length>2?R[2]%360*nn:0,K()):[c*ji,l*ji,u*ji]},D.angle=function(R){return arguments.length?(f=R%360*nn,K()):f*ji},D.reflectX=function(R){return arguments.length?(p=R?-1:1,K()):p<0},D.reflectY=function(R){return arguments.length?(m=R?-1:1,K()):m<0},D.precision=function(R){return arguments.length?(C=QG(P,S=R*R),L()):ga(S)},D.fitExtent=function(R,j){return mM(D,R,j)},D.fitSize=function(R,j){return ase(D,R,j)},D.fitWidth=function(R,j){return sse(D,R,j)},D.fitHeight=function(R,j){return ose(D,R,j)};function K(){var R=eK(n,0,0,p,m,f).apply(null,e(s,o)),j=(f?eK:aet)(n,i-R[0],a-R[1],p,m,f);return d=qae(c,l,u),P=p3(e,j),O=p3(d,P),C=QG(P,S),L()}function L(){return I=M=null,D}return function(){return e=r.apply(this,arguments),D.invert=e.invert&&q,K()}}function yM(r){var e=0,n=Dt/3,i=cse(r),a=i(e,n);return a.parallels=function(s){return arguments.length?i(e=s[0]*nn,n=s[1]*nn):[e*ji,n*ji]},a}function set(r){var e=Yt(r);function n(i,a){return[i*e,Bt(a)/e]}return n.invert=function(i,a){return[i/e,_s(a*e)]},n}function oet(r,e){var n=Bt(r),i=(n+Bt(e))/2;if(dr(i)<wt)return set(r);var a=1+n*(2*i-n),s=ga(a)/i;function o(c,l){var u=ga(a-2*i*Bt(l))/i;return[u*Bt(c*=i),s-u*Yt(c)]}return o.invert=function(c,l){var u=s-l,d=pl(c,dr(u))*ps(u);return u*i<0&&(d-=Dt*ps(c)*ps(u)),[d/i,_s((a-(c*c+u*u)*i*i)/(2*i))]},o}function HE(){return yM(oet).scale(155.424).center([0,33.6442])}function lse(){return HE().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function cet(r){var e=r.length;return{point:function(n,i){for(var a=-1;++a<e;)r[a].point(n,i)},sphere:function(){for(var n=-1;++n<e;)r[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)r[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)r[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)r[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)r[n].polygonEnd()}}}function uet(){var r,e,n=lse(),i,a=HE().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s,o=HE().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c,l,u={point:function(p,m){l=[p,m]}};function d(p){var m=p[0],y=p[1];return l=null,i.point(m,y),l||(s.point(m,y),l)||(c.point(m,y),l)}d.invert=function(p){var m=n.scale(),y=n.translate(),v=(p[0]-y[0])/m,b=(p[1]-y[1])/m;return(b>=.12&&b<.234&&v>=-.425&&v<-.214?a:b>=.166&&b<.234&&v>=-.214&&v<-.115?o:n).invert(p)},d.stream=function(p){return r&&e===p?r:r=cet([n.stream(e=p),a.stream(p),o.stream(p)])},d.precision=function(p){return arguments.length?(n.precision(p),a.precision(p),o.precision(p),f()):n.precision()},d.scale=function(p){return arguments.length?(n.scale(p),a.scale(p*.35),o.scale(p),d.translate(n.translate())):n.scale()},d.translate=function(p){if(!arguments.length)return n.translate();var m=n.scale(),y=+p[0],v=+p[1];return i=n.translate(p).clipExtent([[y-.455*m,v-.238*m],[y+.455*m,v+.238*m]]).stream(u),s=a.translate([y-.307*m,v+.201*m]).clipExtent([[y-.425*m+wt,v+.12*m+wt],[y-.214*m-wt,v+.234*m-wt]]).stream(u),c=o.translate([y-.205*m,v+.212*m]).clipExtent([[y-.214*m+wt,v+.166*m+wt],[y-.115*m-wt,v+.234*m-wt]]).stream(u),f()},d.fitExtent=function(p,m){return mM(d,p,m)},d.fitSize=function(p,m){return ase(d,p,m)},d.fitWidth=function(p,m){return sse(d,p,m)},d.fitHeight=function(p,m){return ose(d,p,m)};function f(){return r=e=null,d}return d.scale(1070)}function use(r){return function(e,n){var i=Yt(e),a=Yt(n),s=r(i*a);return[s*a*Bt(e),s*Bt(n)]}}function vM(r){return function(e,n){var i=ga(e*e+n*n),a=r(i),s=Bt(a),o=Yt(a);return[pl(e*s,i*o),_s(i&&n*s/i)]}}var dse=use(function(r){return ga(2/(1+r))});dse.invert=vM(function(r){return 2*_s(r/2)});function det(){return Gb(dse).scale(124.75).clipAngle(180-.001)}var fse=use(function(r){return(r=Fae(r))&&r/Bt(r)});fse.invert=vM(function(r){return r});function fet(){return Gb(fse).scale(79.4188).clipAngle(180-.001)}function MC(r,e){return[r,DE(hM((sn+e)/2))]}MC.invert=function(r,e){return[r,2*DC(Bae(e))-sn]};function het(){return hse(MC).scale(961/Fa)}function hse(r){var e=Gb(r),n=e.center,i=e.scale,a=e.translate,s=e.clipExtent,o=null,c,l,u;e.scale=function(f){return arguments.length?(i(f),d()):i()},e.translate=function(f){return arguments.length?(a(f),d()):a()},e.center=function(f){return arguments.length?(n(f),d()):n()},e.clipExtent=function(f){return arguments.length?(f==null?o=c=l=u=null:(o=+f[0][0],c=+f[0][1],l=+f[1][0],u=+f[1][1]),d()):o==null?null:[[o,c],[l,u]]};function d(){var f=Dt*i(),p=e(PQe(e.rotate()).invert([0,0]));return s(o==null?[[p[0]-f,p[1]-f],[p[0]+f,p[1]+f]]:r===MC?[[Math.max(p[0]-f,o),c],[Math.min(p[0]+f,l),u]]:[[o,Math.max(p[1]-f,c)],[l,Math.min(p[1]+f,u)]])}return d()}function p_(r){return hM((sn+r)/2)}function pet(r,e){var n=Yt(r),i=r===e?Bt(r):DE(n/Yt(e))/DE(p_(e)/p_(r)),a=n*bI(p_(r),i)/i;if(!i)return MC;function s(o,c){a>0?c<-sn+wt&&(c=-sn+wt):c>sn-wt&&(c=sn-wt);var l=a/bI(p_(c),i);return[l*Bt(i*o),a-l*Yt(i*o)]}return s.invert=function(o,c){var l=a-c,u=ps(i)*ga(o*o+l*l),d=pl(o,dr(l))*ps(l);return l*i<0&&(d-=Dt*ps(o)*ps(l)),[d/i,2*DC(bI(a/u,1/i))-sn]},s}function get(){return yM(pet).scale(109.5).parallels([30,30])}function A3(r,e){return[r,e]}A3.invert=A3;function met(r,e){var n=Yt(r),i=r===e?Bt(r):(n-Yt(e))/(e-r),a=n/i+r;if(dr(i)<wt)return A3;function s(o,c){var l=a-c,u=i*o;return[l*Bt(u),a-l*Yt(u)]}return s.invert=function(o,c){var l=a-c,u=pl(o,dr(l))*ps(l);return l*i<0&&(u-=Dt*ps(o)*ps(l)),[u/i,a-ps(i)*ga(o*o+l*l)]},s}function yet(){return yM(met).scale(131.154).center([0,13.9389])}var cv=1.340264,lv=-.081106,uv=893e-6,dv=.003796,WE=ga(3)/2,vet=12;function pse(r,e){var n=_s(WE*Bt(e)),i=n*n,a=i*i*i;return[r*Yt(n)/(WE*(cv+3*lv*i+a*(7*uv+9*dv*i))),n*(cv+lv*i+a*(uv+dv*i))]}pse.invert=function(r,e){for(var n=e,i=n*n,a=i*i*i,s=0,o,c,l;s<vet&&(c=n*(cv+lv*i+a*(uv+dv*i))-e,l=cv+3*lv*i+a*(7*uv+9*dv*i),n-=o=c/l,i=n*n,a=i*i*i,!(dr(o)<kQe));++s);return[WE*r*(cv+3*lv*i+a*(7*uv+9*dv*i))/Yt(n),_s(Bt(n)/WE)]};function bet(){return Gb(pse).scale(177.158)}function gse(r,e){return[Yt(e)*Bt(r),Bt(e)]}gse.invert=vM(_s);function wet(){return Gb(gse).scale(249.5).clipAngle(90+wt)}function mse(r,e){return[DE(hM((sn+e)/2)),-r]}mse.invert=function(r,e){return[-e,2*DC(Bae(r))-sn]};function _et(){var r=hse(mse),e=r.center,n=r.rotate;return r.center=function(i){return arguments.length?e([-i[1],i[0]]):(i=e(),[i[1],-i[0]])},r.rotate=function(i){return arguments.length?n([i[0],i[1],i.length>2?i[2]+90:90]):(i=n(),[i[0],i[1],i[2]-90])},n([0,0,90]).scale(159.155)}function xet(r){return r}function Eet(r){if(r==null)return xet;var e,n,i=r.scale[0],a=r.scale[1],s=r.translate[0],o=r.translate[1];return function(c,l){l||(e=n=0);var u=2,d=c.length,f=new Array(d);for(f[0]=(e+=c[0])*i+s,f[1]=(n+=c[1])*a+o;u<d;)f[u]=c[u],++u;return f}}function Cet(r,e){for(var n,i=r.length,a=i-e;a<--i;)n=r[a],r[a++]=r[i],r[i]=n}function Aet(r,e){return typeof e=="string"&&(e=r.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(n){return tK(r,n)})}:tK(r,e)}function tK(r,e){var n=e.id,i=e.bbox,a=e.properties==null?{}:e.properties,s=Tet(r,e);return n==null&&i==null?{type:"Feature",properties:a,geometry:s}:i==null?{type:"Feature",id:n,properties:a,geometry:s}:{type:"Feature",id:n,bbox:i,properties:a,geometry:s}}function Tet(r,e){var n=Eet(r.transform),i=r.arcs;function a(d,f){f.length&&f.pop();for(var p=i[d<0?~d:d],m=0,y=p.length;m<y;++m)f.push(n(p[m],m));d<0&&Cet(f,y)}function s(d){return n(d)}function o(d){for(var f=[],p=0,m=d.length;p<m;++p)a(d[p],f);return f.length<2&&f.push(f[0]),f}function c(d){for(var f=o(d);f.length<4;)f.push(f[0]);return f}function l(d){return d.map(c)}function u(d){var f=d.type,p;switch(f){case"GeometryCollection":return{type:f,geometries:d.geometries.map(u)};case"Point":p=s(d.coordinates);break;case"MultiPoint":p=d.coordinates.map(s);break;case"LineString":p=o(d.arcs);break;case"MultiLineString":p=d.arcs.map(o);break;case"Polygon":p=l(d.arcs);break;case"MultiPolygon":p=d.arcs.map(l);break;default:return null}return{type:f,coordinates:p}}return u(e)}var Yu=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},Vf=function(r,e){var n={};for(var i in r)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i]);return n},bp=function(){function r(e,n){var i=[],a=!0,s=!1,o=void 0;try{for(var c=e[Symbol.iterator](),l;!(a=(l=c.next()).done)&&(i.push(l.value),!(n&&i.length===n));a=!0);}catch(u){s=!0,o=u}finally{try{!a&&c.return&&c.return()}finally{if(s)throw o}}return i}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return r(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Xg=U.createContext(),ket={geoEqualEarth:bet,geoMercator:het,geoTransverseMercator:_et,geoAlbers:lse,geoAlbersUsa:uet,geoAzimuthalEqualArea:det,geoAzimuthalEquidistant:fet,geoOrthographic:wet,geoConicConformal:get,geoConicEqualArea:HE,geoConicEquidistant:yet},Pet=function(e){var n=e.projectionConfig,i=n===void 0?{}:n,a=e.projection,s=a===void 0?"geoEqualEarth":a,o=e.width,c=o===void 0?800:o,l=e.height,u=l===void 0?500:l,d=typeof s=="function";if(d)return s;var f=ket[s]().translate([c/2,u/2]),p=[f.center?"center":null,f.rotate?"rotate":null,f.scale?"scale":null,f.parallels?"parallels":null];return p.forEach(function(m){m&&(f=f[m](i[m]||f[m]()))}),f},yse=function(e){var n=e.width,i=e.height,a=e.projection,s=e.projectionConfig,o=Vf(e,["width","height","projection","projectionConfig"]),c=s.center||[],l=s.rotate||[],u=s.parallels||[],d=s.scale||null,f=U.useMemo(function(){var p=Pet({projectionConfig:s,projection:a,width:n,height:i});return{width:n,height:i,projection:p,path:QQe().projection(p)}},[n,i,a,c[0],c[1],l[0],l[1],l[2],u[0],u[1],d]);return ee.createElement(Xg.Provider,Yu({value:f},o))};yse.propTypes={width:X.number,height:X.number,projection:X.oneOfType([X.string,X.func]),projectionConfig:X.object};var vse=function(e){var n=e.width,i=n===void 0?800:n,a=e.height,s=a===void 0?600:a,o=e.projection,c=o===void 0?"geoEqualEarth":o,l=e.projectionConfig,u=l===void 0?{}:l,d=e.className,f=d===void 0?"":d,p=Vf(e,["width","height","projection","projectionConfig","className"]);return ee.createElement(yse,{width:i,height:s,projection:c,projectionConfig:u},ee.createElement("svg",Yu({viewBox:"0 0 "+i+" "+s,className:"rsm-svg "+f},p)))};vse.propTypes={width:X.number,height:X.number,projection:X.oneOfType([X.string,X.func]),projectionConfig:X.object,className:X.string};function Oet(r){return fetch(r).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).catch(function(e){console.log("There was a problem when fetching the data: ",e)})}function rK(r,e){if(Array.isArray(r))return e?e(r):r;var n=Aet(r,r.objects[Object.keys(r.objects)[0]]).features;return e?e(n):n}function Net(r,e){return r?r.map(function(n,i){return Yu({},n,{rsmKey:"geo-"+i,svgPath:e(n)})}):[]}function Iet(r){return typeof r=="string"}function Ret(r){var e=r.geography,n=r.parseGeographies,i=U.useContext(Xg),a=i.path,s=U.useState(),o=bp(s,2),c=o[0],l=o[1];U.useEffect(function(){typeof window>"u"||(Iet(e)?Oet(e).then(function(d){d&&l(rK(d,n))}):l(rK(e,n)))},[e]);var u=U.useMemo(function(){return Net(c,a)},[c,a]);return{geographies:u}}var bse=function(e){var n=e.geography,i=e.children,a=e.parseGeographies,s=e.className,o=s===void 0?"":s,c=Vf(e,["geography","children","parseGeographies","className"]),l=U.useContext(Xg),u=l.path,d=l.projection,f=Ret({geography:n,parseGeographies:a}),p=f.geographies;return ee.createElement("g",Yu({className:"rsm-geographies "+o},c),p&&p.length>0&&i({geographies:p,path:u,projection:d}))};bse.propTypes={geography:X.oneOfType([X.string,X.object,X.array]),children:X.func,parseGeographies:X.func,className:X.string};var wse=function(e){var n=e.geography,i=e.onMouseEnter,a=e.onMouseLeave,s=e.onMouseDown,o=e.onMouseUp,c=e.onFocus,l=e.onBlur,u=e.style,d=u===void 0?{}:u,f=e.className,p=f===void 0?"":f,m=Vf(e,["geography","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"]),y=U.useState(!1),v=bp(y,2),b=v[0],w=v[1],x=U.useState(!1),E=bp(x,2),A=E[0],S=E[1];function C(q){S(!0),i&&i(q)}function P(q){S(!1),b&&w(!1),a&&a(q)}function O(q){S(!0),c&&c(q)}function I(q){S(!1),b&&w(!1),l&&l(q)}function M(q){w(!0),s&&s(q)}function D(q){w(!1),o&&o(q)}return ee.createElement("path",Yu({role:"geography",tabIndex:"0",className:"rsm-geography "+p,d:n.svgPath,onMouseEnter:C,onMouseLeave:P,onFocus:O,onBlur:I,onMouseDown:M,onMouseUp:D,style:d[b||A?b?"pressed":"hover":"default"]},m))};wse.propTypes={geography:X.object,onMouseEnter:X.func,onMouseLeave:X.func,onMouseDown:X.func,onMouseUp:X.func,onFocus:X.func,onBlur:X.func,style:X.object,className:X.string};var $et=U.memo(wse),_se=function(e){var n=e.fill,i=n===void 0?"transparent":n,a=e.stroke,s=a===void 0?"currentcolor":a,o=e.step,c=o===void 0?[10,10]:o,l=e.className,u=l===void 0?"":l,d=Vf(e,["fill","stroke","step","className"]),f=U.useContext(Xg),p=f.path;return ee.createElement("path",Yu({d:p(qQe().step(c)()),fill:i,stroke:s,className:"rsm-graticule "+u},d))};_se.propTypes={fill:X.string,stroke:X.string,step:X.array,className:X.string};U.memo(_se);X.func,X.oneOfType([X.node,X.arrayOf(X.node)]),X.array,X.number,X.number,X.number,X.number,X.func,X.func,X.func,X.func,X.bool,X.bool,X.string;var xse=function(e){var n=e.id,i=n===void 0?"rsm-sphere":n,a=e.fill,s=a===void 0?"transparent":a,o=e.stroke,c=o===void 0?"currentcolor":o,l=e.strokeWidth,u=l===void 0?.5:l,d=e.className,f=d===void 0?"":d,p=Vf(e,["id","fill","stroke","strokeWidth","className"]),m=U.useContext(Xg),y=m.path,v=U.useMemo(function(){return y({type:"Sphere"})},[y]);return ee.createElement(U.Fragment,null,ee.createElement("defs",null,ee.createElement("clipPath",{id:i},ee.createElement("path",{d:v}))),ee.createElement("path",Yu({d:v,fill:s,stroke:c,strokeWidth:u,style:{pointerEvents:"none"},className:"rsm-sphere "+f},p)))};xse.propTypes={id:X.string,fill:X.string,stroke:X.string,strokeWidth:X.number,className:X.string};U.memo(xse);var T3=function(e){var n=e.coordinates,i=e.children,a=e.onMouseEnter,s=e.onMouseLeave,o=e.onMouseDown,c=e.onMouseUp,l=e.onFocus,u=e.onBlur,d=e.style,f=d===void 0?{}:d,p=e.className,m=p===void 0?"":p,y=Vf(e,["coordinates","children","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"]),v=U.useContext(Xg),b=v.projection,w=U.useState(!1),x=bp(w,2),E=x[0],A=x[1],S=U.useState(!1),C=bp(S,2),P=C[0],O=C[1],I=b(n),M=bp(I,2),D=M[0],q=M[1];function K(z){O(!0),a&&a(z)}function L(z){O(!1),E&&A(!1),s&&s(z)}function R(z){O(!0),l&&l(z)}function j(z){O(!1),E&&A(!1),u&&u(z)}function W(z){A(!0),o&&o(z)}function H(z){A(!1),c&&c(z)}return ee.createElement("g",Yu({transform:"translate("+D+", "+q+")",className:"rsm-marker "+m,onMouseEnter:K,onMouseLeave:L,onFocus:R,onBlur:j,onMouseDown:W,onMouseUp:H,style:f[E||P?E?"pressed":"hover":"default"]},y),i)};T3.propTypes={coordinates:X.array,children:X.oneOfType([X.node,X.arrayOf(X.node)]),onMouseEnter:X.func,onMouseLeave:X.func,onMouseDown:X.func,onMouseUp:X.func,onFocus:X.func,onBlur:X.func,style:X.object,className:X.string};X.array,X.array,X.array,X.string,X.number,X.string,X.string;X.array,X.oneOfType([X.node,X.arrayOf(X.node)]),X.number,X.number,X.number,X.object,X.string;const jet="https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json",Det=({query_hash:r})=>{const[e,n]=U.useState(null),[i,a]=U.useState([]),[s,o]=U.useState(""),[c,l]=U.useState({x:0,y:0}),[u,d]=U.useState(null);function f(){const[m,y]=U.useState(!1);return U.useEffect(()=>{const v=()=>y(document.documentElement.classList.contains("dark"));v();const b=new MutationObserver(v);return b.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>b.disconnect()},[]),m}const p=f();return U.useEffect(()=>{r&&(async()=>{try{const{data:{session:y},error:v}=await Ct.auth.getSession();if(v||!y){console.error("❌ No valid Supabase session:",v);return}const b=y.access_token,x=await(await fetch(`${Wr}/api/article/map/${r}/`,{headers:{Authorization:`Bearer ${b}`}})).json();console.log("✅ Map Data:",x),x.error?console.warn("⚠️ Map API returned error:",x.error):(n(x.main),a(x.citations||[]),d(x.query_hash))}catch(y){console.error("❌ Failed to load location data:",y)}})()},[r]),e?T.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[T.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Map of Citations"}),u&&T.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Article Hash: ",T.jsxs("code",{children:[u.slice(0,12),"..."]})]}),T.jsxs(vse,{projection:"geoEqualEarth",width:800,height:400,style:{width:"100%",height:"auto"},onMouseLeave:()=>o(""),children:[T.jsx(bse,{geography:jet,children:({geographies:m})=>m.map(y=>T.jsx($et,{geography:y,fill:p?"#222":"#EEE",stroke:p?"#555":"#999"},y.rsmKey))}),T.jsxs(T3,{coordinates:[e.lon,e.lat],onMouseEnter:m=>{o(`${e.institution}
Main Article`),l({x:m.clientX,y:m.clientY})},onMouseLeave:()=>o(""),children:[T.jsx("circle",{r:6,fill:p?"#ff5555":"#f00",stroke:"#fff",strokeWidth:1}),T.jsx("text",{textAnchor:"middle",y:-10,style:{fontSize:10,fill:"#333",fontWeight:"bold"},children:e.institution})]}),i.map((m,y)=>T.jsx(T3,{coordinates:[m.lon,m.lat],onMouseEnter:v=>{const b=`${m.institution}
${m.title??""}
${m.year??""}
${m.doi??""}`;o(b),l({x:v.clientX,y:v.clientY})},onMouseLeave:()=>o(""),children:T.jsx("circle",{r:4,fill:p?"#66aaff":"#00f"})},y))]}),s&&T.jsx("div",{style:{position:"fixed",top:c.y+10,left:c.x+10,background:"white",border:"1px solid #ccc",padding:"8px",fontSize:"12px",borderRadius:"4px",pointerEvents:"none",zIndex:1e3,whiteSpace:"pre-line"},children:s.split(`
`).map((m,y)=>T.jsx("div",{children:m},y))})]}):T.jsx("p",{className:"text-gray-400",children:"Institution location not available."})};var Kh={},CI,nK;function Ese(){return nK||(nK=1,CI={L:1,M:0,Q:3,H:2}),CI}var AI,iK;function Sse(){return iK||(iK=1,AI={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),AI}var TI,aK;function Met(){if(aK)return TI;aK=1;var r=Sse();function e(n){this.mode=r.MODE_8BIT_BYTE,this.data=n}return e.prototype={getLength:function(n){return this.data.length},write:function(n){for(var i=0;i<this.data.length;i++)n.put(this.data.charCodeAt(i),8)}},TI=e,TI}var kI,sK;function Let(){if(sK)return kI;sK=1;var r=Ese();function e(n,i){this.totalCount=n,this.dataCount=i}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(n,i){var a=e.getRsBlockTable(n,i);if(a==null)throw new Error("bad rs block @ typeNumber:"+n+"/errorCorrectLevel:"+i);for(var s=a.length/3,o=new Array,c=0;c<s;c++)for(var l=a[c*3+0],u=a[c*3+1],d=a[c*3+2],f=0;f<l;f++)o.push(new e(u,d));return o},e.getRsBlockTable=function(n,i){switch(i){case r.L:return e.RS_BLOCK_TABLE[(n-1)*4+0];case r.M:return e.RS_BLOCK_TABLE[(n-1)*4+1];case r.Q:return e.RS_BLOCK_TABLE[(n-1)*4+2];case r.H:return e.RS_BLOCK_TABLE[(n-1)*4+3];default:return}},kI=e,kI}var PI,oK;function Uet(){if(oK)return PI;oK=1;function r(){this.buffer=new Array,this.length=0}return r.prototype={get:function(e){var n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)==1},put:function(e,n){for(var i=0;i<n;i++)this.putBit((e>>>n-i-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},PI=r,PI}var OI,cK;function Cse(){if(cK)return OI;cK=1;for(var r={glog:function(n){if(n<1)throw new Error("glog("+n+")");return r.LOG_TABLE[n]},gexp:function(n){for(;n<0;)n+=255;for(;n>=256;)n-=255;return r.EXP_TABLE[n]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)r.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)r.EXP_TABLE[e]=r.EXP_TABLE[e-4]^r.EXP_TABLE[e-5]^r.EXP_TABLE[e-6]^r.EXP_TABLE[e-8];for(var e=0;e<255;e++)r.LOG_TABLE[r.EXP_TABLE[e]]=e;return OI=r,OI}var NI,lK;function Ase(){if(lK)return NI;lK=1;var r=Cse();function e(n,i){if(n.length==null)throw new Error(n.length+"/"+i);for(var a=0;a<n.length&&n[a]==0;)a++;this.num=new Array(n.length-a+i);for(var s=0;s<n.length-a;s++)this.num[s]=n[s+a]}return e.prototype={get:function(n){return this.num[n]},getLength:function(){return this.num.length},multiply:function(n){for(var i=new Array(this.getLength()+n.getLength()-1),a=0;a<this.getLength();a++)for(var s=0;s<n.getLength();s++)i[a+s]^=r.gexp(r.glog(this.get(a))+r.glog(n.get(s)));return new e(i,0)},mod:function(n){if(this.getLength()-n.getLength()<0)return this;for(var i=r.glog(this.get(0))-r.glog(n.get(0)),a=new Array(this.getLength()),s=0;s<this.getLength();s++)a[s]=this.get(s);for(var s=0;s<n.getLength();s++)a[s]^=r.gexp(r.glog(n.get(s))+i);return new e(a,0).mod(n)}},NI=e,NI}var II,uK;function Bet(){if(uK)return II;uK=1;var r=Sse(),e=Ase(),n=Cse(),i={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},a={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(s){for(var o=s<<10;a.getBCHDigit(o)-a.getBCHDigit(a.G15)>=0;)o^=a.G15<<a.getBCHDigit(o)-a.getBCHDigit(a.G15);return(s<<10|o)^a.G15_MASK},getBCHTypeNumber:function(s){for(var o=s<<12;a.getBCHDigit(o)-a.getBCHDigit(a.G18)>=0;)o^=a.G18<<a.getBCHDigit(o)-a.getBCHDigit(a.G18);return s<<12|o},getBCHDigit:function(s){for(var o=0;s!=0;)o++,s>>>=1;return o},getPatternPosition:function(s){return a.PATTERN_POSITION_TABLE[s-1]},getMask:function(s,o,c){switch(s){case i.PATTERN000:return(o+c)%2==0;case i.PATTERN001:return o%2==0;case i.PATTERN010:return c%3==0;case i.PATTERN011:return(o+c)%3==0;case i.PATTERN100:return(Math.floor(o/2)+Math.floor(c/3))%2==0;case i.PATTERN101:return o*c%2+o*c%3==0;case i.PATTERN110:return(o*c%2+o*c%3)%2==0;case i.PATTERN111:return(o*c%3+(o+c)%2)%2==0;default:throw new Error("bad maskPattern:"+s)}},getErrorCorrectPolynomial:function(s){for(var o=new e([1],0),c=0;c<s;c++)o=o.multiply(new e([1,n.gexp(c)],0));return o},getLengthInBits:function(s,o){if(1<=o&&o<10)switch(s){case r.MODE_NUMBER:return 10;case r.MODE_ALPHA_NUM:return 9;case r.MODE_8BIT_BYTE:return 8;case r.MODE_KANJI:return 8;default:throw new Error("mode:"+s)}else if(o<27)switch(s){case r.MODE_NUMBER:return 12;case r.MODE_ALPHA_NUM:return 11;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 10;default:throw new Error("mode:"+s)}else if(o<41)switch(s){case r.MODE_NUMBER:return 14;case r.MODE_ALPHA_NUM:return 13;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 12;default:throw new Error("mode:"+s)}else throw new Error("type:"+o)},getLostPoint:function(s){for(var o=s.getModuleCount(),c=0,l=0;l<o;l++)for(var u=0;u<o;u++){for(var d=0,f=s.isDark(l,u),p=-1;p<=1;p++)if(!(l+p<0||o<=l+p))for(var m=-1;m<=1;m++)u+m<0||o<=u+m||p==0&&m==0||f==s.isDark(l+p,u+m)&&d++;d>5&&(c+=3+d-5)}for(var l=0;l<o-1;l++)for(var u=0;u<o-1;u++){var y=0;s.isDark(l,u)&&y++,s.isDark(l+1,u)&&y++,s.isDark(l,u+1)&&y++,s.isDark(l+1,u+1)&&y++,(y==0||y==4)&&(c+=3)}for(var l=0;l<o;l++)for(var u=0;u<o-6;u++)s.isDark(l,u)&&!s.isDark(l,u+1)&&s.isDark(l,u+2)&&s.isDark(l,u+3)&&s.isDark(l,u+4)&&!s.isDark(l,u+5)&&s.isDark(l,u+6)&&(c+=40);for(var u=0;u<o;u++)for(var l=0;l<o-6;l++)s.isDark(l,u)&&!s.isDark(l+1,u)&&s.isDark(l+2,u)&&s.isDark(l+3,u)&&s.isDark(l+4,u)&&!s.isDark(l+5,u)&&s.isDark(l+6,u)&&(c+=40);for(var v=0,u=0;u<o;u++)for(var l=0;l<o;l++)s.isDark(l,u)&&v++;var b=Math.abs(100*v/o/o-50)/5;return c+=b*10,c}};return II=a,II}var RI,dK;function Fet(){if(dK)return RI;dK=1;var r=Met(),e=Let(),n=Uet(),i=Bet(),a=Ase();function s(c,l){this.typeNumber=c,this.errorCorrectLevel=l,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var o=s.prototype;return o.addData=function(c){var l=new r(c);this.dataList.push(l),this.dataCache=null},o.isDark=function(c,l){if(c<0||this.moduleCount<=c||l<0||this.moduleCount<=l)throw new Error(c+","+l);return this.modules[c][l]},o.getModuleCount=function(){return this.moduleCount},o.make=function(){if(this.typeNumber<1){var c=1;for(c=1;c<40;c++){for(var l=e.getRSBlocks(c,this.errorCorrectLevel),u=new n,d=0,f=0;f<l.length;f++)d+=l[f].dataCount;for(var f=0;f<this.dataList.length;f++){var p=this.dataList[f];u.put(p.mode,4),u.put(p.getLength(),i.getLengthInBits(p.mode,c)),p.write(u)}if(u.getLengthInBits()<=d*8)break}this.typeNumber=c}this.makeImpl(!1,this.getBestMaskPattern())},o.makeImpl=function(c,l){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var u=0;u<this.moduleCount;u++){this.modules[u]=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++)this.modules[u][d]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(c,l),this.typeNumber>=7&&this.setupTypeNumber(c),this.dataCache==null&&(this.dataCache=s.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,l)},o.setupPositionProbePattern=function(c,l){for(var u=-1;u<=7;u++)if(!(c+u<=-1||this.moduleCount<=c+u))for(var d=-1;d<=7;d++)l+d<=-1||this.moduleCount<=l+d||(0<=u&&u<=6&&(d==0||d==6)||0<=d&&d<=6&&(u==0||u==6)||2<=u&&u<=4&&2<=d&&d<=4?this.modules[c+u][l+d]=!0:this.modules[c+u][l+d]=!1)},o.getBestMaskPattern=function(){for(var c=0,l=0,u=0;u<8;u++){this.makeImpl(!0,u);var d=i.getLostPoint(this);(u==0||c>d)&&(c=d,l=u)}return l},o.createMovieClip=function(c,l,u){var d=c.createEmptyMovieClip(l,u),f=1;this.make();for(var p=0;p<this.modules.length;p++)for(var m=p*f,y=0;y<this.modules[p].length;y++){var v=y*f,b=this.modules[p][y];b&&(d.beginFill(0,100),d.moveTo(v,m),d.lineTo(v+f,m),d.lineTo(v+f,m+f),d.lineTo(v,m+f),d.endFill())}return d},o.setupTimingPattern=function(){for(var c=8;c<this.moduleCount-8;c++)this.modules[c][6]==null&&(this.modules[c][6]=c%2==0);for(var l=8;l<this.moduleCount-8;l++)this.modules[6][l]==null&&(this.modules[6][l]=l%2==0)},o.setupPositionAdjustPattern=function(){for(var c=i.getPatternPosition(this.typeNumber),l=0;l<c.length;l++)for(var u=0;u<c.length;u++){var d=c[l],f=c[u];if(this.modules[d][f]==null)for(var p=-2;p<=2;p++)for(var m=-2;m<=2;m++)p==-2||p==2||m==-2||m==2||p==0&&m==0?this.modules[d+p][f+m]=!0:this.modules[d+p][f+m]=!1}},o.setupTypeNumber=function(c){for(var l=i.getBCHTypeNumber(this.typeNumber),u=0;u<18;u++){var d=!c&&(l>>u&1)==1;this.modules[Math.floor(u/3)][u%3+this.moduleCount-8-3]=d}for(var u=0;u<18;u++){var d=!c&&(l>>u&1)==1;this.modules[u%3+this.moduleCount-8-3][Math.floor(u/3)]=d}},o.setupTypeInfo=function(c,l){for(var u=this.errorCorrectLevel<<3|l,d=i.getBCHTypeInfo(u),f=0;f<15;f++){var p=!c&&(d>>f&1)==1;f<6?this.modules[f][8]=p:f<8?this.modules[f+1][8]=p:this.modules[this.moduleCount-15+f][8]=p}for(var f=0;f<15;f++){var p=!c&&(d>>f&1)==1;f<8?this.modules[8][this.moduleCount-f-1]=p:f<9?this.modules[8][15-f-1+1]=p:this.modules[8][15-f-1]=p}this.modules[this.moduleCount-8][8]=!c},o.mapData=function(c,l){for(var u=-1,d=this.moduleCount-1,f=7,p=0,m=this.moduleCount-1;m>0;m-=2)for(m==6&&m--;;){for(var y=0;y<2;y++)if(this.modules[d][m-y]==null){var v=!1;p<c.length&&(v=(c[p]>>>f&1)==1);var b=i.getMask(l,d,m-y);b&&(v=!v),this.modules[d][m-y]=v,f--,f==-1&&(p++,f=7)}if(d+=u,d<0||this.moduleCount<=d){d-=u,u=-u;break}}},s.PAD0=236,s.PAD1=17,s.createData=function(c,l,u){for(var d=e.getRSBlocks(c,l),f=new n,p=0;p<u.length;p++){var m=u[p];f.put(m.mode,4),f.put(m.getLength(),i.getLengthInBits(m.mode,c)),m.write(f)}for(var y=0,p=0;p<d.length;p++)y+=d[p].dataCount;if(f.getLengthInBits()>y*8)throw new Error("code length overflow. ("+f.getLengthInBits()+">"+y*8+")");for(f.getLengthInBits()+4<=y*8&&f.put(0,4);f.getLengthInBits()%8!=0;)f.putBit(!1);for(;!(f.getLengthInBits()>=y*8||(f.put(s.PAD0,8),f.getLengthInBits()>=y*8));)f.put(s.PAD1,8);return s.createBytes(f,d)},s.createBytes=function(c,l){for(var u=0,d=0,f=0,p=new Array(l.length),m=new Array(l.length),y=0;y<l.length;y++){var v=l[y].dataCount,b=l[y].totalCount-v;d=Math.max(d,v),f=Math.max(f,b),p[y]=new Array(v);for(var w=0;w<p[y].length;w++)p[y][w]=255&c.buffer[w+u];u+=v;var x=i.getErrorCorrectPolynomial(b),E=new a(p[y],x.getLength()-1),A=E.mod(x);m[y]=new Array(x.getLength()-1);for(var w=0;w<m[y].length;w++){var S=w+A.getLength()-m[y].length;m[y][w]=S>=0?A.get(S):0}}for(var C=0,w=0;w<l.length;w++)C+=l[w].totalCount;for(var P=new Array(C),O=0,w=0;w<d;w++)for(var y=0;y<l.length;y++)w<p[y].length&&(P[O++]=p[y][w]);for(var w=0;w<f;w++)for(var y=0;y<l.length;y++)w<m[y].length&&(P[O++]=m[y][w]);return P},RI=s,RI}var g_={},fK;function qet(){if(fK)return g_;fK=1,Object.defineProperty(g_,"__esModule",{value:!0});var r=Object.assign||function(u){for(var d=1;d<arguments.length;d++){var f=arguments[d];for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(u[p]=f[p])}return u},e=tM(),n=s(e),i=Rf(),a=s(i);function s(u){return u&&u.__esModule?u:{default:u}}function o(u,d){var f={};for(var p in u)d.indexOf(p)>=0||Object.prototype.hasOwnProperty.call(u,p)&&(f[p]=u[p]);return f}var c={bgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,bgD:n.default.string.isRequired,fgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,fgD:n.default.string.isRequired,size:n.default.number.isRequired,title:n.default.string,viewBoxSize:n.default.number.isRequired,xmlns:n.default.string},l=(0,i.forwardRef)(function(u,d){var f=u.bgColor,p=u.bgD,m=u.fgD,y=u.fgColor,v=u.size,b=u.title,w=u.viewBoxSize,x=u.xmlns,E=x===void 0?"http://www.w3.org/2000/svg":x,A=o(u,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return a.default.createElement("svg",r({},A,{height:v,ref:d,viewBox:"0 0 "+w+" "+w,width:v,xmlns:E}),b?a.default.createElement("title",null,b):null,a.default.createElement("path",{d:p,fill:f}),a.default.createElement("path",{d:m,fill:y}))});return l.displayName="QRCodeSvg",l.propTypes=c,g_.default=l,g_}var hK;function zet(){if(hK)return Kh;hK=1,Object.defineProperty(Kh,"__esModule",{value:!0}),Kh.QRCode=void 0;var r=Object.assign||function(v){for(var b=1;b<arguments.length;b++){var w=arguments[b];for(var x in w)Object.prototype.hasOwnProperty.call(w,x)&&(v[x]=w[x])}return v},e=tM(),n=f(e),i=Ese(),a=f(i),s=Fet(),o=f(s),c=Rf(),l=f(c),u=qet(),d=f(u);function f(v){return v&&v.__esModule?v:{default:v}}function p(v,b){var w={};for(var x in v)b.indexOf(x)>=0||Object.prototype.hasOwnProperty.call(v,x)&&(w[x]=v[x]);return w}var m={bgColor:n.default.oneOfType([n.default.object,n.default.string]),fgColor:n.default.oneOfType([n.default.object,n.default.string]),level:n.default.string,size:n.default.number,value:n.default.string.isRequired},y=(0,c.forwardRef)(function(v,b){var w=v.bgColor,x=w===void 0?"#FFFFFF":w,E=v.fgColor,A=E===void 0?"#000000":E,S=v.level,C=S===void 0?"L":S,P=v.size,O=P===void 0?256:P,I=v.value,M=p(v,["bgColor","fgColor","level","size","value"]),D=new o.default(-1,a.default[C]);D.addData(I),D.make();var q=D.modules;return l.default.createElement(d.default,r({},M,{bgColor:x,bgD:q.map(function(K,L){return K.map(function(R,j){return R?"":"M "+j+" "+L+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:A,fgD:q.map(function(K,L){return K.map(function(R,j){return R?"M "+j+" "+L+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:b,size:O,viewBoxSize:q.length}))});return Kh.QRCode=y,y.displayName="QRCode",y.propTypes=m,Kh.default=y,Kh}var Het=zet();const Wet=Jt(Het);function Vet(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var i,a,s,o,c=[],l=!0,u=!1;try{if(s=(n=n.call(r)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=s.call(n)).done)&&(c.push(i.value),c.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return c}}function Get(r,e,n){return e=ttt(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function pK(r,e){return Xet(r)||Vet(r,e)||Tse(r,e)||Qet()}function Ket(r){return Yet(r)||Jet(r)||Tse(r)||Zet()}function Yet(r){if(Array.isArray(r))return k3(r)}function Xet(r){if(Array.isArray(r))return r}function Jet(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Tse(r,e){if(r){if(typeof r=="string")return k3(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k3(r,e)}}function k3(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=r[n];return i}function Zet(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qet(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ett(r,e){if(typeof r!="object"||r===null)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function ttt(r){var e=ett(r,"string");return typeof e=="symbol"?e:String(e)}var rtt=function(e,n){var i=new Set(n);return Object.assign.apply(Object,[{}].concat(Ket(Object.entries(e).filter(function(a){var s=pK(a,1),o=s[0];return!i.has(o)}).map(function(a){var s=pK(a,2),o=s[0],c=s[1];return Get({},o,c)}))))};function P3(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,i=Array(e);n<e;n++)i[n]=r[n];return i}function ntt(r){if(Array.isArray(r))return r}function itt(r){if(Array.isArray(r))return P3(r)}function att(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function stt(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var i,a,s,o,c=[],l=!0,u=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(l=(i=s.call(n)).done)&&(c.push(i.value),c.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return c}}function ott(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ctt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ltt(r,e){return ntt(r)||stt(r,e)||kse(r,e)||ott()}function gK(r){return itt(r)||att(r)||kse(r)||ctt()}function kse(r,e){if(r){if(typeof r=="string")return P3(r,e);var n={}.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P3(r,e):void 0}}function utt(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.wrapperElementType,i=n===void 0?"div":n,a=e.nodeMapper,s=a===void 0?function(d){return d}:a,o=e.methodNames,c=o===void 0?[]:o,l=e.initPropNames,u=l===void 0?[]:l;return U.forwardRef(function(d,f){var p=U.useRef(),m=U.useMemo(function(){var b=Object.fromEntries(u.filter(function(w){return d.hasOwnProperty(w)}).map(function(w){return[w,d[w]]}));return r(b)},[]);mK(function(){m(s(p.current))},U.useLayoutEffect),mK(function(){return m._destructor instanceof Function?m._destructor:void 0});var y=U.useCallback(function(b){for(var w=arguments.length,x=new Array(w>1?w-1:0),E=1;E<w;E++)x[E-1]=arguments[E];return m[b]instanceof Function?m[b].apply(m,x):void 0},[m]),v=U.useRef({});return Object.keys(rtt(d,[].concat(gK(c),gK(u)))).filter(function(b){return v.current[b]!==d[b]}).forEach(function(b){return y(b,d[b])}),v.current=d,U.useImperativeHandle(f,function(){return Object.fromEntries(c.map(function(b){return[b,function(){for(var w=arguments.length,x=new Array(w),E=0;E<w;E++)x[E]=arguments[E];return y.apply(void 0,[b].concat(x))}]}))},[y]),ee.createElement(i,{ref:p})})}function mK(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:U.useEffect,n=U.useRef(),i=U.useRef(!1),a=U.useRef(!1),s=U.useState(0),o=ltt(s,2);o[0];var c=o[1];i.current&&(a.current=!0),e(function(){return i.current||(n.current=r(),i.current=!0),c(function(l){return l+1}),function(){a.current&&n.current&&n.current()}},[])}var O3="http://www.w3.org/1999/xhtml";const yK={svg:"http://www.w3.org/2000/svg",xhtml:O3,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function LC(r){var e=r+="",n=e.indexOf(":");return n>=0&&(e=r.slice(0,n))!=="xmlns"&&(r=r.slice(n+1)),yK.hasOwnProperty(e)?{space:yK[e],local:r}:r}function dtt(r){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===O3&&e.documentElement.namespaceURI===O3?e.createElement(r):e.createElementNS(n,r)}}function ftt(r){return function(){return this.ownerDocument.createElementNS(r.space,r.local)}}function Pse(r){var e=LC(r);return(e.local?ftt:dtt)(e)}function htt(){}function bM(r){return r==null?htt:function(){return this.querySelector(r)}}function ptt(r){typeof r!="function"&&(r=bM(r));for(var e=this._groups,n=e.length,i=new Array(n),a=0;a<n;++a)for(var s=e[a],o=s.length,c=i[a]=new Array(o),l,u,d=0;d<o;++d)(l=s[d])&&(u=r.call(l,l.__data__,d,s))&&("__data__"in l&&(u.__data__=l.__data__),c[d]=u);return new qa(i,this._parents)}function gtt(r){return r==null?[]:Array.isArray(r)?r:Array.from(r)}function mtt(){return[]}function Ose(r){return r==null?mtt:function(){return this.querySelectorAll(r)}}function ytt(r){return function(){return gtt(r.apply(this,arguments))}}function vtt(r){typeof r=="function"?r=ytt(r):r=Ose(r);for(var e=this._groups,n=e.length,i=[],a=[],s=0;s<n;++s)for(var o=e[s],c=o.length,l,u=0;u<c;++u)(l=o[u])&&(i.push(r.call(l,l.__data__,u,o)),a.push(l));return new qa(i,a)}function Nse(r){return function(){return this.matches(r)}}function Ise(r){return function(e){return e.matches(r)}}var btt=Array.prototype.find;function wtt(r){return function(){return btt.call(this.children,r)}}function _tt(){return this.firstElementChild}function xtt(r){return this.select(r==null?_tt:wtt(typeof r=="function"?r:Ise(r)))}var Ett=Array.prototype.filter;function Stt(){return Array.from(this.children)}function Ctt(r){return function(){return Ett.call(this.children,r)}}function Att(r){return this.selectAll(r==null?Stt:Ctt(typeof r=="function"?r:Ise(r)))}function Ttt(r){typeof r!="function"&&(r=Nse(r));for(var e=this._groups,n=e.length,i=new Array(n),a=0;a<n;++a)for(var s=e[a],o=s.length,c=i[a]=[],l,u=0;u<o;++u)(l=s[u])&&r.call(l,l.__data__,u,s)&&c.push(l);return new qa(i,this._parents)}function Rse(r){return new Array(r.length)}function ktt(){return new qa(this._enter||this._groups.map(Rse),this._parents)}function VE(r,e){this.ownerDocument=r.ownerDocument,this.namespaceURI=r.namespaceURI,this._next=null,this._parent=r,this.__data__=e}VE.prototype={constructor:VE,appendChild:function(r){return this._parent.insertBefore(r,this._next)},insertBefore:function(r,e){return this._parent.insertBefore(r,e)},querySelector:function(r){return this._parent.querySelector(r)},querySelectorAll:function(r){return this._parent.querySelectorAll(r)}};function Ptt(r){return function(){return r}}function Ott(r,e,n,i,a,s){for(var o=0,c,l=e.length,u=s.length;o<u;++o)(c=e[o])?(c.__data__=s[o],i[o]=c):n[o]=new VE(r,s[o]);for(;o<l;++o)(c=e[o])&&(a[o]=c)}function Ntt(r,e,n,i,a,s,o){var c,l,u=new Map,d=e.length,f=s.length,p=new Array(d),m;for(c=0;c<d;++c)(l=e[c])&&(p[c]=m=o.call(l,l.__data__,c,e)+"",u.has(m)?a[c]=l:u.set(m,l));for(c=0;c<f;++c)m=o.call(r,s[c],c,s)+"",(l=u.get(m))?(i[c]=l,l.__data__=s[c],u.delete(m)):n[c]=new VE(r,s[c]);for(c=0;c<d;++c)(l=e[c])&&u.get(p[c])===l&&(a[c]=l)}function Itt(r){return r.__data__}function Rtt(r,e){if(!arguments.length)return Array.from(this,Itt);var n=e?Ntt:Ott,i=this._parents,a=this._groups;typeof r!="function"&&(r=Ptt(r));for(var s=a.length,o=new Array(s),c=new Array(s),l=new Array(s),u=0;u<s;++u){var d=i[u],f=a[u],p=f.length,m=$tt(r.call(d,d&&d.__data__,u,i)),y=m.length,v=c[u]=new Array(y),b=o[u]=new Array(y),w=l[u]=new Array(p);n(d,f,v,b,w,m,e);for(var x=0,E=0,A,S;x<y;++x)if(A=v[x]){for(x>=E&&(E=x+1);!(S=b[E])&&++E<y;);A._next=S||null}}return o=new qa(o,i),o._enter=c,o._exit=l,o}function $tt(r){return typeof r=="object"&&"length"in r?r:Array.from(r)}function jtt(){return new qa(this._exit||this._groups.map(Rse),this._parents)}function Dtt(r,e,n){var i=this.enter(),a=this,s=this.exit();return typeof r=="function"?(i=r(i),i&&(i=i.selection())):i=i.append(r+""),e!=null&&(a=e(a),a&&(a=a.selection())),n==null?s.remove():n(s),i&&a?i.merge(a).order():a}function Mtt(r){for(var e=r.selection?r.selection():r,n=this._groups,i=e._groups,a=n.length,s=i.length,o=Math.min(a,s),c=new Array(a),l=0;l<o;++l)for(var u=n[l],d=i[l],f=u.length,p=c[l]=new Array(f),m,y=0;y<f;++y)(m=u[y]||d[y])&&(p[y]=m);for(;l<a;++l)c[l]=n[l];return new qa(c,this._parents)}function Ltt(){for(var r=this._groups,e=-1,n=r.length;++e<n;)for(var i=r[e],a=i.length-1,s=i[a],o;--a>=0;)(o=i[a])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function Utt(r){r||(r=Btt);function e(f,p){return f&&p?r(f.__data__,p.__data__):!f-!p}for(var n=this._groups,i=n.length,a=new Array(i),s=0;s<i;++s){for(var o=n[s],c=o.length,l=a[s]=new Array(c),u,d=0;d<c;++d)(u=o[d])&&(l[d]=u);l.sort(e)}return new qa(a,this._parents).order()}function Btt(r,e){return r<e?-1:r>e?1:r>=e?0:NaN}function Ftt(){var r=arguments[0];return arguments[0]=this,r.apply(null,arguments),this}function qtt(){return Array.from(this)}function ztt(){for(var r=this._groups,e=0,n=r.length;e<n;++e)for(var i=r[e],a=0,s=i.length;a<s;++a){var o=i[a];if(o)return o}return null}function Htt(){let r=0;for(const e of this)++r;return r}function Wtt(){return!this.node()}function Vtt(r){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var a=e[n],s=0,o=a.length,c;s<o;++s)(c=a[s])&&r.call(c,c.__data__,s,a);return this}function Gtt(r){return function(){this.removeAttribute(r)}}function Ktt(r){return function(){this.removeAttributeNS(r.space,r.local)}}function Ytt(r,e){return function(){this.setAttribute(r,e)}}function Xtt(r,e){return function(){this.setAttributeNS(r.space,r.local,e)}}function Jtt(r,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(r):this.setAttribute(r,n)}}function Ztt(r,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(r.space,r.local):this.setAttributeNS(r.space,r.local,n)}}function Qtt(r,e){var n=LC(r);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?Ktt:Gtt:typeof e=="function"?n.local?Ztt:Jtt:n.local?Xtt:Ytt)(n,e))}function $se(r){return r.ownerDocument&&r.ownerDocument.defaultView||r.document&&r||r.defaultView}function ert(r){return function(){this.style.removeProperty(r)}}function trt(r,e,n){return function(){this.style.setProperty(r,e,n)}}function rrt(r,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(r):this.style.setProperty(r,i,n)}}function nrt(r,e,n){return arguments.length>1?this.each((e==null?ert:typeof e=="function"?rrt:trt)(r,e,n??"")):xg(this.node(),r)}function xg(r,e){return r.style.getPropertyValue(e)||$se(r).getComputedStyle(r,null).getPropertyValue(e)}function irt(r){return function(){delete this[r]}}function art(r,e){return function(){this[r]=e}}function srt(r,e){return function(){var n=e.apply(this,arguments);n==null?delete this[r]:this[r]=n}}function ort(r,e){return arguments.length>1?this.each((e==null?irt:typeof e=="function"?srt:art)(r,e)):this.node()[r]}function jse(r){return r.trim().split(/^|\s+/)}function wM(r){return r.classList||new Dse(r)}function Dse(r){this._node=r,this._names=jse(r.getAttribute("class")||"")}Dse.prototype={add:function(r){var e=this._names.indexOf(r);e<0&&(this._names.push(r),this._node.setAttribute("class",this._names.join(" ")))},remove:function(r){var e=this._names.indexOf(r);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(r){return this._names.indexOf(r)>=0}};function Mse(r,e){for(var n=wM(r),i=-1,a=e.length;++i<a;)n.add(e[i])}function Lse(r,e){for(var n=wM(r),i=-1,a=e.length;++i<a;)n.remove(e[i])}function crt(r){return function(){Mse(this,r)}}function lrt(r){return function(){Lse(this,r)}}function urt(r,e){return function(){(e.apply(this,arguments)?Mse:Lse)(this,r)}}function drt(r,e){var n=jse(r+"");if(arguments.length<2){for(var i=wM(this.node()),a=-1,s=n.length;++a<s;)if(!i.contains(n[a]))return!1;return!0}return this.each((typeof e=="function"?urt:e?crt:lrt)(n,e))}function frt(){this.textContent=""}function hrt(r){return function(){this.textContent=r}}function prt(r){return function(){var e=r.apply(this,arguments);this.textContent=e??""}}function grt(r){return arguments.length?this.each(r==null?frt:(typeof r=="function"?prt:hrt)(r)):this.node().textContent}function mrt(){this.innerHTML=""}function yrt(r){return function(){this.innerHTML=r}}function vrt(r){return function(){var e=r.apply(this,arguments);this.innerHTML=e??""}}function brt(r){return arguments.length?this.each(r==null?mrt:(typeof r=="function"?vrt:yrt)(r)):this.node().innerHTML}function wrt(){this.nextSibling&&this.parentNode.appendChild(this)}function _rt(){return this.each(wrt)}function xrt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ert(){return this.each(xrt)}function Srt(r){var e=typeof r=="function"?r:Pse(r);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Crt(){return null}function Art(r,e){var n=typeof r=="function"?r:Pse(r),i=e==null?Crt:typeof e=="function"?e:bM(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function Trt(){var r=this.parentNode;r&&r.removeChild(this)}function krt(){return this.each(Trt)}function Prt(){var r=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(r,this.nextSibling):r}function Ort(){var r=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(r,this.nextSibling):r}function Nrt(r){return this.select(r?Ort:Prt)}function Irt(r){return arguments.length?this.property("__data__",r):this.node().__data__}function Rrt(r){return function(e){r.call(this,e,this.__data__)}}function $rt(r){return r.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function jrt(r){return function(){var e=this.__on;if(e){for(var n=0,i=-1,a=e.length,s;n<a;++n)s=e[n],(!r.type||s.type===r.type)&&s.name===r.name?this.removeEventListener(s.type,s.listener,s.options):e[++i]=s;++i?e.length=i:delete this.__on}}}function Drt(r,e,n){return function(){var i=this.__on,a,s=Rrt(e);if(i){for(var o=0,c=i.length;o<c;++o)if((a=i[o]).type===r.type&&a.name===r.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=s,a.options=n),a.value=e;return}}this.addEventListener(r.type,s,n),a={type:r.type,name:r.name,value:e,listener:s,options:n},i?i.push(a):this.__on=[a]}}function Mrt(r,e,n){var i=$rt(r+""),a,s=i.length,o;if(arguments.length<2){var c=this.node().__on;if(c){for(var l=0,u=c.length,d;l<u;++l)for(a=0,d=c[l];a<s;++a)if((o=i[a]).type===d.type&&o.name===d.name)return d.value}return}for(c=e?Drt:jrt,a=0;a<s;++a)this.each(c(i[a],e,n));return this}function Use(r,e,n){var i=$se(r),a=i.CustomEvent;typeof a=="function"?a=new a(e,n):(a=i.document.createEvent("Event"),n?(a.initEvent(e,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(e,!1,!1)),r.dispatchEvent(a)}function Lrt(r,e){return function(){return Use(this,r,e)}}function Urt(r,e){return function(){return Use(this,r,e.apply(this,arguments))}}function Brt(r,e){return this.each((typeof e=="function"?Urt:Lrt)(r,e))}function*Frt(){for(var r=this._groups,e=0,n=r.length;e<n;++e)for(var i=r[e],a=0,s=i.length,o;a<s;++a)(o=i[a])&&(yield o)}var Bse=[null];function qa(r,e){this._groups=r,this._parents=e}function Kb(){return new qa([[document.documentElement]],Bse)}function qrt(){return this}qa.prototype=Kb.prototype={constructor:qa,select:ptt,selectAll:vtt,selectChild:xtt,selectChildren:Att,filter:Ttt,data:Rtt,enter:ktt,exit:jtt,join:Dtt,merge:Mtt,selection:qrt,order:Ltt,sort:Utt,call:Ftt,nodes:qtt,node:ztt,size:Htt,empty:Wtt,each:Vtt,attr:Qtt,style:nrt,property:ort,classed:drt,text:grt,html:brt,raise:_rt,lower:Ert,append:Srt,insert:Art,remove:krt,clone:Nrt,datum:Irt,on:Mrt,dispatch:Brt,[Symbol.iterator]:Frt};function us(r){return typeof r=="string"?new qa([[document.querySelector(r)]],[document.documentElement]):new qa([[r]],Bse)}function zrt(r){let e;for(;e=r.sourceEvent;)r=e;return r}function Io(r,e){if(r=zrt(r),e===void 0&&(e=r.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=r.clientX,i.y=r.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var a=e.getBoundingClientRect();return[r.clientX-a.left-e.clientLeft,r.clientY-a.top-e.clientTop]}}return[r.pageX,r.pageY]}var Hrt={value:()=>{}};function Yb(){for(var r=0,e=arguments.length,n={},i;r<e;++r){if(!(i=arguments[r]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new F_(n)}function F_(r){this._=r}function Wrt(r,e){return r.trim().split(/^|\s+/).map(function(n){var i="",a=n.indexOf(".");if(a>=0&&(i=n.slice(a+1),n=n.slice(0,a)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}F_.prototype=Yb.prototype={constructor:F_,on:function(r,e){var n=this._,i=Wrt(r+"",n),a,s=-1,o=i.length;if(arguments.length<2){for(;++s<o;)if((a=(r=i[s]).type)&&(a=Vrt(n[a],r.name)))return a;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(a=(r=i[s]).type)n[a]=vK(n[a],r.name,e);else if(e==null)for(a in n)n[a]=vK(n[a],r.name,null);return this},copy:function(){var r={},e=this._;for(var n in e)r[n]=e[n].slice();return new F_(r)},call:function(r,e){if((a=arguments.length-2)>0)for(var n=new Array(a),i=0,a,s;i<a;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(s=this._[r],i=0,a=s.length;i<a;++i)s[i].value.apply(e,n)},apply:function(r,e,n){if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(var i=this._[r],a=0,s=i.length;a<s;++a)i[a].value.apply(e,n)}};function Vrt(r,e){for(var n=0,i=r.length,a;n<i;++n)if((a=r[n]).name===e)return a.value}function vK(r,e,n){for(var i=0,a=r.length;i<a;++i)if(r[i].name===e){r[i]=Hrt,r=r.slice(0,i).concat(r.slice(i+1));break}return n!=null&&r.push({name:e,value:n}),r}const Grt={passive:!1},Q0={capture:!0,passive:!1};function $I(r){r.stopImmediatePropagation()}function wp(r){r.preventDefault(),r.stopImmediatePropagation()}function Fse(r){var e=r.document.documentElement,n=us(r).on("dragstart.drag",wp,Q0);"onselectstart"in e?n.on("selectstart.drag",wp,Q0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function qse(r,e){var n=r.document.documentElement,i=us(r).on("dragstart.drag",null);e&&(i.on("click.drag",wp,Q0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const m_=r=>()=>r;function N3(r,{sourceEvent:e,subject:n,target:i,identifier:a,active:s,x:o,y:c,dx:l,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:r,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}N3.prototype.on=function(){var r=this._.on.apply(this._,arguments);return r===this._?this:r};function Krt(r){return!r.ctrlKey&&!r.button}function Yrt(){return this.parentNode}function Xrt(r,e){return e??{x:r.x,y:r.y}}function Jrt(){return navigator.maxTouchPoints||"ontouchstart"in this}function Zrt(){var r=Krt,e=Yrt,n=Xrt,i=Jrt,a={},s=Yb("start","drag","end"),o=0,c,l,u,d,f=0;function p(A){A.on("mousedown.drag",m).filter(i).on("touchstart.drag",b).on("touchmove.drag",w,Grt).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(A,S){if(!(d||!r.call(this,A,S))){var C=E(this,e.call(this,A,S),A,S,"mouse");C&&(us(A.view).on("mousemove.drag",y,Q0).on("mouseup.drag",v,Q0),Fse(A.view),$I(A),u=!1,c=A.clientX,l=A.clientY,C("start",A))}}function y(A){if(wp(A),!u){var S=A.clientX-c,C=A.clientY-l;u=S*S+C*C>f}a.mouse("drag",A)}function v(A){us(A.view).on("mousemove.drag mouseup.drag",null),qse(A.view,u),wp(A),a.mouse("end",A)}function b(A,S){if(r.call(this,A,S)){var C=A.changedTouches,P=e.call(this,A,S),O=C.length,I,M;for(I=0;I<O;++I)(M=E(this,P,A,S,C[I].identifier,C[I]))&&($I(A),M("start",A,C[I]))}}function w(A){var S=A.changedTouches,C=S.length,P,O;for(P=0;P<C;++P)(O=a[S[P].identifier])&&(wp(A),O("drag",A,S[P]))}function x(A){var S=A.changedTouches,C=S.length,P,O;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),P=0;P<C;++P)(O=a[S[P].identifier])&&($I(A),O("end",A,S[P]))}function E(A,S,C,P,O,I){var M=s.copy(),D=Io(I||C,S),q,K,L;if((L=n.call(A,new N3("beforestart",{sourceEvent:C,target:p,identifier:O,active:o,x:D[0],y:D[1],dx:0,dy:0,dispatch:M}),P))!=null)return q=L.x-D[0]||0,K=L.y-D[1]||0,function R(j,W,H){var z=D,B;switch(j){case"start":a[O]=R,B=o++;break;case"end":delete a[O],--o;case"drag":D=Io(H||W,S),B=o;break}M.call(j,A,new N3(j,{sourceEvent:W,subject:L,target:p,identifier:O,active:B,x:D[0]+q,y:D[1]+K,dx:D[0]-z[0],dy:D[1]-z[1],dispatch:M}),P)}}return p.filter=function(A){return arguments.length?(r=typeof A=="function"?A:m_(!!A),p):r},p.container=function(A){return arguments.length?(e=typeof A=="function"?A:m_(A),p):e},p.subject=function(A){return arguments.length?(n=typeof A=="function"?A:m_(A),p):n},p.touchable=function(A){return arguments.length?(i=typeof A=="function"?A:m_(!!A),p):i},p.on=function(){var A=s.on.apply(s,arguments);return A===s?p:A},p.clickDistance=function(A){return arguments.length?(f=(A=+A)*A,p):Math.sqrt(f)},p}var Eg=0,Ly=0,py=0,zse=1e3,GE,Uy,KE=0,If=0,UC=0,eb=typeof performance=="object"&&performance.now?performance:Date,Hse=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(r){setTimeout(r,17)};function _M(){return If||(Hse(Qrt),If=eb.now()+UC)}function Qrt(){If=0}function YE(){this._call=this._time=this._next=null}YE.prototype=xM.prototype={constructor:YE,restart:function(r,e,n){if(typeof r!="function")throw new TypeError("callback is not a function");n=(n==null?_M():+n)+(e==null?0:+e),!this._next&&Uy!==this&&(Uy?Uy._next=this:GE=this,Uy=this),this._call=r,this._time=n,I3()},stop:function(){this._call&&(this._call=null,this._time=1/0,I3())}};function xM(r,e,n){var i=new YE;return i.restart(r,e,n),i}function ent(){_M(),++Eg;for(var r=GE,e;r;)(e=If-r._time)>=0&&r._call.call(void 0,e),r=r._next;--Eg}function bK(){If=(KE=eb.now())+UC,Eg=Ly=0;try{ent()}finally{Eg=0,rnt(),If=0}}function tnt(){var r=eb.now(),e=r-KE;e>zse&&(UC-=e,KE=r)}function rnt(){for(var r,e=GE,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),r=e,e=e._next):(n=e._next,e._next=null,e=r?r._next=n:GE=n);Uy=r,I3(i)}function I3(r){if(!Eg){Ly&&(Ly=clearTimeout(Ly));var e=r-If;e>24?(r<1/0&&(Ly=setTimeout(bK,r-eb.now()-UC)),py&&(py=clearInterval(py))):(py||(KE=eb.now(),py=setInterval(tnt,zse)),Eg=1,Hse(bK))}}function wK(r,e,n){var i=new YE;return e=e==null?0:+e,i.restart(a=>{i.stop(),r(a+e)},e,n),i}var nnt=Yb("start","end","cancel","interrupt"),int=[],Wse=0,_K=1,R3=2,q_=3,xK=4,$3=5,z_=6;function BC(r,e,n,i,a,s){var o=r.__transition;if(!o)r.__transition={};else if(n in o)return;ant(r,n,{name:e,index:i,group:a,on:nnt,tween:int,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Wse})}function EM(r,e){var n=ho(r,e);if(n.state>Wse)throw new Error("too late; already scheduled");return n}function sc(r,e){var n=ho(r,e);if(n.state>q_)throw new Error("too late; already running");return n}function ho(r,e){var n=r.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function ant(r,e,n){var i=r.__transition,a;i[e]=n,n.timer=xM(s,0,n.time);function s(u){n.state=_K,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var d,f,p,m;if(n.state!==_K)return l();for(d in i)if(m=i[d],m.name===n.name){if(m.state===q_)return wK(o);m.state===xK?(m.state=z_,m.timer.stop(),m.on.call("interrupt",r,r.__data__,m.index,m.group),delete i[d]):+d<e&&(m.state=z_,m.timer.stop(),m.on.call("cancel",r,r.__data__,m.index,m.group),delete i[d])}if(wK(function(){n.state===q_&&(n.state=xK,n.timer.restart(c,n.delay,n.time),c(u))}),n.state=R3,n.on.call("start",r,r.__data__,n.index,n.group),n.state===R3){for(n.state=q_,a=new Array(p=n.tween.length),d=0,f=-1;d<p;++d)(m=n.tween[d].value.call(r,r.__data__,n.index,n.group))&&(a[++f]=m);a.length=f+1}}function c(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=$3,1),f=-1,p=a.length;++f<p;)a[f].call(r,d);n.state===$3&&(n.on.call("end",r,r.__data__,n.index,n.group),l())}function l(){n.state=z_,n.timer.stop(),delete i[e];for(var u in i)return;delete r.__transition}}function H_(r,e){var n=r.__transition,i,a,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((i=n[o]).name!==e){s=!1;continue}a=i.state>R3&&i.state<$3,i.state=z_,i.timer.stop(),i.on.call(a?"interrupt":"cancel",r,r.__data__,i.index,i.group),delete n[o]}s&&delete r.__transition}}function snt(r){return this.each(function(){H_(this,r)})}function ont(r,e){var n,i;return function(){var a=sc(this,r),s=a.tween;if(s!==n){i=n=s;for(var o=0,c=i.length;o<c;++o)if(i[o].name===e){i=i.slice(),i.splice(o,1);break}}a.tween=i}}function cnt(r,e,n){var i,a;if(typeof n!="function")throw new Error;return function(){var s=sc(this,r),o=s.tween;if(o!==i){a=(i=o).slice();for(var c={name:e,value:n},l=0,u=a.length;l<u;++l)if(a[l].name===e){a[l]=c;break}l===u&&a.push(c)}s.tween=a}}function lnt(r,e){var n=this._id;if(r+="",arguments.length<2){for(var i=ho(this.node(),n).tween,a=0,s=i.length,o;a<s;++a)if((o=i[a]).name===r)return o.value;return null}return this.each((e==null?ont:cnt)(n,r,e))}function SM(r,e,n){var i=r._id;return r.each(function(){var a=sc(this,i);(a.value||(a.value={}))[e]=n.apply(this,arguments)}),function(a){return ho(a,i).value[e]}}function Vse(r,e){var n;return(typeof e=="number"?Js:e instanceof Tf?rE:(n=Tf(e))?(e=n,rE):qne)(r,e)}function unt(r){return function(){this.removeAttribute(r)}}function dnt(r){return function(){this.removeAttributeNS(r.space,r.local)}}function fnt(r,e,n){var i,a=n+"",s;return function(){var o=this.getAttribute(r);return o===a?null:o===i?s:s=e(i=o,n)}}function hnt(r,e,n){var i,a=n+"",s;return function(){var o=this.getAttributeNS(r.space,r.local);return o===a?null:o===i?s:s=e(i=o,n)}}function pnt(r,e,n){var i,a,s;return function(){var o,c=n(this),l;return c==null?void this.removeAttribute(r):(o=this.getAttribute(r),l=c+"",o===l?null:o===i&&l===a?s:(a=l,s=e(i=o,c)))}}function gnt(r,e,n){var i,a,s;return function(){var o,c=n(this),l;return c==null?void this.removeAttributeNS(r.space,r.local):(o=this.getAttributeNS(r.space,r.local),l=c+"",o===l?null:o===i&&l===a?s:(a=l,s=e(i=o,c)))}}function mnt(r,e){var n=LC(r),i=n==="transform"?S7e:Vse;return this.attrTween(r,typeof e=="function"?(n.local?gnt:pnt)(n,i,SM(this,"attr."+r,e)):e==null?(n.local?dnt:unt)(n):(n.local?hnt:fnt)(n,i,e))}function ynt(r,e){return function(n){this.setAttribute(r,e.call(this,n))}}function vnt(r,e){return function(n){this.setAttributeNS(r.space,r.local,e.call(this,n))}}function bnt(r,e){var n,i;function a(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&vnt(r,s)),n}return a._value=e,a}function wnt(r,e){var n,i;function a(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&ynt(r,s)),n}return a._value=e,a}function _nt(r,e){var n="attr."+r;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=LC(r);return this.tween(n,(i.local?bnt:wnt)(i,e))}function xnt(r,e){return function(){EM(this,r).delay=+e.apply(this,arguments)}}function Ent(r,e){return e=+e,function(){EM(this,r).delay=e}}function Snt(r){var e=this._id;return arguments.length?this.each((typeof r=="function"?xnt:Ent)(e,r)):ho(this.node(),e).delay}function Cnt(r,e){return function(){sc(this,r).duration=+e.apply(this,arguments)}}function Ant(r,e){return e=+e,function(){sc(this,r).duration=e}}function Tnt(r){var e=this._id;return arguments.length?this.each((typeof r=="function"?Cnt:Ant)(e,r)):ho(this.node(),e).duration}function knt(r,e){if(typeof e!="function")throw new Error;return function(){sc(this,r).ease=e}}function Pnt(r){var e=this._id;return arguments.length?this.each(knt(e,r)):ho(this.node(),e).ease}function Ont(r,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;sc(this,r).ease=n}}function Nnt(r){if(typeof r!="function")throw new Error;return this.each(Ont(this._id,r))}function Int(r){typeof r!="function"&&(r=Nse(r));for(var e=this._groups,n=e.length,i=new Array(n),a=0;a<n;++a)for(var s=e[a],o=s.length,c=i[a]=[],l,u=0;u<o;++u)(l=s[u])&&r.call(l,l.__data__,u,s)&&c.push(l);return new gl(i,this._parents,this._name,this._id)}function Rnt(r){if(r._id!==this._id)throw new Error;for(var e=this._groups,n=r._groups,i=e.length,a=n.length,s=Math.min(i,a),o=new Array(i),c=0;c<s;++c)for(var l=e[c],u=n[c],d=l.length,f=o[c]=new Array(d),p,m=0;m<d;++m)(p=l[m]||u[m])&&(f[m]=p);for(;c<i;++c)o[c]=e[c];return new gl(o,this._parents,this._name,this._id)}function $nt(r){return(r+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function jnt(r,e,n){var i,a,s=$nt(e)?EM:sc;return function(){var o=s(this,r),c=o.on;c!==i&&(a=(i=c).copy()).on(e,n),o.on=a}}function Dnt(r,e){var n=this._id;return arguments.length<2?ho(this.node(),n).on.on(r):this.each(jnt(n,r,e))}function Mnt(r){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==r)return;e&&e.removeChild(this)}}function Lnt(){return this.on("end.remove",Mnt(this._id))}function Unt(r){var e=this._name,n=this._id;typeof r!="function"&&(r=bM(r));for(var i=this._groups,a=i.length,s=new Array(a),o=0;o<a;++o)for(var c=i[o],l=c.length,u=s[o]=new Array(l),d,f,p=0;p<l;++p)(d=c[p])&&(f=r.call(d,d.__data__,p,c))&&("__data__"in d&&(f.__data__=d.__data__),u[p]=f,BC(u[p],e,n,p,u,ho(d,n)));return new gl(s,this._parents,e,n)}function Bnt(r){var e=this._name,n=this._id;typeof r!="function"&&(r=Ose(r));for(var i=this._groups,a=i.length,s=[],o=[],c=0;c<a;++c)for(var l=i[c],u=l.length,d,f=0;f<u;++f)if(d=l[f]){for(var p=r.call(d,d.__data__,f,l),m,y=ho(d,n),v=0,b=p.length;v<b;++v)(m=p[v])&&BC(m,e,n,v,p,y);s.push(p),o.push(d)}return new gl(s,o,e,n)}var Fnt=Kb.prototype.constructor;function qnt(){return new Fnt(this._groups,this._parents)}function znt(r,e){var n,i,a;return function(){var s=xg(this,r),o=(this.style.removeProperty(r),xg(this,r));return s===o?null:s===n&&o===i?a:a=e(n=s,i=o)}}function Gse(r){return function(){this.style.removeProperty(r)}}function Hnt(r,e,n){var i,a=n+"",s;return function(){var o=xg(this,r);return o===a?null:o===i?s:s=e(i=o,n)}}function Wnt(r,e,n){var i,a,s;return function(){var o=xg(this,r),c=n(this),l=c+"";return c==null&&(l=c=(this.style.removeProperty(r),xg(this,r))),o===l?null:o===i&&l===a?s:(a=l,s=e(i=o,c))}}function Vnt(r,e){var n,i,a,s="style."+e,o="end."+s,c;return function(){var l=sc(this,r),u=l.on,d=l.value[s]==null?c||(c=Gse(e)):void 0;(u!==n||a!==d)&&(i=(n=u).copy()).on(o,a=d),l.on=i}}function Gnt(r,e,n){var i=(r+="")=="transform"?E7e:Vse;return e==null?this.styleTween(r,znt(r,i)).on("end.style."+r,Gse(r)):typeof e=="function"?this.styleTween(r,Wnt(r,i,SM(this,"style."+r,e))).each(Vnt(this._id,r)):this.styleTween(r,Hnt(r,i,e),n).on("end.style."+r,null)}function Knt(r,e,n){return function(i){this.style.setProperty(r,e.call(this,i),n)}}function Ynt(r,e,n){var i,a;function s(){var o=e.apply(this,arguments);return o!==a&&(i=(a=o)&&Knt(r,o,n)),i}return s._value=e,s}function Xnt(r,e,n){var i="style."+(r+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,Ynt(r,e,n??""))}function Jnt(r){return function(){this.textContent=r}}function Znt(r){return function(){var e=r(this);this.textContent=e??""}}function Qnt(r){return this.tween("text",typeof r=="function"?Znt(SM(this,"text",r)):Jnt(r==null?"":r+""))}function eit(r){return function(e){this.textContent=r.call(this,e)}}function tit(r){var e,n;function i(){var a=r.apply(this,arguments);return a!==n&&(e=(n=a)&&eit(a)),e}return i._value=r,i}function rit(r){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(r==null)return this.tween(e,null);if(typeof r!="function")throw new Error;return this.tween(e,tit(r))}function nit(){for(var r=this._name,e=this._id,n=Kse(),i=this._groups,a=i.length,s=0;s<a;++s)for(var o=i[s],c=o.length,l,u=0;u<c;++u)if(l=o[u]){var d=ho(l,e);BC(l,r,n,u,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new gl(i,this._parents,r,n)}function iit(){var r,e,n=this,i=n._id,a=n.size();return new Promise(function(s,o){var c={value:o},l={value:function(){--a===0&&s()}};n.each(function(){var u=sc(this,i),d=u.on;d!==r&&(e=(r=d).copy(),e._.cancel.push(c),e._.interrupt.push(c),e._.end.push(l)),u.on=e}),a===0&&s()})}var ait=0;function gl(r,e,n,i){this._groups=r,this._parents=e,this._name=n,this._id=i}function Kse(){return++ait}var Pc=Kb.prototype;gl.prototype={constructor:gl,select:Unt,selectAll:Bnt,selectChild:Pc.selectChild,selectChildren:Pc.selectChildren,filter:Int,merge:Rnt,selection:qnt,transition:nit,call:Pc.call,nodes:Pc.nodes,node:Pc.node,size:Pc.size,empty:Pc.empty,each:Pc.each,on:Dnt,attr:mnt,attrTween:_nt,style:Gnt,styleTween:Xnt,text:Qnt,textTween:rit,remove:Lnt,tween:lnt,delay:Snt,duration:Tnt,ease:Pnt,easeVarying:Nnt,end:iit,[Symbol.iterator]:Pc[Symbol.iterator]};function sit(r){return((r*=2)<=1?r*r*r:(r-=2)*r*r+2)/2}var oit={time:null,delay:0,duration:250,ease:sit};function cit(r,e){for(var n;!(n=r.__transition)||!(n=n[e]);)if(!(r=r.parentNode))throw new Error(`transition ${e} not found`);return n}function lit(r){var e,n;r instanceof gl?(e=r._id,r=r._name):(e=Kse(),(n=oit).time=_M(),r=r==null?null:r+"");for(var i=this._groups,a=i.length,s=0;s<a;++s)for(var o=i[s],c=o.length,l,u=0;u<c;++u)(l=o[u])&&BC(l,r,e,u,o,n||cit(l,e));return new gl(i,this._parents,r,e)}Kb.prototype.interrupt=snt;Kb.prototype.transition=lit;const y_=r=>()=>r;function uit(r,{sourceEvent:e,target:n,transform:i,dispatch:a}){Object.defineProperties(this,{type:{value:r,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function Gc(r,e,n){this.k=r,this.x=e,this.y=n}Gc.prototype={constructor:Gc,scale:function(r){return r===1?this:new Gc(this.k*r,this.x,this.y)},translate:function(r,e){return r===0&e===0?this:new Gc(this.k,this.x+this.k*r,this.y+this.k*e)},apply:function(r){return[r[0]*this.k+this.x,r[1]*this.k+this.y]},applyX:function(r){return r*this.k+this.x},applyY:function(r){return r*this.k+this.y},invert:function(r){return[(r[0]-this.x)/this.k,(r[1]-this.y)/this.k]},invertX:function(r){return(r-this.x)/this.k},invertY:function(r){return(r-this.y)/this.k},rescaleX:function(r){return r.copy().domain(r.range().map(this.invertX,this).map(r.invert,r))},rescaleY:function(r){return r.copy().domain(r.range().map(this.invertY,this).map(r.invert,r))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var CM=new Gc(1,0,0);Oo.prototype=Gc.prototype;function Oo(r){for(;!r.__zoom;)if(!(r=r.parentNode))return CM;return r.__zoom}function jI(r){r.stopImmediatePropagation()}function gy(r){r.preventDefault(),r.stopImmediatePropagation()}function dit(r){return(!r.ctrlKey||r.type==="wheel")&&!r.button}function fit(){var r=this;return r instanceof SVGElement?(r=r.ownerSVGElement||r,r.hasAttribute("viewBox")?(r=r.viewBox.baseVal,[[r.x,r.y],[r.x+r.width,r.y+r.height]]):[[0,0],[r.width.baseVal.value,r.height.baseVal.value]]):[[0,0],[r.clientWidth,r.clientHeight]]}function EK(){return this.__zoom||CM}function hit(r){return-r.deltaY*(r.deltaMode===1?.05:r.deltaMode?1:.002)*(r.ctrlKey?10:1)}function pit(){return navigator.maxTouchPoints||"ontouchstart"in this}function git(r,e,n){var i=r.invertX(e[0][0])-n[0][0],a=r.invertX(e[1][0])-n[1][0],s=r.invertY(e[0][1])-n[0][1],o=r.invertY(e[1][1])-n[1][1];return r.translate(a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function mit(){var r=dit,e=fit,n=git,i=hit,a=pit,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],c=250,l=k7e,u=Yb("start","zoom","end"),d,f,p,m=500,y=150,v=0,b=10;function w(L){L.property("__zoom",EK).on("wheel.zoom",O,{passive:!1}).on("mousedown.zoom",I).on("dblclick.zoom",M).filter(a).on("touchstart.zoom",D).on("touchmove.zoom",q).on("touchend.zoom touchcancel.zoom",K).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}w.transform=function(L,R,j,W){var H=L.selection?L.selection():L;H.property("__zoom",EK),L!==H?S(L,R,j,W):H.interrupt().each(function(){C(this,arguments).event(W).start().zoom(null,typeof R=="function"?R.apply(this,arguments):R).end()})},w.scaleBy=function(L,R,j,W){w.scaleTo(L,function(){var H=this.__zoom.k,z=typeof R=="function"?R.apply(this,arguments):R;return H*z},j,W)},w.scaleTo=function(L,R,j,W){w.transform(L,function(){var H=e.apply(this,arguments),z=this.__zoom,B=j==null?A(H):typeof j=="function"?j.apply(this,arguments):j,F=z.invert(B),G=typeof R=="function"?R.apply(this,arguments):R;return n(E(x(z,G),B,F),H,o)},j,W)},w.translateBy=function(L,R,j,W){w.transform(L,function(){return n(this.__zoom.translate(typeof R=="function"?R.apply(this,arguments):R,typeof j=="function"?j.apply(this,arguments):j),e.apply(this,arguments),o)},null,W)},w.translateTo=function(L,R,j,W,H){w.transform(L,function(){var z=e.apply(this,arguments),B=this.__zoom,F=W==null?A(z):typeof W=="function"?W.apply(this,arguments):W;return n(CM.translate(F[0],F[1]).scale(B.k).translate(typeof R=="function"?-R.apply(this,arguments):-R,typeof j=="function"?-j.apply(this,arguments):-j),z,o)},W,H)};function x(L,R){return R=Math.max(s[0],Math.min(s[1],R)),R===L.k?L:new Gc(R,L.x,L.y)}function E(L,R,j){var W=R[0]-j[0]*L.k,H=R[1]-j[1]*L.k;return W===L.x&&H===L.y?L:new Gc(L.k,W,H)}function A(L){return[(+L[0][0]+ +L[1][0])/2,(+L[0][1]+ +L[1][1])/2]}function S(L,R,j,W){L.on("start.zoom",function(){C(this,arguments).event(W).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(W).end()}).tween("zoom",function(){var H=this,z=arguments,B=C(H,z).event(W),F=e.apply(H,z),G=j==null?A(F):typeof j=="function"?j.apply(H,z):j,Q=Math.max(F[1][0]-F[0][0],F[1][1]-F[0][1]),te=H.__zoom,ae=typeof R=="function"?R.apply(H,z):R,fe=l(te.invert(G).concat(Q/te.k),ae.invert(G).concat(Q/ae.k));return function(xe){if(xe===1)xe=ae;else{var Ee=fe(xe),le=Q/Ee[2];xe=new Gc(le,G[0]-Ee[0]*le,G[1]-Ee[1]*le)}B.zoom(null,xe)}})}function C(L,R,j){return!j&&L.__zooming||new P(L,R)}function P(L,R){this.that=L,this.args=R,this.active=0,this.sourceEvent=null,this.extent=e.apply(L,R),this.taps=0}P.prototype={event:function(L){return L&&(this.sourceEvent=L),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(L,R){return this.mouse&&L!=="mouse"&&(this.mouse[1]=R.invert(this.mouse[0])),this.touch0&&L!=="touch"&&(this.touch0[1]=R.invert(this.touch0[0])),this.touch1&&L!=="touch"&&(this.touch1[1]=R.invert(this.touch1[0])),this.that.__zoom=R,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(L){var R=us(this.that).datum();u.call(L,this.that,new uit(L,{sourceEvent:this.sourceEvent,target:w,transform:this.that.__zoom,dispatch:u}),R)}};function O(L,...R){if(!r.apply(this,arguments))return;var j=C(this,R).event(L),W=this.__zoom,H=Math.max(s[0],Math.min(s[1],W.k*Math.pow(2,i.apply(this,arguments)))),z=Io(L);if(j.wheel)(j.mouse[0][0]!==z[0]||j.mouse[0][1]!==z[1])&&(j.mouse[1]=W.invert(j.mouse[0]=z)),clearTimeout(j.wheel);else{if(W.k===H)return;j.mouse=[z,W.invert(z)],H_(this),j.start()}gy(L),j.wheel=setTimeout(B,y),j.zoom("mouse",n(E(x(W,H),j.mouse[0],j.mouse[1]),j.extent,o));function B(){j.wheel=null,j.end()}}function I(L,...R){if(p||!r.apply(this,arguments))return;var j=L.currentTarget,W=C(this,R,!0).event(L),H=us(L.view).on("mousemove.zoom",G,!0).on("mouseup.zoom",Q,!0),z=Io(L,j),B=L.clientX,F=L.clientY;Fse(L.view),jI(L),W.mouse=[z,this.__zoom.invert(z)],H_(this),W.start();function G(te){if(gy(te),!W.moved){var ae=te.clientX-B,fe=te.clientY-F;W.moved=ae*ae+fe*fe>v}W.event(te).zoom("mouse",n(E(W.that.__zoom,W.mouse[0]=Io(te,j),W.mouse[1]),W.extent,o))}function Q(te){H.on("mousemove.zoom mouseup.zoom",null),qse(te.view,W.moved),gy(te),W.event(te).end()}}function M(L,...R){if(r.apply(this,arguments)){var j=this.__zoom,W=Io(L.changedTouches?L.changedTouches[0]:L,this),H=j.invert(W),z=j.k*(L.shiftKey?.5:2),B=n(E(x(j,z),W,H),e.apply(this,R),o);gy(L),c>0?us(this).transition().duration(c).call(S,B,W,L):us(this).call(w.transform,B,W,L)}}function D(L,...R){if(r.apply(this,arguments)){var j=L.touches,W=j.length,H=C(this,R,L.changedTouches.length===W).event(L),z,B,F,G;for(jI(L),B=0;B<W;++B)F=j[B],G=Io(F,this),G=[G,this.__zoom.invert(G),F.identifier],H.touch0?!H.touch1&&H.touch0[2]!==G[2]&&(H.touch1=G,H.taps=0):(H.touch0=G,z=!0,H.taps=1+!!d);d&&(d=clearTimeout(d)),z&&(H.taps<2&&(f=G[0],d=setTimeout(function(){d=null},m)),H_(this),H.start())}}function q(L,...R){if(this.__zooming){var j=C(this,R).event(L),W=L.changedTouches,H=W.length,z,B,F,G;for(gy(L),z=0;z<H;++z)B=W[z],F=Io(B,this),j.touch0&&j.touch0[2]===B.identifier?j.touch0[0]=F:j.touch1&&j.touch1[2]===B.identifier&&(j.touch1[0]=F);if(B=j.that.__zoom,j.touch1){var Q=j.touch0[0],te=j.touch0[1],ae=j.touch1[0],fe=j.touch1[1],xe=(xe=ae[0]-Q[0])*xe+(xe=ae[1]-Q[1])*xe,Ee=(Ee=fe[0]-te[0])*Ee+(Ee=fe[1]-te[1])*Ee;B=x(B,Math.sqrt(xe/Ee)),F=[(Q[0]+ae[0])/2,(Q[1]+ae[1])/2],G=[(te[0]+fe[0])/2,(te[1]+fe[1])/2]}else if(j.touch0)F=j.touch0[0],G=j.touch0[1];else return;j.zoom("touch",n(E(B,F,G),j.extent,o))}}function K(L,...R){if(this.__zooming){var j=C(this,R).event(L),W=L.changedTouches,H=W.length,z,B;for(jI(L),p&&clearTimeout(p),p=setTimeout(function(){p=null},m),z=0;z<H;++z)B=W[z],j.touch0&&j.touch0[2]===B.identifier?delete j.touch0:j.touch1&&j.touch1[2]===B.identifier&&delete j.touch1;if(j.touch1&&!j.touch0&&(j.touch0=j.touch1,delete j.touch1),j.touch0)j.touch0[1]=this.__zoom.invert(j.touch0[0]);else if(j.end(),j.taps===2&&(B=Io(B,this),Math.hypot(f[0]-B[0],f[1]-B[1])<b)){var F=us(this).on("dblclick.zoom");F&&F.apply(this,arguments)}}}return w.wheelDelta=function(L){return arguments.length?(i=typeof L=="function"?L:y_(+L),w):i},w.filter=function(L){return arguments.length?(r=typeof L=="function"?L:y_(!!L),w):r},w.touchable=function(L){return arguments.length?(a=typeof L=="function"?L:y_(!!L),w):a},w.extent=function(L){return arguments.length?(e=typeof L=="function"?L:y_([[+L[0][0],+L[0][1]],[+L[1][0],+L[1][1]]]),w):e},w.scaleExtent=function(L){return arguments.length?(s[0]=+L[0],s[1]=+L[1],w):[s[0],s[1]]},w.translateExtent=function(L){return arguments.length?(o[0][0]=+L[0][0],o[1][0]=+L[1][0],o[0][1]=+L[0][1],o[1][1]=+L[1][1],w):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},w.constrain=function(L){return arguments.length?(n=L,w):n},w.duration=function(L){return arguments.length?(c=+L,w):c},w.interpolate=function(L){return arguments.length?(l=L,w):l},w.on=function(){var L=u.on.apply(u,arguments);return L===u?w:L},w.clickDistance=function(L){return arguments.length?(v=(L=+L)*L,w):Math.sqrt(v)},w.tapDistance=function(L){return arguments.length?(b=+L,w):b},w}var yit=typeof global=="object"&&global&&global.Object===Object&&global,vit=typeof self=="object"&&self&&self.Object===Object&&self,Yse=yit||vit||Function("return this")(),XE=Yse.Symbol,Xse=Object.prototype,bit=Xse.hasOwnProperty,wit=Xse.toString,my=XE?XE.toStringTag:void 0;function _it(r){var e=bit.call(r,my),n=r[my];try{r[my]=void 0;var i=!0}catch{}var a=wit.call(r);return i&&(e?r[my]=n:delete r[my]),a}var xit=Object.prototype,Eit=xit.toString;function Sit(r){return Eit.call(r)}var Cit="[object Null]",Ait="[object Undefined]",SK=XE?XE.toStringTag:void 0;function Tit(r){return r==null?r===void 0?Ait:Cit:SK&&SK in Object(r)?_it(r):Sit(r)}function kit(r){return r!=null&&typeof r=="object"}var Pit="[object Symbol]";function Oit(r){return typeof r=="symbol"||kit(r)&&Tit(r)==Pit}var Nit=/\s/;function Iit(r){for(var e=r.length;e--&&Nit.test(r.charAt(e)););return e}var Rit=/^\s+/;function $it(r){return r&&r.slice(0,Iit(r)+1).replace(Rit,"")}function JE(r){var e=typeof r;return r!=null&&(e=="object"||e=="function")}var CK=NaN,jit=/^[-+]0x[0-9a-f]+$/i,Dit=/^0b[01]+$/i,Mit=/^0o[0-7]+$/i,Lit=parseInt;function AK(r){if(typeof r=="number")return r;if(Oit(r))return CK;if(JE(r)){var e=typeof r.valueOf=="function"?r.valueOf():r;r=JE(e)?e+"":e}if(typeof r!="string")return r===0?r:+r;r=$it(r);var n=Dit.test(r);return n||Mit.test(r)?Lit(r.slice(2),n?2:8):jit.test(r)?CK:+r}var DI=function(){return Yse.Date.now()},Uit="Expected a function",Bit=Math.max,Fit=Math.min;function Jse(r,e,n){var i,a,s,o,c,l,u=0,d=!1,f=!1,p=!0;if(typeof r!="function")throw new TypeError(Uit);e=AK(e)||0,JE(n)&&(d=!!n.leading,f="maxWait"in n,s=f?Bit(AK(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p);function m(C){var P=i,O=a;return i=a=void 0,u=C,o=r.apply(O,P),o}function y(C){return u=C,c=setTimeout(w,e),d?m(C):o}function v(C){var P=C-l,O=C-u,I=e-P;return f?Fit(I,s-O):I}function b(C){var P=C-l,O=C-u;return l===void 0||P>=e||P<0||f&&O>=s}function w(){var C=DI();if(b(C))return x(C);c=setTimeout(w,v(C))}function x(C){return c=void 0,p&&i?m(C):(i=a=void 0,o)}function E(){c!==void 0&&clearTimeout(c),u=0,i=l=a=c=void 0}function A(){return c===void 0?o:x(DI())}function S(){var C=DI(),P=b(C);if(i=arguments,a=this,l=C,P){if(c===void 0)return y(l);if(f)return clearTimeout(c),c=setTimeout(w,e),m(l)}return c===void 0&&(c=setTimeout(w,e)),o}return S.cancel=E,S.flush=A,S}var qit="Expected a function";function zit(r,e,n){var i=!0,a=!0;if(typeof r!="function")throw new TypeError(qit);return JE(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),Jse(r,e,{leading:i,maxWait:e,trailing:a})}var af=Object.freeze({Linear:Object.freeze({None:function(r){return r},In:function(r){return r},Out:function(r){return r},InOut:function(r){return r}}),Quadratic:Object.freeze({In:function(r){return r*r},Out:function(r){return r*(2-r)},InOut:function(r){return(r*=2)<1?.5*r*r:-.5*(--r*(r-2)-1)}}),Cubic:Object.freeze({In:function(r){return r*r*r},Out:function(r){return--r*r*r+1},InOut:function(r){return(r*=2)<1?.5*r*r*r:.5*((r-=2)*r*r+2)}}),Quartic:Object.freeze({In:function(r){return r*r*r*r},Out:function(r){return 1- --r*r*r*r},InOut:function(r){return(r*=2)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2)}}),Quintic:Object.freeze({In:function(r){return r*r*r*r*r},Out:function(r){return--r*r*r*r*r+1},InOut:function(r){return(r*=2)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2)}}),Sinusoidal:Object.freeze({In:function(r){return 1-Math.sin((1-r)*Math.PI/2)},Out:function(r){return Math.sin(r*Math.PI/2)},InOut:function(r){return .5*(1-Math.sin(Math.PI*(.5-r)))}}),Exponential:Object.freeze({In:function(r){return r===0?0:Math.pow(1024,r-1)},Out:function(r){return r===1?1:1-Math.pow(2,-10*r)},InOut:function(r){return r===0?0:r===1?1:(r*=2)<1?.5*Math.pow(1024,r-1):.5*(-Math.pow(2,-10*(r-1))+2)}}),Circular:Object.freeze({In:function(r){return 1-Math.sqrt(1-r*r)},Out:function(r){return Math.sqrt(1- --r*r)},InOut:function(r){return(r*=2)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1)}}),Elastic:Object.freeze({In:function(r){return r===0?0:r===1?1:-Math.pow(2,10*(r-1))*Math.sin((r-1.1)*5*Math.PI)},Out:function(r){return r===0?0:r===1?1:Math.pow(2,-10*r)*Math.sin((r-.1)*5*Math.PI)+1},InOut:function(r){return r===0?0:r===1?1:(r*=2,r<1?-.5*Math.pow(2,10*(r-1))*Math.sin((r-1.1)*5*Math.PI):.5*Math.pow(2,-10*(r-1))*Math.sin((r-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(r){var e=1.70158;return r===1?1:r*r*((e+1)*r-e)},Out:function(r){var e=1.70158;return r===0?0:--r*r*((e+1)*r+e)+1},InOut:function(r){var e=2.5949095;return(r*=2)<1?.5*(r*r*((e+1)*r-e)):.5*((r-=2)*r*((e+1)*r+e)+2)}}),Bounce:Object.freeze({In:function(r){return 1-af.Bounce.Out(1-r)},Out:function(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},InOut:function(r){return r<.5?af.Bounce.In(r*2)*.5:af.Bounce.Out(r*2-1)*.5+.5}}),generatePow:function(r){return r===void 0&&(r=4),r=r<Number.EPSILON?Number.EPSILON:r,r=r>1e4?1e4:r,{In:function(e){return Math.pow(e,r)},Out:function(e){return 1-Math.pow(1-e,r)},InOut:function(e){return e<.5?Math.pow(e*2,r)/2:(1-Math.pow(2-e*2,r))/2+.5}}}}),By=function(){return performance.now()},Zse=function(){function r(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._tweens={},this._tweensAddedDuringUpdate={},this.add.apply(this,e)}return r.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(n){return e._tweens[n]})},r.prototype.removeAll=function(){this._tweens={}},r.prototype.add=function(){for(var e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var a=0,s=n;a<s.length;a++){var o=s[a];(e=o._group)===null||e===void 0||e.remove(o),o._group=this,this._tweens[o.getId()]=o,this._tweensAddedDuringUpdate[o.getId()]=o}},r.prototype.remove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var i=0,a=e;i<a.length;i++){var s=a[i];s._group=void 0,delete this._tweens[s.getId()],delete this._tweensAddedDuringUpdate[s.getId()]}},r.prototype.allStopped=function(){return this.getAll().every(function(e){return!e.isPlaying()})},r.prototype.update=function(e,n){e===void 0&&(e=By()),n===void 0&&(n=!0);var i=Object.keys(this._tweens);if(i.length!==0)for(;i.length>0;){this._tweensAddedDuringUpdate={};for(var a=0;a<i.length;a++){var s=this._tweens[i[a]],o=!n;s&&s.update(e,o)===!1&&!n&&this.remove(s)}i=Object.keys(this._tweensAddedDuringUpdate)}},r}(),j3={Linear:function(r,e){var n=r.length-1,i=n*e,a=Math.floor(i),s=j3.Utils.Linear;return e<0?s(r[0],r[1],i):e>1?s(r[n],r[n-1],n-i):s(r[a],r[a+1>n?n:a+1],i-a)},Utils:{Linear:function(r,e,n){return(e-r)*n+r}}},Qse=function(){function r(){}return r.nextId=function(){return r._nextId++},r._nextId=0,r}(),D3=new Zse,TK=function(){function r(e,n){this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=af.Linear.None,this._interpolationFunction=j3.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=Qse.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1,this._object=e,typeof n=="object"?(this._group=n,n.add(this)):n===!0&&(this._group=D3,D3.add(this))}return r.prototype.getId=function(){return this._id},r.prototype.isPlaying=function(){return this._isPlaying},r.prototype.isPaused=function(){return this._isPaused},r.prototype.getDuration=function(){return this._duration},r.prototype.to=function(e,n){if(n===void 0&&(n=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=n<0?0:n,this},r.prototype.duration=function(e){return e===void 0&&(e=1e3),this._duration=e<0?0:e,this},r.prototype.dynamic=function(e){return e===void 0&&(e=!1),this._isDynamic=e,this},r.prototype.start=function(e,n){if(e===void 0&&(e=By()),n===void 0&&(n=!1),this._isPlaying)return this;if(this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var i in this._valuesStartRepeat)this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||n){if(this._propertiesAreSetUp=!0,!this._isDynamic){var a={};for(var s in this._valuesEnd)a[s]=this._valuesEnd[s];this._valuesEnd=a}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,n)}return this},r.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},r.prototype._setupProperties=function(e,n,i,a,s){for(var o in i){var c=e[o],l=Array.isArray(c),u=l?"array":typeof c,d=!l&&Array.isArray(i[o]);if(!(u==="undefined"||u==="function")){if(d){var f=i[o];if(f.length===0)continue;for(var p=[c],m=0,y=f.length;m<y;m+=1){var v=this._handleRelativeValue(c,f[m]);if(isNaN(v)){d=!1,console.warn("Found invalid interpolation list. Skipping.");break}p.push(v)}d&&(i[o]=p)}if((u==="object"||l)&&c&&!d){n[o]=l?[]:{};var b=c;for(var w in b)n[o][w]=b[w];a[o]=l?[]:{};var f=i[o];if(!this._isDynamic){var x={};for(var w in f)x[w]=f[w];i[o]=f=x}this._setupProperties(b,n[o],f,a[o],s)}else(typeof n[o]>"u"||s)&&(n[o]=c),l||(n[o]*=1),d?a[o]=i[o].slice().reverse():a[o]=n[o]||0}}},r.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},r.prototype.end=function(){return this._goToEnd=!0,this.update(this._startTime+this._duration),this},r.prototype.pause=function(e){return e===void 0&&(e=By()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this)},r.prototype.resume=function(e){return e===void 0&&(e=By()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this)},r.prototype.stopChainedTweens=function(){for(var e=0,n=this._chainedTweens.length;e<n;e++)this._chainedTweens[e].stop();return this},r.prototype.group=function(e){return e?(e.add(this),this):(console.warn("tween.group() without args has been removed, use group.add(tween) instead."),this)},r.prototype.remove=function(){var e;return(e=this._group)===null||e===void 0||e.remove(this),this},r.prototype.delay=function(e){return e===void 0&&(e=0),this._delayTime=e,this},r.prototype.repeat=function(e){return e===void 0&&(e=0),this._initialRepeat=e,this._repeat=e,this},r.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},r.prototype.yoyo=function(e){return e===void 0&&(e=!1),this._yoyo=e,this},r.prototype.easing=function(e){return e===void 0&&(e=af.Linear.None),this._easingFunction=e,this},r.prototype.interpolation=function(e){return e===void 0&&(e=j3.Linear),this._interpolationFunction=e,this},r.prototype.chain=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._chainedTweens=e,this},r.prototype.onStart=function(e){return this._onStartCallback=e,this},r.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},r.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},r.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},r.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},r.prototype.onStop=function(e){return this._onStopCallback=e,this},r.prototype.update=function(e,n){var i=this,a;if(e===void 0&&(e=By()),n===void 0&&(n=r.autoStartOnUpdate),this._isPaused)return!0;var s;if(!this._goToEnd&&!this._isPlaying)if(n)this.start(e,!0);else return!1;if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var o=e-this._startTime,c=this._duration+((a=this._repeatDelayTime)!==null&&a!==void 0?a:this._delayTime),l=this._duration+this._repeat*c,u=function(){if(i._duration===0||o>l)return 1;var v=Math.trunc(o/c),b=o-v*c,w=Math.min(b/i._duration,1);return w===0&&o===i._duration?1:w},d=u(),f=this._easingFunction(d);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,f),this._onUpdateCallback&&this._onUpdateCallback(this._object,d),this._duration===0||o>=this._duration)if(this._repeat>0){var p=Math.min(Math.trunc((o-this._duration)/c)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=p);for(s in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[s]=="string"&&(this._valuesStartRepeat[s]=this._valuesStartRepeat[s]+parseFloat(this._valuesEnd[s])),this._yoyo&&this._swapEndStartRepeatValues(s),this._valuesStart[s]=this._valuesStartRepeat[s];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=c*p,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var m=0,y=this._chainedTweens.length;m<y;m++)this._chainedTweens[m].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},r.prototype._updateProperties=function(e,n,i,a){for(var s in i)if(n[s]!==void 0){var o=n[s]||0,c=i[s],l=Array.isArray(e[s]),u=Array.isArray(c),d=!l&&u;d?e[s]=this._interpolationFunction(c,a):typeof c=="object"&&c?this._updateProperties(e[s],o,c,a):(c=this._handleRelativeValue(o,c),typeof c=="number"&&(e[s]=o+(c-o)*a))}},r.prototype._handleRelativeValue=function(e,n){return typeof n!="string"?n:n.charAt(0)==="+"||n.charAt(0)==="-"?e+parseFloat(n):parseFloat(n)},r.prototype._swapEndStartRepeatValues=function(e){var n=this._valuesStartRepeat[e],i=this._valuesEnd[e];typeof i=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(i):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=n},r.autoStartOnUpdate=!1,r}();Qse.nextId;var tc=D3;tc.getAll.bind(tc);tc.removeAll.bind(tc);tc.add.bind(tc);tc.remove.bind(tc);tc.update.bind(tc);function kK(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,i=Array(e);n<e;n++)i[n]=r[n];return i}function Hit(r){if(Array.isArray(r))return r}function Wit(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Vit(r,e,n){return Object.defineProperty(r,"prototype",{writable:!1}),r}function Git(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var i,a,s,o,c=[],l=!0,u=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(l=(i=s.call(n)).done)&&(c.push(i.value),c.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return c}}function Kit(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yit(r,e){return Hit(r)||Git(r,e)||Xit(r,e)||Kit()}function Xit(r,e){if(r){if(typeof r=="string")return kK(r,e);var n={}.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kK(r,e):void 0}}var Jit=Vit(function r(e,n){var i=n.default,a=i===void 0?null:i,s=n.triggerUpdate,o=s===void 0?!0:s,c=n.onChange,l=c===void 0?function(u,d){}:c;Wit(this,r),this.name=e,this.defaultVal=a,this.triggerUpdate=o,this.onChange=l});function AM(r){var e=r.stateInit,n=e===void 0?function(){return{}}:e,i=r.props,a=i===void 0?{}:i,s=r.methods,o=s===void 0?{}:s,c=r.aliases,l=c===void 0?{}:c,u=r.init,d=u===void 0?function(){}:u,f=r.update,p=f===void 0?function(){}:f,m=Object.keys(a).map(function(y){return new Jit(y,a[y])});return function y(){for(var v=arguments.length,b=new Array(v),w=0;w<v;w++)b[w]=arguments[w];var x=!!(this instanceof y&&this.constructor),E=x?b.shift():void 0,A=b[0],S=A===void 0?{}:A,C=Object.assign({},n instanceof Function?n(S):n,{initialised:!1}),P={};function O(D){return I(D,S),M(),O}var I=function(q,K){d.call(O,q,C,K),C.initialised=!0},M=Jse(function(){C.initialised&&(p.call(O,C,P),P={})},1);return m.forEach(function(D){O[D.name]=q(D);function q(K){var L=K.name,R=K.triggerUpdate,j=R===void 0?!1:R,W=K.onChange,H=W===void 0?function(F,G){}:W,z=K.defaultVal,B=z===void 0?null:z;return function(F){var G=C[L];if(!arguments.length)return G;var Q=F===void 0?B:F;return C[L]=Q,H.call(O,Q,C,G),!P.hasOwnProperty(L)&&(P[L]=G),j&&M(),O}}}),Object.keys(o).forEach(function(D){O[D]=function(){for(var q,K=arguments.length,L=new Array(K),R=0;R<K;R++)L[R]=arguments[R];return(q=o[D]).call.apply(q,[O,C].concat(L))}}),Object.entries(l).forEach(function(D){var q=Yit(D,2),K=q[0],L=q[1];return O[K]=O[L]}),O.resetProps=function(){return m.forEach(function(D){O[D.name](D.defaultVal)}),O},O.resetProps(),C._rerender=M,x&&E&&O(E),O}}var yr=function(r){return typeof r=="function"?r:typeof r=="string"?function(e){return e[r]}:function(e){return r}};function ZE(r){"@babel/helpers - typeof";return ZE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZE(r)}var Zit=/^\s+/,Qit=/\s+$/;function at(r,e){if(r=r||"",e=e||{},r instanceof at)return r;if(!(this instanceof at))return new at(r,e);var n=eat(r);this._originalInput=r,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}at.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,i,a,s,o,c;return n=e.r/255,i=e.g/255,a=e.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),i<=.03928?o=i/12.92:o=Math.pow((i+.055)/1.055,2.4),a<=.03928?c=a/12.92:c=Math.pow((a+.055)/1.055,2.4),.2126*s+.7152*o+.0722*c},setAlpha:function(e){return this._a=eoe(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=OK(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=OK(this._r,this._g,this._b),n=Math.round(e.h*360),i=Math.round(e.s*100),a=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+i+"%, "+a+"%)":"hsva("+n+", "+i+"%, "+a+"%, "+this._roundA+")"},toHsl:function(){var e=PK(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=PK(this._r,this._g,this._b),n=Math.round(e.h*360),i=Math.round(e.s*100),a=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+i+"%, "+a+"%)":"hsla("+n+", "+i+"%, "+a+"%, "+this._roundA+")"},toHex:function(e){return NK(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return iat(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(zr(this._r,255)*100)+"%",g:Math.round(zr(this._g,255)*100)+"%",b:Math.round(zr(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(zr(this._r,255)*100)+"%, "+Math.round(zr(this._g,255)*100)+"%, "+Math.round(zr(this._b,255)*100)+"%)":"rgba("+Math.round(zr(this._r,255)*100)+"%, "+Math.round(zr(this._g,255)*100)+"%, "+Math.round(zr(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:mat[NK(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+IK(this._r,this._g,this._b,this._a),i=n,a=this._gradientType?"GradientType = 1, ":"";if(e){var s=at(e);i="#"+IK(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+a+"startColorstr="+n+",endColorstr="+i+")"},toString:function(e){var n=!!e;e=e||this._format;var i=!1,a=this._a<1&&this._a>=0,s=!n&&a&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return at(this.toString())},_applyModification:function(e,n){var i=e.apply(null,[this].concat([].slice.call(n)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(cat,arguments)},brighten:function(){return this._applyModification(lat,arguments)},darken:function(){return this._applyModification(uat,arguments)},desaturate:function(){return this._applyModification(aat,arguments)},saturate:function(){return this._applyModification(sat,arguments)},greyscale:function(){return this._applyModification(oat,arguments)},spin:function(){return this._applyModification(dat,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(pat,arguments)},complement:function(){return this._applyCombination(fat,arguments)},monochromatic:function(){return this._applyCombination(gat,arguments)},splitcomplement:function(){return this._applyCombination(hat,arguments)},triad:function(){return this._applyCombination(RK,[3])},tetrad:function(){return this._applyCombination(RK,[4])}};at.fromRatio=function(r,e){if(ZE(r)=="object"){var n={};for(var i in r)r.hasOwnProperty(i)&&(i==="a"?n[i]=r[i]:n[i]=Fy(r[i]));r=n}return at(r,e)};function eat(r){var e={r:0,g:0,b:0},n=1,i=null,a=null,s=null,o=!1,c=!1;return typeof r=="string"&&(r=wat(r)),ZE(r)=="object"&&(Oc(r.r)&&Oc(r.g)&&Oc(r.b)?(e=tat(r.r,r.g,r.b),o=!0,c=String(r.r).substr(-1)==="%"?"prgb":"rgb"):Oc(r.h)&&Oc(r.s)&&Oc(r.v)?(i=Fy(r.s),a=Fy(r.v),e=nat(r.h,i,a),o=!0,c="hsv"):Oc(r.h)&&Oc(r.s)&&Oc(r.l)&&(i=Fy(r.s),s=Fy(r.l),e=rat(r.h,i,s),o=!0,c="hsl"),r.hasOwnProperty("a")&&(n=r.a)),n=eoe(n),{ok:o,format:r.format||c,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function tat(r,e,n){return{r:zr(r,255)*255,g:zr(e,255)*255,b:zr(n,255)*255}}function PK(r,e,n){r=zr(r,255),e=zr(e,255),n=zr(n,255);var i=Math.max(r,e,n),a=Math.min(r,e,n),s,o,c=(i+a)/2;if(i==a)s=o=0;else{var l=i-a;switch(o=c>.5?l/(2-i-a):l/(i+a),i){case r:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-r)/l+2;break;case n:s=(r-e)/l+4;break}s/=6}return{h:s,s:o,l:c}}function rat(r,e,n){var i,a,s;r=zr(r,360),e=zr(e,100),n=zr(n,100);function o(u,d,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?u+(d-u)*6*f:f<1/2?d:f<2/3?u+(d-u)*(2/3-f)*6:u}if(e===0)i=a=s=n;else{var c=n<.5?n*(1+e):n+e-n*e,l=2*n-c;i=o(l,c,r+1/3),a=o(l,c,r),s=o(l,c,r-1/3)}return{r:i*255,g:a*255,b:s*255}}function OK(r,e,n){r=zr(r,255),e=zr(e,255),n=zr(n,255);var i=Math.max(r,e,n),a=Math.min(r,e,n),s,o,c=i,l=i-a;if(o=i===0?0:l/i,i==a)s=0;else{switch(i){case r:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-r)/l+2;break;case n:s=(r-e)/l+4;break}s/=6}return{h:s,s:o,v:c}}function nat(r,e,n){r=zr(r,360)*6,e=zr(e,100),n=zr(n,100);var i=Math.floor(r),a=r-i,s=n*(1-e),o=n*(1-a*e),c=n*(1-(1-a)*e),l=i%6,u=[n,o,s,s,c,n][l],d=[c,n,n,o,s,s][l],f=[s,s,c,n,n,o][l];return{r:u*255,g:d*255,b:f*255}}function NK(r,e,n,i){var a=[io(Math.round(r).toString(16)),io(Math.round(e).toString(16)),io(Math.round(n).toString(16))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function iat(r,e,n,i,a){var s=[io(Math.round(r).toString(16)),io(Math.round(e).toString(16)),io(Math.round(n).toString(16)),io(toe(i))];return a&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function IK(r,e,n,i){var a=[io(toe(i)),io(Math.round(r).toString(16)),io(Math.round(e).toString(16)),io(Math.round(n).toString(16))];return a.join("")}at.equals=function(r,e){return!r||!e?!1:at(r).toRgbString()==at(e).toRgbString()};at.random=function(){return at.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function aat(r,e){e=e===0?0:e||10;var n=at(r).toHsl();return n.s-=e/100,n.s=FC(n.s),at(n)}function sat(r,e){e=e===0?0:e||10;var n=at(r).toHsl();return n.s+=e/100,n.s=FC(n.s),at(n)}function oat(r){return at(r).desaturate(100)}function cat(r,e){e=e===0?0:e||10;var n=at(r).toHsl();return n.l+=e/100,n.l=FC(n.l),at(n)}function lat(r,e){e=e===0?0:e||10;var n=at(r).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),at(n)}function uat(r,e){e=e===0?0:e||10;var n=at(r).toHsl();return n.l-=e/100,n.l=FC(n.l),at(n)}function dat(r,e){var n=at(r).toHsl(),i=(n.h+e)%360;return n.h=i<0?360+i:i,at(n)}function fat(r){var e=at(r).toHsl();return e.h=(e.h+180)%360,at(e)}function RK(r,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=at(r).toHsl(),i=[at(r)],a=360/e,s=1;s<e;s++)i.push(at({h:(n.h+s*a)%360,s:n.s,l:n.l}));return i}function hat(r){var e=at(r).toHsl(),n=e.h;return[at(r),at({h:(n+72)%360,s:e.s,l:e.l}),at({h:(n+216)%360,s:e.s,l:e.l})]}function pat(r,e,n){e=e||6,n=n||30;var i=at(r).toHsl(),a=360/n,s=[at(r)];for(i.h=(i.h-(a*e>>1)+720)%360;--e;)i.h=(i.h+a)%360,s.push(at(i));return s}function gat(r,e){e=e||6;for(var n=at(r).toHsv(),i=n.h,a=n.s,s=n.v,o=[],c=1/e;e--;)o.push(at({h:i,s:a,v:s})),s=(s+c)%1;return o}at.mix=function(r,e,n){n=n===0?0:n||50;var i=at(r).toRgb(),a=at(e).toRgb(),s=n/100,o={r:(a.r-i.r)*s+i.r,g:(a.g-i.g)*s+i.g,b:(a.b-i.b)*s+i.b,a:(a.a-i.a)*s+i.a};return at(o)};at.readability=function(r,e){var n=at(r),i=at(e);return(Math.max(n.getLuminance(),i.getLuminance())+.05)/(Math.min(n.getLuminance(),i.getLuminance())+.05)};at.isReadable=function(r,e,n){var i=at.readability(r,e),a,s;switch(s=!1,a=_at(n),a.level+a.size){case"AAsmall":case"AAAlarge":s=i>=4.5;break;case"AAlarge":s=i>=3;break;case"AAAsmall":s=i>=7;break}return s};at.mostReadable=function(r,e,n){var i=null,a=0,s,o,c,l;n=n||{},o=n.includeFallbackColors,c=n.level,l=n.size;for(var u=0;u<e.length;u++)s=at.readability(r,e[u]),s>a&&(a=s,i=at(e[u]));return at.isReadable(r,i,{level:c,size:l})||!o?i:(n.includeFallbackColors=!1,at.mostReadable(r,["#fff","#000"],n))};var M3=at.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},mat=at.hexNames=yat(M3);function yat(r){var e={};for(var n in r)r.hasOwnProperty(n)&&(e[r[n]]=n);return e}function eoe(r){return r=parseFloat(r),(isNaN(r)||r<0||r>1)&&(r=1),r}function zr(r,e){vat(r)&&(r="100%");var n=bat(r);return r=Math.min(e,Math.max(0,parseFloat(r))),n&&(r=parseInt(r*e,10)/100),Math.abs(r-e)<1e-6?1:r%e/parseFloat(e)}function FC(r){return Math.min(1,Math.max(0,r))}function Pa(r){return parseInt(r,16)}function vat(r){return typeof r=="string"&&r.indexOf(".")!=-1&&parseFloat(r)===1}function bat(r){return typeof r=="string"&&r.indexOf("%")!=-1}function io(r){return r.length==1?"0"+r:""+r}function Fy(r){return r<=1&&(r=r*100+"%"),r}function toe(r){return Math.round(parseFloat(r)*255).toString(16)}function $K(r){return Pa(r)/255}var zs=function(){var r="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+r+")",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",a="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+a),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+a),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+a),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Oc(r){return!!zs.CSS_UNIT.exec(r)}function wat(r){r=r.replace(Zit,"").replace(Qit,"").toLowerCase();var e=!1;if(M3[r])r=M3[r],e=!0;else if(r=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=zs.rgb.exec(r))?{r:n[1],g:n[2],b:n[3]}:(n=zs.rgba.exec(r))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=zs.hsl.exec(r))?{h:n[1],s:n[2],l:n[3]}:(n=zs.hsla.exec(r))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=zs.hsv.exec(r))?{h:n[1],s:n[2],v:n[3]}:(n=zs.hsva.exec(r))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=zs.hex8.exec(r))?{r:Pa(n[1]),g:Pa(n[2]),b:Pa(n[3]),a:$K(n[4]),format:e?"name":"hex8"}:(n=zs.hex6.exec(r))?{r:Pa(n[1]),g:Pa(n[2]),b:Pa(n[3]),format:e?"name":"hex"}:(n=zs.hex4.exec(r))?{r:Pa(n[1]+""+n[1]),g:Pa(n[2]+""+n[2]),b:Pa(n[3]+""+n[3]),a:$K(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=zs.hex3.exec(r))?{r:Pa(n[1]+""+n[1]),g:Pa(n[2]+""+n[2]),b:Pa(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function _at(r){var e,n;return r=r||{level:"AA",size:"small"},e=(r.level||"AA").toUpperCase(),n=(r.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}function L3(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,i=Array(e);n<e;n++)i[n]=r[n];return i}function xat(r){if(Array.isArray(r))return L3(r)}function roe(r,e,n){if(typeof r=="function"?r===e:r.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function Eat(r,e){if(e.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Sat(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function rs(r,e){return r.get(roe(r,e))}function jK(r,e,n){Eat(r,e),e.set(r,n)}function DK(r,e,n){return r.set(roe(r,e),n),n}function Cat(r,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,Nat(i.key),i)}}function Aat(r,e,n){return e&&Cat(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function Tat(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function kat(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pat(r){return xat(r)||Tat(r)||Iat(r)||kat()}function Oat(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function Nat(r){var e=Oat(r,"string");return typeof e=="symbol"?e:e+""}function Iat(r,e){if(r){if(typeof r=="string")return L3(r,e);var n={}.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L3(r,e):void 0}}var Rat=123,$at=function(e){return"#".concat(Math.min(e,Math.pow(2,24)).toString(16).padStart(6,"0"))},noe=function(e,n,i){return(e<<16)+(n<<8)+i},jat=function(e){var n=at(e).toRgb(),i=n.r,a=n.g,s=n.b;return noe(i,a,s)},MK=function(e,n){return e*Rat%Math.pow(2,n)},bd=new WeakMap,Nc=new WeakMap,Dat=function(){function r(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;Sat(this,r),jK(this,bd,void 0),jK(this,Nc,void 0),DK(Nc,this,e),this.reset()}return Aat(r,[{key:"reset",value:function(){DK(bd,this,["__reserved for background__"])}},{key:"register",value:function(n){if(rs(bd,this).length>=Math.pow(2,24-rs(Nc,this)))return null;var i=rs(bd,this).length,a=MK(i,rs(Nc,this)),s=$at(i+(a<<24-rs(Nc,this)));return rs(bd,this).push(n),s}},{key:"lookup",value:function(n){if(!n)return null;var i=typeof n=="string"?jat(n):noe.apply(void 0,Pat(n));if(!i)return null;var a=i&Math.pow(2,24-rs(Nc,this))-1,s=i>>24-rs(Nc,this)&Math.pow(2,rs(Nc,this))-1;return MK(a,rs(Nc,this))!==s||a>=rs(bd,this).length?null:rs(bd,this)[a]}}])}(),Xb,Gr,ioe,aoe,Nd,LK,soe,ooe,coe,TM,U3,B3,tb={},loe=[],Mat=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,qC=Array.isArray;function qo(r,e){for(var n in e)r[n]=e[n];return r}function kM(r){r&&r.parentNode&&r.parentNode.removeChild(r)}function Lat(r,e,n){var i,a,s,o={};for(s in e)s=="key"?i=e[s]:s=="ref"?a=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?Xb.call(arguments,2):n),typeof r=="function"&&r.defaultProps!=null)for(s in r.defaultProps)o[s]==null&&(o[s]=r.defaultProps[s]);return fv(r,o,i,a,null)}function fv(r,e,n,i,a){var s={type:r,props:e,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:a??++ioe,__i:-1,__u:0};return a==null&&Gr.vnode!=null&&Gr.vnode(s),s}function zC(r){return r.children}function W_(r,e){this.props=r,this.context=e}function Sg(r,e){if(e==null)return r.__?Sg(r.__,r.__i+1):null;for(var n;e<r.__k.length;e++)if((n=r.__k[e])!=null&&n.__e!=null)return n.__e;return typeof r.type=="function"?Sg(r):null}function uoe(r){var e,n;if((r=r.__)!=null&&r.__c!=null){for(r.__e=r.__c.base=null,e=0;e<r.__k.length;e++)if((n=r.__k[e])!=null&&n.__e!=null){r.__e=r.__c.base=n.__e;break}return uoe(r)}}function UK(r){(!r.__d&&(r.__d=!0)&&Nd.push(r)&&!QE.__r++||LK!=Gr.debounceRendering)&&((LK=Gr.debounceRendering)||soe)(QE)}function QE(){for(var r,e,n,i,a,s,o,c=1;Nd.length;)Nd.length>c&&Nd.sort(ooe),r=Nd.shift(),c=Nd.length,r.__d&&(n=void 0,a=(i=(e=r).__v).__e,s=[],o=[],e.__P&&((n=qo({},i)).__v=i.__v+1,Gr.vnode&&Gr.vnode(n),PM(e.__P,n,i,e.__n,e.__P.namespaceURI,32&i.__u?[a]:null,s,a??Sg(i),!!(32&i.__u),o),n.__v=i.__v,n.__.__k[n.__i]=n,hoe(s,n,o),n.__e!=a&&uoe(n)));QE.__r=0}function doe(r,e,n,i,a,s,o,c,l,u,d){var f,p,m,y,v,b,w=i&&i.__k||loe,x=e.length;for(l=Uat(n,e,w,l,x),f=0;f<x;f++)(m=n.__k[f])!=null&&(p=m.__i==-1?tb:w[m.__i]||tb,m.__i=f,b=PM(r,m,p,a,s,o,c,l,u,d),y=m.__e,m.ref&&p.ref!=m.ref&&(p.ref&&OM(p.ref,null,m),d.push(m.ref,m.__c||y,m)),v==null&&y!=null&&(v=y),4&m.__u||p.__k===m.__k?l=foe(m,l,r):typeof m.type=="function"&&b!==void 0?l=b:y&&(l=y.nextSibling),m.__u&=-7);return n.__e=v,l}function Uat(r,e,n,i,a){var s,o,c,l,u,d=n.length,f=d,p=0;for(r.__k=new Array(a),s=0;s<a;s++)(o=e[s])!=null&&typeof o!="boolean"&&typeof o!="function"?(l=s+p,(o=r.__k[s]=typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?fv(null,o,null,null,null):qC(o)?fv(zC,{children:o},null,null,null):o.constructor==null&&o.__b>0?fv(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=r,o.__b=r.__b+1,c=null,(u=o.__i=Bat(o,n,l,f))!=-1&&(f--,(c=n[u])&&(c.__u|=2)),c==null||c.__v==null?(u==-1&&(a>d?p--:a<d&&p++),typeof o.type!="function"&&(o.__u|=4)):u!=l&&(u==l-1?p--:u==l+1?p++:(u>l?p--:p++,o.__u|=4))):r.__k[s]=null;if(f)for(s=0;s<d;s++)(c=n[s])!=null&&(2&c.__u)==0&&(c.__e==i&&(i=Sg(c)),goe(c,c));return i}function foe(r,e,n){var i,a;if(typeof r.type=="function"){for(i=r.__k,a=0;i&&a<i.length;a++)i[a]&&(i[a].__=r,e=foe(i[a],e,n));return e}r.__e!=e&&(e&&r.type&&!n.contains(e)&&(e=Sg(r)),n.insertBefore(r.__e,e||null),e=r.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Bat(r,e,n,i){var a,s,o=r.key,c=r.type,l=e[n];if(l===null&&r.key==null||l&&o==l.key&&c==l.type&&(2&l.__u)==0)return n;if(i>(l!=null&&(2&l.__u)==0?1:0))for(a=n-1,s=n+1;a>=0||s<e.length;){if(a>=0){if((l=e[a])&&(2&l.__u)==0&&o==l.key&&c==l.type)return a;a--}if(s<e.length){if((l=e[s])&&(2&l.__u)==0&&o==l.key&&c==l.type)return s;s++}}return-1}function BK(r,e,n){e[0]=="-"?r.setProperty(e,n??""):r[e]=n==null?"":typeof n!="number"||Mat.test(e)?n:n+"px"}function v_(r,e,n,i,a){var s;e:if(e=="style")if(typeof n=="string")r.style.cssText=n;else{if(typeof i=="string"&&(r.style.cssText=i=""),i)for(e in i)n&&e in n||BK(r.style,e,"");if(n)for(e in n)i&&n[e]==i[e]||BK(r.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")s=e!=(e=e.replace(coe,"$1")),e=e.toLowerCase()in r||e=="onFocusOut"||e=="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),r.l||(r.l={}),r.l[e+s]=n,n?i?n.u=i.u:(n.u=TM,r.addEventListener(e,s?B3:U3,s)):r.removeEventListener(e,s?B3:U3,s);else{if(a=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in r)try{r[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?r.removeAttribute(e):r.setAttribute(e,e=="popover"&&n==1?"":n))}}function FK(r){return function(e){if(this.l){var n=this.l[e.type+r];if(e.t==null)e.t=TM++;else if(e.t<n.u)return;return n(Gr.event?Gr.event(e):e)}}}function PM(r,e,n,i,a,s,o,c,l,u){var d,f,p,m,y,v,b,w,x,E,A,S,C,P,O,I,M,D=e.type;if(e.constructor!=null)return null;128&n.__u&&(l=!!(32&n.__u),s=[c=e.__e=n.__e]),(d=Gr.__b)&&d(e);e:if(typeof D=="function")try{if(w=e.props,x="prototype"in D&&D.prototype.render,E=(d=D.contextType)&&i[d.__c],A=d?E?E.props.value:d.__:i,n.__c?b=(f=e.__c=n.__c).__=f.__E:(x?e.__c=f=new D(w,A):(e.__c=f=new W_(w,A),f.constructor=D,f.render=qat),E&&E.sub(f),f.props=w,f.state||(f.state={}),f.context=A,f.__n=i,p=f.__d=!0,f.__h=[],f._sb=[]),x&&f.__s==null&&(f.__s=f.state),x&&D.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=qo({},f.__s)),qo(f.__s,D.getDerivedStateFromProps(w,f.__s))),m=f.props,y=f.state,f.__v=e,p)x&&D.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),x&&f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(x&&D.getDerivedStateFromProps==null&&w!==m&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(w,A),!f.__e&&f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(w,f.__s,A)===!1||e.__v==n.__v){for(e.__v!=n.__v&&(f.props=w,f.state=f.__s,f.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(q){q&&(q.__=e)}),S=0;S<f._sb.length;S++)f.__h.push(f._sb[S]);f._sb=[],f.__h.length&&o.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(w,f.__s,A),x&&f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(m,y,v)})}if(f.context=A,f.props=w,f.__P=r,f.__e=!1,C=Gr.__r,P=0,x){for(f.state=f.__s,f.__d=!1,C&&C(e),d=f.render(f.props,f.state,f.context),O=0;O<f._sb.length;O++)f.__h.push(f._sb[O]);f._sb=[]}else do f.__d=!1,C&&C(e),d=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++P<25);f.state=f.__s,f.getChildContext!=null&&(i=qo(qo({},i),f.getChildContext())),x&&!p&&f.getSnapshotBeforeUpdate!=null&&(v=f.getSnapshotBeforeUpdate(m,y)),I=d,d!=null&&d.type===zC&&d.key==null&&(I=poe(d.props.children)),c=doe(r,qC(I)?I:[I],e,n,i,a,s,o,c,l,u),f.base=e.__e,e.__u&=-161,f.__h.length&&o.push(f),b&&(f.__E=f.__=null)}catch(q){if(e.__v=null,l||s!=null)if(q.then){for(e.__u|=l?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;s[s.indexOf(c)]=null,e.__e=c}else for(M=s.length;M--;)kM(s[M]);else e.__e=n.__e,e.__k=n.__k;Gr.__e(q,e,n)}else s==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):c=e.__e=Fat(n.__e,e,n,i,a,s,o,l,u);return(d=Gr.diffed)&&d(e),128&e.__u?void 0:c}function hoe(r,e,n){for(var i=0;i<n.length;i++)OM(n[i],n[++i],n[++i]);Gr.__c&&Gr.__c(e,r),r.some(function(a){try{r=a.__h,a.__h=[],r.some(function(s){s.call(a)})}catch(s){Gr.__e(s,a.__v)}})}function poe(r){return typeof r!="object"||r==null||r.__b&&r.__b>0?r:qC(r)?r.map(poe):qo({},r)}function Fat(r,e,n,i,a,s,o,c,l){var u,d,f,p,m,y,v,b=n.props,w=e.props,x=e.type;if(x=="svg"?a="http://www.w3.org/2000/svg":x=="math"?a="http://www.w3.org/1998/Math/MathML":a||(a="http://www.w3.org/1999/xhtml"),s!=null){for(u=0;u<s.length;u++)if((m=s[u])&&"setAttribute"in m==!!x&&(x?m.localName==x:m.nodeType==3)){r=m,s[u]=null;break}}if(r==null){if(x==null)return document.createTextNode(w);r=document.createElementNS(a,x,w.is&&w),c&&(Gr.__m&&Gr.__m(e,s),c=!1),s=null}if(x==null)b===w||c&&r.data==w||(r.data=w);else{if(s=s&&Xb.call(r.childNodes),b=n.props||tb,!c&&s!=null)for(b={},u=0;u<r.attributes.length;u++)b[(m=r.attributes[u]).name]=m.value;for(u in b)if(m=b[u],u!="children"){if(u=="dangerouslySetInnerHTML")f=m;else if(!(u in w)){if(u=="value"&&"defaultValue"in w||u=="checked"&&"defaultChecked"in w)continue;v_(r,u,null,m,a)}}for(u in w)m=w[u],u=="children"?p=m:u=="dangerouslySetInnerHTML"?d=m:u=="value"?y=m:u=="checked"?v=m:c&&typeof m!="function"||b[u]===m||v_(r,u,m,b[u],a);if(d)c||f&&(d.__html==f.__html||d.__html==r.innerHTML)||(r.innerHTML=d.__html),e.__k=[];else if(f&&(r.innerHTML=""),doe(e.type=="template"?r.content:r,qC(p)?p:[p],e,n,i,x=="foreignObject"?"http://www.w3.org/1999/xhtml":a,s,o,s?s[0]:n.__k&&Sg(n,0),c,l),s!=null)for(u=s.length;u--;)kM(s[u]);c||(u="value",x=="progress"&&y==null?r.removeAttribute("value"):y!=null&&(y!==r[u]||x=="progress"&&!y||x=="option"&&y!=b[u])&&v_(r,u,y,b[u],a),u="checked",v!=null&&v!=r[u]&&v_(r,u,v,b[u],a))}return r}function OM(r,e,n){try{if(typeof r=="function"){var i=typeof r.__u=="function";i&&r.__u(),i&&e==null||(r.__u=r(e))}else r.current=e}catch(a){Gr.__e(a,n)}}function goe(r,e,n){var i,a;if(Gr.unmount&&Gr.unmount(r),(i=r.ref)&&(i.current&&i.current!=r.__e||OM(i,null,e)),(i=r.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(s){Gr.__e(s,e)}i.base=i.__P=null}if(i=r.__k)for(a=0;a<i.length;a++)i[a]&&goe(i[a],e,n||typeof r.type!="function");n||kM(r.__e),r.__c=r.__=r.__e=void 0}function qat(r,e,n){return this.constructor(r,n)}function zat(r,e,n){var i,a,s,o;e==document&&(e=document.documentElement),Gr.__&&Gr.__(r,e),a=(i=!1)?null:e.__k,s=[],o=[],PM(e,r=e.__k=Lat(zC,null,[r]),a||tb,tb,e.namespaceURI,a?null:e.firstChild?Xb.call(e.childNodes):null,s,a?a.__e:e.firstChild,i,o),hoe(s,r,o)}function moe(r,e,n){var i,a,s,o,c=qo({},r.props);for(s in r.type&&r.type.defaultProps&&(o=r.type.defaultProps),e)s=="key"?i=e[s]:s=="ref"?a=e[s]:c[s]=e[s]==null&&o!=null?o[s]:e[s];return arguments.length>2&&(c.children=arguments.length>3?Xb.call(arguments,2):n),fv(r.type,c,i||r.key,a||r.ref,null)}Xb=loe.slice,Gr={__e:function(r,e,n,i){for(var a,s,o;e=e.__;)if((a=e.__c)&&!a.__)try{if((s=a.constructor)&&s.getDerivedStateFromError!=null&&(a.setState(s.getDerivedStateFromError(r)),o=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(r,i||{}),o=a.__d),o)return a.__E=a}catch(c){r=c}throw r}},ioe=0,aoe=function(r){return r!=null&&r.constructor==null},W_.prototype.setState=function(r,e){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=qo({},this.state),typeof r=="function"&&(r=r(qo({},n),this.props)),r&&qo(n,r),r!=null&&this.__v&&(e&&this._sb.push(e),UK(this))},W_.prototype.forceUpdate=function(r){this.__v&&(this.__e=!0,r&&this.__h.push(r),UK(this))},W_.prototype.render=zC,Nd=[],soe=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ooe=function(r,e){return r.__v.__b-e.__v.__b},QE.__r=0,coe=/(PointerCapture)$|Capture$/i,TM=0,U3=FK(!1),B3=FK(!0);function qK(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,i=Array(e);n<e;n++)i[n]=r[n];return i}function Hat(r){if(Array.isArray(r))return r}function Wat(r,e,n){return(e=Jat(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Vat(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var i,a,s,o,c=[],l=!0,u=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(l=(i=s.call(n)).done)&&(c.push(i.value),c.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return c}}function Gat(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zK(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function Kat(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zK(Object(n),!0).forEach(function(i){Wat(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):zK(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function Yat(r,e){return Hat(r)||Vat(r,e)||Zat(r,e)||Gat()}function Xat(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Jat(r){var e=Xat(r,"string");return typeof e=="symbol"?e:e+""}function eS(r){"@babel/helpers - typeof";return eS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eS(r)}function Zat(r,e){if(r){if(typeof r=="string")return qK(r,e);var n={}.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qK(r,e):void 0}}var F3=function(e){if(eS(e)!=="object")return e;var n=moe(e);if(n.props){var i;n.props=Kat({},n.props),n!=null&&(i=n.props)!==null&&i!==void 0&&i.children&&(n.props.children=Array.isArray(n.props.children)?n.props.children.map(F3):F3(n.props.children))}return n},Qat=function(e){return aoe(moe(e))},est=function(e,n){delete n.__k,zat(F3(e),n)};function tst(r,e){e===void 0&&(e={});var n=e.insertAt;if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",n==="top"&&i.firstChild?i.insertBefore(a,i.firstChild):i.appendChild(a),a.styleSheet?a.styleSheet.cssText=r:a.appendChild(document.createTextNode(r))}}var rst=`.float-tooltip-kap {
  position: absolute;
  width: max-content; /* prevent shrinking near right edge */
  max-width: max(50%, 150px);
  padding: 3px 5px;
  border-radius: 3px;
  font: 12px sans-serif;
  color: #eee;
  background: rgba(0,0,0,0.6);
  pointer-events: none;
}
`;tst(rst);var nst=AM({props:{content:{default:!1},offsetX:{triggerUpdate:!1},offsetY:{triggerUpdate:!1}},init:function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=i.style,s=a===void 0?{}:a,o=!!e&&eS(e)==="object"&&!!e.node&&typeof e.node=="function",c=us(o?e.node():e);c.style("position")==="static"&&c.style("position","relative"),n.tooltipEl=c.append("div").attr("class","float-tooltip-kap"),Object.entries(s).forEach(function(u){var d=Yat(u,2),f=d[0],p=d[1];return n.tooltipEl.style(f,p)}),n.tooltipEl.style("left","-10000px").style("display","none");var l="tooltip-".concat(Math.round(Math.random()*1e12));n.mouseInside=!1,c.on("mousemove.".concat(l),function(u){n.mouseInside=!0;var d=Io(u),f=c.node(),p=f.offsetWidth,m=f.offsetHeight,y=[n.offsetX===null||n.offsetX===void 0?"-".concat(d[0]/p*100,"%"):typeof n.offsetX=="number"?"calc(-50% + ".concat(n.offsetX,"px)"):n.offsetX,n.offsetY===null||n.offsetY===void 0?m>130&&m-d[1]<100?"calc(-100% - 6px)":"21px":typeof n.offsetY=="number"?n.offsetY<0?"calc(-100% - ".concat(Math.abs(n.offsetY),"px)"):"".concat(n.offsetY,"px"):n.offsetY];n.tooltipEl.style("left",d[0]+"px").style("top",d[1]+"px").style("transform","translate(".concat(y.join(","),")")),n.content&&n.tooltipEl.style("display","inline")}),c.on("mouseover.".concat(l),function(){n.mouseInside=!0,n.content&&n.tooltipEl.style("display","inline")}),c.on("mouseout.".concat(l),function(){n.mouseInside=!1,n.tooltipEl.style("display","none")})},update:function(e){e.tooltipEl.style("display",e.content&&e.mouseInside?"inline":"none"),e.content?e.content instanceof HTMLElement?(e.tooltipEl.text(""),e.tooltipEl.append(function(){return e.content})):typeof e.content=="string"?e.tooltipEl.html(e.content):Qat(e.content)?(e.tooltipEl.text(""),est(e.content,e.tooltipEl.node())):(e.tooltipEl.style("display","none"),console.warn("Tooltip content is invalid, skipping.",e.content,e.content.toString())):e.tooltipEl.text("")}});function ist(r,e,n){var i,a=1;r==null&&(r=0),e==null&&(e=0),n==null&&(n=0);function s(){var o,c=i.length,l,u=0,d=0,f=0;for(o=0;o<c;++o)l=i[o],u+=l.x||0,d+=l.y||0,f+=l.z||0;for(u=(u/c-r)*a,d=(d/c-e)*a,f=(f/c-n)*a,o=0;o<c;++o)l=i[o],u&&(l.x-=u),d&&(l.y-=d),f&&(l.z-=f)}return s.initialize=function(o){i=o},s.x=function(o){return arguments.length?(r=+o,s):r},s.y=function(o){return arguments.length?(e=+o,s):e},s.z=function(o){return arguments.length?(n=+o,s):n},s.strength=function(o){return arguments.length?(a=+o,s):a},s}function ast(r){const e=+this._x.call(null,r);return yoe(this.cover(e),e,r)}function yoe(r,e,n){if(isNaN(e))return r;var i,a=r._root,s={data:n},o=r._x0,c=r._x1,l,u,d,f,p;if(!a)return r._root=s,r;for(;a.length;)if((d=e>=(l=(o+c)/2))?o=l:c=l,i=a,!(a=a[f=+d]))return i[f]=s,r;if(u=+r._x.call(null,a.data),e===u)return s.next=a,i?i[f]=s:r._root=s,r;do i=i?i[f]=new Array(2):r._root=new Array(2),(d=e>=(l=(o+c)/2))?o=l:c=l;while((f=+d)==(p=+(u>=l)));return i[p]=a,i[f]=s,r}function sst(r){Array.isArray(r)||(r=Array.from(r));const e=r.length,n=new Float64Array(e);let i=1/0,a=-1/0;for(let s=0,o;s<e;++s)isNaN(o=+this._x.call(null,r[s]))||(n[s]=o,o<i&&(i=o),o>a&&(a=o));if(i>a)return this;this.cover(i).cover(a);for(let s=0;s<e;++s)yoe(this,n[s],r[s]);return this}function ost(r){if(isNaN(r=+r))return this;var e=this._x0,n=this._x1;if(isNaN(e))n=(e=Math.floor(r))+1;else{for(var i=n-e||1,a=this._root,s,o;e>r||r>=n;)switch(o=+(r<e),s=new Array(2),s[o]=a,a=s,i*=2,o){case 0:n=e+i;break;case 1:e=n-i;break}this._root&&this._root.length&&(this._root=a)}return this._x0=e,this._x1=n,this}function cst(){var r=[];return this.visit(function(e){if(!e.length)do r.push(e.data);while(e=e.next)}),r}function lst(r){return arguments.length?this.cover(+r[0][0]).cover(+r[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function nl(r,e,n){this.node=r,this.x0=e,this.x1=n}function ust(r,e){var n,i=this._x0,a,s,o=this._x1,c=[],l=this._root,u,d;for(l&&c.push(new nl(l,i,o)),e==null?e=1/0:(i=r-e,o=r+e);u=c.pop();)if(!(!(l=u.node)||(a=u.x0)>o||(s=u.x1)<i))if(l.length){var f=(a+s)/2;c.push(new nl(l[1],f,s),new nl(l[0],a,f)),(d=+(r>=f))&&(u=c[c.length-1],c[c.length-1]=c[c.length-1-d],c[c.length-1-d]=u)}else{var p=Math.abs(r-+this._x.call(null,l.data));p<e&&(e=p,i=r-p,o=r+p,n=l.data)}return n}function dst(r){if(isNaN(l=+this._x.call(null,r)))return this;var e,n=this._root,i,a,s,o=this._x0,c=this._x1,l,u,d,f,p;if(!n)return this;if(n.length)for(;;){if((d=l>=(u=(o+c)/2))?o=u:c=u,e=n,!(n=n[f=+d]))return this;if(!n.length)break;e[f+1&1]&&(i=e,p=f)}for(;n.data!==r;)if(a=n,!(n=n.next))return this;return(s=n.next)&&delete n.next,a?(s?a.next=s:delete a.next,this):e?(s?e[f]=s:delete e[f],(n=e[0]||e[1])&&n===(e[1]||e[0])&&!n.length&&(i?i[p]=n:this._root=n),this):(this._root=s,this)}function fst(r){for(var e=0,n=r.length;e<n;++e)this.remove(r[e]);return this}function hst(){return this._root}function pst(){var r=0;return this.visit(function(e){if(!e.length)do++r;while(e=e.next)}),r}function gst(r){var e=[],n,i=this._root,a,s,o;for(i&&e.push(new nl(i,this._x0,this._x1));n=e.pop();)if(!r(i=n.node,s=n.x0,o=n.x1)&&i.length){var c=(s+o)/2;(a=i[1])&&e.push(new nl(a,c,o)),(a=i[0])&&e.push(new nl(a,s,c))}return this}function mst(r){var e=[],n=[],i;for(this._root&&e.push(new nl(this._root,this._x0,this._x1));i=e.pop();){var a=i.node;if(a.length){var s,o=i.x0,c=i.x1,l=(o+c)/2;(s=a[0])&&e.push(new nl(s,o,l)),(s=a[1])&&e.push(new nl(s,l,c))}n.push(i)}for(;i=n.pop();)r(i.node,i.x0,i.x1);return this}function yst(r){return r[0]}function vst(r){return arguments.length?(this._x=r,this):this._x}function voe(r,e){var n=new NM(e??yst,NaN,NaN);return r==null?n:n.addAll(r)}function NM(r,e,n){this._x=r,this._x0=e,this._x1=n,this._root=void 0}function HK(r){for(var e={data:r.data},n=e;r=r.next;)n=n.next={data:r.data};return e}var ba=voe.prototype=NM.prototype;ba.copy=function(){var r=new NM(this._x,this._x0,this._x1),e=this._root,n,i;if(!e)return r;if(!e.length)return r._root=HK(e),r;for(n=[{source:e,target:r._root=new Array(2)}];e=n.pop();)for(var a=0;a<2;++a)(i=e.source[a])&&(i.length?n.push({source:i,target:e.target[a]=new Array(2)}):e.target[a]=HK(i));return r};ba.add=ast;ba.addAll=sst;ba.cover=ost;ba.data=cst;ba.extent=lst;ba.find=ust;ba.remove=dst;ba.removeAll=fst;ba.root=hst;ba.size=pst;ba.visit=gst;ba.visitAfter=mst;ba.x=vst;function bst(r){const e=+this._x.call(null,r),n=+this._y.call(null,r);return boe(this.cover(e,n),e,n,r)}function boe(r,e,n,i){if(isNaN(e)||isNaN(n))return r;var a,s=r._root,o={data:i},c=r._x0,l=r._y0,u=r._x1,d=r._y1,f,p,m,y,v,b,w,x;if(!s)return r._root=o,r;for(;s.length;)if((v=e>=(f=(c+u)/2))?c=f:u=f,(b=n>=(p=(l+d)/2))?l=p:d=p,a=s,!(s=s[w=b<<1|v]))return a[w]=o,r;if(m=+r._x.call(null,s.data),y=+r._y.call(null,s.data),e===m&&n===y)return o.next=s,a?a[w]=o:r._root=o,r;do a=a?a[w]=new Array(4):r._root=new Array(4),(v=e>=(f=(c+u)/2))?c=f:u=f,(b=n>=(p=(l+d)/2))?l=p:d=p;while((w=b<<1|v)===(x=(y>=p)<<1|m>=f));return a[x]=s,a[w]=o,r}function wst(r){var e,n,i=r.length,a,s,o=new Array(i),c=new Array(i),l=1/0,u=1/0,d=-1/0,f=-1/0;for(n=0;n<i;++n)isNaN(a=+this._x.call(null,e=r[n]))||isNaN(s=+this._y.call(null,e))||(o[n]=a,c[n]=s,a<l&&(l=a),a>d&&(d=a),s<u&&(u=s),s>f&&(f=s));if(l>d||u>f)return this;for(this.cover(l,u).cover(d,f),n=0;n<i;++n)boe(this,o[n],c[n],r[n]);return this}function _st(r,e){if(isNaN(r=+r)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,a=this._x1,s=this._y1;if(isNaN(n))a=(n=Math.floor(r))+1,s=(i=Math.floor(e))+1;else{for(var o=a-n||1,c=this._root,l,u;n>r||r>=a||i>e||e>=s;)switch(u=(e<i)<<1|r<n,l=new Array(4),l[u]=c,c=l,o*=2,u){case 0:a=n+o,s=i+o;break;case 1:n=a-o,s=i+o;break;case 2:a=n+o,i=s-o;break;case 3:n=a-o,i=s-o;break}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=i,this._x1=a,this._y1=s,this}function xst(){var r=[];return this.visit(function(e){if(!e.length)do r.push(e.data);while(e=e.next)}),r}function Est(r){return arguments.length?this.cover(+r[0][0],+r[0][1]).cover(+r[1][0],+r[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Mi(r,e,n,i,a){this.node=r,this.x0=e,this.y0=n,this.x1=i,this.y1=a}function Sst(r,e,n){var i,a=this._x0,s=this._y0,o,c,l,u,d=this._x1,f=this._y1,p=[],m=this._root,y,v;for(m&&p.push(new Mi(m,a,s,d,f)),n==null?n=1/0:(a=r-n,s=e-n,d=r+n,f=e+n,n*=n);y=p.pop();)if(!(!(m=y.node)||(o=y.x0)>d||(c=y.y0)>f||(l=y.x1)<a||(u=y.y1)<s))if(m.length){var b=(o+l)/2,w=(c+u)/2;p.push(new Mi(m[3],b,w,l,u),new Mi(m[2],o,w,b,u),new Mi(m[1],b,c,l,w),new Mi(m[0],o,c,b,w)),(v=(e>=w)<<1|r>=b)&&(y=p[p.length-1],p[p.length-1]=p[p.length-1-v],p[p.length-1-v]=y)}else{var x=r-+this._x.call(null,m.data),E=e-+this._y.call(null,m.data),A=x*x+E*E;if(A<n){var S=Math.sqrt(n=A);a=r-S,s=e-S,d=r+S,f=e+S,i=m.data}}return i}function Cst(r){if(isNaN(d=+this._x.call(null,r))||isNaN(f=+this._y.call(null,r)))return this;var e,n=this._root,i,a,s,o=this._x0,c=this._y0,l=this._x1,u=this._y1,d,f,p,m,y,v,b,w;if(!n)return this;if(n.length)for(;;){if((y=d>=(p=(o+l)/2))?o=p:l=p,(v=f>=(m=(c+u)/2))?c=m:u=m,e=n,!(n=n[b=v<<1|y]))return this;if(!n.length)break;(e[b+1&3]||e[b+2&3]||e[b+3&3])&&(i=e,w=b)}for(;n.data!==r;)if(a=n,!(n=n.next))return this;return(s=n.next)&&delete n.next,a?(s?a.next=s:delete a.next,this):e?(s?e[b]=s:delete e[b],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(i?i[w]=n:this._root=n),this):(this._root=s,this)}function Ast(r){for(var e=0,n=r.length;e<n;++e)this.remove(r[e]);return this}function Tst(){return this._root}function kst(){var r=0;return this.visit(function(e){if(!e.length)do++r;while(e=e.next)}),r}function Pst(r){var e=[],n,i=this._root,a,s,o,c,l;for(i&&e.push(new Mi(i,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!r(i=n.node,s=n.x0,o=n.y0,c=n.x1,l=n.y1)&&i.length){var u=(s+c)/2,d=(o+l)/2;(a=i[3])&&e.push(new Mi(a,u,d,c,l)),(a=i[2])&&e.push(new Mi(a,s,d,u,l)),(a=i[1])&&e.push(new Mi(a,u,o,c,d)),(a=i[0])&&e.push(new Mi(a,s,o,u,d))}return this}function Ost(r){var e=[],n=[],i;for(this._root&&e.push(new Mi(this._root,this._x0,this._y0,this._x1,this._y1));i=e.pop();){var a=i.node;if(a.length){var s,o=i.x0,c=i.y0,l=i.x1,u=i.y1,d=(o+l)/2,f=(c+u)/2;(s=a[0])&&e.push(new Mi(s,o,c,d,f)),(s=a[1])&&e.push(new Mi(s,d,c,l,f)),(s=a[2])&&e.push(new Mi(s,o,f,d,u)),(s=a[3])&&e.push(new Mi(s,d,f,l,u))}n.push(i)}for(;i=n.pop();)r(i.node,i.x0,i.y0,i.x1,i.y1);return this}function Nst(r){return r[0]}function Ist(r){return arguments.length?(this._x=r,this):this._x}function Rst(r){return r[1]}function $st(r){return arguments.length?(this._y=r,this):this._y}function woe(r,e,n){var i=new IM(e??Nst,n??Rst,NaN,NaN,NaN,NaN);return r==null?i:i.addAll(r)}function IM(r,e,n,i,a,s){this._x=r,this._y=e,this._x0=n,this._y0=i,this._x1=a,this._y1=s,this._root=void 0}function WK(r){for(var e={data:r.data},n=e;r=r.next;)n=n.next={data:r.data};return e}var Hi=woe.prototype=IM.prototype;Hi.copy=function(){var r=new IM(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,i;if(!e)return r;if(!e.length)return r._root=WK(e),r;for(n=[{source:e,target:r._root=new Array(4)}];e=n.pop();)for(var a=0;a<4;++a)(i=e.source[a])&&(i.length?n.push({source:i,target:e.target[a]=new Array(4)}):e.target[a]=WK(i));return r};Hi.add=bst;Hi.addAll=wst;Hi.cover=_st;Hi.data=xst;Hi.extent=Est;Hi.find=Sst;Hi.remove=Cst;Hi.removeAll=Ast;Hi.root=Tst;Hi.size=kst;Hi.visit=Pst;Hi.visitAfter=Ost;Hi.x=Ist;Hi.y=$st;function jst(r){const e=+this._x.call(null,r),n=+this._y.call(null,r),i=+this._z.call(null,r);return _oe(this.cover(e,n,i),e,n,i,r)}function _oe(r,e,n,i,a){if(isNaN(e)||isNaN(n)||isNaN(i))return r;var s,o=r._root,c={data:a},l=r._x0,u=r._y0,d=r._z0,f=r._x1,p=r._y1,m=r._z1,y,v,b,w,x,E,A,S,C,P,O;if(!o)return r._root=c,r;for(;o.length;)if((A=e>=(y=(l+f)/2))?l=y:f=y,(S=n>=(v=(u+p)/2))?u=v:p=v,(C=i>=(b=(d+m)/2))?d=b:m=b,s=o,!(o=o[P=C<<2|S<<1|A]))return s[P]=c,r;if(w=+r._x.call(null,o.data),x=+r._y.call(null,o.data),E=+r._z.call(null,o.data),e===w&&n===x&&i===E)return c.next=o,s?s[P]=c:r._root=c,r;do s=s?s[P]=new Array(8):r._root=new Array(8),(A=e>=(y=(l+f)/2))?l=y:f=y,(S=n>=(v=(u+p)/2))?u=v:p=v,(C=i>=(b=(d+m)/2))?d=b:m=b;while((P=C<<2|S<<1|A)===(O=(E>=b)<<2|(x>=v)<<1|w>=y));return s[O]=o,s[P]=c,r}function Dst(r){Array.isArray(r)||(r=Array.from(r));const e=r.length,n=new Float64Array(e),i=new Float64Array(e),a=new Float64Array(e);let s=1/0,o=1/0,c=1/0,l=-1/0,u=-1/0,d=-1/0;for(let f=0,p,m,y,v;f<e;++f)isNaN(m=+this._x.call(null,p=r[f]))||isNaN(y=+this._y.call(null,p))||isNaN(v=+this._z.call(null,p))||(n[f]=m,i[f]=y,a[f]=v,m<s&&(s=m),m>l&&(l=m),y<o&&(o=y),y>u&&(u=y),v<c&&(c=v),v>d&&(d=v));if(s>l||o>u||c>d)return this;this.cover(s,o,c).cover(l,u,d);for(let f=0;f<e;++f)_oe(this,n[f],i[f],a[f],r[f]);return this}function Mst(r,e,n){if(isNaN(r=+r)||isNaN(e=+e)||isNaN(n=+n))return this;var i=this._x0,a=this._y0,s=this._z0,o=this._x1,c=this._y1,l=this._z1;if(isNaN(i))o=(i=Math.floor(r))+1,c=(a=Math.floor(e))+1,l=(s=Math.floor(n))+1;else{for(var u=o-i||1,d=this._root,f,p;i>r||r>=o||a>e||e>=c||s>n||n>=l;)switch(p=(n<s)<<2|(e<a)<<1|r<i,f=new Array(8),f[p]=d,d=f,u*=2,p){case 0:o=i+u,c=a+u,l=s+u;break;case 1:i=o-u,c=a+u,l=s+u;break;case 2:o=i+u,a=c-u,l=s+u;break;case 3:i=o-u,a=c-u,l=s+u;break;case 4:o=i+u,c=a+u,s=l-u;break;case 5:i=o-u,c=a+u,s=l-u;break;case 6:o=i+u,a=c-u,s=l-u;break;case 7:i=o-u,a=c-u,s=l-u;break}this._root&&this._root.length&&(this._root=d)}return this._x0=i,this._y0=a,this._z0=s,this._x1=o,this._y1=c,this._z1=l,this}function Lst(){var r=[];return this.visit(function(e){if(!e.length)do r.push(e.data);while(e=e.next)}),r}function Ust(r){return arguments.length?this.cover(+r[0][0],+r[0][1],+r[0][2]).cover(+r[1][0],+r[1][1],+r[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function Cr(r,e,n,i,a,s,o){this.node=r,this.x0=e,this.y0=n,this.z0=i,this.x1=a,this.y1=s,this.z1=o}function Bst(r,e,n,i){var a,s=this._x0,o=this._y0,c=this._z0,l,u,d,f,p,m,y=this._x1,v=this._y1,b=this._z1,w=[],x=this._root,E,A;for(x&&w.push(new Cr(x,s,o,c,y,v,b)),i==null?i=1/0:(s=r-i,o=e-i,c=n-i,y=r+i,v=e+i,b=n+i,i*=i);E=w.pop();)if(!(!(x=E.node)||(l=E.x0)>y||(u=E.y0)>v||(d=E.z0)>b||(f=E.x1)<s||(p=E.y1)<o||(m=E.z1)<c))if(x.length){var S=(l+f)/2,C=(u+p)/2,P=(d+m)/2;w.push(new Cr(x[7],S,C,P,f,p,m),new Cr(x[6],l,C,P,S,p,m),new Cr(x[5],S,u,P,f,C,m),new Cr(x[4],l,u,P,S,C,m),new Cr(x[3],S,C,d,f,p,P),new Cr(x[2],l,C,d,S,p,P),new Cr(x[1],S,u,d,f,C,P),new Cr(x[0],l,u,d,S,C,P)),(A=(n>=P)<<2|(e>=C)<<1|r>=S)&&(E=w[w.length-1],w[w.length-1]=w[w.length-1-A],w[w.length-1-A]=E)}else{var O=r-+this._x.call(null,x.data),I=e-+this._y.call(null,x.data),M=n-+this._z.call(null,x.data),D=O*O+I*I+M*M;if(D<i){var q=Math.sqrt(i=D);s=r-q,o=e-q,c=n-q,y=r+q,v=e+q,b=n+q,a=x.data}}return a}const Fst=(r,e,n,i,a,s)=>Math.sqrt((r-i)**2+(e-a)**2+(n-s)**2);function qst(r,e,n,i){const a=[],s=r-i,o=e-i,c=n-i,l=r+i,u=e+i,d=n+i;return this.visit((f,p,m,y,v,b,w)=>{if(!f.length)do{const x=f.data;Fst(r,e,n,this._x(x),this._y(x),this._z(x))<=i&&a.push(x)}while(f=f.next);return p>l||m>u||y>d||v<s||b<o||w<c}),a}function zst(r){if(isNaN(p=+this._x.call(null,r))||isNaN(m=+this._y.call(null,r))||isNaN(y=+this._z.call(null,r)))return this;var e,n=this._root,i,a,s,o=this._x0,c=this._y0,l=this._z0,u=this._x1,d=this._y1,f=this._z1,p,m,y,v,b,w,x,E,A,S,C;if(!n)return this;if(n.length)for(;;){if((x=p>=(v=(o+u)/2))?o=v:u=v,(E=m>=(b=(c+d)/2))?c=b:d=b,(A=y>=(w=(l+f)/2))?l=w:f=w,e=n,!(n=n[S=A<<2|E<<1|x]))return this;if(!n.length)break;(e[S+1&7]||e[S+2&7]||e[S+3&7]||e[S+4&7]||e[S+5&7]||e[S+6&7]||e[S+7&7])&&(i=e,C=S)}for(;n.data!==r;)if(a=n,!(n=n.next))return this;return(s=n.next)&&delete n.next,a?(s?a.next=s:delete a.next,this):e?(s?e[S]=s:delete e[S],(n=e[0]||e[1]||e[2]||e[3]||e[4]||e[5]||e[6]||e[7])&&n===(e[7]||e[6]||e[5]||e[4]||e[3]||e[2]||e[1]||e[0])&&!n.length&&(i?i[C]=n:this._root=n),this):(this._root=s,this)}function Hst(r){for(var e=0,n=r.length;e<n;++e)this.remove(r[e]);return this}function Wst(){return this._root}function Vst(){var r=0;return this.visit(function(e){if(!e.length)do++r;while(e=e.next)}),r}function Gst(r){var e=[],n,i=this._root,a,s,o,c,l,u,d;for(i&&e.push(new Cr(i,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));n=e.pop();)if(!r(i=n.node,s=n.x0,o=n.y0,c=n.z0,l=n.x1,u=n.y1,d=n.z1)&&i.length){var f=(s+l)/2,p=(o+u)/2,m=(c+d)/2;(a=i[7])&&e.push(new Cr(a,f,p,m,l,u,d)),(a=i[6])&&e.push(new Cr(a,s,p,m,f,u,d)),(a=i[5])&&e.push(new Cr(a,f,o,m,l,p,d)),(a=i[4])&&e.push(new Cr(a,s,o,m,f,p,d)),(a=i[3])&&e.push(new Cr(a,f,p,c,l,u,m)),(a=i[2])&&e.push(new Cr(a,s,p,c,f,u,m)),(a=i[1])&&e.push(new Cr(a,f,o,c,l,p,m)),(a=i[0])&&e.push(new Cr(a,s,o,c,f,p,m))}return this}function Kst(r){var e=[],n=[],i;for(this._root&&e.push(new Cr(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));i=e.pop();){var a=i.node;if(a.length){var s,o=i.x0,c=i.y0,l=i.z0,u=i.x1,d=i.y1,f=i.z1,p=(o+u)/2,m=(c+d)/2,y=(l+f)/2;(s=a[0])&&e.push(new Cr(s,o,c,l,p,m,y)),(s=a[1])&&e.push(new Cr(s,p,c,l,u,m,y)),(s=a[2])&&e.push(new Cr(s,o,m,l,p,d,y)),(s=a[3])&&e.push(new Cr(s,p,m,l,u,d,y)),(s=a[4])&&e.push(new Cr(s,o,c,y,p,m,f)),(s=a[5])&&e.push(new Cr(s,p,c,y,u,m,f)),(s=a[6])&&e.push(new Cr(s,o,m,y,p,d,f)),(s=a[7])&&e.push(new Cr(s,p,m,y,u,d,f))}n.push(i)}for(;i=n.pop();)r(i.node,i.x0,i.y0,i.z0,i.x1,i.y1,i.z1);return this}function Yst(r){return r[0]}function Xst(r){return arguments.length?(this._x=r,this):this._x}function Jst(r){return r[1]}function Zst(r){return arguments.length?(this._y=r,this):this._y}function Qst(r){return r[2]}function eot(r){return arguments.length?(this._z=r,this):this._z}function xoe(r,e,n,i){var a=new RM(e??Yst,n??Jst,i??Qst,NaN,NaN,NaN,NaN,NaN,NaN);return r==null?a:a.addAll(r)}function RM(r,e,n,i,a,s,o,c,l){this._x=r,this._y=e,this._z=n,this._x0=i,this._y0=a,this._z0=s,this._x1=o,this._y1=c,this._z1=l,this._root=void 0}function VK(r){for(var e={data:r.data},n=e;r=r.next;)n=n.next={data:r.data};return e}var hi=xoe.prototype=RM.prototype;hi.copy=function(){var r=new RM(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),e=this._root,n,i;if(!e)return r;if(!e.length)return r._root=VK(e),r;for(n=[{source:e,target:r._root=new Array(8)}];e=n.pop();)for(var a=0;a<8;++a)(i=e.source[a])&&(i.length?n.push({source:i,target:e.target[a]=new Array(8)}):e.target[a]=VK(i));return r};hi.add=jst;hi.addAll=Dst;hi.cover=Mst;hi.data=Lst;hi.extent=Ust;hi.find=Bst;hi.findAllWithinRadius=qst;hi.remove=zst;hi.removeAll=Hst;hi.root=Wst;hi.size=Vst;hi.visit=Gst;hi.visitAfter=Kst;hi.x=Xst;hi.y=Zst;hi.z=eot;function Kc(r){return function(){return r}}function Lc(r){return(r()-.5)*1e-6}function tot(r){return r.index}function GK(r,e){var n=r.get(e);if(!n)throw new Error("node not found: "+e);return n}function rot(r){var e=tot,n=p,i,a=Kc(30),s,o,c,l,u,d,f=1;r==null&&(r=[]);function p(w){return 1/Math.min(l[w.source.index],l[w.target.index])}function m(w){for(var x=0,E=r.length;x<f;++x)for(var A=0,S,C,P,O=0,I=0,M=0,D,q;A<E;++A)S=r[A],C=S.source,P=S.target,O=P.x+P.vx-C.x-C.vx||Lc(d),c>1&&(I=P.y+P.vy-C.y-C.vy||Lc(d)),c>2&&(M=P.z+P.vz-C.z-C.vz||Lc(d)),D=Math.sqrt(O*O+I*I+M*M),D=(D-s[A])/D*w*i[A],O*=D,I*=D,M*=D,P.vx-=O*(q=u[A]),c>1&&(P.vy-=I*q),c>2&&(P.vz-=M*q),C.vx+=O*(q=1-q),c>1&&(C.vy+=I*q),c>2&&(C.vz+=M*q)}function y(){if(o){var w,x=o.length,E=r.length,A=new Map(o.map((C,P)=>[e(C,P,o),C])),S;for(w=0,l=new Array(x);w<E;++w)S=r[w],S.index=w,typeof S.source!="object"&&(S.source=GK(A,S.source)),typeof S.target!="object"&&(S.target=GK(A,S.target)),l[S.source.index]=(l[S.source.index]||0)+1,l[S.target.index]=(l[S.target.index]||0)+1;for(w=0,u=new Array(E);w<E;++w)S=r[w],u[w]=l[S.source.index]/(l[S.source.index]+l[S.target.index]);i=new Array(E),v(),s=new Array(E),b()}}function v(){if(o)for(var w=0,x=r.length;w<x;++w)i[w]=+n(r[w],w,r)}function b(){if(o)for(var w=0,x=r.length;w<x;++w)s[w]=+a(r[w],w,r)}return m.initialize=function(w,...x){o=w,d=x.find(E=>typeof E=="function")||Math.random,c=x.find(E=>[1,2,3].includes(E))||2,y()},m.links=function(w){return arguments.length?(r=w,y(),m):r},m.id=function(w){return arguments.length?(e=w,m):e},m.iterations=function(w){return arguments.length?(f=+w,m):f},m.strength=function(w){return arguments.length?(n=typeof w=="function"?w:Kc(+w),v(),m):n},m.distance=function(w){return arguments.length?(a=typeof w=="function"?w:Kc(+w),b(),m):a},m}const not=1664525,iot=1013904223,KK=4294967296;function aot(){let r=1;return()=>(r=(not*r+iot)%KK)/KK}var YK=3;function MI(r){return r.x}function XK(r){return r.y}function sot(r){return r.z}var oot=10,cot=Math.PI*(3-Math.sqrt(5)),lot=Math.PI*20/(9+Math.sqrt(221));function uot(r,e){e=e||2;var n=Math.min(YK,Math.max(1,Math.round(e))),i,a=1,s=.001,o=1-Math.pow(s,1/300),c=0,l=.6,u=new Map,d=xM(m),f=Yb("tick","end"),p=aot();r==null&&(r=[]);function m(){y(),f.call("tick",i),a<s&&(d.stop(),f.call("end",i))}function y(w){var x,E=r.length,A;w===void 0&&(w=1);for(var S=0;S<w;++S)for(a+=(c-a)*o,u.forEach(function(C){C(a)}),x=0;x<E;++x)A=r[x],A.fx==null?A.x+=A.vx*=l:(A.x=A.fx,A.vx=0),n>1&&(A.fy==null?A.y+=A.vy*=l:(A.y=A.fy,A.vy=0)),n>2&&(A.fz==null?A.z+=A.vz*=l:(A.z=A.fz,A.vz=0));return i}function v(){for(var w=0,x=r.length,E;w<x;++w){if(E=r[w],E.index=w,E.fx!=null&&(E.x=E.fx),E.fy!=null&&(E.y=E.fy),E.fz!=null&&(E.z=E.fz),isNaN(E.x)||n>1&&isNaN(E.y)||n>2&&isNaN(E.z)){var A=oot*(n>2?Math.cbrt(.5+w):n>1?Math.sqrt(.5+w):w),S=w*cot,C=w*lot;n===1?E.x=A:n===2?(E.x=A*Math.cos(S),E.y=A*Math.sin(S)):(E.x=A*Math.sin(S)*Math.cos(C),E.y=A*Math.cos(S),E.z=A*Math.sin(S)*Math.sin(C))}(isNaN(E.vx)||n>1&&isNaN(E.vy)||n>2&&isNaN(E.vz))&&(E.vx=0,n>1&&(E.vy=0),n>2&&(E.vz=0))}}function b(w){return w.initialize&&w.initialize(r,p,n),w}return v(),i={tick:y,restart:function(){return d.restart(m),i},stop:function(){return d.stop(),i},numDimensions:function(w){return arguments.length?(n=Math.min(YK,Math.max(1,Math.round(w))),u.forEach(b),i):n},nodes:function(w){return arguments.length?(r=w,v(),u.forEach(b),i):r},alpha:function(w){return arguments.length?(a=+w,i):a},alphaMin:function(w){return arguments.length?(s=+w,i):s},alphaDecay:function(w){return arguments.length?(o=+w,i):+o},alphaTarget:function(w){return arguments.length?(c=+w,i):c},velocityDecay:function(w){return arguments.length?(l=1-w,i):1-l},randomSource:function(w){return arguments.length?(p=w,u.forEach(b),i):p},force:function(w,x){return arguments.length>1?(x==null?u.delete(w):u.set(w,b(x)),i):u.get(w)},find:function(){var w=Array.prototype.slice.call(arguments),x=w.shift()||0,E=(n>1?w.shift():null)||0,A=(n>2?w.shift():null)||0,S=w.shift()||1/0,C=0,P=r.length,O,I,M,D,q,K;for(S*=S,C=0;C<P;++C)q=r[C],O=x-q.x,I=E-(q.y||0),M=A-(q.z||0),D=O*O+I*I+M*M,D<S&&(K=q,S=D);return K},on:function(w,x){return arguments.length>1?(f.on(w,x),i):f.on(w)}}}function dot(){var r,e,n,i,a,s=Kc(-30),o,c=1,l=1/0,u=.81;function d(y){var v,b=r.length,w=(e===1?voe(r,MI):e===2?woe(r,MI,XK):e===3?xoe(r,MI,XK,sot):null).visitAfter(p);for(a=y,v=0;v<b;++v)n=r[v],w.visit(m)}function f(){if(r){var y,v=r.length,b;for(o=new Array(v),y=0;y<v;++y)b=r[y],o[b.index]=+s(b,y,r)}}function p(y){var v=0,b,w,x=0,E,A,S,C,P=y.length;if(P){for(E=A=S=C=0;C<P;++C)(b=y[C])&&(w=Math.abs(b.value))&&(v+=b.value,x+=w,E+=w*(b.x||0),A+=w*(b.y||0),S+=w*(b.z||0));v*=Math.sqrt(4/P),y.x=E/x,e>1&&(y.y=A/x),e>2&&(y.z=S/x)}else{b=y,b.x=b.data.x,e>1&&(b.y=b.data.y),e>2&&(b.z=b.data.z);do v+=o[b.data.index];while(b=b.next)}y.value=v}function m(y,v,b,w,x){if(!y.value)return!0;var E=[b,w,x][e-1],A=y.x-n.x,S=e>1?y.y-n.y:0,C=e>2?y.z-n.z:0,P=E-v,O=A*A+S*S+C*C;if(P*P/u<O)return O<l&&(A===0&&(A=Lc(i),O+=A*A),e>1&&S===0&&(S=Lc(i),O+=S*S),e>2&&C===0&&(C=Lc(i),O+=C*C),O<c&&(O=Math.sqrt(c*O)),n.vx+=A*y.value*a/O,e>1&&(n.vy+=S*y.value*a/O),e>2&&(n.vz+=C*y.value*a/O)),!0;if(y.length||O>=l)return;(y.data!==n||y.next)&&(A===0&&(A=Lc(i),O+=A*A),e>1&&S===0&&(S=Lc(i),O+=S*S),e>2&&C===0&&(C=Lc(i),O+=C*C),O<c&&(O=Math.sqrt(c*O)));do y.data!==n&&(P=o[y.data.index]*a/O,n.vx+=A*P,e>1&&(n.vy+=S*P),e>2&&(n.vz+=C*P));while(y=y.next)}return d.initialize=function(y,...v){r=y,i=v.find(b=>typeof b=="function")||Math.random,e=v.find(b=>[1,2,3].includes(b))||2,f()},d.strength=function(y){return arguments.length?(s=typeof y=="function"?y:Kc(+y),f(),d):s},d.distanceMin=function(y){return arguments.length?(c=y*y,d):Math.sqrt(c)},d.distanceMax=function(y){return arguments.length?(l=y*y,d):Math.sqrt(l)},d.theta=function(y){return arguments.length?(u=y*y,d):Math.sqrt(u)},d}function fot(r,e,n,i){var a,s,o=Kc(.1),c,l;typeof r!="function"&&(r=Kc(+r)),e==null&&(e=0),n==null&&(n=0),i==null&&(i=0);function u(f){for(var p=0,m=a.length;p<m;++p){var y=a[p],v=y.x-e||1e-6,b=(y.y||0)-n||1e-6,w=(y.z||0)-i||1e-6,x=Math.sqrt(v*v+b*b+w*w),E=(l[p]-x)*c[p]*f/x;y.vx+=v*E,s>1&&(y.vy+=b*E),s>2&&(y.vz+=w*E)}}function d(){if(a){var f,p=a.length;for(c=new Array(p),l=new Array(p),f=0;f<p;++f)l[f]=+r(a[f],f,a),c[f]=isNaN(l[f])?0:+o(a[f],f,a)}}return u.initialize=function(f,...p){a=f,s=p.find(m=>[1,2,3].includes(m))||2,d()},u.strength=function(f){return arguments.length?(o=typeof f=="function"?f:Kc(+f),d(),u):o},u.radius=function(f){return arguments.length?(r=typeof f=="function"?f:Kc(+f),d(),u):r},u.x=function(f){return arguments.length?(e=+f,u):e},u.y=function(f){return arguments.length?(n=+f,u):n},u.z=function(f){return arguments.length?(i=+f,u):i},u}const{abs:yy,cos:Ic,sin:Yh,acos:hot,atan2:vy,sqrt:Jl,pow:as}=Math;function by(r){return r<0?-as(-r,1/3):as(r,1/3)}const Eoe=Math.PI,b_=2*Eoe,Zl=Eoe/2,pot=1e-6,LI=Number.MAX_SAFE_INTEGER||9007199254740991,UI=Number.MIN_SAFE_INTEGER||-9007199254740991,got={x:0,y:0,z:0},Oe={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(r,e){const n=e(r);let i=n.x*n.x+n.y*n.y;return typeof n.z<"u"&&(i+=n.z*n.z),Jl(i)},compute:function(r,e,n){if(r===0)return e[0].t=0,e[0];const i=e.length-1;if(r===1)return e[i].t=1,e[i];const a=1-r;let s=e;if(i===0)return e[0].t=r,e[0];if(i===1){const c={x:a*s[0].x+r*s[1].x,y:a*s[0].y+r*s[1].y,t:r};return n&&(c.z=a*s[0].z+r*s[1].z),c}if(i<4){let c=a*a,l=r*r,u,d,f,p=0;i===2?(s=[s[0],s[1],s[2],got],u=c,d=a*r*2,f=l):i===3&&(u=c*a,d=c*r*3,f=a*l*3,p=r*l);const m={x:u*s[0].x+d*s[1].x+f*s[2].x+p*s[3].x,y:u*s[0].y+d*s[1].y+f*s[2].y+p*s[3].y,t:r};return n&&(m.z=u*s[0].z+d*s[1].z+f*s[2].z+p*s[3].z),m}const o=JSON.parse(JSON.stringify(e));for(;o.length>1;){for(let c=0;c<o.length-1;c++)o[c]={x:o[c].x+(o[c+1].x-o[c].x)*r,y:o[c].y+(o[c+1].y-o[c].y)*r},typeof o[c].z<"u"&&(o[c].z=o[c].z+(o[c+1].z-o[c].z)*r);o.splice(o.length-1,1)}return o[0].t=r,o[0]},computeWithRatios:function(r,e,n,i){const a=1-r,s=n,o=e;let c=s[0],l=s[1],u=s[2],d=s[3],f;if(c*=a,l*=r,o.length===2)return f=c+l,{x:(c*o[0].x+l*o[1].x)/f,y:(c*o[0].y+l*o[1].y)/f,z:i?(c*o[0].z+l*o[1].z)/f:!1,t:r};if(c*=a,l*=2*a,u*=r*r,o.length===3)return f=c+l+u,{x:(c*o[0].x+l*o[1].x+u*o[2].x)/f,y:(c*o[0].y+l*o[1].y+u*o[2].y)/f,z:i?(c*o[0].z+l*o[1].z+u*o[2].z)/f:!1,t:r};if(c*=a,l*=1.5*a,u*=3*a,d*=r*r*r,o.length===4)return f=c+l+u+d,{x:(c*o[0].x+l*o[1].x+u*o[2].x+d*o[3].x)/f,y:(c*o[0].y+l*o[1].y+u*o[2].y+d*o[3].y)/f,z:i?(c*o[0].z+l*o[1].z+u*o[2].z+d*o[3].z)/f:!1,t:r}},derive:function(r,e){const n=[];for(let i=r,a=i.length,s=a-1;a>1;a--,s--){const o=[];for(let c=0,l;c<s;c++)l={x:s*(i[c+1].x-i[c].x),y:s*(i[c+1].y-i[c].y)},e&&(l.z=s*(i[c+1].z-i[c].z)),o.push(l);n.push(o),i=o}return n},between:function(r,e,n){return e<=r&&r<=n||Oe.approximately(r,e)||Oe.approximately(r,n)},approximately:function(r,e,n){return yy(r-e)<=(n||pot)},length:function(r){const n=Oe.Tvalues.length;let i=0;for(let a=0,s;a<n;a++)s=.5*Oe.Tvalues[a]+.5,i+=Oe.Cvalues[a]*Oe.arcfn(s,r);return .5*i},map:function(r,e,n,i,a){const s=n-e,o=a-i,c=r-e,l=c/s;return i+o*l},lerp:function(r,e,n){const i={x:e.x+r*(n.x-e.x),y:e.y+r*(n.y-e.y)};return e.z!==void 0&&n.z!==void 0&&(i.z=e.z+r*(n.z-e.z)),i},pointToString:function(r){let e=r.x+"/"+r.y;return typeof r.z<"u"&&(e+="/"+r.z),e},pointsToString:function(r){return"["+r.map(Oe.pointToString).join(", ")+"]"},copy:function(r){return JSON.parse(JSON.stringify(r))},angle:function(r,e,n){const i=e.x-r.x,a=e.y-r.y,s=n.x-r.x,o=n.y-r.y,c=i*o-a*s,l=i*s+a*o;return vy(c,l)},round:function(r,e){const n=""+r,i=n.indexOf(".");return parseFloat(n.substring(0,i+1+e))},dist:function(r,e){const n=r.x-e.x,i=r.y-e.y;return Jl(n*n+i*i)},closest:function(r,e){let n=as(2,63),i,a;return r.forEach(function(s,o){a=Oe.dist(e,s),a<n&&(n=a,i=o)}),{mdist:n,mpos:i}},abcratio:function(r,e){if(e!==2&&e!==3)return!1;if(typeof r>"u")r=.5;else if(r===0||r===1)return r;const n=as(r,e)+as(1-r,e),i=n-1;return yy(i/n)},projectionratio:function(r,e){if(e!==2&&e!==3)return!1;if(typeof r>"u")r=.5;else if(r===0||r===1)return r;const n=as(1-r,e),i=as(r,e)+n;return n/i},lli8:function(r,e,n,i,a,s,o,c){const l=(r*i-e*n)*(a-o)-(r-n)*(a*c-s*o),u=(r*i-e*n)*(s-c)-(e-i)*(a*c-s*o),d=(r-n)*(s-c)-(e-i)*(a-o);return d==0?!1:{x:l/d,y:u/d}},lli4:function(r,e,n,i){const a=r.x,s=r.y,o=e.x,c=e.y,l=n.x,u=n.y,d=i.x,f=i.y;return Oe.lli8(a,s,o,c,l,u,d,f)},lli:function(r,e){return Oe.lli4(r,r.c,e,e.c)},makeline:function(r,e){return new $r(r.x,r.y,(r.x+e.x)/2,(r.y+e.y)/2,e.x,e.y)},findbbox:function(r){let e=LI,n=LI,i=UI,a=UI;return r.forEach(function(s){const o=s.bbox();e>o.x.min&&(e=o.x.min),n>o.y.min&&(n=o.y.min),i<o.x.max&&(i=o.x.max),a<o.y.max&&(a=o.y.max)}),{x:{min:e,mid:(e+i)/2,max:i,size:i-e},y:{min:n,mid:(n+a)/2,max:a,size:a-n}}},shapeintersections:function(r,e,n,i,a){if(!Oe.bboxoverlap(e,i))return[];const s=[],o=[r.startcap,r.forward,r.back,r.endcap],c=[n.startcap,n.forward,n.back,n.endcap];return o.forEach(function(l){l.virtual||c.forEach(function(u){if(u.virtual)return;const d=l.intersects(u,a);d.length>0&&(d.c1=l,d.c2=u,d.s1=r,d.s2=n,s.push(d))})}),s},makeshape:function(r,e,n){const i=e.points.length,a=r.points.length,s=Oe.makeline(e.points[i-1],r.points[0]),o=Oe.makeline(r.points[a-1],e.points[0]),c={startcap:s,forward:r,back:e,endcap:o,bbox:Oe.findbbox([s,r,e,o])};return c.intersections=function(l){return Oe.shapeintersections(c,c.bbox,l,l.bbox,n)},c},getminmax:function(r,e,n){if(!n)return{min:0,max:0};let i=LI,a=UI,s,o;n.indexOf(0)===-1&&(n=[0].concat(n)),n.indexOf(1)===-1&&n.push(1);for(let c=0,l=n.length;c<l;c++)s=n[c],o=r.get(s),o[e]<i&&(i=o[e]),o[e]>a&&(a=o[e]);return{min:i,mid:(i+a)/2,max:a,size:a-i}},align:function(r,e){const n=e.p1.x,i=e.p1.y,a=-vy(e.p2.y-i,e.p2.x-n),s=function(o){return{x:(o.x-n)*Ic(a)-(o.y-i)*Yh(a),y:(o.x-n)*Yh(a)+(o.y-i)*Ic(a)}};return r.map(s)},roots:function(r,e){e=e||{p1:{x:0,y:0},p2:{x:1,y:0}};const n=r.length-1,i=Oe.align(r,e),a=function(P){return 0<=P&&P<=1};if(n===2){const P=i[0].y,O=i[1].y,I=i[2].y,M=P-2*O+I;if(M!==0){const D=-Jl(O*O-P*I),q=-P+O,K=-(D+q)/M,L=-(-D+q)/M;return[K,L].filter(a)}else if(O!==I&&M===0)return[(2*O-I)/(2*O-2*I)].filter(a);return[]}const s=i[0].y,o=i[1].y,c=i[2].y,l=i[3].y;let u=-s+3*o-3*c+l,d=3*s-6*o+3*c,f=-3*s+3*o,p=s;if(Oe.approximately(u,0)){if(Oe.approximately(d,0))return Oe.approximately(f,0)?[]:[-p/f].filter(a);const P=Jl(f*f-4*d*p),O=2*d;return[(P-f)/O,(-f-P)/O].filter(a)}d/=u,f/=u,p/=u;const m=(3*f-d*d)/3,y=m/3,v=(2*d*d*d-9*d*f+27*p)/27,b=v/2,w=b*b+y*y*y;let x,E,A,S,C;if(w<0){const P=-m/3,O=P*P*P,I=Jl(O),M=-v/(2*I),D=M<-1?-1:M>1?1:M,q=hot(D),K=by(I),L=2*K;return A=L*Ic(q/3)-d/3,S=L*Ic((q+b_)/3)-d/3,C=L*Ic((q+2*b_)/3)-d/3,[A,S,C].filter(a)}else{if(w===0)return x=b<0?by(-b):-by(b),A=2*x-d/3,S=-x-d/3,[A,S].filter(a);{const P=Jl(w);return x=by(-b+P),E=by(b+P),[x-E-d/3].filter(a)}}},droots:function(r){if(r.length===3){const e=r[0],n=r[1],i=r[2],a=e-2*n+i;if(a!==0){const s=-Jl(n*n-e*i),o=-e+n,c=-(s+o)/a,l=-(-s+o)/a;return[c,l]}else if(n!==i&&a===0)return[(2*n-i)/(2*(n-i))];return[]}if(r.length===2){const e=r[0],n=r[1];return e!==n?[e/(e-n)]:[]}return[]},curvature:function(r,e,n,i,a){let s,o,c,l,u=0,d=0;const f=Oe.compute(r,e),p=Oe.compute(r,n),m=f.x*f.x+f.y*f.y;if(i?(s=Jl(as(f.y*p.z-p.y*f.z,2)+as(f.z*p.x-p.z*f.x,2)+as(f.x*p.y-p.x*f.y,2)),o=as(m+f.z*f.z,3/2)):(s=f.x*p.y-f.y*p.x,o=as(m,3/2)),s===0||o===0)return{k:0,r:0};if(u=s/o,d=o/s,!a){const y=Oe.curvature(r-.001,e,n,i,!0).k,v=Oe.curvature(r+.001,e,n,i,!0).k;l=(v-u+(u-y))/2,c=(yy(v-u)+yy(u-y))/2}return{k:u,r:d,dk:l,adk:c}},inflections:function(r){if(r.length<4)return[];const e=Oe.align(r,{p1:r[0],p2:r.slice(-1)[0]}),n=e[2].x*e[1].y,i=e[3].x*e[1].y,a=e[1].x*e[2].y,s=e[3].x*e[2].y,o=18*(-3*n+2*i+3*a-s),c=18*(3*n-i-3*a),l=18*(a-n);if(Oe.approximately(o,0)){if(!Oe.approximately(c,0)){let p=-l/c;if(0<=p&&p<=1)return[p]}return[]}const u=2*o;if(Oe.approximately(u,0))return[];const d=c*c-4*o*l;if(d<0)return[];const f=Math.sqrt(d);return[(f-c)/u,-(c+f)/u].filter(function(p){return 0<=p&&p<=1})},bboxoverlap:function(r,e){const n=["x","y"],i=n.length;for(let a=0,s,o,c,l;a<i;a++)if(s=n[a],o=r[s].mid,c=e[s].mid,l=(r[s].size+e[s].size)/2,yy(o-c)>=l)return!1;return!0},expandbox:function(r,e){e.x.min<r.x.min&&(r.x.min=e.x.min),e.y.min<r.y.min&&(r.y.min=e.y.min),e.z&&e.z.min<r.z.min&&(r.z.min=e.z.min),e.x.max>r.x.max&&(r.x.max=e.x.max),e.y.max>r.y.max&&(r.y.max=e.y.max),e.z&&e.z.max>r.z.max&&(r.z.max=e.z.max),r.x.mid=(r.x.min+r.x.max)/2,r.y.mid=(r.y.min+r.y.max)/2,r.z&&(r.z.mid=(r.z.min+r.z.max)/2),r.x.size=r.x.max-r.x.min,r.y.size=r.y.max-r.y.min,r.z&&(r.z.size=r.z.max-r.z.min)},pairiteration:function(r,e,n){const i=r.bbox(),a=e.bbox(),s=1e5,o=n||.5;if(i.x.size+i.y.size<o&&a.x.size+a.y.size<o)return[(s*(r._t1+r._t2)/2|0)/s+"/"+(s*(e._t1+e._t2)/2|0)/s];let c=r.split(.5),l=e.split(.5),u=[{left:c.left,right:l.left},{left:c.left,right:l.right},{left:c.right,right:l.right},{left:c.right,right:l.left}];u=u.filter(function(f){return Oe.bboxoverlap(f.left.bbox(),f.right.bbox())});let d=[];return u.length===0||(u.forEach(function(f){d=d.concat(Oe.pairiteration(f.left,f.right,o))}),d=d.filter(function(f,p){return d.indexOf(f)===p})),d},getccenter:function(r,e,n){const i=e.x-r.x,a=e.y-r.y,s=n.x-e.x,o=n.y-e.y,c=i*Ic(Zl)-a*Yh(Zl),l=i*Yh(Zl)+a*Ic(Zl),u=s*Ic(Zl)-o*Yh(Zl),d=s*Yh(Zl)+o*Ic(Zl),f=(r.x+e.x)/2,p=(r.y+e.y)/2,m=(e.x+n.x)/2,y=(e.y+n.y)/2,v=f+c,b=p+l,w=m+u,x=y+d,E=Oe.lli8(f,p,v,b,m,y,w,x),A=Oe.dist(E,r);let S=vy(r.y-E.y,r.x-E.x),C=vy(e.y-E.y,e.x-E.x),P=vy(n.y-E.y,n.x-E.x),O;return S<P?((S>C||C>P)&&(S+=b_),S>P&&(O=P,P=S,S=O)):P<C&&C<S?(O=P,P=S,S=O):P+=b_,E.s=S,E.e=P,E.r=A,E},numberSort:function(r,e){return r-e}};class hv{constructor(e){this.curves=[],this._3d=!1,e&&(this.curves=e,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(e){return Oe.pointsToString(e.points)}).join(", ")+"]"}addCurve(e){this.curves.push(e),this._3d=this._3d||e._3d}length(){return this.curves.map(function(e){return e.length()}).reduce(function(e,n){return e+n})}curve(e){return this.curves[e]}bbox(){const e=this.curves;for(var n=e[0].bbox(),i=1;i<e.length;i++)Oe.expandbox(n,e[i].bbox());return n}offset(e){const n=[];return this.curves.forEach(function(i){n.push(...i.offset(e))}),new hv(n)}}const{abs:wy,min:JK,max:ZK,cos:mot,sin:yot,acos:vot,sqrt:_y}=Math,bot=Math.PI;class $r{constructor(e){let n=e&&e.forEach?e:Array.from(arguments).slice(),i=!1;if(typeof n[0]=="object"){i=n.length;const m=[];n.forEach(function(y){["x","y","z"].forEach(function(v){typeof y[v]<"u"&&m.push(y[v])})}),n=m}let a=!1;const s=n.length;if(i){if(i>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");a=!0}}else if(s!==6&&s!==8&&s!==9&&s!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const o=this._3d=!a&&(s===9||s===12)||e&&e[0]&&typeof e[0].z<"u",c=this.points=[];for(let m=0,y=o?3:2;m<s;m+=y){var l={x:n[m],y:n[m+1]};o&&(l.z=n[m+2]),c.push(l)}const u=this.order=c.length-1,d=this.dims=["x","y"];o&&d.push("z"),this.dimlen=d.length;const f=Oe.align(c,{p1:c[0],p2:c[u]}),p=Oe.dist(c[0],c[u]);this._linear=f.reduce((m,y)=>m+wy(y.y),0)<p/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(e,n,i,a){if(typeof a>"u"&&(a=.5),a===0)return new $r(n,n,i);if(a===1)return new $r(e,n,n);const s=$r.getABC(2,e,n,i,a);return new $r(e,s.A,i)}static cubicFromPoints(e,n,i,a,s){typeof a>"u"&&(a=.5);const o=$r.getABC(3,e,n,i,a);typeof s>"u"&&(s=Oe.dist(n,o.C));const c=s*(1-a)/a,l=Oe.dist(e,i),u=(i.x-e.x)/l,d=(i.y-e.y)/l,f=s*u,p=s*d,m=c*u,y=c*d,v={x:n.x-f,y:n.y-p},b={x:n.x+m,y:n.y+y},w=o.A,x={x:w.x+(v.x-w.x)/(1-a),y:w.y+(v.y-w.y)/(1-a)},E={x:w.x+(b.x-w.x)/a,y:w.y+(b.y-w.y)/a},A={x:e.x+(x.x-e.x)/a,y:e.y+(x.y-e.y)/a},S={x:i.x+(E.x-i.x)/(1-a),y:i.y+(E.y-i.y)/(1-a)};return new $r(e,A,S,i)}static getUtils(){return Oe}getUtils(){return $r.getUtils()}static get PolyBezier(){return hv}valueOf(){return this.toString()}toString(){return Oe.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const e=this.points,n=e[0].x,i=e[0].y,a=["M",n,i,this.order===2?"Q":"C"];for(let s=1,o=e.length;s<o;s++)a.push(e[s].x),a.push(e[s].y);return a.join(" ")}setRatios(e){if(e.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=e,this._lut=[]}verify(){const e=this.coordDigest();e!==this._print&&(this._print=e,this.update())}coordDigest(){return this.points.map(function(e,n){return""+n+e.x+e.y+(e.z?e.z:0)}).join("")}update(){this._lut=[],this.dpoints=Oe.derive(this.points,this._3d),this.computedirection()}computedirection(){const e=this.points,n=Oe.angle(e[0],e[this.order],e[1]);this.clockwise=n>0}length(){return Oe.length(this.derivative.bind(this))}static getABC(e=2,n,i,a,s=.5){const o=Oe.projectionratio(s,e),c=1-o,l={x:o*n.x+c*a.x,y:o*n.y+c*a.y},u=Oe.abcratio(s,e);return{A:{x:i.x+(i.x-l.x)/u,y:i.y+(i.y-l.y)/u},B:i,C:l,S:n,E:a}}getABC(e,n){n=n||this.get(e);let i=this.points[0],a=this.points[this.order];return $r.getABC(this.order,i,n,a,e)}getLUT(e){if(this.verify(),e=e||100,this._lut.length===e+1)return this._lut;this._lut=[],e++,this._lut=[];for(let n=0,i,a;n<e;n++)a=n/(e-1),i=this.compute(a),i.t=a,this._lut.push(i);return this._lut}on(e,n){n=n||5;const i=this.getLUT(),a=[];for(let s=0,o,c=0;s<i.length;s++)o=i[s],Oe.dist(o,e)<n&&(a.push(o),c+=s/i.length);return a.length?t/=a.length:!1}project(e){const n=this.getLUT(),i=n.length-1,a=Oe.closest(n,e),s=a.mpos,o=(s-1)/i,c=(s+1)/i,l=.1/i;let u=a.mdist,d=o,f=d,p;u+=1;for(let m;d<c+l;d+=l)p=this.compute(d),m=Oe.dist(e,p),m<u&&(u=m,f=d);return f=f<0?0:f>1?1:f,p=this.compute(f),p.t=f,p.d=u,p}get(e){return this.compute(e)}point(e){return this.points[e]}compute(e){return this.ratios?Oe.computeWithRatios(e,this.points,this.ratios,this._3d):Oe.compute(e,this.points,this._3d,this.ratios)}raise(){const e=this.points,n=[e[0]],i=e.length;for(let a=1,s,o;a<i;a++)s=e[a],o=e[a-1],n[a]={x:(i-a)/i*s.x+a/i*o.x,y:(i-a)/i*s.y+a/i*o.y};return n[i]=e[i-1],new $r(n)}derivative(e){return Oe.compute(e,this.dpoints[0],this._3d)}dderivative(e){return Oe.compute(e,this.dpoints[1],this._3d)}align(){let e=this.points;return new $r(Oe.align(e,{p1:e[0],p2:e[e.length-1]}))}curvature(e){return Oe.curvature(e,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return Oe.inflections(this.points)}normal(e){return this._3d?this.__normal3(e):this.__normal2(e)}__normal2(e){const n=this.derivative(e),i=_y(n.x*n.x+n.y*n.y);return{t:e,x:-n.y/i,y:n.x/i}}__normal3(e){const n=this.derivative(e),i=this.derivative(e+.01),a=_y(n.x*n.x+n.y*n.y+n.z*n.z),s=_y(i.x*i.x+i.y*i.y+i.z*i.z);n.x/=a,n.y/=a,n.z/=a,i.x/=s,i.y/=s,i.z/=s;const o={x:i.y*n.z-i.z*n.y,y:i.z*n.x-i.x*n.z,z:i.x*n.y-i.y*n.x},c=_y(o.x*o.x+o.y*o.y+o.z*o.z);o.x/=c,o.y/=c,o.z/=c;const l=[o.x*o.x,o.x*o.y-o.z,o.x*o.z+o.y,o.x*o.y+o.z,o.y*o.y,o.y*o.z-o.x,o.x*o.z-o.y,o.y*o.z+o.x,o.z*o.z];return{t:e,x:l[0]*n.x+l[1]*n.y+l[2]*n.z,y:l[3]*n.x+l[4]*n.y+l[5]*n.z,z:l[6]*n.x+l[7]*n.y+l[8]*n.z}}hull(e){let n=this.points,i=[],a=[],s=0;for(a[s++]=n[0],a[s++]=n[1],a[s++]=n[2],this.order===3&&(a[s++]=n[3]);n.length>1;){i=[];for(let o=0,c,l=n.length-1;o<l;o++)c=Oe.lerp(e,n[o],n[o+1]),a[s++]=c,i.push(c);n=i}return a}split(e,n){if(e===0&&n)return this.split(n).left;if(n===1)return this.split(e).right;const i=this.hull(e),a={left:this.order===2?new $r([i[0],i[3],i[5]]):new $r([i[0],i[4],i[7],i[9]]),right:this.order===2?new $r([i[5],i[4],i[2]]):new $r([i[9],i[8],i[6],i[3]]),span:i};return a.left._t1=Oe.map(0,0,1,this._t1,this._t2),a.left._t2=Oe.map(e,0,1,this._t1,this._t2),a.right._t1=Oe.map(e,0,1,this._t1,this._t2),a.right._t2=Oe.map(1,0,1,this._t1,this._t2),n?(n=Oe.map(n,e,1,0,1),a.right.split(n).left):a}extrema(){const e={};let n=[];return this.dims.forEach((function(i){let a=function(o){return o[i]},s=this.dpoints[0].map(a);e[i]=Oe.droots(s),this.order===3&&(s=this.dpoints[1].map(a),e[i]=e[i].concat(Oe.droots(s))),e[i]=e[i].filter(function(o){return o>=0&&o<=1}),n=n.concat(e[i].sort(Oe.numberSort))}).bind(this)),e.values=n.sort(Oe.numberSort).filter(function(i,a){return n.indexOf(i)===a}),e}bbox(){const e=this.extrema(),n={};return this.dims.forEach((function(i){n[i]=Oe.getminmax(this,i,e[i])}).bind(this)),n}overlaps(e){const n=this.bbox(),i=e.bbox();return Oe.bboxoverlap(n,i)}offset(e,n){if(typeof n<"u"){const i=this.get(e),a=this.normal(e),s={c:i,n:a,x:i.x+a.x*n,y:i.y+a.y*n};return this._3d&&(s.z=i.z+a.z*n),s}if(this._linear){const i=this.normal(0),a=this.points.map(function(s){const o={x:s.x+e*i.x,y:s.y+e*i.y};return s.z&&i.z&&(o.z=s.z+e*i.z),o});return[new $r(a)]}return this.reduce().map(function(i){return i._linear?i.offset(e)[0]:i.scale(e)})}simple(){if(this.order===3){const a=Oe.angle(this.points[0],this.points[3],this.points[1]),s=Oe.angle(this.points[0],this.points[3],this.points[2]);if(a>0&&s<0||a<0&&s>0)return!1}const e=this.normal(0),n=this.normal(1);let i=e.x*n.x+e.y*n.y;return this._3d&&(i+=e.z*n.z),wy(vot(i))<bot/3}reduce(){let e,n=0,i=0,a=.01,s,o=[],c=[],l=this.extrema().values;for(l.indexOf(0)===-1&&(l=[0].concat(l)),l.indexOf(1)===-1&&l.push(1),n=l[0],e=1;e<l.length;e++)i=l[e],s=this.split(n,i),s._t1=n,s._t2=i,o.push(s),n=i;return o.forEach(function(u){for(n=0,i=0;i<=1;)for(i=n+a;i<=1+a;i+=a)if(s=u.split(n,i),!s.simple()){if(i-=a,wy(n-i)<a)return[];s=u.split(n,i),s._t1=Oe.map(n,0,1,u._t1,u._t2),s._t2=Oe.map(i,0,1,u._t1,u._t2),c.push(s),n=i;break}n<1&&(s=u.split(n,1),s._t1=Oe.map(n,0,1,u._t1,u._t2),s._t2=u._t2,c.push(s))}),c}translate(e,n,i){i=typeof i=="number"?i:n;const a=this.order;let s=this.points.map((o,c)=>(1-c/a)*n+c/a*i);return new $r(this.points.map((o,c)=>({x:o.x+e.x*s[c],y:o.y+e.y*s[c]})))}scale(e){const n=this.order;let i=!1;if(typeof e=="function"&&(i=e),i&&n===2)return this.raise().scale(i);const a=this.clockwise,s=this.points;if(this._linear)return this.translate(this.normal(0),i?i(0):e,i?i(1):e);const o=i?i(0):e,c=i?i(1):e,l=[this.offset(0,10),this.offset(1,10)],u=[],d=Oe.lli4(l[0],l[0].c,l[1],l[1].c);if(!d)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(f){const p=u[f*n]=Oe.copy(s[f*n]);p.x+=(f?c:o)*l[f].n.x,p.y+=(f?c:o)*l[f].n.y}),i?([0,1].forEach(function(f){if(!(n===2&&f)){var p=s[f+1],m={x:p.x-d.x,y:p.y-d.y},y=i?i((f+1)/n):e;i&&!a&&(y=-y);var v=_y(m.x*m.x+m.y*m.y);m.x/=v,m.y/=v,u[f+1]={x:p.x+y*m.x,y:p.y+y*m.y}}}),new $r(u)):([0,1].forEach(f=>{if(n===2&&f)return;const p=u[f*n],m=this.derivative(f),y={x:p.x+m.x,y:p.y+m.y};u[f+1]=Oe.lli4(p,y,d,s[f+1])}),new $r(u))}outline(e,n,i,a){if(n=n===void 0?e:n,this._linear){const S=this.normal(0),C=this.points[0],P=this.points[this.points.length-1];let O,I,M;i===void 0&&(i=e,a=n),O={x:C.x+S.x*e,y:C.y+S.y*e},M={x:P.x+S.x*i,y:P.y+S.y*i},I={x:(O.x+M.x)/2,y:(O.y+M.y)/2};const D=[O,I,M];O={x:C.x-S.x*n,y:C.y-S.y*n},M={x:P.x-S.x*a,y:P.y-S.y*a},I={x:(O.x+M.x)/2,y:(O.y+M.y)/2};const q=[M,I,O],K=Oe.makeline(q[2],D[0]),L=Oe.makeline(D[2],q[0]),R=[K,new $r(D),L,new $r(q)];return new hv(R)}const s=this.reduce(),o=s.length,c=[];let l=[],u,d=0,f=this.length();const p=typeof i<"u"&&typeof a<"u";function m(S,C,P,O,I){return function(M){const D=O/P,q=(O+I)/P,K=C-S;return Oe.map(M,0,1,S+D*K,S+q*K)}}s.forEach(function(S){const C=S.length();p?(c.push(S.scale(m(e,i,f,d,C))),l.push(S.scale(m(-n,-a,f,d,C)))):(c.push(S.scale(e)),l.push(S.scale(-n))),d+=C}),l=l.map(function(S){return u=S.points,u[3]?S.points=[u[3],u[2],u[1],u[0]]:S.points=[u[2],u[1],u[0]],S}).reverse();const y=c[0].points[0],v=c[o-1].points[c[o-1].points.length-1],b=l[o-1].points[l[o-1].points.length-1],w=l[0].points[0],x=Oe.makeline(b,y),E=Oe.makeline(v,w),A=[x].concat(c).concat([E]).concat(l);return new hv(A)}outlineshapes(e,n,i){n=n||e;const a=this.outline(e,n).curves,s=[];for(let o=1,c=a.length;o<c/2;o++){const l=Oe.makeshape(a[o],a[c-o],i);l.startcap.virtual=o>1,l.endcap.virtual=o<c/2-1,s.push(l)}return s}intersects(e,n){return e?e.p1&&e.p2?this.lineIntersects(e):(e instanceof $r&&(e=e.reduce()),this.curveintersects(this.reduce(),e,n)):this.selfintersects(n)}lineIntersects(e){const n=JK(e.p1.x,e.p2.x),i=JK(e.p1.y,e.p2.y),a=ZK(e.p1.x,e.p2.x),s=ZK(e.p1.y,e.p2.y);return Oe.roots(this.points,e).filter(o=>{var c=this.get(o);return Oe.between(c.x,n,a)&&Oe.between(c.y,i,s)})}selfintersects(e){const n=this.reduce(),i=n.length-2,a=[];for(let s=0,o,c,l;s<i;s++)c=n.slice(s,s+1),l=n.slice(s+2),o=this.curveintersects(c,l,e),a.push(...o);return a}curveintersects(e,n,i){const a=[];e.forEach(function(o){n.forEach(function(c){o.overlaps(c)&&a.push({left:o,right:c})})});let s=[];return a.forEach(function(o){const c=Oe.pairiteration(o.left,o.right,i);c.length>0&&(s=s.concat(c))}),s}arcs(e){return e=e||.5,this._iterate(e,[])}_error(e,n,i,a){const s=(a-i)/4,o=this.get(i+s),c=this.get(a-s),l=Oe.dist(e,n),u=Oe.dist(e,o),d=Oe.dist(e,c);return wy(u-l)+wy(d-l)}_iterate(e,n){let i=0,a=1,s;do{s=0,a=1;let o=this.get(i),c,l,u,d,f=!1,p=!1,m,y=a,v=1;do if(p=f,d=u,y=(i+a)/2,c=this.get(y),l=this.get(a),u=Oe.getccenter(o,c,l),u.interval={start:i,end:a},f=this._error(u,o,i,a)<=e,m=p&&!f,m||(v=a),f){if(a>=1){if(u.interval.end=v=1,d=u,a>1){let w={x:u.x+u.r*mot(u.e),y:u.y+u.r*yot(u.e)};u.e+=Oe.angle({x:u.x,y:u.y},w,this.get(1))}break}a=a+(a-i)/2}else a=y;while(!m&&s++<100);if(s>=100)break;d=d||u,n.push(d),i=v}while(a<1);return n}}function q3(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,i=Array(e);n<e;n++)i[n]=r[n];return i}function wot(r){if(Array.isArray(r))return r}function _ot(r){if(Array.isArray(r))return q3(r)}function xot(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Eot(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var i,a,s,o,c=[],l=!0,u=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(l=(i=s.call(n)).done)&&(c.push(i.value),c.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return c}}function Sot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cot(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aot(r,e){if(r==null)return{};var n,i,a=Tot(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)n=s[i],e.includes(n)||{}.propertyIsEnumerable.call(r,n)&&(a[n]=r[n])}return a}function Tot(r,e){if(r==null)return{};var n={};for(var i in r)if({}.hasOwnProperty.call(r,i)){if(e.includes(i))continue;n[i]=r[i]}return n}function kot(r,e){return wot(r)||Eot(r,e)||Soe(r,e)||Sot()}function Pot(r){return _ot(r)||xot(r)||Soe(r)||Cot()}function Oot(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function Not(r){var e=Oot(r,"string");return typeof e=="symbol"?e:e+""}function Soe(r,e){if(r){if(typeof r=="string")return q3(r,e);var n={}.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q3(r,e):void 0}}var Iot=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=(e instanceof Array?e.length?e:[void 0]:[e]).map(function(c){return{keyAccessor:c,isProp:!(c instanceof Function)}}),s=r.reduce(function(c,l){var u=c,d=l;return a.forEach(function(f,p){var m=f.keyAccessor,y=f.isProp,v;if(y){var b=d,w=b[m],x=Aot(b,[m].map(Not));v=w,d=x}else v=m(d,p);p+1<a.length?(u.hasOwnProperty(v)||(u[v]={}),u=u[v]):n?(u.hasOwnProperty(v)||(u[v]=[]),u[v].push(d)):u[v]=d}),c},{});n instanceof Function&&function c(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;u===a.length?Object.keys(l).forEach(function(d){return l[d]=n(l[d])}):Object.values(l).forEach(function(d){return c(d,u+1)})}(s);var o=s;return i&&(o=[],function c(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];u.length===a.length?o.push({keys:u,vals:l}):Object.entries(l).forEach(function(d){var f=kot(d,2),p=f[0],m=f[1];return c(m,[].concat(Pot(u),[p]))})}(s),e instanceof Array&&e.length===0&&o.length===1&&(o[0].keys=[])),o};function Rot(r){for(var e=r.length/6|0,n=new Array(e),i=0;i<e;)n[i]="#"+r.slice(i*6,++i*6);return n}const $ot=Rot("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function jot(r,e){e===void 0&&(e={});var n=e.insertAt;if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",n==="top"&&i.firstChild?i.insertBefore(a,i.firstChild):i.appendChild(a),a.styleSheet?a.styleSheet.cssText=r:a.appendChild(document.createTextNode(r))}}var Dot=`.force-graph-container canvas {
  display: block;
  user-select: none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.force-graph-container .clickable {
  cursor: pointer;
}

.force-graph-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.force-graph-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
`;jot(Dot);function z3(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,i=Array(e);n<e;n++)i[n]=r[n];return i}function Mot(r){if(Array.isArray(r))return r}function Lot(r){if(Array.isArray(r))return z3(r)}function QK(r,e,n){if(Coe())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,e);var a=new(r.bind.apply(r,i));return a}function rb(r,e,n){return(e=Hot(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Coe(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Coe=function(){return!!r})()}function Uot(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Bot(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var i,a,s,o,c=[],l=!0,u=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(l=(i=s.call(n)).done)&&(c.push(i.value),c.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return c}}function Fot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qot(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eY(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,i)}return n}function Xh(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eY(Object(n),!0).forEach(function(i){rb(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):eY(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function pv(r,e){return Mot(r)||Bot(r,e)||Aoe(r,e)||Fot()}function ds(r){return Lot(r)||Uot(r)||Aoe(r)||qot()}function zot(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Hot(r){var e=zot(r,"string");return typeof e=="symbol"?e:e+""}function H3(r){"@babel/helpers - typeof";return H3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H3(r)}function Aoe(r,e){if(r){if(typeof r=="string")return z3(r,e);var n={}.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z3(r,e):void 0}}var Wot=hC($ot);function tY(r,e,n){!e||typeof n!="string"||r.filter(function(i){return!i[n]}).forEach(function(i){i[n]=Wot(e(i))})}function Vot(r,e){var n=r.nodes,i=r.links,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=a.nodeFilter,o=s===void 0?function(){return!0}:s,c=a.onLoopError,l=c===void 0?function(m){throw"Invalid DAG structure! Found cycle in node path: ".concat(m.join(" -> "),".")}:c,u={};n.forEach(function(m){return u[e(m)]={data:m,out:[],depth:-1,skip:!o(m)}}),i.forEach(function(m){var y=m.source,v=m.target,b=A(y),w=A(v);if(!u.hasOwnProperty(b))throw"Missing source node with id: ".concat(b);if(!u.hasOwnProperty(w))throw"Missing target node with id: ".concat(w);var x=u[b],E=u[w];x.out.push(E);function A(S){return H3(S)==="object"?e(S):S}});var d=[];p(Object.values(u));var f=Object.assign.apply(Object,[{}].concat(ds(Object.entries(u).filter(function(m){var y=pv(m,2),v=y[1];return!v.skip}).map(function(m){var y=pv(m,2),v=y[0],b=y[1];return rb({},v,b.depth)}))));return f;function p(m){for(var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,b=function(){var A=m[w];if(y.indexOf(A)!==-1){var S=[].concat(ds(y.slice(y.indexOf(A))),[A]).map(function(C){return e(C.data)});return d.some(function(C){return C.length===S.length&&C.every(function(P,O){return P===S[O]})})||(d.push(S),l(S)),1}v>A.depth&&(A.depth=v,p(A.out,[].concat(ds(y),[A]),v+(A.skip?0:1)))},w=0,x=m.length;w<x;w++)b()}}var Got=2,wi=function(e,n){return n.onNeedsRedraw&&n.onNeedsRedraw()},rY=function(e,n){if(!n.isShadow){var i=yr(n.linkDirectionalParticles);n.graphData.links.forEach(function(a){var s=Math.round(Math.abs(i(a)));s?a.__photons=ds(Array(s)).map(function(){return{}}):delete a.__photons})}},tS=AM({props:{graphData:{default:{nodes:[],links:[]},onChange:function(e,n){n.engineRunning=!1,rY(e,n)}},dagMode:{onChange:function(e,n){!e&&(n.graphData.nodes||[]).forEach(function(i){return i.fx=i.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(e){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:wi},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:wi},nodeColor:{default:"color",triggerUpdate:!1,onChange:wi},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:wi},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:wi},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:wi},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:wi},linkColor:{default:"color",triggerUpdate:!1,onChange:wi},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:wi},linkWidth:{default:1,triggerUpdate:!1,onChange:wi},linkCurvature:{default:0,triggerUpdate:!1,onChange:wi},linkCanvasObject:{triggerUpdate:!1,onChange:wi},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:wi},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:wi},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:wi},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:wi},linkDirectionalParticles:{default:0,triggerUpdate:!1,onChange:rY},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(e,n){n.forceLayout.alphaDecay(e)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(e,n){n.forceLayout.alphaTarget(e)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(e,n){n.forceLayout.velocityDecay(e)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(e,n,i){return i===void 0?e.forceLayout.force(n):(e.forceLayout.force(n,i),this)},d3ReheatSimulation:function(e){return e.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(e){return e.cntTicks=0,e.startTickTime=new Date,e.engineRunning=!0,this},isEngineRunning:function(e){return!!e.engineRunning},tickFrame:function(e){return!e.isShadow&&n(),a(),!e.isShadow&&s(),!e.isShadow&&o(),i(),this;function n(){e.engineRunning&&(++e.cntTicks>e.cooldownTicks||new Date-e.startTickTime>e.cooldownTime||e.d3AlphaMin>0&&e.forceLayout.alpha()<e.d3AlphaMin?(e.engineRunning=!1,e.onEngineStop()):(e.forceLayout.tick(),e.onEngineTick()))}function i(){var c=yr(e.nodeVisibility),l=yr(e.nodeVal),u=yr(e.nodeColor),d=yr(e.nodeCanvasObjectMode),f=e.ctx,p=e.isShadow/e.globalScale,m=e.graphData.nodes.filter(c);f.save(),m.forEach(function(y){var v=d(y);if(e.nodeCanvasObject&&(v==="before"||v==="replace")&&(e.nodeCanvasObject(y,f,e.globalScale),v==="replace")){f.restore();return}var b=Math.sqrt(Math.max(0,l(y)||1))*e.nodeRelSize+p;f.beginPath(),f.arc(y.x,y.y,b,0,2*Math.PI,!1),f.fillStyle=u(y)||"rgba(31, 120, 180, 0.92)",f.fill(),e.nodeCanvasObject&&v==="after"&&e.nodeCanvasObject(y,e.ctx,e.globalScale)}),f.restore()}function a(){var c=yr(e.linkVisibility),l=yr(e.linkColor),u=yr(e.linkWidth),d=yr(e.linkLineDash),f=yr(e.linkCurvature),p=yr(e.linkCanvasObjectMode),m=e.ctx,y=e.isShadow*2,v=e.graphData.links.filter(c);v.forEach(C);var b=[],w=[],x=v;if(e.linkCanvasObject){var E=[],A=[];v.forEach(function(P){return({before:b,after:w,replace:E}[p(P)]||A).push(P)}),x=[].concat(ds(b),w,A),b=b.concat(E)}m.save(),b.forEach(function(P){return e.linkCanvasObject(P,m,e.globalScale)}),m.restore();var S=Iot(x,[l,u,d]);m.save(),Object.entries(S).forEach(function(P){var O=pv(P,2),I=O[0],M=O[1],D=!I||I==="undefined"?"rgba(0,0,0,0.15)":I;Object.entries(M).forEach(function(q){var K=pv(q,2),L=K[0],R=K[1],j=(L||1)/e.globalScale+y;Object.entries(R).forEach(function(W){var H=pv(W,2);H[0];var z=H[1],B=d(z[0]);m.beginPath(),z.forEach(function(F){var G=F.source,Q=F.target;if(!(!G||!Q||!G.hasOwnProperty("x")||!Q.hasOwnProperty("x"))){m.moveTo(G.x,G.y);var te=F.__controlPoints;te?m[te.length===2?"quadraticCurveTo":"bezierCurveTo"].apply(m,ds(te).concat([Q.x,Q.y])):m.lineTo(Q.x,Q.y)}}),m.strokeStyle=D,m.lineWidth=j,m.setLineDash(B||[]),m.stroke()})})}),m.restore(),m.save(),w.forEach(function(P){return e.linkCanvasObject(P,m,e.globalScale)}),m.restore();function C(P){var O=f(P);if(!O){P.__controlPoints=null;return}var I=P.source,M=P.target;if(!(!I||!M||!I.hasOwnProperty("x")||!M.hasOwnProperty("x"))){var D=Math.sqrt(Math.pow(M.x-I.x,2)+Math.pow(M.y-I.y,2));if(D>0){var q=Math.atan2(M.y-I.y,M.x-I.x),K=D*O,L={x:(I.x+M.x)/2+K*Math.cos(q-Math.PI/2),y:(I.y+M.y)/2+K*Math.sin(q-Math.PI/2)};P.__controlPoints=[L.x,L.y]}else{var R=O*70;P.__controlPoints=[M.x,M.y-R,M.x+R,M.y]}}}}function s(){var c=1.6,l=.2,u=yr(e.linkDirectionalArrowLength),d=yr(e.linkDirectionalArrowRelPos),f=yr(e.linkVisibility),p=yr(e.linkDirectionalArrowColor||e.linkColor),m=yr(e.nodeVal),y=e.ctx;y.save(),e.graphData.links.filter(f).forEach(function(v){var b=u(v);if(!(!b||b<0)){var w=v.source,x=v.target;if(!(!w||!x||!w.hasOwnProperty("x")||!x.hasOwnProperty("x"))){var E=Math.sqrt(Math.max(0,m(w)||1))*e.nodeRelSize,A=Math.sqrt(Math.max(0,m(x)||1))*e.nodeRelSize,S=Math.min(1,Math.max(0,d(v))),C=p(v)||"rgba(0,0,0,0.28)",P=b/c/2,O=v.__controlPoints&&QK($r,[w.x,w.y].concat(ds(v.__controlPoints),[x.x,x.y])),I=O?function(j){return O.get(j)}:function(j){return{x:w.x+(x.x-w.x)*j||0,y:w.y+(x.y-w.y)*j||0}},M=O?O.length():Math.sqrt(Math.pow(x.x-w.x,2)+Math.pow(x.y-w.y,2)),D=E+b+(M-E-A-b)*S,q=I(D/M),K=I((D-b)/M),L=I((D-b*(1-l))/M),R=Math.atan2(q.y-K.y,q.x-K.x)-Math.PI/2;y.beginPath(),y.moveTo(q.x,q.y),y.lineTo(K.x+P*Math.cos(R),K.y+P*Math.sin(R)),y.lineTo(L.x,L.y),y.lineTo(K.x-P*Math.cos(R),K.y-P*Math.sin(R)),y.fillStyle=C,y.fill()}}}),y.restore()}function o(){var c=yr(e.linkDirectionalParticles),l=yr(e.linkDirectionalParticleSpeed),u=yr(e.linkDirectionalParticleWidth),d=yr(e.linkVisibility),f=yr(e.linkDirectionalParticleColor||e.linkColor),p=e.ctx;p.save(),e.graphData.links.filter(d).forEach(function(m){var y=c(m);if(!(!m.hasOwnProperty("__photons")||!m.__photons.length)){var v=m.source,b=m.target;if(!(!v||!b||!v.hasOwnProperty("x")||!b.hasOwnProperty("x"))){var w=l(m),x=m.__photons||[],E=Math.max(0,u(m)/2)/Math.sqrt(e.globalScale),A=f(m)||"rgba(0,0,0,0.28)";p.fillStyle=A;var S=m.__controlPoints?QK($r,[v.x,v.y].concat(ds(m.__controlPoints),[b.x,b.y])):null,C=0,P=!1;x.forEach(function(O){var I=!!O.__singleHop;if(O.hasOwnProperty("__progressRatio")||(O.__progressRatio=I?0:C/y),!I&&C++,O.__progressRatio+=w,O.__progressRatio>=1)if(!I)O.__progressRatio=O.__progressRatio%1;else{P=!0;return}var M=O.__progressRatio,D=S?S.get(M):{x:v.x+(b.x-v.x)*M||0,y:v.y+(b.y-v.y)*M||0};p.beginPath(),p.arc(D.x,D.y,E,0,2*Math.PI,!1),p.fill()}),P&&(m.__photons=m.__photons.filter(function(O){return!O.__singleHop||O.__progressRatio<=1}))}}}),p.restore()}},emitParticle:function(e,n){return n&&(!n.__photons&&(n.__photons=[]),n.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:uot().force("link",rot()).force("charge",dot()).force("center",ist()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(e,n){n.ctx=e},update:function(e,n){e.engineRunning=!1,e.onUpdate(),e.nodeAutoColorBy!==null&&tY(e.graphData.nodes,yr(e.nodeAutoColorBy),e.nodeColor),e.linkAutoColorBy!==null&&tY(e.graphData.links,yr(e.linkAutoColorBy),e.linkColor),e.graphData.links.forEach(function(p){p.source=p[e.linkSource],p.target=p[e.linkTarget]}),e.forceLayout.stop().alpha(1).nodes(e.graphData.nodes);var i=e.forceLayout.force("link");i&&i.id(function(p){return p[e.nodeId]}).links(e.graphData.links);var a=e.dagMode&&Vot(e.graphData,function(p){return p[e.nodeId]},{nodeFilter:e.dagNodeFilter,onLoopError:e.onDagError||void 0}),s=Math.max.apply(Math,ds(Object.values(a||[]))),o=e.dagLevelDistance||e.graphData.nodes.length/(s||1)*Got*(["radialin","radialout"].indexOf(e.dagMode)!==-1?.7:1);if(["lr","rl","td","bu"].includes(n.dagMode)){var c=["lr","rl"].includes(n.dagMode)?"fx":"fy";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(p){return delete p[c]})}if(["lr","rl","td","bu"].includes(e.dagMode)){var l=["rl","bu"].includes(e.dagMode),u=function(m){return(a[m[e.nodeId]]-s/2)*o*(l?-1:1)},d=["lr","rl"].includes(e.dagMode)?"fx":"fy";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(p){return p[d]=u(p)})}e.forceLayout.force("dagRadial",["radialin","radialout"].indexOf(e.dagMode)!==-1?fot(function(p){var m=a[p[e.nodeId]]||-1;return(e.dagMode==="radialin"?s-m:m)*o}).strength(function(p){return e.dagNodeFilter(p)?1:0}):null);for(var f=0;f<e.warmupTicks&&!(e.d3AlphaMin>0&&e.forceLayout.alpha()<e.d3AlphaMin);f++)e.forceLayout.tick();this.resetCountdown(),e.onFinishUpdate()}});function Toe(r,e){var n=r instanceof Array?r:[r],i=new e;return i._destructor&&i._destructor(),{linkProp:function(s){return{default:i[s](),onChange:function(c,l){n.forEach(function(u){return l[u][s](c)})},triggerUpdate:!1}},linkMethod:function(s){return function(o){for(var c=arguments.length,l=new Array(c>1?c-1:0),u=1;u<c;u++)l[u-1]=arguments[u];var d=[];return n.forEach(function(f){var p=o[f],m=p[s].apply(p,l);m!==p&&d.push(m)}),d.length?d[0]:this}}}}var Kot=800,Yot=4,Xot=5,koe=Toe("forceGraph",tS),Jot=Toe(["forceGraph","shadowGraph"],tS),Zot=Object.assign.apply(Object,ds(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(r){return rb({},r,koe.linkProp(r))})).concat(ds(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(r){return rb({},r,Jot.linkProp(r))})))),Qot=Object.assign.apply(Object,ds(["d3Force","d3ReheatSimulation","emitParticle"].map(function(r){return rb({},r,koe.linkMethod(r))})));function BI(r){if(r.canvas){var e=r.canvas.width,n=r.canvas.height;e===300&&n===150&&(e=n=0);var i=window.devicePixelRatio;e/=i,n/=i,[r.canvas,r.shadowCanvas].forEach(function(s){s.style.width="".concat(r.width,"px"),s.style.height="".concat(r.height,"px"),s.width=r.width*i,s.height=r.height*i,!e&&!n&&s.getContext("2d").scale(i,i)});var a=Oo(r.canvas).k;r.zoom.translateBy(r.zoom.__baseElem,(r.width-e)/2/a,(r.height-n)/2/a),r.needsRedraw=!0}}function Poe(r){var e=window.devicePixelRatio;r.setTransform(e,0,0,e,0,0)}function nY(r,e,n){r.save(),Poe(r),r.clearRect(0,0,e,n),r.restore()}var ect=AM({props:Xh({width:{default:window.innerWidth,onChange:function(e,n){return BI(n)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(e,n){return BI(n)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(e,n){[e.nodes,e.links].every(function(a){return(a||[]).every(function(s){return!s.hasOwnProperty("__indexColor")})})&&n.colorTracker.reset(),[{type:"Node",objs:e.nodes},{type:"Link",objs:e.links}].forEach(i),n.forceGraph.graphData(e),n.shadowGraph.graphData(e);function i(a){var s=a.type,o=a.objs;o.filter(function(c){if(!c.hasOwnProperty("__indexColor"))return!0;var l=n.colorTracker.lookup(c.__indexColor);return!l||!l.hasOwnProperty("d")||l.d!==c}).forEach(function(c){c.__indexColor=n.colorTracker.register({type:s,d:c})})}},triggerUpdate:!1},backgroundColor:{onChange:function(e,n){n.canvas&&e&&(n.canvas.style.background=e)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(e,n){n.shadowGraph.nodeCanvasObject(e?function(i,a,s){return e(i,i.__indexColor,a,s)}:null),n.flushShadowCanvas&&n.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(e,n){n.shadowGraph.linkCanvasObject(e?function(i,a,s){return e(i,i.__indexColor,a,s)}:null),n.flushShadowCanvas&&n.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(e,n){n.zoom.scaleExtent([e,n.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(e,n){n.zoom.scaleExtent([n.zoom.scaleExtent()[0],e])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(e,n){n.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},Zot),aliases:{stopAnimation:"pauseAnimation"},methods:Xh({graph2ScreenCoords:function(e,n,i){var a=Oo(e.canvas);return{x:n*a.k+a.x,y:i*a.k+a.y}},screen2GraphCoords:function(e,n,i){var a=Oo(e.canvas);return{x:(n-a.x)/a.k,y:(i-a.y)/a.k}},centerAt:function(e,n,i,a){if(!e.canvas)return null;if(n!==void 0||i!==void 0){var s=Object.assign({},n!==void 0?{x:n}:{},i!==void 0?{y:i}:{});return a?e.tweenGroup.add(new TK(o()).to(s,a).easing(af.Quadratic.Out).onUpdate(c).start()):c(s),this}return o();function o(){var l=Oo(e.canvas);return{x:(e.width/2-l.x)/l.k,y:(e.height/2-l.y)/l.k}}function c(l){var u=l.x,d=l.y;e.zoom.translateTo(e.zoom.__baseElem,u===void 0?o().x:u,d===void 0?o().y:d),e.needsRedraw=!0}},zoom:function(e,n,i){if(!e.canvas)return null;if(n!==void 0)return i?e.tweenGroup.add(new TK({k:a()}).to({k:n},i).easing(af.Quadratic.Out).onUpdate(function(o){var c=o.k;return s(c)}).start()):s(n),this;return a();function a(){return Oo(e.canvas).k}function s(o){e.zoom.scaleTo(e.zoom.__baseElem,o),e.needsRedraw=!0}},zoomToFit:function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,a=arguments.length,s=new Array(a>3?a-3:0),o=3;o<a;o++)s[o-3]=arguments[o];var c=this.getGraphBbox.apply(this,s);if(c){var l={x:(c.x[0]+c.x[1])/2,y:(c.y[0]+c.y[1])/2},u=Math.max(1e-12,Math.min(1e12,(e.width-i*2)/(c.x[1]-c.x[0]),(e.height-i*2)/(c.y[1]-c.y[0])));this.centerAt(l.x,l.y,n),this.zoom(u,n)}return this},getGraphBbox:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},i=yr(e.nodeVal),a=function(c){return Math.sqrt(Math.max(0,i(c)||1))*e.nodeRelSize},s=e.graphData.nodes.filter(n).map(function(o){return{x:o.x,y:o.y,r:a(o)}});return s.length?{x:[Qx(s,function(o){return o.x-o.r}),Zx(s,function(o){return o.x+o.r})],y:[Qx(s,function(o){return o.y-o.r}),Zx(s,function(o){return o.y+o.r})]}:null},pauseAnimation:function(e){return e.animationFrameRequestId&&(cancelAnimationFrame(e.animationFrameRequestId),e.animationFrameRequestId=null),this},resumeAnimation:function(e){return e.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},Qot),stateInit:function(){return{lastSetZoom:1,zoom:mit(),forceGraph:new tS,shadowGraph:new tS().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new Dat,tweenGroup:new Zse}},init:function(e,n){var i=this;e.innerHTML="";var a=document.createElement("div");a.classList.add("force-graph-container"),a.style.position="relative",e.appendChild(a),n.canvas=document.createElement("canvas"),n.backgroundColor&&(n.canvas.style.background=n.backgroundColor),a.appendChild(n.canvas),n.shadowCanvas=document.createElement("canvas");var s=n.canvas.getContext("2d"),o=n.shadowCanvas.getContext("2d",{willReadFrequently:!0}),c={x:-1e12,y:-1e12},l=function(){var f=null,p=window.devicePixelRatio,m=c.x>0&&c.y>0?o.getImageData(c.x*p,c.y*p,1,1):null;return m&&(f=n.colorTracker.lookup(m.data)),f};us(n.canvas).call(Zrt().subject(function(){if(!n.enableNodeDrag)return null;var d=l();return d&&d.type==="Node"?d.d:null}).on("start",function(d){var f=d.subject;f.__initialDragPos={x:f.x,y:f.y,fx:f.fx,fy:f.fy},d.active||(f.fx=f.x,f.fy=f.y),n.canvas.classList.add("grabbable")}).on("drag",function(d){var f=d.subject,p=f.__initialDragPos,m=d,y=Oo(n.canvas).k,v={x:p.x+(m.x-p.x)/y-f.x,y:p.y+(m.y-p.y)/y-f.y};["x","y"].forEach(function(b){return f["f".concat(b)]=f[b]=p[b]+(m[b]-p[b])/y}),!(!f.__dragged&&Xot>=Math.sqrt(Zze(["x","y"].map(function(b){return Math.pow(d[b]-p[b],2)}))))&&(n.forceGraph.d3AlphaTarget(.3).resetCountdown(),n.isPointerDragging=!0,f.__dragged=!0,n.onNodeDrag(f,v))}).on("end",function(d){var f=d.subject,p=f.__initialDragPos,m={x:f.x-p.x,y:f.y-p.y};p.fx===void 0&&(f.fx=void 0),p.fy===void 0&&(f.fy=void 0),delete f.__initialDragPos,n.forceGraph.d3AlphaTarget()&&n.forceGraph.d3AlphaTarget(0).resetCountdown(),n.canvas.classList.remove("grabbable"),n.isPointerDragging=!1,f.__dragged&&(delete f.__dragged,n.onNodeDragEnd(f,m))})),n.zoom(n.zoom.__baseElem=us(n.canvas)),n.zoom.__baseElem.on("dblclick.zoom",null),n.zoom.filter(function(d){return!d.button&&n.enableZoomPanInteraction&&(d.type!=="wheel"||yr(n.enableZoomInteraction)(d))&&(d.type==="wheel"||yr(n.enablePanInteraction)(d))}).on("zoom",function(d){var f=d.transform;[s,o].forEach(function(p){Poe(p),p.translate(f.x,f.y),p.scale(f.k,f.k)}),n.isPointerDragging=!0,n.onZoom&&n.onZoom(Xh(Xh({},f),i.centerAt())),n.needsRedraw=!0}).on("end",function(d){n.isPointerDragging=!1,n.onZoomEnd&&n.onZoomEnd(Xh(Xh({},d.transform),i.centerAt()))}),BI(n),n.forceGraph.onNeedsRedraw(function(){return n.needsRedraw=!0}).onFinishUpdate(function(){Oo(n.canvas).k===n.lastSetZoom&&n.graphData.nodes.length&&(n.zoom.scaleTo(n.zoom.__baseElem,n.lastSetZoom=Yot/Math.cbrt(n.graphData.nodes.length)),n.needsRedraw=!0)}),n.tooltip=new nst(a),["pointermove","pointerdown"].forEach(function(d){return a.addEventListener(d,function(f){d==="pointerdown"&&(n.isPointerPressed=!0,n.pointerDownEvent=f),!n.isPointerDragging&&f.type==="pointermove"&&n.onBackgroundClick&&(f.pressure>0||n.isPointerPressed)&&(f.pointerType!=="touch"||f.movementX===void 0||[f.movementX,f.movementY].some(function(y){return Math.abs(y)>1}))&&(n.isPointerDragging=!0);var p=m(a);c.x=f.pageX-p.left,c.y=f.pageY-p.top;function m(y){var v=y.getBoundingClientRect(),b=window.pageXOffset||document.documentElement.scrollLeft,w=window.pageYOffset||document.documentElement.scrollTop;return{top:v.top+w,left:v.left+b}}},{passive:!0})}),a.addEventListener("pointerup",function(d){if(n.isPointerPressed){if(n.isPointerPressed=!1,n.isPointerDragging){n.isPointerDragging=!1;return}var f=[d,n.pointerDownEvent];requestAnimationFrame(function(){if(d.button===0)if(n.hoverObj){var p=n["on".concat(n.hoverObj.type,"Click")];p&&p.apply(void 0,[n.hoverObj.d].concat(f))}else n.onBackgroundClick&&n.onBackgroundClick.apply(n,f);if(d.button===2)if(n.hoverObj){var m=n["on".concat(n.hoverObj.type,"RightClick")];m&&m.apply(void 0,[n.hoverObj.d].concat(f))}else n.onBackgroundRightClick&&n.onBackgroundRightClick.apply(n,f)})}},{passive:!0}),a.addEventListener("contextmenu",function(d){return!n.onBackgroundRightClick&&!n.onNodeRightClick&&!n.onLinkRightClick?!0:(d.preventDefault(),!1)}),n.forceGraph(s),n.shadowGraph(o);var u=zit(function(){nY(o,n.width,n.height),n.shadowGraph.linkWidth(function(f){return yr(n.linkWidth)(f)+n.linkHoverPrecision});var d=Oo(n.canvas);n.shadowGraph.globalScale(d.k).tickFrame()},Kot);n.flushShadowCanvas=u.flush,(this._animationCycle=function d(){var f=!n.autoPauseRedraw||!!n.needsRedraw||n.forceGraph.isEngineRunning()||n.graphData.links.some(function(E){return E.__photons&&E.__photons.length});if(n.needsRedraw=!1,n.enablePointerInteraction){var p=n.isPointerDragging?null:l();if(p!==n.hoverObj){var m=n.hoverObj,y=m?m.type:null,v=p?p.type:null;if(y&&y!==v){var b=n["on".concat(y,"Hover")];b&&b(null,m.d)}if(v){var w=n["on".concat(v,"Hover")];w&&w(p.d,y===v?m.d:null)}n.tooltip.content(p&&yr(n["".concat(p.type.toLowerCase(),"Label")])(p.d)||null),n.canvas.classList[p&&n["on".concat(v,"Click")]||!p&&n.onBackgroundClick?"add":"remove"]("clickable"),n.hoverObj=p}f&&u()}if(f){nY(s,n.width,n.height);var x=Oo(n.canvas).k;n.onRenderFramePre&&n.onRenderFramePre(s,x),n.forceGraph.globalScale(x).tickFrame(),n.onRenderFramePost&&n.onRenderFramePost(s,x)}n.tweenGroup.update(),n.animationFrameRequestId=requestAnimationFrame(d)})()},update:function(e){}});const HC={width:X.number,height:X.number,graphData:X.shape({nodes:X.arrayOf(X.object).isRequired,links:X.arrayOf(X.object).isRequired}),backgroundColor:X.string,nodeRelSize:X.number,nodeId:X.string,nodeLabel:X.oneOfType([X.string,X.func]),nodeVal:X.oneOfType([X.number,X.string,X.func]),nodeVisibility:X.oneOfType([X.bool,X.string,X.func]),nodeColor:X.oneOfType([X.string,X.func]),nodeAutoColorBy:X.oneOfType([X.string,X.func]),onNodeHover:X.func,onNodeClick:X.func,linkSource:X.string,linkTarget:X.string,linkLabel:X.oneOfType([X.string,X.func]),linkVisibility:X.oneOfType([X.bool,X.string,X.func]),linkColor:X.oneOfType([X.string,X.func]),linkAutoColorBy:X.oneOfType([X.string,X.func]),linkWidth:X.oneOfType([X.number,X.string,X.func]),linkCurvature:X.oneOfType([X.number,X.string,X.func]),linkDirectionalArrowLength:X.oneOfType([X.number,X.string,X.func]),linkDirectionalArrowColor:X.oneOfType([X.string,X.func]),linkDirectionalArrowRelPos:X.oneOfType([X.number,X.string,X.func]),linkDirectionalParticles:X.oneOfType([X.number,X.string,X.func]),linkDirectionalParticleSpeed:X.oneOfType([X.number,X.string,X.func]),linkDirectionalParticleWidth:X.oneOfType([X.number,X.string,X.func]),linkDirectionalParticleColor:X.oneOfType([X.string,X.func]),onLinkHover:X.func,onLinkClick:X.func,dagMode:X.oneOf(["td","bu","lr","rl","zin","zout","radialin","radialout"]),dagLevelDistance:X.number,dagNodeFilter:X.func,onDagError:X.func,d3AlphaMin:X.number,d3AlphaDecay:X.number,d3VelocityDecay:X.number,warmupTicks:X.number,cooldownTicks:X.number,cooldownTime:X.number,onEngineTick:X.func,onEngineStop:X.func,getGraphBbox:X.func},Ooe={zoomToFit:X.func,onNodeRightClick:X.func,onNodeDrag:X.func,onNodeDragEnd:X.func,onLinkRightClick:X.func,linkHoverPrecision:X.number,onBackgroundClick:X.func,onBackgroundRightClick:X.func,enablePointerInteraction:X.bool,enableNodeDrag:X.bool},$M={showNavInfo:X.bool,nodeOpacity:X.number,nodeResolution:X.number,nodeThreeObject:X.oneOfType([X.object,X.string,X.func]),nodeThreeObjectExtend:X.oneOfType([X.bool,X.string,X.func]),linkOpacity:X.number,linkResolution:X.number,linkCurveRotation:X.oneOfType([X.number,X.string,X.func]),linkMaterial:X.oneOfType([X.object,X.string,X.func]),linkThreeObject:X.oneOfType([X.object,X.string,X.func]),linkThreeObjectExtend:X.oneOfType([X.bool,X.string,X.func]),linkPositionUpdate:X.func,linkDirectionalArrowResolution:X.number,linkDirectionalParticleResolution:X.number,forceEngine:X.oneOf(["d3","ngraph"]),ngraphPhysics:X.object,numDimensions:X.oneOf([1,2,3])},tct=Object.assign({},HC,Ooe,{linkLineDash:X.oneOfType([X.arrayOf(X.number),X.string,X.func]),nodeCanvasObjectMode:X.oneOfType([X.string,X.func]),nodeCanvasObject:X.func,nodePointerAreaPaint:X.func,linkCanvasObjectMode:X.oneOfType([X.string,X.func]),linkCanvasObject:X.func,linkPointerAreaPaint:X.func,autoPauseRedraw:X.bool,minZoom:X.number,maxZoom:X.number,enableZoomInteraction:X.oneOfType([X.bool,X.func]),enablePanInteraction:X.oneOfType([X.bool,X.func]),onZoom:X.func,onZoomEnd:X.func,onRenderFramePre:X.func,onRenderFramePost:X.func});Object.assign({},HC,Ooe,$M,{enableNavigationControls:X.bool,controlType:X.oneOf(["trackball","orbit","fly"]),rendererConfig:X.object,extraRenderers:X.arrayOf(X.shape({render:X.func.isRequired}))});Object.assign({},HC,$M,{nodeDesc:X.oneOfType([X.string,X.func]),linkDesc:X.oneOfType([X.string,X.func])});Object.assign({},HC,$M,{markerAttrs:X.object,yOffset:X.number,glScale:X.number});const jM=utt(ect,{methodNames:["emitParticle","d3Force","d3ReheatSimulation","stopAnimation","pauseAnimation","resumeAnimation","centerAt","zoom","zoomToFit","getGraphBbox","screen2GraphCoords","graph2ScreenCoords"]});jM.displayName="ForceGraph2D";jM.propTypes=tct;const rct=({graphData:r,onFilter:e})=>{const[n,i]=U.useState([2e3,2025]),[a,s]=U.useState([]),[o,c]=U.useState([]);U.useEffect(()=>{if(!r||!r.nodes)return;const d=new Set;r.nodes.forEach(f=>{const p=f.mesh||f.mesh_terms||[];console.log("terms",p),Array.isArray(p)&&p.forEach(m=>d.add(m))}),c([...d])},[r]);const l=()=>{s([]),e(r)},u=()=>{var m;if(!(r!=null&&r.nodes))return;const d=r.nodes.filter(y=>{const v=y.year||0,b=Array.isArray(y.mesh)?y.mesh:[],w=v>=n[0]&&v<=n[1],x=a.length===0||b.some(E=>a.includes(E));return w&&x}),f=new Set(d.map(y=>y.id)),p=((m=r.edges)==null?void 0:m.filter(y=>f.has(y.source)&&f.has(y.target)))||[];setGraphData({nodes:d,edges:p})};return T.jsxs("div",{className:"p-4 bg-blue-300 dark:bg-gray-900 rounded-lg shadow-md mb-4",children:[T.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-700 dark:text-white",children:"Filter Citation Network"}),T.jsx("div",{className:"mb-2"}),T.jsxs("div",{className:"mb-2",children:[T.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"MeSH Terms:"}),T.jsx("select",{multiple:!0,className:"w-full mt-1 p-1 rounded",value:a,onChange:d=>{const f=Array.from(d.target.selectedOptions,p=>p.value);s(f)},children:o.map(d=>T.jsx("option",{value:d,children:d},d))})]}),T.jsx("button",{onClick:u,className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Apply Filters"}),T.jsx("button",{onClick:l,className:"px-4 py-2 bg-gray-400 text-white rounded hover:bg-gray-500",children:"Clear Filters"})]})},nct=({meshCounts:r,onTermClick:e})=>{if(!r||Object.keys(r).length===0)return T.jsxs("div",{className:"p-4 bg-white dark:bg-gray-900 rounded shadow-md",children:[T.jsx("h4",{className:"text-md font-semibold text-gray-800 dark:text-white mb-2",children:"MeSH Term Usage Overview"}),T.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No MeSH data available."})]});const n=Object.entries(r).sort((a,s)=>s[1]-a[1]).slice(0,10),i=Math.max(...n.map(([,a])=>a));return T.jsxs("div",{className:"p-4 bg-white dark:bg-gray-900 rounded shadow-md",children:[T.jsx("h4",{className:"text-md font-semibold text-gray-800 dark:text-white mb-2",children:"MeSH Term Usage Overview"}),T.jsx("div",{className:"space-y-2",children:n.map(([a,s])=>{const o=s/i*100,c=a.length<=10?"bg-blue-400":"bg-yellow-500";return T.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer",onClick:()=>e==null?void 0:e(a),children:[T.jsx("div",{className:"w-24 text-sm text-gray-700 dark:text-gray-300 truncate",children:a}),T.jsx("div",{className:"flex-1",children:T.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-800 rounded h-4",children:T.jsx("div",{className:`${c} h-4 rounded transition-all duration-500`,style:{width:`${o}%`}})})}),T.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:s})]},a)})})]})};function ict(){const[r,e]=U.useState(!1);return U.useEffect(()=>{const n=()=>e(document.documentElement.classList.contains("dark"));n();const i=new MutationObserver(n);return i.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>i.disconnect()},[]),r}function act({graphData:r,legend:e}){const n=U.useRef(),i=ict(),[a,s]=U.useState(!0),[o,c]=U.useState(""),[l,u]=U.useState({x:0,y:0}),[d,f]=U.useState("citation");if(Array.from(new Set(((r==null?void 0:r.nodes)||[]).map(v=>v.group))).map(v=>{const b=r.nodes.find(w=>w.group===v);return{label:v,color:(b==null?void 0:b.color)||"#ccc"}}),!r||!Array.isArray(r.nodes))return T.jsx("div",{className:"p-4 text-gray-600 dark:text-gray-300",children:"Loading graph..."});const m=v=>{u({x:v.clientX,y:v.clientY})},y=v=>{if(v){const b=[v.label,Array.isArray(v.mesh)&&v.mesh.length?`Keywords: ${v.mesh.slice(0,3).join(", ")}`:null].filter(Boolean).join(`
`);c(b)}else c("")};return r!=null&&r.nodes&&r.nodes.forEach(v=>{(v.mesh||v.mesh_terms||[]).forEach(w=>{})}),T.jsxs("div",{className:"relative w-full",style:{height:"1000px"},onMouseMove:m,children:[r&&r.nodes&&r.links?T.jsx(jM,{ref:n,graphData:r,width:900,height:800,nodeAutoColorBy:"group",linkDirectionalParticles:2,onNodeHover:y,onNodeClick:v=>{v!=null&&v.id&&window.open(`/rblock/${v.id}`,"_blank")}}):T.jsx("p",{className:"text-gray-400",children:"Loading graph..."}),o&&T.jsx("div",{style:{position:"fixed",top:l.y+10,left:l.x+10,background:i?"#1a1a1a":"#fff",color:i?"#eee":"#000",border:"1px solid #ccc",padding:"8px",borderRadius:"4px",pointerEvents:"none",fontSize:"12px",zIndex:1e3,whiteSpace:"pre-line"},children:o.split(`
`).map((v,b)=>T.jsx("div",{children:v},b))})]})}const sct=async(r,e={})=>{const{data:{session:n},error:i}=await Ct.auth.getSession();if(i||!n)throw console.error("❌ Supabase session error:",i),new Error("Unauthorized");const a={...e.headers||{},Authorization:`Bearer ${n.access_token}`};return fetch(r,{...e,headers:a})},iY=()=>{var oe,be,Qe,st;const{queryHash:r}=wS(),e=vl(),n=bS(),[i,a]=U.useState(((oe=e.state)==null?void 0:oe.article)||null),[s,o]=U.useState(null),[c,l]=U.useState(!1),[u,d]=U.useState("article"),f=typeof window<"u"?window.location.href:"",[p,m]=U.useState({}),[y,v]=U.useState([]),[b,w]=U.useState({}),[x,E]=U.useState(!0),A=U.useContext(qu);A||console.warn("⚠️ UserContext is null — did you forget to wrap the component in <UserProvider>?");const{user:S}=A||{},[C,P]=U.useState(null),[O,I]=U.useState(!0),[M,D]=U.useState(""),[q,K]=U.useState(""),[L,R]=U.useState(""),[j,W]=U.useState(!1),[H,z]=U.useState({nodes:[],links:[]}),[B,F]=U.useState(!0),[G,Q]=U.useState({nodes:[],links:[]}),[te,ae]=U.useState("visuals"),[fe,xe]=U.useState("citation"),[Ee,le]=U.useState({x:0,y:0}),Ce={};H&&Array.isArray(H.nodes)&&H.nodes.forEach(ke=>{(ke.mesh||ke.mesh_terms||[]).forEach(lt=>{Ce[lt]=(Ce[lt]||0)+1})});const Me=U.useRef(),[he,me]=U.useState(null),[Ae,tt]=U.useState([]),[Nt,ct]=U.useState(null);U.useEffect(()=>{r&&(async()=>{var ze,lt;try{const Mt=await Ct.auth.getSession(),Fr=(lt=(ze=Mt==null?void 0:Mt.data)==null?void 0:ze.session)==null?void 0:lt.access_token;if(!Fr){console.error("❌ No Supabase token found.");return}const Sn=await(await fetch(`${Wr}/api/article/map/${r}/`,{headers:{Authorization:`Bearer ${Fr}`}})).json();console.log("✅ Map Data:",Sn),Sn.error||(me(Sn.main),tt(Sn.citations||[]),ct(Sn.query_hash))}catch(Mt){console.error("❌ Failed to load location data:",Mt)}})()},[r]),U.useEffect(()=>{Me.current&&setTimeout(()=>{try{Me.current.zoomToFit(100)}catch(ke){console.warn("zoomToFit failed:",ke)}},500)},[H]),U.useEffect(()=>{r&&(async()=>{try{const lt=await(await sct(`${Wr}/api/article/citations/${r}/`)).json();console.log("✅ Citation Graph:",lt),Q(lt),z(lt),F(!1)}catch(ze){console.error("❌ Failed to fetch citation network:",ze)}})()},[r]);const[Wt,Br]=U.useState(""),[on,Kr]=U.useState({mesh:"",country:"",yearRange:[2e3,2025]});H!=null&&H.nodes&&[...new Set(H.nodes.flatMap(ke=>ke.mesh_terms||[]))],H!=null&&H.nodes&&[...new Set(H.nodes.map(ke=>ke.country).filter(Boolean))],U.useEffect(()=>{if(i!=null&&i.nft_link){const ke=i.nft_link.split("/");R(ke[4]),D(ke[5]),K(ke[6])}},[i]);const mn=Wt?new Date(Wt).getFullYear():"n/a",Jn=i?`[1] Thielium: ${((be=i.category)==null?void 0:be.name)||"Anonymous"} 
  "${i.title}" ${i.authors||"Anonymous"} (${mn})
  NFT_Contract:${M} TokenID: ${q} Chain:${L}
  HashID:${i.hash_id}
  Thielium:https://thielium.com/rblock/${i.hash_id}`:"",Re=()=>{Jn&&(navigator.clipboard.writeText(Jn),W(!0),setTimeout(()=>W(!1),2e3))};U.useEffect(()=>{if(!r)return;(async()=>{try{l(!0);const ze=await qe.get(`article/${r}/events/`);console.log("✅ Events fetched:",ze.data);const lt=ze.data.events||[],Mt=ze.data.event_counts||{},Fr=Mt.order||0,En=lt.filter(pi=>pi.type==="sale").sort((pi,Gf)=>Gf.timestamp-pi.timestamp)[0],Sn=(En==null?void 0:En.payment)||"—",Pi=lt.filter(pi=>pi.type==="order"&&pi.payment).sort((pi,Gf)=>parseFloat(Gf.payment)-parseFloat(pi.payment))[0],ks=(Pi==null?void 0:Pi.payment)||"—",Xu=(Pi==null?void 0:Pi.maker)||"—",oc=lt.find(pi=>pi.type==="sale"),cc=lt.find(pi=>pi.type==="order"&&pi.order_hash===(oc==null?void 0:oc.order_hash)),lc=oc&&cc?oc.timestamp-cc.timestamp:null,Jb=lc?(lc/86400).toFixed(2):"—",Zb=(Mt.sale||0)/(Mt.order||1);m(Mt),v(lt),w({totalOffers:Fr,lastSalePrice:Sn,highestOfferPrice:ks,highestOfferMaker:Xu,timeToSellDays:Jb,conversions:Zb})}catch(ze){console.error("❌ Error fetching NFT events:",ze.message),m({}),v([])}finally{l(!1)}})()},[r]),U.useEffect(()=>{(async()=>{var ze;if(r)try{const{data:{session:lt},error:Mt}=await Ct.auth.getSession(),Fr=lt==null?void 0:lt.access_token;if(!Fr)throw new Error("No auth token");const En=await qe.get(`${Wr}/polymerase/api/pricing_nft/${r}/`,{headers:{Authorization:`Bearer ${Fr}`,"X-Requested-With":"XMLHttpRequest"}});P(En.data)}catch(lt){console.error("❌ Failed to fetch pricing model:",((ze=lt.response)==null?void 0:ze.data)||lt.message)}})()},[r]),U.useEffect(()=>{(async()=>{var Mt;const{data:{session:ze}}=await Ct.auth.getSession(),lt=ze==null?void 0:ze.access_token;if(lt)try{const En=(await qe.get("/api/friend_requests/",{headers:{Authorization:`Bearer ${lt}`}})).data.map(Sn=>Sn.receiver.id);console.log("📨 Pending Friend Requests:",En),setPendingRequests(En)}catch(Fr){console.error("Failed to fetch friend requests:",((Mt=Fr.response)==null?void 0:Mt.data)||Fr.message)}})()},[]),U.useEffect(()=>{(async()=>{if(!r)return;const{data:{session:ze}}=await Ct.auth.getSession(),lt=ze==null?void 0:ze.access_token;if(lt)try{const Mt=await qe.get(`http://localhost:8000/article/main/${r}/`,{headers:{Authorization:`Bearer ${lt}`,"X-Requested-With":"XMLHttpRequest"},withCredentials:!0});console.log("✅ Article response:",Mt.data),a(Mt.data)}catch(Mt){console.error("Error fetching article by hash:",Mt)}finally{E(!1)}})()},[r]),U.useEffect(()=>{if(i&&(i!=null&&i.nft_link)){const ke=setTimeout(()=>{(async()=>{l(!0);try{const lt=i.nft_link.split("/"),Mt=lt[4],Fr=lt[5],En=lt[6],Sn=`https://testnets-api.opensea.io/api/v2/chain/${Mt}/contract/${Fr}/nfts/${En}`,Pi=`https://sepolia.etherscan.io/tx/${Fr}`,ks=await qe.get(Sn,{headers:{"X-API-KEY":"24b3a11a025643f796db1c57cb28f163"}});o(ks.data.nft)}catch(lt){console.error("Error fetching NFT data from OpenSea:",lt)}finally{l(!1)}})()},300);return()=>clearTimeout(ke)}},[i]);const rt=()=>{n("/mint",{state:{title:i.title,hash:i.hash,abstract:i.abstract,doi:i.DOI,hash_id:i.hash_id}})};return x?T.jsx("div",{className:"text-center py-12 text-gray-600 dark:text-white",children:"Loading article..."}):i?T.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:T.jsxs("div",{className:"container mx-auto px-4 py-8",children:[T.jsxs("div",{className:"w-full relative",children:[T.jsx("img",{src:"http://localhost:8000/media/technology-abstract-lines-dots-connect-background-with-hexagons-hexagon-grid-hexagons-connection-digital-data-big-data-concept-hex-digital-data-visualization-illustration_230610-1076.JPG",alt:"Top Banner Light",className:"w-full h-48 object-cover block dark:hidden"}),T.jsx("img",{src:"http://localhost:8000/media/slide-webinar-20230523_edited_edited.jpg",alt:"Top Banner Dark",className:"w-full h-48 object-cover hidden dark:block"}),T.jsxs("div",{className:"absolute inset-0 flex flex-col items-start justify-center p-6",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("h1",{className:"text-3xl font-bold text-gray-700 dark:text-teal-300 tracking-tight",children:"THIELIUM"}),T.jsx("span",{className:"text-3xl font-bold text-orange-600 dark:text-teal-300 tracking-tight",children:"|"}),T.jsx("h1",{className:"text-3xl font-bold text-orange-500 dark:text-white",children:(Qe=i.category)==null?void 0:Qe.name})]}),T.jsx("div",{}),T.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-gray-700 dark:text-gray-300 drop-shadow-lg",children:"RESEARCH BLOCK"})]})]}),T.jsx("br",{}),T.jsxs("div",{className:"flex flex-col lg:flex-row gap-10",children:[T.jsxs("div",{className:"flex-1 space-y-6",children:[T.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-5",children:[T.jsx("h1",{className:"text-3xl font-bold text-gray-500 dark:text-white mb-3",children:i.title}),T.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600 dark:text-gray-300",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx(mR,{className:"w-4 h-4 mr-2"}),T.jsx("span",{children:i.publication_year})]}),T.jsxs("div",{className:"flex items-center",children:[T.jsx(oye,{className:"w-4 h-4 mr-2"}),T.jsx("span",{children:i.journal})]}),T.jsxs("div",{className:"flex items-center",children:[T.jsx(xye,{className:"w-4 h-4 mr-2"}),T.jsx("span",{children:i.country})]}),T.jsx("div",{children:T.jsxs("p",{className:"font-medium text-gray-900 dark:text-gray-400",children:["Thielium Block Hash: ",i.hash_id]})})]})]}),T.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 space-y-6",children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Research Overview"}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-2",children:"Abstract"}),T.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:i.abstract})]}),T.jsxs("button",{onClick:()=>I(!O),className:"w-full flex items-center justify-between px-4 py-3 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition",children:[T.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Project Details"}),O?T.jsx(SJ,{className:"w-5 h-5 text-gray-600 dark:text-white"}):T.jsx(ax,{className:"w-5 h-5 text-gray-600 dark:text-white"})]}),O&&T.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 space-y-6",children:T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[T.jsxs("div",{className:"space-y-4",children:[T.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Research Details"}),T.jsx(Ql,{icon:T.jsx(Hye,{}),label:"Authors",value:i.authors}),T.jsx(Ql,{icon:T.jsx(dye,{}),label:"Institutions",value:i.institutions}),T.jsx(Ql,{icon:T.jsx(qye,{}),label:"Keywords",value:i.keywords}),T.jsx(Ql,{icon:T.jsx(vye,{}),label:"Funding",value:i.funding})]}),T.jsxs("div",{className:"space-y-4",children:[T.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Publication Info"}),T.jsx(Ql,{icon:T.jsx(kye,{}),label:"DOI",value:T.jsx("a",{href:`https://doi.org/${i.DOI}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 underline break-words",children:i.DOI})}),T.jsx(Ql,{icon:T.jsx(wye,{}),label:"PMID",value:i.pmid}),T.jsx(Ql,{icon:T.jsx(nye,{}),label:"Research Type",value:i.research_type}),T.jsx(Ql,{icon:T.jsx(CJ,{}),label:"Last Modified",value:new Date(i.last_modified).toLocaleDateString()})]}),T.jsxs("div",{className:"space-y-4",children:[T.jsx("h3",{className:"font-semibold text-gray-800 dark:text-white mb-2",children:"Blockchain Citation"}),T.jsx("pre",{className:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:Jn}),T.jsxs("button",{onClick:Re,className:"mt-2 inline-flex items-center text-blue-600 dark:text-blue-400 hover:underline text-sm",children:[T.jsx(pye,{className:"w-4 h-4 mr-1"}),j?"Copied!":"Copy to Clipboard"]}),T.jsx(Wet,{value:`https://thielium.com/rblock/${i.hash_id}`,size:128})]})]})})]}),(i==null?void 0:i.hash_id)&&T.jsx(Det,{query_hash:i.hash_id}),T.jsxs("div",{className:"flex space-x-4 mb-6",children:[T.jsx("button",{className:`px-4 py-2 rounded-lg font-medium ${u==="article"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-white"}`,onClick:()=>d("article"),children:"Article"}),T.jsx("button",{className:`px-4 py-2 rounded-lg font-medium ${u==="visuals"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-white"}`,onClick:()=>d("visuals"),children:"Visualizations"})]}),u==="article"&&T.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[T.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Citation Metrics"}),T.jsx("iframe",{src:`http://127.0.0.1:8000/static/article/jupyter_files/${i.hash_id}.html`,width:"100%",height:"1200px",style:{border:"none"},allowFullScreen:!0})]}),u==="visuals"&&T.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 overflow-hidden",children:[T.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Citation Map"}),T.jsxs("div",{className:"flex space-x-4 border-b mb-4",children:[T.jsx("button",{className:`px-4 py-2 font-medium rounded-t-md transition-colors duration-200 focus:outline-none ${fe==="citation"?"bg-blue-600 text-white shadow":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,onClick:()=>xe("citation"),children:"Citation Network"}),T.jsx("button",{className:`px-4 py-2 font-medium rounded-t-md transition-colors duration-200 focus:outline-none ${fe==="mesh"?"bg-blue-600 text-white shadow":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,onClick:()=>xe("mesh"),children:"Groups & Summaries"})]}),fe==="citation"?T.jsxs(T.Fragment,{children:[Array.isArray(G==null?void 0:G.nodes)&&G.nodes.length>0&&T.jsx(rct,{graphData:G,onFilter:ke=>z(ke)}),Array.isArray(H==null?void 0:H.nodes)&&H.nodes.length>0&&T.jsx(act,{graphData:H,loading:B})]}):T.jsx(nct,{meshCounts:Ce})]})]}),T.jsxs("div",{className:"w-full lg:w-1/3 space-y-6",children:[T.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8",children:[T.jsx("h2",{className:"text-3xl font-bold text-center text-gray-700 dark:text-teal-300 mb-6 tracking-tight",children:"NFTgraph"}),i.nft_link?c?T.jsx("div",{className:"flex items-center justify-center p-8",children:T.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):s?T.jsxs(T.Fragment,{children:[T.jsx("img",{src:s.display_image_url||s.image_url,alt:s.name,className:"w-full rounded-lg shadow-lg"}),T.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mt-4",children:s.name}),T.jsxs("div",{className:"flex gap-4 mt-4",children:[T.jsx("a",{href:i.tx_link,target:"_blank",rel:"noopener noreferrer",className:"bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-lg",children:"View Transaction"}),T.jsx("a",{href:s.opensea_url,target:"_blank",rel:"noopener noreferrer",className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg",children:"View OpenSea NFT "})]}),b&&T.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-5 shadow-lg text-gray-800 dark:text-white space-y-2 border border-orange-500 mt-6",children:[T.jsx("h3",{className:"text-xl font-semibold text-orange-600 dark:text-orange-400 mb-4",children:"Asset Metrics"}),T.jsxs("ul",{className:"space-y-3",children:[T.jsxs("li",{className:"flex items-center justify-between text-lg",children:[T.jsxs("span",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[T.jsx(Eye,{className:"w-6 h-6"}),"Total Offers:"]}),T.jsx("span",{className:"font-mono text-orange-700 dark:text-orange-300",children:b.totalOffers})]}),T.jsxs("li",{className:"flex items-center justify-between text-lg",children:[T.jsxs("span",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[T.jsx(AJ,{className:"w-6 h-6"}),"Sale Price (ETH):"]}),T.jsx("span",{className:"font-mono text-orange-700 dark:text-orange-300",children:b.lastSalePrice})]}),T.jsxs("li",{className:"flex items-center justify-between text-lg",children:[T.jsxs("span",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[T.jsx(Bye,{className:"w-6 h-6"}),"Highest Offer (ETH):"]}),T.jsx("span",{className:"font-mono text-orange-700 dark:text-orange-300",children:b.highestOfferPrice})]}),T.jsxs("li",{className:"flex items-center justify-between text-lg",children:[T.jsxs("span",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[T.jsx(gye,{className:"w-6 h-6"}),"Latent Liquidity",T.jsx("span",{className:"text-xl text-gray-200",children:"(λ)"}),":"]}),T.jsxs("span",{className:"font-mono text-orange-700 dark:text-orange-300",children:[b.timeToSellDays*10," Days"]})]}),T.jsxs("li",{className:"flex items-center justify-between text-lg",children:[T.jsxs("span",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[T.jsx(Mye,{className:"w-6 h-6"}),"NFT Hold ",T.jsx("span",{className:"text-xl text-gray-300",children:"(ε)"}),":"]}),T.jsxs("span",{className:"font-mono text-orange-700 dark:text-orange-300",children:[(b.conversions*100).toFixed(1),"%"]})]})]})]}),C&&C.current_price&&T.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-5 shadow-lg text-gray-800 dark:text-white space-y-2 border border-teal-500 mt-6",children:[T.jsx("h3",{className:"text-xl font-semibold text-teal-600 dark:text-teal-400",children:"Market Value"}),T.jsxs("div",{className:"flex items-center justify-between text-lg",children:[T.jsx("span",{children:"Price (ETH):"}),T.jsxs("span",{className:"font-mono text-teal-700 dark:text-teal-300",children:[C.current_price," Ξ"]})]}),T.jsxs("div",{className:"flex items-center justify-between text-lg",children:[T.jsx("span",{children:"Price (USD):"}),T.jsxs("span",{className:"font-mono",children:["$",(C.current_price*3300).toFixed(2)]})]}),T.jsxs("div",{className:"flex items-center justify-between text-lg",children:[T.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Δ Change:"}),T.jsxs("span",{className:`flex items-center font-mono gap-1 ${C.price_delta>0?"text-green-600 dark:text-green-400":C.price_delta<0?"text-red-600 dark:text-red-400":"text-gray-400"}`,children:[C.price_delta!==0&&(C.price_delta>0?T.jsx(_J,{className:"w-4 h-4"}):T.jsx(eye,{className:"w-4 h-4"})),(C.price_delta*3300).toFixed(2)," USD ",(()=>{const ke=C.current_price-C.price_delta,ze=ke>0?C.price_delta/ke*100:0;return`(${Math.abs(ze).toFixed(2)}%)`})()]})]})]}),T.jsx(TQe,{events:y})]}):T.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Failed to load NFT data"}):T.jsx("button",{onClick:rt,className:"bg-yellow-500 hover:bg-yellow-600 text-white px-10 py-2 rounded-lg",children:"Mint"})]}),T.jsx(C8e,{articleTitle:i.title,articleUrl:f}),T.jsx("div",{className:"text-xl text-gray-700 dark:text-gray-300",children:" Article Published By:"}),(i==null?void 0:i.account)&&T.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[T.jsx("img",{src:i.account.avatar||"/default-avatar.png",alt:"Author Avatar",className:"w-12 h-12 rounded-full object-cover",onError:ke=>ke.target.src="/default-avatar.png"}),T.jsxs("span",{className:"text-2xl text-gray-700 dark:text-gray-300",children:["@",i.account.username||"unknown"]}),S&&((st=i.account)==null?void 0:st.id)&&S.id!==i.account.id&&T.jsx("button",{disabled:pendingRequests.includes(i.account.id),onClick:async()=>{var lt;const{data:{session:ke}}=await Ct.auth.getSession(),ze=ke==null?void 0:ke.access_token;if(ze)try{await qe.post("/api/friend_requests/",{sender:S.id,receiver:i.account.id},{headers:{Authorization:`Bearer ${ze}`}}),setPendingRequests(Mt=>[...Mt,i.account.id])}catch(Mt){console.error("Friend request failed:",((lt=Mt.response)==null?void 0:lt.data)||Mt.message),alert("Friend request could not be sent.")}},className:`ml-2 text-xs font-semibold px-3 py-1 rounded-full ${pendingRequests.includes(i.account.id)?"bg-gray-500 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:pendingRequests.includes(i.account.id)?"Pending":"Add Friend"})]}),T.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:(i==null?void 0:i.hash_id)&&T.jsx(kre,{queryHash:i.hash_id})})]})]})]})}):T.jsx("div",{className:"text-center py-12 text-red-600",children:"No article data found."})},Ql=({icon:r,label:e,value:n})=>T.jsxs("div",{className:"flex items-start",children:[T.jsx("div",{className:"w-5 h-5 mr-3 text-gray-400",children:r}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e}),T.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:n})]})]}),oct=()=>{const{queryHash:r}=wS();return T.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 p-10",children:T.jsxs("div",{className:"max-w-3xl mx-auto",children:[T.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"All Comments"}),T.jsx(kre,{queryHash:r})]})})},cct=()=>{const[r,e]=U.useState(0),[n,i]=U.useState(""),[a,s]=U.useState(null),[o,c]=U.useState(""),[l,u]=U.useState([]),[d,f]=U.useState(!1),[p,m]=U.useState(!1),[y,v]=U.useState(!1),[b,w]=U.useState(!1),[x,E]=U.useState(!1),A=bS(),S=["Get Started","Build Article","Upload File","NFT Article"],[C,P]=U.useState(""),[O,I]=U.useState(""),[M,D]=U.useState(""),[q,K]=U.useState(""),[L,R]=U.useState(""),[j,W]=U.useState(null),[H,z]=U.useState([""]),[B,F]=U.useState(""),[G,Q]=U.useState(""),[te,ae]=U.useState("");U.useEffect(()=>{(async()=>{try{const Ae=await qe.get(`${Wr}/api/categories/`);Array.isArray(Ae.data)?u(Ae.data):u([])}catch(Ae){console.error("❌ Failed to fetch categories:",Ae),u([])}})()},[]),U.useEffect(()=>{let me;return y&&(a!=null&&a.query_hash)&&(me=setInterval(async()=>{var Ae;try{const{data:{session:tt}}=await Ct.auth.getSession(),Nt=tt==null?void 0:tt.access_token;if(!Nt)throw new Error("No auth token");const ct=await qe.get(`${Wr}/api/get_progress`,{params:{query_hash:a.query_hash},headers:{Authorization:`Bearer ${Nt}`}}),Wt=(Ae=ct.data)==null?void 0:Ae.current;Wt!=null&&(setCitationCount(Wt),ct.data.total>0&&Wt>=ct.data.total&&(clearInterval(me),v(!1),w(!0),e(2)))}catch(tt){console.error("❌ Citation polling error:",tt)}},1e3)),()=>clearInterval(me)},[y,a]);const fe=async()=>{try{f(!0);const{data:{session:me},error:Ae}=await Ct.auth.getSession(),tt=me==null?void 0:me.access_token;if(!tt)throw new Error("No auth token");const Nt=await qe.post(`${Wr}/api/new_article/`,{query:n},{headers:{Authorization:`Bearer ${tt}`,"X-Requested-With":"XMLHttpRequest"},withCredentials:!0});s(Nt.data),w(!1)}catch(me){console.error("❌ Failed to fetch article metadata:",me)}finally{f(!1)}},xe=(me,Ae)=>{const tt=[...H];tt[me]=Ae,z(tt)},Ee=()=>{z([...H,""])},le=me=>{const Ae=H.filter((tt,Nt)=>Nt!==me);z(Ae)},Ce=async()=>{var me;try{m(!0),v(!0);const{data:{session:Ae},error:tt}=await Ct.auth.getSession(),Nt=Ae==null?void 0:Ae.access_token;if(!Nt){alert("You must be logged in to submit an article."),m(!1),v(!1);return}const ct=new FormData;n&&!x&&ct.append("doi",n),ct.append("title",C),ct.append("abstract",O),ct.append("institutions",M),ct.append("keywords",q),ct.append("mesh_terms",L),ct.append("category",o),ct.append("country",B),ct.append("institution",G),ct.append("city",te),j&&ct.append("jupyter_file",j),ct.append("citation_hash_ids",H.filter(Boolean).join(","));const Wt=await qe.post(`${Wr}/article/api/node_create/`,ct,{headers:{Authorization:`Bearer ${Nt}`,"X-Requested-With":"XMLHttpRequest"},withCredentials:!0});Wt.data&&Wt.data.query_hash?(s({query_hash:Wt.data.query_hash}),A(`/rblock/${Wt.data.query_hash}`),e(2)):alert("❌ Article created but no hash returned.")}catch(Ae){console.error("❌ Failed to save article:",((me=Ae.response)==null?void 0:me.data)||Ae.message),alert("Something went wrong while saving the article.")}finally{m(!1),v(!1)}},Me=async me=>{var Ae;me.preventDefault();try{const{data:{session:tt},error:Nt}=await Ct.auth.getSession(),ct=tt==null?void 0:tt.access_token;if(!ct){alert("❌ You must be logged in to upload a file.");return}const Wt=new FormData;Wt.append("query_hash",a.query_hash),Wt.append("save_file",me.target.file.files[0]);const Br=await qe.post(`${Wr}/api/savefile/`,Wt,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${ct}`,"X-Requested-With":"XMLHttpRequest"},withCredentials:!0});alert("✅ Jupyter file uploaded!"),e(3)}catch(tt){console.error("❌ Upload error:",((Ae=tt.response)==null?void 0:Ae.data)||tt.message),alert("Failed to upload notebook.")}},he=()=>{A(`/rblock/${a.query_hash}`)};return T.jsxs("div",{className:"p-6 text-gray-900 dark:text-white",children:[T.jsxs("div",{className:"text-center text-sm text-gray-500 mb-4",children:["Step ",r+1," of 4: ",T.jsx("strong",{children:S[r]})]}),T.jsx("div",{className:"flex justify-center mb-6",children:T.jsx("ol",{className:"flex space-x-4 text-xs text-gray-500",children:S.map((me,Ae)=>T.jsx("li",{className:`px-2 py-1 rounded ${Ae===r?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700"}`,children:me},Ae))})}),r===0&&T.jsxs("div",{className:"max-w-xl mx-auto bg-white dark:bg-gray-800 rounded-lg p-6 shadow",children:[T.jsxs("label",{className:"flex items-center space-x-2 mb-4",children:[T.jsx("input",{type:"checkbox",checked:x,onChange:()=>E(!x),className:"form-checkbox h-4 w-4 text-blue-600"}),T.jsx("span",{className:"text-sm text-gray-700 dark:text-white",children:"Enter manually (Blockchain Article)"})]}),T.jsx("h2",{className:"text-xl font-bold mb-4",children:"🚀 Getting Started"}),T.jsxs("ul",{className:"list-disc list-inside text-sm mb-4",children:[T.jsx("li",{children:"PubMed ID or DOI of your article"}),T.jsx("li",{children:"Jupyter Notebook (.ipynb or .html)"}),T.jsx("li",{children:"Optional: NFT image"}),T.jsx("li",{children:"Optional: ETH to mint the NFT"})]}),T.jsx("button",{onClick:()=>e(1),className:"bg-blue-600 text-white px-4 py-2 rounded w-full",children:"Get Started"})]}),r===1&&T.jsxs("div",{className:"max-w-xl mx-auto bg-white dark:bg-gray-800 rounded-lg p-6 shadow",children:[T.jsx("h2",{className:"text-xl font-bold mb-4",children:"🧠 Build Article"}),!x&&T.jsxs(T.Fragment,{children:[T.jsx("input",{type:"text",placeholder:"Enter PubMed ID or DOI",value:n,onChange:me=>i(me.target.value),className:"border p-2 w-full mb-4"}),T.jsx("button",{onClick:fe,className:"bg-blue-600 text-white px-4 py-2 rounded w-full mb-4",children:d?"Fetching...":"Retrieve Metadata"}),a&&T.jsxs(T.Fragment,{children:[T.jsxs("p",{children:[T.jsx("strong",{children:"Title:"})," ",a.title]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Abstract:"})," ",a.abstract]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Authors:"})," ",a.authors]}),T.jsxs("p",{children:[T.jsx("strong",{children:"PMID:"})," ",a.pmid]}),T.jsxs("p",{children:[T.jsx("strong",{children:"DOI:"})," ",a.doi]})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"block font-semibold",children:"Blockchain Citations:"}),H.map((me,Ae)=>T.jsxs("div",{className:"flex space-x-2",children:[T.jsx("input",{type:"text",value:me,onChange:tt=>xe(Ae,tt.target.value),placeholder:"Enter article hash",className:"border p-2 w-full"}),Ae>0&&T.jsx("button",{type:"button",onClick:()=>le(Ae),className:"bg-red-500 text-white px-2 rounded",children:"✕"})]},Ae)),T.jsx("button",{type:"button",onClick:Ee,className:"text-sm text-blue-600 mt-1 underline",children:"+ Add another hash"}),T.jsx("br",{}),T.jsx("input",{type:"text",placeholder:"Country",value:B,onChange:me=>F(me.target.value),className:"border p-2 w-full"}),T.jsx("input",{type:"text",placeholder:"Institution",value:G,onChange:me=>Q(me.target.value),className:"border p-2 w-full"}),T.jsx("input",{type:"text",placeholder:"City",value:te,onChange:me=>ae(me.target.value),className:"border p-2 w-full"})]}),"Select Category:",T.jsxs("select",{value:o,onChange:me=>c(me.target.value),className:"border p-2 w-full",children:[T.jsx("option",{value:"",children:"-- Choose a category --"}),Nx.categories.map(me=>T.jsx("option",{value:me,children:me},me))]}),T.jsx("input",{type:"file",accept:".ipynb",onChange:me=>W(me.target.files[0]),className:"border p-2 w-full"}),T.jsx("button",{onClick:Ce,className:"bg-green-600 text-white px-4 py-2 rounded w-full mt-2",disabled:p,children:p?"Submitting...":"Submit Blockchain Article"})]}),x&&T.jsxs("div",{className:"mt-4 space-y-2",children:[T.jsx("input",{type:"text",placeholder:"Title",value:C,onChange:me=>P(me.target.value),className:"border p-2 w-full"}),T.jsx("textarea",{placeholder:"Abstract",value:O,onChange:me=>I(me.target.value),className:"border p-2 w-full"}),T.jsx("input",{type:"text",placeholder:"Institutions",value:M,onChange:me=>D(me.target.value),className:"border p-2 w-full"}),T.jsx("textarea",{placeholder:"Keywords (comma-separated)",value:q,onChange:me=>K(me.target.value),className:"border p-2 w-full"}),T.jsx("textarea",{placeholder:"MeSH Terms (comma-separated)",value:L,onChange:me=>R(me.target.value),className:"border p-2 w-full"}),T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"block font-semibold",children:"Blockchain Citations:"}),H.map((me,Ae)=>T.jsxs("div",{className:"flex space-x-2",children:[T.jsx("input",{type:"text",value:me,onChange:tt=>xe(Ae,tt.target.value),placeholder:"Enter article hash",className:"border p-2 w-full"}),Ae>0&&T.jsx("button",{type:"button",onClick:()=>le(Ae),className:"bg-red-500 text-white px-2 rounded",children:"✕"})]},Ae)),T.jsx("button",{type:"button",onClick:Ee,className:"text-sm text-blue-600 mt-1 underline",children:"+ Add another hash"})]}),T.jsx("input",{type:"text",placeholder:"Country",value:B,onChange:me=>F(me.target.value),className:"border p-2 w-full"}),T.jsx("input",{type:"text",placeholder:"Institution",value:G,onChange:me=>Q(me.target.value),className:"border p-2 w-full"}),T.jsx("input",{type:"text",placeholder:"City",value:te,onChange:me=>ae(me.target.value),className:"border p-2 w-full"}),"Select Category:",T.jsxs("select",{value:o,onChange:me=>c(me.target.value),className:"border p-2 w-full",children:[T.jsx("option",{value:"",children:"-- Choose a category --"}),l.map(me=>T.jsx("option",{value:me.id,children:me.category_name},me.id))]}),T.jsx("input",{type:"file",accept:".ipynb",onChange:me=>W(me.target.files[0]),className:"border p-2 w-full"}),T.jsx("button",{onClick:Ce,className:"bg-green-600 text-white px-4 py-2 rounded w-full mt-2",disabled:p,children:p?"Submitting...":"Submit Blockchain Article"})]})]}),r===2&&T.jsxs("div",{className:"max-w-xl mx-auto bg-white dark:bg-gray-800 rounded-lg p-6 shadow",children:[T.jsx("h2",{className:"text-xl font-bold mb-4",children:"📤 Upload Jupyter Notebook"}),b?T.jsxs("div",{className:"text-center space-y-4",children:[T.jsx("p",{className:"text-green-500 font-medium",children:"✅ File uploaded successfully!"}),T.jsx("button",{onClick:()=>e(3),className:"bg-blue-600 text-white px-4 py-2 rounded w-full",children:"Continue to NFT Minting"}),T.jsx("button",{onClick:he,className:"text-sm text-gray-500 hover:text-indigo-600 underline",children:"Skip NFT step and view Article →"})]}):T.jsxs("form",{onSubmit:Me,children:[T.jsx("input",{type:"file",name:"file",accept:".html,.ipynb",className:"mb-4",required:!0}),T.jsx("button",{type:"submit",className:"bg-indigo-600 text-white px-4 py-2 rounded w-full",children:"Upload File"})]})]}),y&&T.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center",children:T.jsxs("div",{className:"bg-white dark:bg-gray-800 text-center p-8 rounded-lg shadow-xl max-w-md",children:[T.jsx("h2",{className:"text-xl font-semibold mb-4",children:"🚧 Please Be Patient"}),T.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-2",children:"We're building your article. This may take up to 15 minutes depending on citation complexity."}),T.jsx("div",{className:"mt-4 animate-pulse",children:T.jsx("span",{className:"inline-block w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})})]})})]})},lct=({roomName:r="room1",senderId:e=1,receiverId:n=2,senderName:i="User 1"})=>{const[a,s]=U.useState([]),[o,c]=U.useState(""),[l,u]=U.useState(""),[d,f]=U.useState(!1),p=U.useRef(null);U.useEffect(()=>{fetch(`/chat/history/${v}/`).then(b=>b.json()).then(b=>s(b));const v=[user.id,friend.id].sort().join("_");return p.current=new WebSocket(`ws://localhost:8000/ws/chat/${v}/`),socket.onopen=()=>{console.log("✅ WebSocket connected"),f(!0)},socket.onerror=b=>{console.error("❌ WebSocket error:",b)},socket.onclose=b=>{console.warn("⚠️ WebSocket closed:",b)},socket.onmessage=b=>{const w=JSON.parse(b.data);w.typing?(u(`${w.user} is typing...`),setTimeout(()=>u(""),1500)):s(x=>[...x,{sender_username:w.sender,message:w.message,created_at:w.timestamp||new Date().toISOString()}])},()=>{socket.close()}},[r]);const m=v=>{c(v.target.value),d&&p.current.send(JSON.stringify({typing:!0,user:i}))},y=()=>{o.trim()&&(d&&p.current.readyState===WebSocket.OPEN?(p.current.send(JSON.stringify({message:o,sender:e,receiver:n})),c("")):console.warn("WebSocket is not open."))};return T.jsxs("div",{className:"chat-container p-4 text-white",children:[T.jsxs("h2",{className:"text-xl font-bold mb-2",children:["Chat Room: ",r]}),T.jsx("div",{className:"chat-log max-h-60 overflow-y-auto border p-2 mb-2 bg-white text-black rounded",children:a.map((v,b)=>T.jsxs("div",{children:[T.jsx("strong",{children:v.sender_username}),": ",v.message,T.jsx("span",{style:{fontSize:"0.8em",color:"#888",marginLeft:"10px"},children:new Date(v.created_at).toLocaleTimeString()})]},b))}),T.jsx("div",{className:"mb-2",style:{fontStyle:"italic",color:"gray"},children:l}),T.jsx("input",{className:"border p-2 mr-2 rounded text-black",value:o,onChange:m,onKeyDown:v=>v.key==="Enter"&&y(),placeholder:"Type a message..."}),T.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded",onClick:y,children:"Send"})]})},uct=()=>{const{roomName:r}=wS();return T.jsx(lct,{roomName:r,senderId:1,receiverId:2,senderName:"User 1"})},dct=({friend:r,onClose:e})=>{const[n,i]=U.useState(!0),[a,s]=U.useState([]),[o,c]=U.useState(""),{user:l}=U.useContext(qu),u=U.useRef(null);return U.useRef(null),U.useEffect(()=>{s([{message:"Hey there!",sender:r.username}])},[r]),T.jsxs("div",{className:"fixed bottom-0 right-4 w-72 z-50 shadow-xl rounded-t-lg overflow-hidden  bg-white dark:bg-gray-800 flex flex-col",style:{height:n?"40px":"400px"},children:[T.jsxs("div",{className:"flex items-center justify-between bg-blue-600 text-white px-3 py-2 cursor-pointer",onClick:()=>i(!n),children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("img",{src:`http://localhost:8000${r.avatar||""}`,alt:r.username,className:"w-6 h-6 rounded-full object-cover border border-white"}),T.jsx("span",{className:"text-sm font-medium",children:r.username})]}),T.jsx("button",{onClick:e,children:"✕"})]}),!n&&T.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-gray-800",children:[T.jsx("div",{className:"flex-1 overflow-y-auto p-2 text-sm",children:a.map((d,f)=>T.jsxs("div",{className:"mb-1",children:[T.jsxs("strong",{children:[d.sender,":"]})," ",d.message]},f))}),T.jsxs("div",{className:"border-t p-2 flex gap-2",children:[T.jsx("input",{className:"flex-1 border rounded px-2 py-1 text-black dark:text-white bg-gray-100 dark:bg-gray-700",value:o,onChange:d=>c(d.target.value),onKeyDown:d=>d.key==="Enter"&&c(""),placeholder:"Type a message..."}),T.jsx("button",{className:"text-sm bg-blue-600 text-white px-2 py-1 rounded",onClick:()=>{o.trim()&&(u.current&&u.current.readyState===WebSocket.OPEN&&u.current.send(JSON.stringify({message:o,sender:l.username,timestamp:new Date().toISOString()})),s(d=>[...d,{sender:l.username,message:o,timestamp:new Date().toISOString()}]),c(""))},children:"Send"})]})]})]})},fct=({setOpenChats:r})=>{const[e,n]=U.useState([]),{user:i}=U.useContext(qu),[a,s]=U.useState([]);return U.useEffect(()=>{(async()=>{const{data:{session:c}}=await Ct.auth.getSession(),l=c==null?void 0:c.access_token;if(l)try{const u=await qe.get("/api/friends_list/",{headers:{Authorization:`Bearer ${l}`}});n(u.data.friends)}catch(u){console.error("Failed to fetch friends:",u)}})()},[]),T.jsxs("div",{className:"p-4 text-gray-900 dark:text-gray-100",children:[T.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Amigos"}),T.jsx("ul",{className:"space-y-2",children:!Array.isArray(e)||e.length===0?T.jsx("li",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No friends yet."}):e.map((o,c)=>{const l=o!=null&&o.avatar?`http://localhost:8000${o.avatar}`:"https://ui-avatars.com/api/?name=Friend";return T.jsxs("li",{className:"flex items-center gap-3 bg-gray-100 dark:bg-gray-800 px-3 py-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition",children:[T.jsx("img",{src:l,alt:(o==null?void 0:o.username)||"User",className:"w-8 h-8 rounded-full object-cover border border-gray-400"}),T.jsx("div",{className:"flex-1 overflow-hidden",children:T.jsx("span",{className:"block text-sm truncate",children:(o==null?void 0:o.username)||"Unnamed"})}),T.jsx("button",{onClick:()=>r(u=>u.some(d=>d.id===(o==null?void 0:o.id))?u:[...u,o]),className:"text-sm text-blue-500 hover:underline",children:"Chat"})]},(o==null?void 0:o.id)||`friend-${c}`)})})]})};function hct(){return U.useEffect(()=>{(async()=>{const{data:{session:e},error:n}=await Ct.auth.getSession();if(n||!e){console.error("❌ Supabase session error:",n);return}const i=e.access_token;console.log("✅ Got token:",i);const s=await(await fetch("https://aleflabs.net/login_with_google",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:i})})).json();console.log("🎯 Backend response:",s)})()},[]),T.jsx("div",{className:"text-center mt-10 text-gray-700 dark:text-gray-200",children:"Logging in..."})}function pct(){const[r,e]=U.useState(!0),[n,i]=U.useState(!1),[a,s]=U.useState([]),o=c=>{s(l=>l.filter(u=>u.id!==c))};return U.useEffect(()=>{r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[r]),U.useEffect(()=>{(async()=>{const{data:{session:l}}=await Ct.auth.getSession();l?(qe.defaults.headers.common.Authorization=`Bearer ${l.access_token}`,console.log("✅ Auth token set.")):console.warn("❌ No Supabase session found."),Ct.auth.onAuthStateChange((u,d)=>{d?(qe.defaults.headers.common.Authorization=`Bearer ${d.access_token}`,console.log("🔄 Auth token updated.")):console.warn("❌ Supabase session expired.")})})()},[]),T.jsx(h4e,{children:T.jsx(qme,{children:T.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-300",children:[T.jsx(p4e,{setSidebarOpen:i,darkMode:r,setDarkMode:e}),T.jsxs("div",{className:"flex",children:[T.jsx("div",{className:"group relative",children:T.jsx("div",{className:"fixed top-16 left-0 h-[calc(100%-4rem)] w-64 transform -translate-x-40 group-hover:translate-x-0 transition-transform duration-300 ease-in-out border-r border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 shadow-lg z-30",children:T.jsx(Gye,{sidebarOpen:n,setSidebarOpen:i})})}),T.jsx("main",{className:"flex-1 pt-16 w-full",style:{backgroundImage:`url(${r?"bg-dark.jpg":"bg-light.jpg"})`,backgroundSize:"100% 100%"},children:T.jsxs(vme,{children:[T.jsx(Ta,{path:"/",element:T.jsx(P4e,{})}),T.jsx(Ta,{path:"/nft",element:T.jsx(N4e,{})}),T.jsx(Ta,{path:"/mint",element:T.jsx(fLe,{})}),T.jsx(Ta,{path:"/profile",element:T.jsx(b8e,{})}),T.jsx(Ta,{path:"/main",element:T.jsx(S8e,{})}),T.jsx(Ta,{path:"/article_detail",element:T.jsx(iY,{})}),T.jsx(Ta,{path:"/rblock/:queryHash",element:T.jsx(iY,{})}),T.jsx(Ta,{path:"/metaclusters",element:T.jsx(hLe,{})}),T.jsx(Ta,{path:"/chat/:roomName",element:T.jsx(uct,{})}),T.jsx(Ta,{path:"/new-article",element:T.jsx(cct,{})}),T.jsx(Ta,{path:"/comments/:queryHash",element:T.jsx(oct,{})}),T.jsx(Ta,{path:"/auth/callback",element:T.jsx(hct,{})})]})}),T.jsx("div",{className:"group relative h-full",children:T.jsxs("div",{className:"fixed top-16 right-0 h-[calc(100%-4rem)] w-64 transform translate-x-40 group-hover:translate-x-0 transition-transform duration-300 ease-in-out border-l border-gray-200 dark:border-gray-700 bg-transparent shadow-lg z-30 overflow-hidden",children:[T.jsx("div",{className:"absolute inset-0 z-[-2]",style:{backgroundImage:`url(${r?"bg-dark.jpg":"bg-light.jpg"})`,backgroundSize:"cover",backgroundPosition:"center"}}),T.jsx("div",{className:"absolute inset-0 z-[-1] bg-white dark:bg-gray-900 opacity-90"}),T.jsx("div",{className:"relative z-10",children:T.jsx(fct,{setOpenChats:s})})]})}),a.map(c=>T.jsx(dct,{friend:c,onClose:()=>o(c.id)},c.id))]}),T.jsx(f4e,{})]})})})}function gct(r){let e=[],n,i;function a(c){return qv.parseEvmChainId(c)||1}function s(){return n||(n=Jd.getInstance({projectId:r.options.projectId,enableLogger:r.options.enableAuthLogger,onTimeout:c=>{c==="iframe_load_failed"?Di.open(Wn.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):c==="iframe_request_timeout"?Di.open(Wn.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):c==="unverified_domain"&&Di.open(Wn.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},abortController:Wn.EmbeddedWalletAbortController})),n}async function o(c={}){var v,b;const l=s();let u=c.chainId;if(c.isReconnecting){const w=qv.parseEvmChainId(l.getLastUsedChainId()||""),x=(v=r.chains)==null?void 0:v[0].id;if(u=w||x,!u)throw new Error("ChainId not found in provider")}const d=(b=Je.state.preferredAccountTypes)==null?void 0:b.eip155,{address:f,chainId:p,accounts:m}=await l.connect({chainId:u,preferredAccountType:d,socialUri:c.socialUri});e=(m==null?void 0:m.map(w=>w.address))||[f];const y=a(p);return{accounts:e,account:f,chainId:y,chain:{id:y,unsuported:!1}}}return c=>({id:Ne.CONNECTOR_ID.AUTH,name:Ne.CONNECTOR_NAMES.AUTH,type:"AUTH",chain:Ne.CHAIN.EVM,async connect(l={}){if(i)return i;i||(i=new Promise(d=>{d(o(l))}));const u=await i;return i=void 0,u},async disconnect(){await(await this.getProvider()).disconnect()},getAccounts(){return e!=null&&e.length?(c.emitter.emit("change",{accounts:e}),Promise.resolve(e)):Promise.resolve([])},async getProvider(){return this.provider||(this.provider=Jd.getInstance({projectId:r.options.projectId,enableLogger:r.options.enableAuthLogger,abortController:Wn.EmbeddedWalletAbortController,onTimeout:l=>{l==="iframe_load_failed"?Di.open(Wn.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):l==="iframe_request_timeout"?Di.open(Wn.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):l==="unverified_domain"&&Di.open(Wn.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")}})),Promise.resolve(this.provider)},async getChainId(){const l=await this.getProvider(),{chainId:u}=await l.getChainId();return a(u)},async isAuthorized(){const l=await this.getProvider();return Promise.resolve(l.getLoginEmailUsed())},async switchChain({chainId:l}){var u,d;try{const f=c.chains.find(v=>v.id===l);if(!f)throw new Yo(new Error("chain not found on connector."));const p=await this.getProvider(),m=(u=Je.state.preferredAccountTypes)==null?void 0:u.eip155,y=await p.connect({chainId:l,preferredAccountType:m});return e=((d=y==null?void 0:y.accounts)==null?void 0:d.map(v=>v.address))||[y.address],c.emitter.emit("change",{chainId:Number(l),accounts:e}),f}catch(f){throw f instanceof Error?new Yo(f):f}},onAccountsChanged(l){l.length===0?this.onDisconnect():c.emitter.emit("change",{accounts:l.map(Id)})},onChainChanged(l){const u=Number(l);c.emitter.emit("change",{chainId:u})},async onDisconnect(l){await(await this.getProvider()).disconnect()}})}DM.type="walletConnect";function DM(r,e){const n=r.isNewChainsStale??!0;let i,a,s,o,c,l,u;return d=>({id:"walletConnect",name:"WalletConnect",type:DM.type,async setup(){const f=await this.getProvider().catch(()=>null);f&&(o||(o=this.onConnect.bind(this),f.on("connect",o)),l||(l=this.onSessionDelete.bind(this),f.on("session_delete",l)))},async connect({...f}={}){var p,m,y;try{const v=Z.getCaipNetworks(),b=await this.getProvider();if(!b)throw new iu;c||(c=this.onDisplayUri,b.on("display_uri",c));const w=await this.isChainsStale();b.session&&w&&await b.disconnect();const x=Se.state.universalProviderConfigOverride;if(!b.session||w){const I=Qy.createNamespaces(v,x);await b.connect({optionalNamespaces:I,..."pairingTopic"in f?{pairingTopic:f.pairingTopic}:{}}),this.setRequestedChainsIds(v.map(M=>Number(M.id)))}const E=await this.getAccounts(),A=await this.getChainId(),S=(y=(m=(p=b.session)==null?void 0:p.namespaces)==null?void 0:m.eip155)==null?void 0:y.chains,C=S==null?void 0:S.some(I=>Number(I.split(":")[1])===A);let P=1;C?P=A:S!=null&&S[0]&&(P=Number(S[0].split(":")[1])),c&&(b.removeListener("display_uri",c),c=void 0),o&&(b.removeListener("connect",o),o=void 0),a||(a=this.onAccountsChanged.bind(this),b.on("accountsChanged",a)),s||(s=this.onChainChanged.bind(this),b.on("chainChanged",s)),u||(u=this.onDisconnect.bind(this),b.on("disconnect",u)),l||(l=this.onSessionDelete.bind(this),b.on("session_delete",l));const O=x==null?void 0:x.defaultChain;return b.setDefaultChain(O??`eip155:${P}`),{accounts:E,chainId:P}}catch(v){throw/(user rejected|connection request reset)/i.test(v==null?void 0:v.message)?new On(v):v}},async disconnect(){const f=await this.getProvider();try{await(f==null?void 0:f.disconnect())}catch(p){if(!/No matching key/i.test(p.message))throw p}finally{s&&(f==null||f.removeListener("chainChanged",s),s=void 0),u&&(f==null||f.removeListener("disconnect",u),u=void 0),o||(o=this.onConnect.bind(this),f==null||f.on("connect",o)),a&&(f==null||f.removeListener("accountsChanged",a),a=void 0),l&&(f==null||f.removeListener("session_delete",l),l=void 0),this.setRequestedChainsIds([])}},async getAccounts(){var y,v,b;const f=await this.getProvider();if(!((y=f==null?void 0:f.session)!=null&&y.namespaces))return[];const p=(b=(v=f==null?void 0:f.session)==null?void 0:v.namespaces[Ne.CHAIN.EVM])==null?void 0:b.accounts;return(p==null?void 0:p.map(w=>w.split(":")[2]))??[]},async getProvider({chainId:f}={}){var y,v;i||(i=await e.getUniversalProvider(),i==null||i.events.setMaxListeners(Number.POSITIVE_INFINITY));const p=Be.getActiveNamespace(),m=(y=e.getCaipNetwork())==null?void 0:y.id;if(f&&m!==f&&p){const b=Be.getStoredActiveCaipNetworkId(),w=e.getCaipNetworks(p),x=w==null?void 0:w.find(E=>E.id===b);x&&x.chainNamespace===Ne.CHAIN.EVM&&await((v=this.switchChain)==null?void 0:v.call(this,{chainId:Number(x.id)}))}return i},async getChainId(){var v,b,w,x;const f=(v=e.getCaipNetwork(Ne.CHAIN.EVM))==null?void 0:v.id;if(f)return f;const m=(x=(w=(b=(await this.getProvider()).session)==null?void 0:b.namespaces[Ne.CHAIN.EVM])==null?void 0:w.chains)==null?void 0:x[0],y=Z.getCaipNetworks().find(E=>E.id===m);return y==null?void 0:y.id},async isAuthorized(){try{const[f,p]=await Promise.all([this.getAccounts(),this.getProvider()]);return f.length?await this.isChainsStale()&&p.session?(await p.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:f,chainId:p}){var v,b,w,x;const m=await this.getProvider();if(!m)throw new iu;const y=Z.getCaipNetworks().find(E=>E.id===p);if(!y)throw new Yo(new Dv);try{await m.request({method:"wallet_switchEthereumChain",params:[{chainId:Ut(p)}]}),y!=null&&y.caipNetworkId&&m.setDefaultChain(y==null?void 0:y.caipNetworkId),d.emitter.emit("change",{chainId:Number(p)});const E=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...E,p]),{...y,id:y.id}}catch(E){const A=E;if(/(?:user rejected)/iu.test(A.message))throw new On(A);try{let S;f!=null&&f.blockExplorerUrls?S=f.blockExplorerUrls:S=(v=y.blockExplorers)!=null&&v.default.url?[(b=y.blockExplorers)==null?void 0:b.default.url]:[];const C=((x=(w=y.rpcUrls)==null?void 0:w.chainDefault)==null?void 0:x.http)||[],P={blockExplorerUrls:S,chainId:Ut(p),chainName:y.name,iconUrls:f==null?void 0:f.iconUrls,nativeCurrency:y.nativeCurrency,rpcUrls:C};await m.request({method:"wallet_addEthereumChain",params:[P]});const O=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...O,p]),{...y,id:y.id}}catch(S){throw new On(S)}}},onAccountsChanged(f){f.length===0?this.onDisconnect():d.emitter.emit("change",{accounts:f.map(p=>Id(p))})},onChainChanged(f){const p=Number(f);d.emitter.emit("change",{chainId:p})},onConnect(f){this.setRequestedChainsIds(Z.getCaipNetworks().map(p=>Number(p.id)))},async onDisconnect(f){this.setRequestedChainsIds([]),d.emitter.emit("disconnect");const p=await this.getProvider();a&&(p.removeListener("accountsChanged",a),a=void 0),s&&(p.removeListener("chainChanged",s),s=void 0),u&&(p.removeListener("disconnect",u),u=void 0),l&&(p.removeListener("session_delete",l),l=void 0),o||(o=this.onConnect.bind(this),p.on("connect",o))},onDisplayUri(f){d.emitter.emit("message",{type:"display_uri",data:f})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){var m,y,v;if(!((m=i==null?void 0:i.session)!=null&&m.namespaces))return[];const f=(v=(y=i==null?void 0:i.session)==null?void 0:y.namespaces[Ne.CHAIN.EVM])==null?void 0:v.accounts;return(f==null?void 0:f.map(b=>Number.parseInt(b.split(":")[1]??"")))??[]},async getRequestedChainsIds(){var p;const f=await((p=d.storage)==null?void 0:p.getItem(this.requestedChainsStorageKey))??[];return[...new Set(f)]},async isChainsStale(){if(!n)return!1;const f=d.chains.map(y=>y.id),p=this.getNamespaceChainsIds();if(p.length&&!p.some(y=>f.includes(y)))return!1;const m=await this.getRequestedChainsIds();return!f.every(y=>m.includes(Number(y)))},async setRequestedChainsIds(f){var p;await((p=d.storage)==null?void 0:p.setItem(this.requestedChainsStorageKey,f))},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}const xy=Ur({pendingTransactions:0}),aY={state:xy,subscribeKey(r,e){return Ti(xy,r,e)},increase(r){xy[r]+=1},decrease(r){xy[r]-=1},reset(r){xy[r]=0}};function mct(r){try{return JSON.parse(r)}catch{throw new Error("Error parsing wallet capabilities")}}const yct={enable:!1,pollingInterval:3e4};class vct extends wee{constructor(e){const n=Lo.extendCaipNetworks(e.networks,{projectId:e.projectId,customNetworkImageUrls:{},customRpcUrls:e.customRpcUrls});super(),this.balancePromises={},this.namespace=Ne.CHAIN.EVM,this.adapterType=Ne.ADAPTER_TYPES.WAGMI,this.projectId=e.projectId,this.pendingTransactionsFilter={...yct,...e.pendingTransactionsFilter??{}},this.createConfig({...e,networks:n})}construct(e){this.setupWatchers()}async getAccounts(e){var s;const n=this.getWagmiConnector(e.id);if(!n)return{accounts:[]};if(n.id===Ne.CONNECTOR_ID.AUTH){const o=await n.getProvider();if(!(o!=null&&o.user))return{accounts:[]};const{address:c,accounts:l}=o.user;return Promise.resolve({accounts:(l||[{address:c,type:"eoa"}]).map(u=>ft.createAccount("eip155",u.address,u.type))})}const{addresses:i,address:a}=Mv(this.wagmiConfig);return Promise.resolve({accounts:(s=i||[a])==null?void 0:s.map(o=>ft.createAccount("eip155",o||"","eoa"))})}getWagmiConnector(e){return this.wagmiConfig.connectors.find(n=>n.id===e)}createConfig(e){this.wagmiChains=e.networks.filter(a=>a.chainNamespace===Ne.CHAIN.EVM);const n={},i=[...e.connectors??[]];this.wagmiChains.forEach(a=>{var c,l;const s=(c=e.transports)==null?void 0:c[a.id],o=Lo.getCaipNetworkId(a);s?n[a.id]=Lo.extendWagmiTransports(a,e.projectId,s):n[a.id]=Lo.getViemTransport(a,e.projectId,(l=e.customRpcUrls)==null?void 0:l[o])}),this.wagmiConfig=hD({...e,chains:this.wagmiChains,connectors:i,transports:n})}setupWatchPendingTransactions(){if(!this.pendingTransactionsFilter.enable||this.unwatchPendingTransactions)return;this.unwatchPendingTransactions=ppe(this.wagmiConfig,{pollingInterval:this.pendingTransactionsFilter.pollingInterval,onError:()=>{},onTransactions:()=>{this.emit("pendingTransactions"),aY.increase("pendingTransactions")}});const e=aY.subscribeKey("pendingTransactions",n=>{var i;n>=Ne.LIMITS.PENDING_TRANSACTIONS&&((i=this.unwatchPendingTransactions)==null||i.call(this),e())})}setupWatchers(){qX(this.wagmiConfig,{onChange:(e,n)=>{e.status==="disconnected"&&n.address&&this.emit("disconnect"),e.status==="connected"&&((e.address!==(n==null?void 0:n.address)||n.status!=="connected")&&(this.setupWatchPendingTransactions(),this.emit("accountChanged",{address:e.address,chainId:e.chainId})),e.chainId!==(n==null?void 0:n.chainId)&&this.emit("switchNetwork",{address:e.address,chainId:e.chainId}))}})}async addThirdPartyConnectors(e){var i,a;const n=[];if(e.enableCoinbase!==!1)try{const{coinbaseWallet:s}=await dn(async()=>{const{coinbaseWallet:o}=await import("./index-BdlD6o5g.js");return{coinbaseWallet:o}},[],import.meta.url);s&&n.push(s({version:"4",appName:((i=e.metadata)==null?void 0:i.name)??"Unknown",appLogoUrl:((a=e.metadata)==null?void 0:a.icons[0])??"Unknown",preference:e.coinbasePreference??"all"}))}catch(s){console.error("Failed to import Coinbase Wallet SDK:",s)}n.forEach(s=>{const o=this.wagmiConfig._internal.connectors.setup(s);this.wagmiConfig._internal.connectors.setState(c=>[...c,o])})}addWagmiConnectors(e,n){var o,c,l,u,d,f;const i=[];e.enableWalletConnect!==!1&&i.push(DM(e,n)),e.enableInjected!==!1&&i.push(gS({shimDisconnect:!0}));const a=((o=e.features)==null?void 0:o.email)===void 0?_n.DEFAULT_FEATURES.email:(c=e.features)==null?void 0:c.email,s=(l=e.features)!=null&&l.socials?((d=(u=e.features)==null?void 0:u.socials)==null?void 0:d.length)>0:((f=e.features)==null?void 0:f.socials)??_n.DEFAULT_FEATURES.socials;(a||s)&&i.push(gct({chains:this.wagmiChains,options:{projectId:e.projectId,enableAuthLogger:e.enableAuthLogger}})),i.forEach(p=>{const m=this.wagmiConfig._internal.connectors.setup(p);this.wagmiConfig._internal.connectors.setState(y=>[...y,m])})}async signMessage(e){try{return{signature:await dpe(this.wagmiConfig,{message:e.message,account:e.address})}}catch{throw new Error("WagmiAdapter:signMessage - Sign message failed")}}async sendTransaction(e){const{chainId:n,address:i}=Mv(this.wagmiConfig),a={account:i,to:e.to,value:Number.isNaN(Number(e.value))?BigInt(0):BigInt(e.value),gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,data:e.data,chainId:n,type:"legacy",parameters:["nonce"]};await lpe(this.wagmiConfig,a);const s=await upe(this.wagmiConfig,a);return await zX(this.wagmiConfig,{hash:s,timeout:25e3}),{hash:s}}async writeContract(e){var o;const{caipNetwork:n,...i}=e,a=Number(qv.caipNetworkIdToNumber(n.caipNetworkId));return{hash:await HX(this.wagmiConfig,{chain:(o=this.wagmiChains)==null?void 0:o[a],chainId:a,address:i.tokenAddress,account:i.fromAddress,abi:i.abi,functionName:i.method,args:i.args,__mode:"prepared"})}}async estimateGas(e){try{return{gas:await ape(this.wagmiConfig,{account:e.address,to:e.to,data:e.data,type:"legacy"})}}catch{throw new Error("WagmiAdapter:estimateGas - error estimating gas")}}parseUnits(e){return Bhe(e.value,e.decimals)}formatUnits(e){return Ag(e.value,e.decimals)}async addWagmiConnector(e,n){var a;if(e.id===Ne.CONNECTOR_ID.AUTH||e.id===Ne.CONNECTOR_ID.WALLET_CONNECT)return;const i=await e.getProvider().catch(()=>{});this.addConnector({id:e.id,explorerId:Su.ConnectorExplorerIds[e.id],imageUrl:((a=n==null?void 0:n.connectorImages)==null?void 0:a[e.id])??e.icon,name:Su.ConnectorNamesMap[e.id]??e.name,imageId:Su.ConnectorImageIds[e.id],type:Su.ConnectorTypesMap[e.type]??"EXTERNAL",info:e.id===Ne.CONNECTOR_ID.INJECTED?void 0:{rdns:e.id},provider:i,chain:this.namespace,chains:[]})}async syncConnectors(e,n){hpe(this.wagmiConfig,{onChange:i=>i.forEach(a=>this.addWagmiConnector(a,e))}),await Promise.all(this.wagmiConfig.connectors.map(i=>this.addWagmiConnector(i,e))),this.addWagmiConnectors(e,n),await this.addThirdPartyConnectors(e)}async syncConnection(e){var c;const{id:n}=e,a=ud(this.wagmiConfig).find(l=>l.connector.id===n),s=this.getWagmiConnector(n),o=await(s==null?void 0:s.getProvider());return{chainId:Number(a==null?void 0:a.chainId),address:a==null?void 0:a.accounts[0],provider:o,type:(c=a==null?void 0:a.connector.type)==null?void 0:c.toUpperCase(),id:a==null?void 0:a.connector.id}}async connectWalletConnect(e){const n=this.getWalletConnectConnector();await n.authenticate();const i=this.getWagmiConnector("walletConnect");if(!i)throw new Error("UniversalAdapter:connectWalletConnect - connector not found");const a=await XL(this.wagmiConfig,{connector:i,chainId:e?Number(e):void 0});return a.chainId!==Number(e)&&await cR(this.wagmiConfig,{chainId:a.chainId}),{clientId:await n.provider.client.core.crypto.getClientId()}}async connect(e){var d,f,p,m,y;const{id:n,provider:i,type:a,info:s,chainId:o,socialUri:c}=e,l=this.getWagmiConnector(n);if(!l)throw new Error("connectionControllerClient:connectExternal - connector is undefined");if(i&&s&&l.id===Ne.CONNECTOR_ID.EIP6963&&((d=l.setEip6963Wallet)==null||d.call(l,{provider:i,info:s})),l.uid===((p=(f=this.wagmiConfig)==null?void 0:f.state)==null?void 0:p.current)){const v=(y=(m=this.wagmiConfig.state)==null?void 0:m.connections)==null?void 0:y.get(l.uid);if(v)return{address:v==null?void 0:v.accounts[0],chainId:v==null?void 0:v.chainId,provider:i,type:a,id:n}}const u=await XL(this.wagmiConfig,{connector:l,chainId:o?Number(o):void 0,socialUri:c});return{address:u.accounts[0],chainId:u.chainId,provider:i,type:a,id:n}}async reconnect(e){const{id:n}=e,i=this.getWagmiConnector(n);if(!i)throw new Error("connectionControllerClient:connectExternal - connector is undefined");await oR(this.wagmiConfig,{connectors:[i]})}async getBalance(e){const n=e.address,i=this.getCaipNetworks().find(a=>a.id===e.chainId);if(!n)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(i&&this.wagmiConfig){const a=`${i.caipNetworkId}:${e.address}`,s=this.balancePromises[a];if(s)return s;const o=Be.getNativeBalanceCacheForCaipAddress(a);return o?{balance:o.balance,symbol:o.symbol}:(this.balancePromises[a]=new Promise(async c=>{var l,u;try{const d=Number(e.chainId),f=await cpe(this.wagmiConfig,{address:e.address,chainId:d,token:(u=(l=e.tokens)==null?void 0:l[i.caipNetworkId])==null?void 0:u.address});Be.updateNativeBalanceCache({caipAddress:a,balance:f.formatted,symbol:f.symbol,timestamp:Date.now()}),c({balance:f.formatted,symbol:f.symbol})}catch(d){console.warn("Appkit:WagmiAdapter:getBalance - Error getting balance",d),c({balance:"0.00",symbol:"ETH"})}}).finally(()=>{delete this.balancePromises[a]}),this.balancePromises[a]||{balance:"0.00",symbol:"ETH"})}return{balance:"",symbol:""}}getWalletConnectProvider(){var e;return(e=this.getWagmiConnector("walletConnect"))==null?void 0:e.provider}async disconnect(){const e=ud(this.wagmiConfig);await Promise.all(e.map(async n=>{const i=this.getWagmiConnector(n.connector.id);i&&await ipe(this.wagmiConfig,{connector:i})}))}async switchNetwork(e){await cR(this.wagmiConfig,{chainId:e.caipNetwork.id}),await super.switchNetwork(e)}async getCapabilities(e){var c,l;if(!this.wagmiConfig)throw new Error("connectionControllerClient:getCapabilities - wagmiConfig is undefined");const i=ud(this.wagmiConfig)[0],a=i?this.getWagmiConnector(i.connector.id):null;if(!a)throw new Error("connectionControllerClient:getCapabilities - connector is undefined");const s=await a.getProvider();if(!s)throw new Error("connectionControllerClient:getCapabilities - provider is undefined");const o=(l=(c=s.session)==null?void 0:c.sessionProperties)==null?void 0:l.capabilities;if(o){const d=mct(o)[e];if(d)return d}return await s.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:grantPermissions - wagmiConfig is undefined");const i=ud(this.wagmiConfig)[0],a=i?this.getWagmiConnector(i.connector.id):null;if(!a)throw new Error("connectionControllerClient:grantPermissions - connector is undefined");const s=await a.getProvider();if(!s)throw new Error("connectionControllerClient:grantPermissions - provider is undefined");return s.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:revokePermissions - wagmiConfig is undefined");const i=ud(this.wagmiConfig)[0],a=i?this.getWagmiConnector(i.connector.id):null;if(!a)throw new Error("connectionControllerClient:revokePermissions - connector is undefined");const s=await a.getProvider();if(!s)throw new Error("connectionControllerClient:revokePermissions - provider is undefined");return s.request({method:"wallet_revokePermissions",params:e})}async walletGetAssets(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:walletGetAssets - wagmiConfig is undefined");const i=ud(this.wagmiConfig)[0],a=i?this.getWagmiConnector(i.connector.id):null;if(!a)throw new Error("connectionControllerClient:walletGetAssets - connector is undefined");const s=await a.getProvider();if(!s)throw new Error("connectionControllerClient:walletGetAssets - provider is undefined");return s.request({method:"wallet_getAssets",params:[e]})}setUniversalProvider(e){e.on("connect",()=>{const n=ud(this.wagmiConfig),i=this.getWagmiConnector("walletConnect");i&&!n.find(a=>a.connector.id===i.id)&&oR(this.wagmiConfig,{connectors:[i]})}),this.addConnector(new JD({provider:e,caipNetworks:this.getCaipNetworks(),namespace:"eip155"}))}}const bct=new mge,wct={name:"AppKit",description:"AppKit Example",url:"http://127.0.0.1:8000",icons:["https://avatars.githubusercontent.com/u/179229932"]},Noe=[Age,Cge,Uv],Ioe=new vct({networks:Noe,projectId:dte,ssr:!0});Kje({adapters:[Ioe],networks:Noe,projectId:dte,metadata:wct,features:{analytics:!0}});function _ct({children:r}){return T.jsx(GX,{config:Ioe.wagmiConfig,children:T.jsx(_ge,{client:bct,children:r})})}jle.createRoot(document.getElementById("root")).render(T.jsx(U.StrictMode,{children:T.jsx(GX,{config:Tge,children:T.jsx(_ct,{children:T.jsx(pct,{})})})}));export{Ylt as $,Je as A,RJ as B,Dv as C,bt as D,Yy as E,Es as F,Ur as G,CF as H,Ti as I,Fi as J,Fct as K,mt as L,pn as M,uve as N,Se as O,qct as P,ky as Q,Kt as R,Yo as S,sa as T,On as U,Ys as V,li as W,Hl as X,pve as Y,mr as Z,dn as _,hp as a,h$ as a0,$_ as a1,Ky as a2,Jt as a3,Ult as a4,Gn as a5,Vlt as a6,fee as a7,p$ as a8,Vp as a9,V3 as aA,gv as aB,K_ as aC,cf as aD,G_ as aE,$ct as aF,Ict as aG,Nde as aH,sxe as aI,_lt as aJ,SU as aK,EZ as aL,X_e as aM,oxe as aN,xlt as aO,wlt as aP,TS as aQ,Slt as aR,Elt as aS,Nct as aT,Ide as aU,Cpe as aV,W3 as aW,$ve as aX,ca as aY,wut as aZ,Epe as a_,Y_ as aa,cD as ab,Du as ac,kct as ad,dS as ae,lD as af,Tct as ag,Act as ah,UY as ai,sS as aj,V_ as ak,Xle as al,eue as am,jct as an,Vfe as ao,Te as ap,Q3 as aq,ms as ar,Kfe as as,Che as at,OX as au,Ip as av,qy as aw,ju as ax,PY as ay,Oct as az,D_ as b,Lct as c,Ve as d,zc as e,_n as f,Id as g,Ne as h,gS as i,ft as j,Z as k,Lr as l,Qs as m,Ut as n,Klt as o,Da as p,yt as q,Glt as r,Dr as s,wje as t,Di as u,_je as v,Be as w,Llt as x,Wn as y,or as z};
